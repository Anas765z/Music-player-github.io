// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var bl=Object.defineProperty,jh=Object.defineProperties;var zh=Object.getOwnPropertyDescriptors;var na=Object.getOwnPropertySymbols;var Sl=Object.prototype.hasOwnProperty,wl=Object.prototype.propertyIsEnumerable;var Hi=(e,t,n)=>t in e?bl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))Sl.call(t,n)&&Hi(e,n,t[n]);if(na)for(var n of na(t))wl.call(t,n)&&Hi(e,n,t[n]);return e},I=(e,t)=>jh(e,zh(t));var Dt=(e,t)=>{var n={};for(var r in e)Sl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&na)for(var r of na(e))t.indexOf(r)<0&&wl.call(e,r)&&(n[r]=e[r]);return n};var qh=(e,t)=>{for(var n in t)bl(e,n,{get:t[n],enumerable:!0})};var Me=(e,t,n)=>(Hi(e,typeof t!="symbol"?t+"":t,n),n);var P=(e,t,n)=>new Promise((r,a)=>{var i=l=>{try{o(n.next(l))}catch(c){a(c)}},s=l=>{try{o(n.throw(l))}catch(c){a(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);o((n=n.apply(e,t)).next())});var yl={};qh(yl,{BrowserClient:()=>sh,OpenFeatureIntegrationHook:()=>wT,SDK_VERSION:()=>at,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Ne,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>ae,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>wa,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Pe,Scope:()=>It,WINDOW:()=>$,addBreadcrumb:()=>Je,addEventProcessor:()=>Ra,addIntegration:()=>Tr,breadcrumbsIntegration:()=>ph,browserApiErrorsIntegration:()=>fh,browserProfilingIntegration:()=>uT,browserSessionIntegration:()=>hh,browserTracingIntegration:()=>gl,buildLaunchDarklyFlagUsedHandler:()=>bT,captureConsoleIntegration:()=>ju,captureEvent:()=>qt,captureException:()=>_t,captureFeedback:()=>Ha,captureMessage:()=>In,captureSession:()=>kr,chromeStackLineParser:()=>oh,close:()=>hu,consoleLoggingIntegration:()=>Qu,contextLinesIntegration:()=>fk,continueTrace:()=>ru,createTransport:()=>Oa,createUserFeedbackEnvelope:()=>pE,dedupeIntegration:()=>Fa,defaultRequestInstrumentationOptions:()=>ml,defaultStackLineParsers:()=>ch,defaultStackParser:()=>uh,diagnoseSdkConnectivity:()=>IT,endSession:()=>Aa,eventFiltersIntegration:()=>js,eventFromException:()=>ah,eventFromMessage:()=>ih,exceptionFromError:()=>Pi,extraErrorDataIntegration:()=>Wu,featureFlagsIntegration:()=>yT,feedbackAsyncIntegration:()=>xw,feedbackIntegration:()=>Cw,feedbackSyncIntegration:()=>Cw,flush:()=>fu,forceLoad:()=>WE,functionToStringIntegration:()=>La,geckoStackLineParser:()=>lh,getActiveSpan:()=>fe,getClient:()=>x,getCurrentScope:()=>j,getDefaultIntegrations:()=>vh,getFeedback:()=>Tf,getGlobalScope:()=>yr,getIsolationScope:()=>ge,getReplay:()=>zp,getRootSpan:()=>ue,getSpanDescendants:()=>bn,getSpanStatusFromHttpCode:()=>vs,globalHandlersIntegration:()=>mh,graphqlClientIntegration:()=>Sk,httpClientIntegration:()=>QE,httpContextIntegration:()=>_h,inboundFiltersIntegration:()=>Da,init:()=>hl,instrumentOutgoingRequests:()=>xh,instrumentSupabaseClient:()=>zs,isInitialized:()=>mu,lastEventId:()=>Ma,launchDarklyIntegration:()=>vT,lazyLoadIntegration:()=>th,linkedErrorsIntegration:()=>yh,logger:()=>nh,makeBrowserOfflineTransport:()=>jk,makeFetchTransport:()=>fl,makeMultiplexedTransport:()=>Ou,moduleMetadataIntegration:()=>Hu,onLoad:()=>GE,openFeatureIntegration:()=>ST,opera10StackLineParser:()=>lE,opera11StackLineParser:()=>dE,parameterize:()=>Bs,registerSpanErrorInstrumentation:()=>Ea,replayCanvasIntegration:()=>sf,replayIntegration:()=>jp,reportingObserverIntegration:()=>KE,rewriteFramesIntegration:()=>Gu,sendFeedback:()=>Qo,setContext:()=>xa,setCurrentClient:()=>Fs,setExtra:()=>uu,setExtras:()=>cu,setHttpStatus:()=>nn,setMeasurement:()=>Ta,setTag:()=>Ca,setTags:()=>du,setUser:()=>pu,showReportDialog:()=>qE,spanToBaggageHeader:()=>Kc,spanToJSON:()=>F,spanToTraceHeader:()=>Es,spotlightBrowserIntegration:()=>hT,startBrowserTracingNavigationSpan:()=>Ah,startBrowserTracingPageLoadSpan:()=>Rh,startInactiveSpan:()=>Mt,startNewTrace:()=>iu,startSession:()=>Er,startSpan:()=>Ia,startSpanManual:()=>nu,statsigIntegration:()=>TT,supabaseIntegration:()=>Yu,suppressTracing:()=>au,thirdPartyErrorFilterIntegration:()=>Ku,unleashIntegration:()=>ET,updateSpanName:()=>Gc,winjsStackLineParser:()=>iE,withActiveSpan:()=>an,withIsolationScope:()=>Mc,withScope:()=>ze,zodErrorsIntegration:()=>Ju});var vn=typeof Reflect=="object"?Reflect:null,El=vn&&typeof vn.apply=="function"?vn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},ra;vn&&typeof vn.ownKeys=="function"?ra=vn.ownKeys:Object.getOwnPropertySymbols?ra=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ra=function(e){return Object.getOwnPropertyNames(e)};function Wh(e){console&&console.warn&&console.warn(e)}var Cl=Number.isNaN||function(e){return e!==e};function ne(){Ml.call(this)}ne.EventEmitter=ne,ne.prototype._events=void 0,ne.prototype._eventsCount=0,ne.prototype._maxListeners=void 0;var kl=10;function aa(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ne,"defaultMaxListeners",{enumerable:!0,get:function(){return kl},set:function(e){if(typeof e!="number"||e<0||Cl(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");kl=e}});function Ml(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}ne.init=Ml,ne.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Cl(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Rl(e){return e._maxListeners===void 0?ne.defaultMaxListeners:e._maxListeners}ne.prototype.getMaxListeners=function(){return Rl(this)},ne.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",a=this._events;if(a!==void 0)r=r&&a.error===void 0;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var o=a[e];if(o===void 0)return!1;if(typeof o=="function")El(o,this,t);else for(var l=o.length,c=Al(o,l),n=0;n<l;++n)El(c[n],this,t);return!0};function Tl(e,t,n,r){var a,i,s;if(aa(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),s===void 0)s=i[t]=n,++e._eventsCount;else if(typeof s=="function"?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),a=Rl(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,Wh(o)}return e}ne.prototype.addListener=function(e,t){return Tl(this,e,t,!1)},ne.prototype.on=ne.prototype.addListener,ne.prototype.prependListener=function(e,t){return Tl(this,e,t,!0)};function Gh(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Il(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=Gh.bind(r);return a.listener=n,r.wrapFn=a,a}ne.prototype.once=function(e,t){return aa(t),this.on(e,Il(this,e,t)),this},ne.prototype.prependOnceListener=function(e,t){return aa(t),this.prependListener(e,Il(this,e,t)),this},ne.prototype.removeListener=function(e,t){var n,r,a,i,s;if(aa(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,a=i;break}if(a<0)return this;a===0?n.shift():Yh(n,a),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},ne.prototype.off=ne.prototype.removeListener,ne.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),i;for(r=0;r<a.length;++r)i=a[r],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function xl(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?Jh(a):Al(a,a.length)}ne.prototype.listeners=function(e){return xl(this,e,!0)},ne.prototype.rawListeners=function(e){return xl(this,e,!1)};function Vh(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ne.prototype.listenerCount.call(e,t)}ne.listenerCount=Vh,ne.prototype.listenerCount=function(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0},ne.prototype.eventNames=function(){return this._eventsCount>0?ra(this._events):[]};function Al(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Yh(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Jh(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function ji(e){let t=performance.now(),n=Math.floor(t/1e3),r=Math.floor(t*1e6-n*1e9);if(!e)return[n,r];let[a,i]=e;return[n-a,r-i]}ji.bigint=function(){let[e,t]=ji();return BigInt(e)*BigInt(1e9)+BigInt(t)};var zi=class extends ne{constructor(){super();Me(this,"title","browser");Me(this,"browser",!0);Me(this,"env",{});Me(this,"argv",[]);Me(this,"pid",0);Me(this,"arch","unknown");Me(this,"platform","browser");Me(this,"version","");Me(this,"versions",{});Me(this,"emitWarning",()=>{throw new Error("process.emitWarning is not supported")});Me(this,"binding",()=>{throw new Error("process.binding is not supported")});Me(this,"cwd",()=>{throw new Error("process.cwd is not supported")});Me(this,"chdir",n=>{throw new Error("process.chdir is not supported")});Me(this,"umask",()=>18);Me(this,"nextTick",(n,...r)=>queueMicrotask(()=>n(...r)));Me(this,"hrtime",ji)}},Ue=new zi;if(typeof Deno<"u"){Ue.name="deno",Ue.browser=!1,Ue.pid=Deno.pid,Ue.cwd=()=>Deno.cwd(),Ue.chdir=t=>Deno.chdir(t),Ue.arch=Deno.build.arch,Ue.platform=Deno.build.os,Ue.version="v18.12.1",Ue.versions=h({node:"18.12.1",uv:"1.43.0",zlib:"1.2.11",brotli:"1.0.9",ares:"1.18.1",modules:"108",nghttp2:"1.47.0",napi:"8",llhttp:"6.0.10",openssl:"3.0.7+quic",cldr:"41.0",icu:"71.1",tz:"2022b",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},Deno.version),Ue.env=new Proxy({},{get(t,n){return Deno.env.get(String(n))},ownKeys:()=>Reflect.ownKeys(Deno.env.toObject()),getOwnPropertyDescriptor:(t,n)=>{let r=Deno.env.toObject();if(n in Deno.env.toObject()){let a={enumerable:!0,configurable:!0};return typeof n=="string"&&(a.value=r[n]),a}},set(t,n,r){return Deno.env.set(String(n),String(r)),r}});let e=["","",...Deno.args];Object.defineProperty(e,"0",{get:Deno.execPath}),Object.defineProperty(e,"1",{get:()=>Deno.mainModule.startsWith("file:")?new URL(Deno.mainModule).pathname:join(Deno.cwd(),"$deno$node.js")}),Ue.argv=e}else{let e="/";Ue.cwd=()=>e,Ue.chdir=t=>e=t}var qi=Ue;var Ol=globalThis||(typeof window!="undefined"?window:self),L=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,at="9.15.0",D=globalThis;function Ct(){return cr(D),D}function cr(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||at,t[at]=t[at]||{}}function va(e,t,n=D){let r=n.__SENTRY__=n.__SENTRY__||{},a=r[at]=r[at]||{};return a[e]||(a[e]=t())}var bc=Object.prototype.toString;function kt(e){switch(bc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Tt(e,Error)}}function Cn(e,t){return bc.call(e)===`[object ${t}]`}function hs(e){return Cn(e,"ErrorEvent")}function ms(e){return Cn(e,"DOMError")}function Sc(e){return Cn(e,"DOMException")}function Be(e){return Cn(e,"String")}function ur(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ba(e){return e===null||ur(e)||typeof e!="object"&&typeof e!="function"}function Ft(e){return Cn(e,"Object")}function dr(e){return typeof Event<"u"&&Tt(e,Event)}function Kh(e){return typeof Element<"u"&&Tt(e,Element)}function Xh(e){return Cn(e,"RegExp")}function pr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Zh(e){return Ft(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Tt(e,t){try{return e instanceof t}catch(n){return!1}}function wc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ec(e){return typeof Request<"u"&&Tt(e,Request)}var gs=D,Qh=80;function He(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,a=[],i=0,s=0,o=" > ",l=o.length,c,d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||Qh;for(;n&&i++<r&&(c=em(n,d),!(c==="html"||i>1&&s+a.length*l+c.length>=u));)a.push(c),s+=c.length,n=n.parentNode;return a.reverse().join(o)}catch(n){return"<unknown>"}}function em(e,t){let n=e,r=[];if(!(n!=null&&n.tagName))return"";if(gs.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let a=t!=null&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(a!=null&&a.length)a.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&Be(s)){let o=s.split(/\s+/);for(let l of o)r.push(`.${l}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let o=n.getAttribute(s);o&&r.push(`[${s}="${o}"]`)}return r.join("")}function je(){try{return gs.document.location.href}catch(e){return""}}function Sa(e){if(!gs.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var Bt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tm="Sentry Logger ",lr=["debug","info","warn","error","log","assert","trace"],pa={};function st(e){if(!("console"in D))return e();let t=D.console,n={},r=Object.keys(pa);r.forEach(a=>{let i=pa[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}function nm(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Bt?lr.forEach(n=>{t[n]=(...r)=>{e&&st(()=>{D.console[n](`${tm}[${n}]:`,...r)})}}):lr.forEach(n=>{t[n]=()=>{}}),t}var _=va("logger",nm);function Sn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Wi(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let a=Math.max(t-60,0);a<5&&(a=0);let i=Math.min(a+140,r);return i>r-5&&(i=r),i===r&&(a=Math.max(i-140,0)),n=n.slice(a,i),a>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function wn(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let a=e[r];try{wc(a)?n.push("[VueViewModel]"):n.push(String(a))}catch(i){n.push("[value cannot be serialized]")}}return n.join(t)}function rm(e,t,n=!1){return Be(e)?Xh(t)?t.test(e):Be(t)?n?e===t:e.includes(t):!1:!1}function Ye(e,t=[],n=!1){return t.some(r=>rm(e,r,n))}function we(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let a=n(r);typeof a=="function"&&_s(a,r);try{e[t]=a}catch(i){Bt&&_.log(`Failed to replace method "${t}" in object`,e)}}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){Bt&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function _s(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Re(e,"__sentry_original__",t)}catch(n){}}function fr(e){return e.__sentry_original__}function kc(e){if(kt(e))return h({message:e.message,name:e.name,stack:e.stack},Ll(e));if(dr(e)){let t=h({type:e.type,target:Nl(e.target),currentTarget:Nl(e.currentTarget)},Ll(e));return typeof CustomEvent<"u"&&Tt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Nl(e){try{return Kh(e)?He(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function Ll(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Tc(e,t=40){let n=Object.keys(kc(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Sn(r,t);for(let a=n.length;a>0;a--){let i=n.slice(0,a).join(", ");if(!(i.length>t))return a===n.length?i:Sn(i,t)}return""}function am(){let e=D;return e.crypto||e.msCrypto}function ke(e=am()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Ic(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Pt(e){let{message:t,event_id:n}=e;if(t)return t;let r=Ic(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function hr(e,t,n){let r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ot(e,t){let n=Ic(e);if(!n)return;let r={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism=h(h(h({},r),a),t),t&&"data"in t){let i=h(h({},a==null?void 0:a.data),t.data);n.mechanism.data=i}}function xc(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,a=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,a-n),a).map(s=>Wi(s,0));let i=Math.min(r-1,a);t.context_line=Wi(e[i],t.colno||0),t.post_context=e.slice(Math.min(a+1,r),a+1+n).map(s=>Wi(s,0))}function Dl(e){if(im(e))return!0;try{Re(e,"__sentry_captured__",!0)}catch(t){}return!1}function im(e){try{return e.__sentry_captured__}catch(t){}}var Cc=1e3;function mr(){return Date.now()/Cc}function sm(){let{performance:e}=D;if(!(e!=null&&e.now))return mr;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Cc}var ve=sm(),Gi;function om(){var c;let{performance:e}=D;if(!(e!=null&&e.now))return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,s=(c=e.timing)==null?void 0:c.navigationStart,o=typeof s=="number"?Math.abs(s+n-r):t,l=o<t;return i||l?a<=o?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function be(){return Gi||(Gi=om()),Gi[0]}function lm(e){let t=ve(),n={sid:ke(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>um(n)};return e&&En(n,e),n}function En(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ve(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ke()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function cm(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),En(e,n)}function um(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function gr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r=h({},e);for(let a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=gr(r[a],t[a],n-1));return r}var es="_sentrySpan";function tn(e,t){t?Re(e,es,t):delete e[es]}function kn(e){return e[es]}function mt(){return ke()}function _r(){return ke().substring(16)}var dm=100,It=class ts{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:mt(),sampleRand:Math.random()}}clone(){let t=new ts;return t._breadcrumbs=[...this._breadcrumbs],t._tags=h({},this._tags),t._extra=h({},this._extra),t._contexts=h({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata=h({},this._sdkProcessingMetadata),t._propagationContext=h({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,tn(t,kn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&En(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags=h(h({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=I(h({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=h(h({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=I(h({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof ts?n.getScopeData():Ft(n)?t:void 0,{tags:a,extra:i,user:s,contexts:o,level:l,fingerprint:c=[],propagationContext:d}=r||{};return this._tags=h(h({},this._tags),a),this._extra=h(h({},this._extra),i),this._contexts=h(h({},this._contexts),o),s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,tn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:mt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;let r=typeof n=="number"?n:dm;if(r<=0)return this;let a=I(h({timestamp:mr()},t),{message:t.message?Sn(t.message,2048):t.message});return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:kn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=gr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=(n==null?void 0:n.event_id)||ke();if(!this._client)return _.warn("No client configured on scope - will not capture exception!"),r;let a=new Error("Sentry syntheticException");return this._client.captureException(t,I(h({originalException:t,syntheticException:a},n),{event_id:r}),this),r}captureMessage(t,n,r){let a=(r==null?void 0:r.event_id)||ke();if(!this._client)return _.warn("No client configured on scope - will not capture message!"),a;let i=new Error(t);return this._client.captureMessage(t,n,I(h({originalException:t,syntheticException:i},r),{event_id:a}),this),a}captureEvent(t,n){let r=(n==null?void 0:n.event_id)||ke();return this._client?(this._client.captureEvent(t,I(h({},n),{event_id:r}),this),r):(_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function pm(){return va("defaultCurrentScope",()=>new It)}function fm(){return va("defaultIsolationScope",()=>new It)}var hm=class{constructor(e,t){let n;e?n=e:n=new It;let r;t?r=t:r=new It,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t=this._pushScope(),n;try{n=e(t)}catch(r){throw this._popScope(),r}return pr(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function Tn(){let e=Ct(),t=cr(e);return t.stack=t.stack||new hm(pm(),fm())}function mm(e){return Tn().withScope(e)}function gm(e,t){let n=Tn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Pl(e){return Tn().withScope(()=>e(Tn().getIsolationScope()))}function _m(){return{withIsolationScope:Pl,withScope:mm,withSetScope:gm,withSetIsolationScope:(e,t)=>Pl(t),getCurrentScope:()=>Tn().getScope(),getIsolationScope:()=>Tn().getIsolationScope()}}function Ht(e){let t=cr(e);return t.acs?t.acs:_m()}function j(){let e=Ct();return Ht(e).getCurrentScope()}function ge(){let e=Ct();return Ht(e).getIsolationScope()}function yr(){return va("globalScope",()=>new It)}function ze(...e){let t=Ct(),n=Ht(t);if(e.length===2){let[r,a]=e;return r?n.withSetScope(r,a):n.withScope(a)}return n.withScope(e[0])}function Mc(...e){let t=Ct(),n=Ht(t);if(e.length===2){let[r,a]=e;return r?n.withSetIsolationScope(r,a):n.withIsolationScope(a)}return n.withIsolationScope(e[0])}function x(){return j().getClient()}function Rc(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:a}=t,i={trace_id:n,span_id:a||_r()};return r&&(i.parent_span_id=r),i}var Pe="sentry.source",wa="sentry.sample_rate",Ne="sentry.op",ae="sentry.origin",fa="sentry.idle_span_finish_reason",Mn="sentry.measurement_unit",Rn="sentry.measurement_value",ns="sentry.custom_span_name",ys="sentry.profile_id",rn="sentry.exclusive_time";var Ac="http.request.method",Oc="url.full",Nc="sentry.link.type";var Lc=2;function vs(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function nn(e,t){e.setAttribute("http.response.status_code",t);let n=vs(t);n.message!=="unknown_error"&&e.setStatus(n)}var Dc="_sentryScope",Pc="_sentryIsolationScope";function ym(e,t,n){e&&(Re(e,Pc,n),Re(e,Dc,t))}function ha(e){return{scope:e[Dc],isolationScope:e[Pc]}}function $t(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var bs="sentry-",vm=/^sentry-/,bm=8192;function Fc(e){let t=Sm(e);if(!t)return;let n=Object.entries(t).reduce((r,[a,i])=>{if(a.match(vm)){let s=a.slice(bs.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function $c(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,a])=>(a&&(n[`${bs}${r}`]=a),n),{});return wm(t)}function Sm(e){if(!(!e||!Be(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Fl(n);return Object.entries(r).forEach(([a,i])=>{t[a]=i}),t},{}):Fl(e)}function Fl(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function wm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],a)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=a===0?i:`${t},${i}`;return s.length>bm?(Bt&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}var Uc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Em(e){if(!e)return;let t=e.match(Uc);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ss(e,t){let n=Em(e),r=Fc(t);if(!(n!=null&&n.traceId))return{traceId:mt(),sampleRand:Math.random()};let a=km(n,r);r&&(r.sample_rand=a.toString());let{traceId:i,parentSpanId:s,parentSampled:o}=n;return{traceId:i,parentSpanId:s,sampled:o,dsc:r||{},sampleRand:a}}function Bc(e=mt(),t=_r(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function km(e,t){let n=$t(t==null?void 0:t.sample_rand);if(n!==void 0)return n;let r=$t(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var Hc=0,ws=1,$l=!1;function Tm(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:a,parent_span_id:i,status:s,origin:o,links:l}=F(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:a,status:s,origin:o,links:l}}function jc(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),a=r?t:F(e).parent_span_id,i=ha(e).scope,s=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||_r():t;return{parent_span_id:a,span_id:s,trace_id:n}}function Es(e){let{traceId:t,spanId:n}=e.spanContext(),r=jt(e);return Bc(t,n,r)}function zc(e){if(e&&e.length>0)return e.map(s=>{var o=s,{context:l}=o,c=l,{spanId:t,traceId:n,traceFlags:r}=c,a=Dt(c,["spanId","traceId","traceFlags"]),{attributes:i}=o;return h({span_id:t,trace_id:n,sampled:r===ws,attributes:i},a)})}function Qt(e){return typeof e=="number"?Ul(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ul(e.getTime()):ve()}function Ul(e){return e>9999999999?e/1e3:e}function F(e){if(xm(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Im(e)){let{attributes:r,startTime:a,name:i,endTime:s,parentSpanId:o,status:l,links:c}=e;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:o,start_timestamp:Qt(a),timestamp:Qt(s)||void 0,status:qc(l),op:r[Ne],origin:r[ae],links:zc(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Im(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function xm(e){return typeof e.getSpanJSON=="function"}function jt(e){let{traceFlags:t}=e.spanContext();return t===ws}function qc(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var en="_sentryChildSpans",rs="_sentryRootSpan";function Wc(e,t){let n=e[rs]||e;Re(t,rs,n),e[en]?e[en].add(t):Re(e,en,new Set([t]))}function Cm(e,t){e[en]&&e[en].delete(t)}function bn(e){let t=new Set;function n(r){if(!t.has(r)&&jt(r)){t.add(r);let a=r[en]?Array.from(r[en]):[];for(let i of a)n(i)}}return n(e),Array.from(t)}function ue(e){return e[rs]||e}function fe(){let e=Ct(),t=Ht(e);return t.getActiveSpan?t.getActiveSpan():kn(j())}function as(){$l||(st(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),$l=!0)}function Gc(e,t){e.updateName(t),e.setAttributes({[Pe]:"custom",[ns]:t})}var et="?",Bl=/\(error: (.*)\)/,Hl=/captureMessage|captureException/;function ks(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{let i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){let l=s[o];if(l.length>1024)continue;let c=Bl.test(l)?l.replace(Bl,"$1"):l;if(!c.match(/\S*Error: /)){for(let d of t){let u=d(c);if(u){i.push(u);break}}if(i.length>=50+a)break}}return Mm(i.slice(a))}}function Vc(e){return Array.isArray(e)?ks(...e):e}function Mm(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(ia(t).function||"")&&t.pop(),t.reverse(),Hl.test(ia(t).function||"")&&(t.pop(),Hl.test(ia(t).function||"")&&t.pop()),t.slice(0,50).map(n=>I(h({},n),{filename:n.filename||ia(t).filename,function:n.function||et}))}function ia(e){return e[e.length-1]||{}}var Vi="<anonymous>";function lt(e){try{return!e||typeof e!="function"?Vi:e.name||Vi}catch(t){return Vi}}function is(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch(r){return}}}var ca={},jl={};function ct(e,t){ca[e]=ca[e]||[],ca[e].push(t)}function ut(e,t){if(!jl[e]){jl[e]=!0;try{t()}catch(n){Bt&&_.error(`Error while instrumenting ${e}`,n)}}}function De(e,t){let n=e&&ca[e];if(n)for(let r of n)try{r(t)}catch(a){Bt&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${lt(r)}
Error:`,a)}}var Yi=null;function Ts(e){let t="error";ct(t,e),ut(t,Rm)}function Rm(){Yi=D.onerror,D.onerror=function(e,t,n,r,a){return De("error",{column:r,error:a,line:n,msg:e,url:t}),Yi?Yi.apply(this,arguments):!1},D.onerror.__SENTRY_INSTRUMENTED__=!0}var Ji=null;function Is(e){let t="unhandledrejection";ct(t,e),ut(t,Am)}function Am(){Ji=D.onunhandledrejection,D.onunhandledrejection=function(e){return De("unhandledrejection",e),Ji?Ji.apply(this,arguments):!0},D.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var zl=!1;function Ea(){zl||(zl=!0,Ts(ss),Is(ss))}function ss(){let e=fe(),t=e&&ue(e);if(t){let n="internal_error";L&&_.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}ss.tag="sentry_tracingErrorCallback";function xt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||((n=x())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var vr="production",Yc="_frozenDsc";function ua(e,t){Re(e,Yc,t)}function Jc(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},a={environment:n.environment||vr,release:n.release,public_key:r,trace_id:e};return t.emit("createDsc",a),a}function xs(e,t){let n=t.getPropagationContext();return n.dsc||Jc(n.traceId,e)}function Ve(e){var m,g,y;let t=x();if(!t)return{};let n=ue(e),r=F(n),a=r.data,i=n.spanContext().traceState,s=(m=i==null?void 0:i.get("sentry.sample_rate"))!=null?m:a[wa];function o(v){return(typeof s=="number"||typeof s=="string")&&(v.sample_rate=`${s}`),v}let l=n[Yc];if(l)return o(l);let c=i==null?void 0:i.get("sentry.dsc"),d=c&&Fc(c);if(d)return o(d);let u=Jc(e.spanContext().traceId,t),p=a[Pe],f=r.description;return p!=="url"&&f&&(u.transaction=f),xt()&&(u.sampled=String(jt(n)),u.sample_rand=(y=i==null?void 0:i.get("sentry.sample_rand"))!=null?y:(g=ha(n).scope)==null?void 0:g.getPropagationContext().sampleRand.toString()),o(u),t.emit("createDsc",u,n),u}function Kc(e){let t=Ve(e);return $c(t)}var gt=class{constructor(e={}){this._traceId=e.traceId||mt(),this._spanId=e.spanId||_r()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Hc}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function Xc(e,t,n=()=>{}){let r;try{r=e()}catch(a){throw t(a),n(),a}return Om(r,t,n)}function Om(e,t,n){return pr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function Nm(e){if(!L)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=F(e),{spanId:a}=e.spanContext(),i=jt(e),s=ue(e),o=s===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${o?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${a}`];if(r&&c.push(`parent ID: ${r}`),!o){let{op:d,description:u}=F(s);c.push(`root ID: ${s.spanContext().spanId}`),d&&c.push(`root op: ${d}`),u&&c.push(`root description: ${u}`)}_.log(`${l}
  ${c.join(`
  `)}`)}function Lm(e){if(!L)return;let{description:t="< unknown name >",op:n="< unknown op >"}=F(e),{spanId:r}=e.spanContext(),a=ue(e)===e,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;_.log(i)}function Dm(e,t,n){if(!xt(e))return[!1];let r,a;typeof e.tracesSampler=="function"?(a=e.tracesSampler(I(h({},t),{inheritOrSampleWith:o=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):o})),r=!0):t.parentSampled!==void 0?a=t.parentSampled:typeof e.tracesSampleRate<"u"&&(a=e.tracesSampleRate,r=!0);let i=$t(a);if(i===void 0)return L&&_.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!i)return L&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||L&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[s,i,r]}var Pm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Fm(e){return e==="http"||e==="https"}function zt(e,t=!1){let{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function Zc(e){let t=Pm.exec(e);if(!t){st(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,a="",i="",s="",o=""]=t.slice(1),l="",c=o,d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){let u=c.match(/^\d+/);u&&(c=u[0])}return Qc({host:i,pass:a,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function Qc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $m(e){if(!Bt)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(_.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?Fm(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function eu(e){let t=typeof e=="string"?Zc(e):Qc(e);if(!(!t||!$m(t)))return t}function Ge(e,t=100,n=1/0){try{return os("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Cs(e,t=3,n=100*1024){let r=Ge(e,t);return jm(r)>n?Cs(e,t-1,n):r}function os(e,t,n=1/0,r=1/0,a=zm()){let[i,s]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let o=Um(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;let l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(i(t))return"[Circular ~]";let c=t;if(c&&typeof c.toJSON=="function")try{let f=c.toJSON();return os("",f,l-1,r,a)}catch(f){}let d=Array.isArray(t)?[]:{},u=0,p=kc(t);for(let f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(u>=r){d[f]="[MaxProperties ~]";break}let m=p[f];d[f]=os(f,m,l-1,r,a),u++}return s(t),d}function Um(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof Ol<"u"&&t===Ol)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(wc(t))return"[VueViewModel]";if(Zh(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${lt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=Bm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Bm(e){let t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Hm(e){return~-encodeURI(e).split(/%..|./).length}function jm(e){return Hm(JSON.stringify(e))}function zm(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function dt(e,t=[]){return[e,t]}function qm(e,t){let[n,r]=e;return[n,[...r,t]]}function Ut(e,t){let n=e[1];for(let r of n){let a=r[0].type;if(t(r,a))return!0}return!1}function ql(e,t){return Ut(e,(n,r)=>t.includes(r))}function ma(e){let t=cr(D);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Wm(e){let t=cr(D);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function An(e){let[t,n]=e,r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[ma(r),i]:r.push(typeof i=="string"?ma(i):i)}for(let i of n){let[s,o]=i;if(a(`
${JSON.stringify(s)}
`),typeof o=="string"||o instanceof Uint8Array)a(o);else{let l;try{l=JSON.stringify(o)}catch(c){l=JSON.stringify(Ge(o))}a(l)}}return typeof r=="string"?r:Gm(r)}function Gm(e){let t=e.reduce((a,i)=>a+i.length,0),n=new Uint8Array(t),r=0;for(let a of e)n.set(a,r),r+=a.length;return n}function tu(e){let t=typeof e=="string"?ma(e):e;function n(s){let o=t.subarray(0,s);return t=t.subarray(s+1),o}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(Wm(n(s)))}let a=r(),i=[];for(;t.length;){let s=r(),o=typeof s.length=="number"?s.length:void 0;i.push([s,o?n(o):r()])}return[a,i]}function Vm(e){return[{type:"span"},e]}function Ym(e){let t=typeof e.data=="string"?ma(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var Jm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function Wl(e){return Jm[e]}function ka(e){if(!(e!=null&&e.sdk))return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ms(e,t,n,r){var i;let a=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return h(h(h({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:zt(r)}),a&&{trace:a})}function Km(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Xm(e,t,n,r){let a=ka(n),i=h(h({sent_at:new Date().toISOString()},a&&{sdk:a}),!!r&&t&&{dsn:zt(t)}),s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return dt(i,[s])}function Zm(e,t,n,r){let a=ka(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Km(e,n==null?void 0:n.sdk);let s=Ms(e,a,r,t);return delete e.sdkProcessingMetadata,dt(s,[[{type:i},e]])}function Qm(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=Ve(e[0]),a=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,s=h(h({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!i&&a&&{dsn:zt(a)}),o=t==null?void 0:t.getOptions().beforeSendSpan,l=o?d=>{let u=F(d);return o(u)||(as(),u)}:F,c=[];for(let d of e){let u=l(d);u&&c.push(Vm(u))}return dt(s,c)}function Ta(e,t,n,r=fe()){let a=r&&ue(r);a&&(L&&_.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),a.addEvent(e,{[Rn]:t,[Mn]:n}))}function Gl(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},a=r[Mn],i=r[Rn];typeof a=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:a})}),t}var Vl=1e3,Rs=class{constructor(e={}){this._traceId=e.traceId||mt(),this._spanId=e.spanId||_r(),this._startTime=e.startTimestamp||ve(),this._links=e.links,this._attributes={},this.setAttributes(h({[ae]:"manual",[Ne]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?ws:Hc}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=Qt(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Pe,"custom"),this}end(e){this._endTime||(this._endTime=Qt(e),Lm(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ne],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:qc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ae],profile_id:this._attributes[ys],exclusive_time:this._attributes[rn],measurements:Gl(this._events),is_segment:this._isStandaloneSpan&&ue(this)===this||void 0,segment_id:this._isStandaloneSpan?ue(this).spanContext().spanId:void 0,links:zc(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){L&&_.log("[Tracing] Adding an event to span:",e);let r=Yl(t)?t:n||ve(),a=Yl(t)?{}:t||{},i={name:e,time:Qt(r),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=x();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===ue(this)))return;if(this._isStandaloneSpan){this._sampled?tg(Qm([this],e)):(L&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&(ha(this).scope||j()).captureEvent(t)}_convertSpanToTransaction(){if(!Jl(F(this)))return;this._name||(L&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=ha(this);if(this._sampled!==!0)return;let n=bn(this).filter(s=>s!==this&&!eg(s)).map(s=>F(s)).filter(Jl),r=this._attributes[Pe];delete this._attributes[ns],n.forEach(s=>{delete s.data[ns]});let a=h({contexts:{trace:Tm(this)},spans:n.length>Vl?n.sort((s,o)=>s.start_timestamp-o.start_timestamp).slice(0,Vl):n,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Ve(this)}},r&&{transaction_info:{source:r}}),i=Gl(this._events);return i&&Object.keys(i).length&&(L&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(i,void 0,2)),a.measurements=i),a}};function Yl(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Jl(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function eg(e){return e instanceof Rs&&e.isStandaloneSpan()}function tg(e){let t=x();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var As="__SENTRY_SUPPRESS_TRACING__";function Ia(e,t){let n=br();if(n.startSpan)return n.startSpan(e,t);let r=Ns(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return ze(o,()=>su(i)(()=>{let l=j(),c=Ls(l),d=e.onlyIfParent&&!c?new gt:Os({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return tn(l,d),Xc(()=>t(d),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>{d.end()})}))}function nu(e,t){let n=br();if(n.startSpanManual)return n.startSpanManual(e,t);let r=Ns(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return ze(o,()=>su(i)(()=>{let l=j(),c=Ls(l),d=e.onlyIfParent&&!c?new gt:Os({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return tn(l,d),Xc(()=>t(d,()=>d.end()),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function Mt(e){let t=br();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Ns(e),{forceTransaction:r,parentSpan:a}=e;return(e.scope?i=>ze(e.scope,i):a!==void 0?i=>an(a,i):i=>i())(()=>{let i=j(),s=Ls(i);return e.onlyIfParent&&!s?new gt:Os({parentSpan:s,spanArguments:n,forceTransaction:r,scope:i})})}var ru=(e,t)=>{let n=Ct(),r=Ht(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:a,baggage:i}=e;return ze(s=>{let o=Ss(a,i);return s.setPropagationContext(o),t()})};function an(e,t){let n=br();return n.withActiveSpan?n.withActiveSpan(e,t):ze(r=>(tn(r,e||void 0),t(r)))}function au(e){let t=br();return t.suppressTracing?t.suppressTracing(e):ze(n=>(n.setSDKProcessingMetadata({[As]:!0}),e()))}function iu(e){return ze(t=>(t.setPropagationContext({traceId:mt(),sampleRand:Math.random()}),L&&_.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),an(null,e)))}function Os({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!xt()){let s=new gt;if(n||!e){let o=h({sampled:"false",sample_rate:"0",transaction:t.name},Ve(s));ua(s,o)}return s}let a=ge(),i;if(e&&!n)i=ng(e,r,t),Wc(e,i);else if(e){let s=Ve(e),{traceId:o,spanId:l}=e.spanContext(),c=jt(e);i=Kl(h({traceId:o,parentSpanId:l},t),r,c),ua(i,s)}else{let{traceId:s,dsc:o,parentSpanId:l,sampled:c}=h(h({},a.getPropagationContext()),r.getPropagationContext());i=Kl(h({traceId:s,parentSpanId:l},t),r,c),o&&ua(i,o)}return Nm(i),ym(i,r,a),i}function Ns(e){let t=h({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){let n=h({},t);return n.startTimestamp=Qt(e.startTime),delete n.startTime,n}return t}function br(){let e=Ct();return Ht(e)}function Kl(e,t,n){var p;let r=x(),a=(r==null?void 0:r.getOptions())||{},{name:i="",attributes:s}=e,o=t.getPropagationContext(),[l,c,d]=t.getScopeData().sdkProcessingMetadata[As]?[!1]:Dm(a,{name:i,parentSampled:n,attributes:s,parentSampleRate:$t((p=o.dsc)==null?void 0:p.sample_rate)},o.sampleRand),u=new Rs(I(h({},e),{attributes:h({[Pe]:"custom",[wa]:c!==void 0&&d?c:void 0},e.attributes),sampled:l}));return!l&&r&&(L&&_.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",u),u}function ng(e,t,n){let{spanId:r,traceId:a}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[As]?!1:jt(e),s=i?new Rs(I(h({},n),{parentSpanId:r,traceId:a,sampled:i})):new gt({traceId:a});Wc(e,s);let o=x();return o&&(o.emit("spanStart",s),n.endTimestamp&&o.emit("spanEnd",s)),s}function Ls(e){let t=kn(e);if(!t)return;let n=x();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?ue(t):t}function su(e){return e!==void 0?t=>an(e,t):t=>t()}var or={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},rg="heartbeatFailed",ag="idleTimeout",ig="finalTimeout",sg="externalFinish";function Ds(e,t={}){let n=new Map,r=!1,a,i=sg,s=!t.disableAutoFinish,o=[],{idleTimeout:l=or.idleTimeout,finalTimeout:c=or.finalTimeout,childSpanTimeout:d=or.childSpanTimeout,beforeSpanEnd:u}=t,p=x();if(!p||!xt()){let b=new gt,k=h({sample_rate:"0",sampled:"false"},Ve(b));return ua(b,k),b}let f=j(),m=fe(),g=og(e);g.end=new Proxy(g.end,{apply(b,k,O){if(u&&u(g),k instanceof gt)return;let[S,...M]=O,T=S||ve(),E=Qt(T),R=bn(g).filter(q=>q!==g);if(!R.length)return N(E),Reflect.apply(b,k,[E,...M]);let W=R.map(q=>F(q).timestamp).filter(q=>!!q),V=W.length?Math.max(...W):void 0,U=F(g).start_timestamp,Q=Math.min(U?U+c/1e3:1/0,Math.max(U||-1/0,Math.min(E,V||1/0)));return N(Q),Reflect.apply(b,k,[Q,...M])}});function y(){a&&(clearTimeout(a),a=void 0)}function v(b){y(),a=setTimeout(()=>{!r&&n.size===0&&s&&(i=ag,g.end(b))},l)}function w(b){a=setTimeout(()=>{!r&&s&&(i=rg,g.end(b))},d)}function C(b){y(),n.set(b,!0);let k=ve();w(k+d/1e3)}function A(b){if(n.has(b)&&n.delete(b),n.size===0){let k=ve();v(k+l/1e3)}}function N(b){r=!0,n.clear(),o.forEach(T=>T()),tn(f,m);let k=F(g),{start_timestamp:O}=k;if(!O)return;k.data[fa]||g.setAttribute(fa,i),_.log(`[Tracing] Idle span "${k.op}" finished`);let S=bn(g).filter(T=>T!==g),M=0;S.forEach(T=>{T.isRecording()&&(T.setStatus({code:2,message:"cancelled"}),T.end(b),L&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(T,void 0,2)));let E=F(T),{timestamp:R=0,start_timestamp:W=0}=E,V=W<=b,U=(c+l)/1e3,Q=R-W<=U;if(L){let q=JSON.stringify(T,void 0,2);V?Q||_.log("[Tracing] Discarding span since it finished after idle span final timeout",q):_.log("[Tracing] Discarding span since it happened after idle span was finished",q)}(!Q||!V)&&(Cm(g,T),M++)}),M>0&&g.setAttribute("sentry.idle_span_discarded_spans",M)}return o.push(p.on("spanStart",b=>{r||b===g||F(b).timestamp||bn(g).includes(b)&&C(b.spanContext().spanId)})),o.push(p.on("spanEnd",b=>{r||A(b.spanContext().spanId)})),o.push(p.on("idleSpanEnableAutoFinish",b=>{b===g&&(s=!0,v(),n.size&&w())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=ig,g.end())},c),g}function og(e){let t=Mt(e);return tn(j(),t),L&&_.log("[Tracing] Started span is an idle span"),t}var Et;(function(e){e[e.PENDING=0]="PENDING";let t=1;e[e.RESOLVED=t]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Et||(Et={}));function it(e){return new wr(t=>{t(e)})}function Sr(e){return new wr((t,n)=>{n(e)})}var wr=class ls{constructor(t){this._state=Et.PENDING,this._handlers=[],this._runExecutor(t)}then(t,n){return new ls((r,a)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){a(s)}},i=>{if(!n)a(i);else try{r(n(i))}catch(s){a(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new ls((n,r)=>{let a,i;return this.then(s=>{i=!1,a=s,t&&t()},s=>{i=!0,a=s,t&&t()}).then(()=>{if(i){r(a);return}n(a)})})}_executeHandlers(){if(this._state===Et.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Et.RESOLVED&&n[1](this._value),this._state===Et.REJECTED&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===Et.PENDING){if(pr(s)){s.then(r,a);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(Et.RESOLVED,i)},a=i=>{n(Et.REJECTED,i)};try{t(r,a)}catch(i){a(i)}}};function cs(e,t,n,r=0){return new wr((a,i)=>{let s=e[r];if(t===null||typeof s!="function")a(t);else{let o=s(h({},t),n);L&&s.id&&o===null&&_.log(`Event processor "${s.id}" dropped event`),pr(o)?o.then(l=>cs(e,l,n,r+1).then(a)).then(null,i):cs(e,o,n,r+1).then(a).then(null,i)}})}var sa,Xl,Ki;function ou(e){let t=D._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Ki&&n.length===Xl||(Xl=n.length,Ki=n.reduce((r,a)=>{var s;sa||(sa={});let i=sa[a];if(i)r[i[0]]=i[1];else{let o=e(a);for(let l=o.length-1;l>=0;l--){let c=(s=o[l])==null?void 0:s.filename,d=t[a];if(c&&d){r[c]=d,sa[a]=[c,d];break}}}return r},{})),Ki}function lu(e,t){let n=ou(e);if(!n)return[];let r=[];for(let a of t)a&&n[a]&&r.push({type:"sourcemap",code_file:a,debug_id:n[a]});return r}function lg(e,t){let{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;cg(e,t),r&&pg(e,r),fg(e,n),ug(e,a),dg(e,i)}function Zl(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:f,span:m}=t;oa(e,"extra",n),oa(e,"tags",r),oa(e,"user",a),oa(e,"contexts",i),e.sdkProcessingMetadata=gr(e.sdkProcessingMetadata,o,2),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext=h(h({},e.propagationContext),p)}function oa(e,t,n){e[t]=gr(e[t],n,1)}function cg(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,transactionName:o}=t;Object.keys(n).length&&(e.extra=h(h({},n),e.extra)),Object.keys(r).length&&(e.tags=h(h({},r),e.tags)),Object.keys(a).length&&(e.user=h(h({},a),e.user)),Object.keys(i).length&&(e.contexts=h(h({},i),e.contexts)),s&&(e.level=s),o&&e.type!=="transaction"&&(e.transaction=o)}function ug(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function dg(e,t){e.sdkProcessingMetadata=h(h({},e.sdkProcessingMetadata),t)}function pg(e,t){e.contexts=h({trace:jc(t)},e.contexts),e.sdkProcessingMetadata=h({dynamicSamplingContext:Ve(t)},e.sdkProcessingMetadata);let n=ue(t),r=F(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function fg(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function Ps(e,t,n,r,a,i){let{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=e,l=I(h({},t),{event_id:t.event_id||n.event_id||ke(),timestamp:t.timestamp||mr()}),c=n.integrations||e.integrations.map(g=>g.name);hg(l,e),_g(l,c),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&mg(l,e.stackParser);let d=vg(r,n.captureContext);n.mechanism&&ot(l,n.mechanism);let u=a?a.getEventProcessors():[],p=yr().getScopeData();if(i){let g=i.getScopeData();Zl(p,g)}if(d){let g=d.getScopeData();Zl(p,g)}let f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),lg(l,p);let m=[...u,...p.eventProcessors];return cs(m,l,n).then(g=>(g&&gg(g),typeof s=="number"&&s>0?yg(g,s,o):g))}function hg(e,t){let{environment:n,release:r,dist:a,maxValueLength:i=250}=t;e.environment=e.environment||n||vr,!e.release&&r&&(e.release=r),!e.dist&&a&&(e.dist=a);let s=e.request;s!=null&&s.url&&(s.url=Sn(s.url,i))}function mg(e,t){var r,a;let n=ou(t);(a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function gg(e){var r,a;let t={};if((a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([i,s])=>{n.push({type:"sourcemap",code_file:i,debug_id:s})})}function _g(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function yg(e,t,n){var a,i;if(!e)return null;let r=h(h(h(h(h({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>h(h({},s),s.data&&{data:Ge(s.data,t,n)}))}),e.user&&{user:Ge(e.user,t,n)}),e.contexts&&{contexts:Ge(e.contexts,t,n)}),e.extra&&{extra:Ge(e.extra,t,n)});return(a=e.contexts)!=null&&a.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ge(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>h(h({},s),s.data&&{data:Ge(s.data,t,n)}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=Ge(e.contexts.flags,3,n)),r}function vg(e,t){if(!t)return e;let n=e?e.clone():new It;return n.update(t),n}function bg(e){if(e)return Sg(e)?{captureContext:e}:Eg(e)?{captureContext:e}:e}function Sg(e){return e instanceof It||typeof e=="function"}var wg=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Eg(e){return Object.keys(e).some(t=>wg.includes(t))}function _t(e,t){return j().captureException(e,bg(t))}function In(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return j().captureMessage(e,n,r)}function qt(e,t){return j().captureEvent(e,t)}function xa(e,t){ge().setContext(e,t)}function cu(e){ge().setExtras(e)}function uu(e,t){ge().setExtra(e,t)}function du(e){ge().setTags(e)}function Ca(e,t){ge().setTag(e,t)}function pu(e){ge().setUser(e)}function Ma(){return ge().lastEventId()}function fu(e){return P(this,null,function*(){let t=x();return t?t.flush(e):(L&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function hu(e){return P(this,null,function*(){let t=x();return t?t.close(e):(L&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function mu(){return!!x()}function kg(){let e=x();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function Ra(e){ge().addEventProcessor(e)}function Er(e){let t=ge(),n=j(),{userAgent:r}=D.navigator||{},a=lm(h(h({user:n.getUser()||t.getUser()},r&&{userAgent:r}),e)),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&En(i,{status:"exited"}),Aa(),t.setSession(a),a}function Aa(){let e=ge(),t=j().getSession()||e.getSession();t&&cm(t),gu(),e.setSession()}function gu(){let e=ge(),t=x(),n=e.getSession();n&&t&&t.captureSession(n)}function kr(e=!1){if(e){Aa();return}gu()}var Tg="7";function _u(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ig(e){return`${_u(e)}${e.projectId}/envelope/`}function xg(e,t){let n={sentry_version:Tg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function yu(e,t,n){return t||`${Ig(e)}?${xg(e,n)}`}function vu(e,t){let n=eu(e);if(!n)return"";let r=`${_u(n)}embed/error-page/`,a=`dsn=${zt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${a}`}var Ql=[];function Cg(e){let t={};return e.forEach(n=>{let{name:r}=n,a=t[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function bu(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let a=n(t);r=Array.isArray(a)?a:[a]}else r=t;return Cg(r)}function Mg(e,t){let n={};return t.forEach(r=>{r&&Su(e,r,n)}),n}function ec(e,t){for(let n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Su(e,t,n){if(n[t.name]){L&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Ql.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ql.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),a=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(a)}L&&_.log(`Integration installed: ${t.name}`)}function Tr(e){let t=x();if(!t){L&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function wu(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(n){}return t}function Rg(e){var l,c,d;let{trace_id:t,parent_span_id:n,span_id:r,status:a,origin:i,data:s,op:o}=(c=(l=e.contexts)==null?void 0:l.trace)!=null?c:{};return{data:s!=null?s:{},description:e.transaction,op:o,parent_span_id:n,span_id:r!=null?r:"",start_timestamp:(d=e.start_timestamp)!=null?d:0,status:a,timestamp:e.timestamp,trace_id:t!=null?t:"",origin:i,profile_id:s==null?void 0:s[ys],exclusive_time:s==null?void 0:s[rn],measurements:e.measurements,is_segment:!0}}function Ag(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:h(h(h({},e.data),e.profile_id&&{[ys]:e.profile_id}),e.exclusive_time&&{[rn]:e.exclusive_time})}},measurements:e.measurements}}function Og(e,t,n){let r=[{type:"client_report"},{timestamp:n||mr(),discarded_events:e}];return dt(t?{dsn:t}:{},[r])}var tc="Not capturing exception because it's already been captured.",nc="Discarded session because of missing or non-string release",Eu=Symbol.for("SentryInternalError"),ku=Symbol.for("SentryDoNotSendEventError");function da(e){return{message:e,[Eu]:!0}}function Xi(e){return{message:e,[ku]:!0}}function rc(e){return!!e&&typeof e=="object"&&Eu in e}function ac(e){return!!e&&typeof e=="object"&&ku in e}var Tu=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=eu(e.dsn):L&&_.warn("No DSN provided, client will not send events."),this._dsn){let t=yu(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(I(h({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}}captureException(e,t,n){let r=ke();if(Dl(e))return L&&_.log(tc),r;let a=h({event_id:r},t);return this._process(this.eventFromException(e,a).then(i=>this._captureEvent(i,a,n))),a.event_id}captureMessage(e,t,n,r){let a=h({event_id:ke()},n),i=ur(e)?e:String(e),s=ba(e)?this.eventFromMessage(i,t,a):this.eventFromException(e,a);return this._process(s.then(o=>this._captureEvent(o,a,r))),a.event_id}captureEvent(e,t,n){let r=ke();if(t!=null&&t.originalException&&Dl(t.originalException))return L&&_.log(tc),r;let a=h({event_id:r},t),i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,o=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,a,s||n,o)),a.event_id}captureSession(e){this.sendSession(e),En(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(r=>n&&r))):it(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];Su(this,e,this._integrations),t||ec(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Zm(e,this._dsn,this._options._metadata,this._options.tunnel);for(let a of t.attachments||[])n=qm(n,Ym(a));let r=this.sendEnvelope(n);r&&r.then(a=>this.emit("afterSendEvent",e,a),null)}sendSession(e){let{release:t,environment:n=vr}=this._options;if("aggregates"in e){let a=e.attrs||{};if(!a.release&&!t){L&&_.warn(nc);return}a.release=a.release||t,a.environment=a.environment||n,e.attrs=a}else{if(!e.release&&!t){L&&_.warn(nc);return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);let r=Xm(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;L&&_.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let r=n.indexOf(t);r>-1&&n.splice(r,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(r=>r(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(L&&_.error("Error while sending envelope:",t),t)):(L&&_.error("Transport disabled"),it({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=Mg(this,e),ec(this,e)}_updateSessionFromEvent(e,t){var s,o;let n=t.level==="fatal",r=!1,a=(s=t.exception)==null?void 0:s.values;if(a){r=!0;for(let l of a)if(((o=l.mechanism)==null?void 0:o.handled)===!1){n=!0;break}}let i=e.status==="ok";(i&&e.errors===0||i&&n)&&(En(e,I(h({},n&&{status:"crashed"}),{errors:e.errors||Number(r||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new wr(t=>{let n=0,r=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),t(!0)):(n+=r,e&&n>=e&&(clearInterval(a),t(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,n,r){let a=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&(i!=null&&i.length)&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),Ps(a,e,t,n,this,r).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,t),s.contexts=h({trace:Rc(n)},s.contexts);let o=xs(this,n);return s.sdkProcessingMetadata=h({dynamicSamplingContext:o},s.sdkProcessingMetadata),s})}_captureEvent(e,t={},n=j(),r=ge()){return L&&us(e)&&_.log(`Captured error event \`${wu(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(a=>a.event_id,a=>{L&&(ac(a)?_.log(a.message):rc(a)?_.warn(a.message):_.warn(a))})}_processEvent(e,t,n,r){let a=this.getOptions(),{sampleRate:i}=a,s=Iu(e),o=us(e),l=e.type||"error",c=`before send for type \`${l}\``,d=typeof i>"u"?void 0:$t(i);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Sr(Xi(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));let u=l==="replay_event"?"replay":l;return this._prepareEvent(e,t,n,r).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u),Xi("An event processor returned `null`, will not send event.");if(t.data&&t.data.__sentry__===!0)return p;let f=Lg(this,a,p,t);return Ng(f,c)}).then(p=>{var g;if(p===null){if(this.recordDroppedEvent("before_send",u),s){let y=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw Xi(`${c} returned \`null\`, will not send event.`)}let f=n.getSession()||r.getSession();if(o&&f&&this._updateSessionFromEvent(f,p),s){let y=((g=p.sdkProcessingMetadata)==null?void 0:g.spanCountBeforeProcessing)||0,v=p.spans?p.spans.length:0,w=y-v;w>0&&this.recordDroppedEvent("before_send","span",w)}let m=p.transaction_info;if(s&&m&&p.transaction!==e.transaction){let y="custom";p.transaction_info=I(h({},m),{source:y})}return this.sendEvent(p,t),p}).then(null,p=>{throw ac(p)||rc(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),da(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,n])=>{let[r,a]=t.split(":");return{reason:r,category:a,quantity:n}})}_flushOutcomes(){L&&_.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){L&&_.log("No outcomes to send");return}if(!this._dsn){L&&_.log("No dsn provided, will not send outcomes");return}L&&_.log("Sending outcomes:",e);let t=Og(e,this._options.tunnel&&zt(this._dsn));this.sendEnvelope(t)}};function Ng(e,t){let n=`${t} must return \`null\` or a valid event.`;if(pr(e))return e.then(r=>{if(!Ft(r)&&r!==null)throw da(n);return r},r=>{throw da(`${t} rejected with ${r}`)});if(!Ft(e)&&e!==null)throw da(n);return e}function Lg(e,t,n,r){let{beforeSend:a,beforeSendTransaction:i,beforeSendSpan:s}=t,o=n;if(us(o)&&a)return a(o,r);if(Iu(o)){if(s){let l=s(Rg(o));if(l?o=gr(n,Ag(l)):as(),o.spans){let c=[];for(let d of o.spans){let u=s(d);u?c.push(u):(as(),c.push(d))}o.spans=c}}if(i){if(o.spans){let l=o.spans.length;o.sdkProcessingMetadata=I(h({},n.sdkProcessingMetadata),{spanCountBeforeProcessing:l})}return i(o,r)}}return o}function us(e){return e.type===void 0}function Iu(e){return e.type==="transaction"}function Dg(e,t){if(!t)return[void 0,void 0];let n=kn(t),r=n?jc(n):Rc(t);return[n?Ve(n):xs(e,t),r]}var Pg={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Fg(e){return[{type:"otel_log"},e]}function $g(e,t,n,r){let a={};return t!=null&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(a.dsn=zt(r)),dt(a,e.map(Fg))}var Ug=100,ds=new WeakMap;function Bg(e,t){var n;switch(typeof t){case"number":return{key:e,value:{doubleValue:t}};case"boolean":return{key:e,value:{boolValue:t}};case"string":return{key:e,value:{stringValue:t}};default:{let r="";try{r=(n=JSON.stringify(t))!=null?n:""}catch(a){}return{key:e,value:{stringValue:r}}}}}function ga(e,t=x(),n=j()){var N;if(!t){L&&_.warn("No client available to capture log.");return}let{_experiments:r,release:a,environment:i}=t.getOptions(),{enableLogs:s=!1,beforeSendLog:o}=r!=null?r:{};if(!s){L&&_.warn("logging option not enabled, log will not be captured.");return}let[,l]=Dg(t,n),c=h({},e.attributes);a&&(c["sentry.release"]=a),i&&(c["sentry.environment"]=i);let{sdk:d}=(N=t.getSdkMetadata())!=null?N:{};d&&(c["sentry.sdk.name"]=d.name,c["sentry.sdk.version"]=d.version);let u=e.message;if(ur(u)){let{__sentry_template_string__:b,__sentry_template_values__:k=[]}=u;c["sentry.message.template"]=b,k.forEach((O,S)=>{c[`sentry.message.parameter.${S}`]=O})}let p=kn(n);p&&(c["sentry.trace.parent_span_id"]=p.spanContext().spanId);let f=I(h({},e),{attributes:c});t.emit("beforeCaptureLog",f);let m=o?o(f):f;if(!m){t.recordDroppedEvent("before_send","log_item",1),L&&_.warn("beforeSendLog returned null, log will not be captured.");return}let{level:g,message:y,attributes:v={},severityNumber:w}=m,C={severityText:g,body:{stringValue:y},attributes:Object.entries(v).map(([b,k])=>Bg(b,k)),timeUnixNano:`${new Date().getTime().toString()}000000`,traceId:l==null?void 0:l.trace_id,severityNumber:w!=null?w:Pg[g]},A=ds.get(t);A===void 0?ds.set(t,[C]):(A.push(C),A.length>Ug&&Ir(t,A)),t.emit("afterCaptureLog",m)}function Ir(e,t){var i;let n=(i=t!=null?t:ds.get(e))!=null?i:[];if(n.length===0)return;let r=e.getOptions(),a=$g(n,r._metadata,r.tunnel,e.getDsn());n.length=0,e.emit("flushLogs"),e.sendEnvelope(a)}function xu(e,t){t.debug===!0&&(L?_.enable():st(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),j().update(t.initialScope);let n=new e(t);return Fs(n),n.init(),n}function Fs(e){j().setClient(e)}var Cu=Symbol.for("SentryBufferFullError");function Hg(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function a(s){if(!n())return Sr(Cu);let o=s();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new wr((o,l)=>{let c=t.length;if(!c)return o(!0);let d=setTimeout(()=>{s&&s>0&&o(!1)},s);t.forEach(u=>{it(u).then(()=>{--c||(clearTimeout(d),o(!0))},l)})})}return{$:t,add:a,drain:i}}function Mu(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function jg(e,t){return e[t]||e.all||0}function $s(e,t,n=Date.now()){return jg(e,t)>n}function Us(e,{statusCode:t,headers:n},r=Date.now()){let a=h({},e),i=n==null?void 0:n["x-sentry-rate-limits"],s=n==null?void 0:n["retry-after"];if(i)for(let o of i.trim().split(",")){let[l,c,,,d]=o.split(":",5),u=parseInt(l,10),p=(isNaN(u)?60:u)*1e3;if(!c)a.all=r+p;else for(let f of c.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(a[f]=r+p):a[f]=r+p}else s?a.all=r+Mu(s,r):t===429&&(a.all=r+60*1e3);return a}var zg=64;function Oa(e,t,n=Hg(e.bufferSize||zg)){let r={},a=s=>n.drain(s);function i(s){let o=[];if(Ut(s,(u,p)=>{let f=Wl(p);$s(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):o.push(u)}),o.length===0)return it({});let l=dt(s[0],o),c=u=>{Ut(l,(p,f)=>{e.recordDroppedEvent(u,Wl(f))})},d=()=>t({body:An(l)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&L&&_.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=Us(r,u),u),u=>{throw c("network_error"),L&&_.error("Encountered error running transport request:",u),u});return n.add(d).then(u=>u,u=>{if(u===Cu)return L&&_.error("Skipped sending event because buffer is full."),c("queue_overflow"),it({});throw u})}return{send:i,flush:a}}var Zi=100,Qi=5e3,qg=36e5;function Ru(e){function t(...n){L&&_.info("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let a=n.createStore(n),i=Qi,s;function o(u,p,f){return ql(u,["client_report"])?!1:n.shouldStore?n.shouldStore(u,p,f):!0}function l(u){s&&clearTimeout(s),s=setTimeout(()=>P(this,null,function*(){s=void 0;let p=yield a.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))}),u),typeof s!="number"&&s.unref&&s.unref()}function c(){s||(l(i),i=Math.min(i*2,qg))}function d(u,p=!1){return P(this,null,function*(){var f,m;if(!p&&ql(u,["replay_event","replay_recording"]))return yield a.push(u),l(Zi),{};try{if(n.shouldSend&&(yield n.shouldSend(u))===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let g=yield r.send(u),y=Zi;if(g){if((f=g.headers)!=null&&f["retry-after"])y=Mu(g.headers["retry-after"]);else if((m=g.headers)!=null&&m["x-sentry-rate-limits"])y=6e4;else if((g.statusCode||0)>=400)return g}return l(y),i=Qi,g}catch(g){if(yield o(u,g,i))return p?yield a.unshift(u):yield a.push(u),c(),t("Error sending. Event queued.",g),{};throw g}})}return n.flushAtStartup&&c(),{send:d,flush:u=>(u===void 0&&(i=Qi,l(Zi)),r.flush(u))}}}function Au(e,t){let n;return Ut(e,(r,a)=>(t.includes(a)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function Wg(e,t){return n=>{let r=e(n);return I(h({},r),{send:a=>P(this,null,function*(){let i=Au(a,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(a)})})}}function Gg(e,t){return dt(t?I(h({},e[0]),{dsn:t}):e[0],e[1])}function Ou(e,t){return n=>{let r=e(n),a=new Map;function i(l,c){let d=c?`${l}:${c}`:l,u=a.get(d);if(!u){let p=Zc(l);if(!p)return;let f=yu(p,n.tunnel);u=c?Wg(e,c)(I(h({},n),{url:f})):e(I(h({},n),{url:f})),a.set(d,u)}return[l,u]}function s(l){return P(this,null,function*(){function c(p){let f=p!=null&&p.length?p:["event"];return Au(l,f)}let d=t({envelope:l,getEvent:c}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),u=d.length?d:[["",r]];return(yield Promise.all(u.map(([p,f])=>f.send(Gg(l,p)))))[0]})}function o(l){return P(this,null,function*(){let c=[...a.values(),r];return(yield Promise.all(c.map(d=>d.flush(l)))).every(d=>d)})}return{send:s,flush:o}}}function Na(e,t){let n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return Yg(e,n)||Vg(e,r)}function Vg(e,t){return t?ic(e)===ic(t):!1}function Yg(e,t){return t?e.includes(t.host):!1}function ic(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Bs(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Nu=Bs;function Lu(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user=I(h({},e.user),{ip_address:"{{auto}}"}))}function Du(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs=I(h({},e.attrs),{ip_address:"{{auto}}"})):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Pu(e,t,n=[t],r="npm"){let a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:at})),version:at}),e._metadata=a}function Hs(e={}){let t=x();if(!kg()||!t)return{};let n=Ct(),r=Ht(n);if(r.getTraceData)return r.getTraceData(e);let a=j(),i=e.span||fe(),s=i?Es(i):Jg(a),o=i?Ve(i):xs(t,a),l=$c(o);return Uc.test(s)?{"sentry-trace":s,baggage:l}:(_.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Jg(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Bc(t,r,n)}var Kg=100;function Je(e,t){let n=x(),r=ge();if(!n)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:i=Kg}=n.getOptions();if(i<=0)return;let s=h({timestamp:mr()},e),o=a?st(()=>a(s,t)):s;o!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,i))}var sc,Xg="FunctionToString",oc=new WeakMap,Zg=()=>({name:Xg,setupOnce(){sc=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=fr(this),n=oc.has(x())&&t!==void 0?t:this;return sc.apply(n,e)}}catch(e){}},setup(e){oc.set(e,!0)}}),La=Zg,Qg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],e_="EventFilters",js=(e={})=>{let t;return{name:e_,setup(n){let r=n.getOptions();t=lc(e,r)},processEvent(n,r,a){if(!t){let i=a.getOptions();t=lc(e,i)}return t_(n,t)?null:n}}},Da=(e={})=>I(h({},js(e)),{name:"InboundFilters"});function lc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Qg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function t_(e,t){if(e.type){if(e.type==="transaction"&&r_(e,t.ignoreTransactions))return L&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Pt(e)}`),!0}else{if(n_(e,t.ignoreErrors))return L&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Pt(e)}`),!0;if(o_(e))return L&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Pt(e)}`),!0;if(a_(e,t.denyUrls))return L&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Pt(e)}.
Url: ${_a(e)}`),!0;if(!i_(e,t.allowUrls))return L&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Pt(e)}.
Url: ${_a(e)}`),!0}return!1}function n_(e,t){return t!=null&&t.length?wu(e).some(n=>Ye(n,t)):!1}function r_(e,t){if(!(t!=null&&t.length))return!1;let n=e.transaction;return n?Ye(n,t):!1}function a_(e,t){if(!(t!=null&&t.length))return!1;let n=_a(e);return n?Ye(n,t):!1}function i_(e,t){if(!(t!=null&&t.length))return!0;let n=_a(e);return n?Ye(n,t):!0}function s_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function _a(e){var t,n,r,a;try{let i=(a=(r=[...(n=(t=e.exception)==null?void 0:t.values)!=null?n:[]].reverse().find(s=>{var o,l,c;return((o=s.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(l=s.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}))==null?void 0:r.stacktrace)==null?void 0:a.frames;return i?s_(i):null}catch(i){return L&&_.error(`Cannot extract url for event ${Pt(e)}`),null}}function o_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Fu(e,t,n,r,a,i){var o;if(!((o=a.exception)!=null&&o.values)||!i||!Tt(i.originalException,Error))return;let s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=ps(e,t,r,i.originalException,n,a.exception.values,s,0))}function ps(e,t,n,r,a,i,s,o){if(i.length>=n+1)return i;let l=[...i];if(Tt(r[a],Error)){cc(s,o);let c=e(t,r[a]),d=l.length;uc(c,a,d,o),l=ps(e,t,n,r[a],a,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(Tt(c,Error)){cc(s,o);let u=e(t,c),p=l.length;uc(u,`errors[${d}]`,p,o),l=ps(e,t,n,c,a,[u,...l],u,p)}}),l}function cc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=I(h(h({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function uc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=I(h({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}var $u=new Map,dc=new Set;function l_(e){if(D._sentryModuleMetadata)for(let t of Object.keys(D._sentryModuleMetadata)){let n=D._sentryModuleMetadata[t];if(dc.has(t))continue;dc.add(t);let r=e(t);for(let a of r.reverse())if(a.filename){$u.set(a.filename,n);break}}}function c_(e,t){return l_(e),$u.get(t)}function Uu(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let a=c_(e,r.filename);a&&(r.module_metadata=a)}})}catch(n){}}function Bu(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch(t){}}var Hu=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{Ut(t,(n,r)=>{if(r==="event"){let a=Array.isArray(n)?n[1]:void 0;a&&(Bu(a),n[1]=a)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;Uu(n,t)})}});function Pa(e){let t="console";ct(t,e),ut(t,u_)}function u_(){"console"in D&&lr.forEach(function(e){e in D.console&&we(D.console,e,function(t){return pa[e]=t,function(...n){var r;De("console",{args:n,level:e}),(r=pa[e])==null||r.apply(D.console,n)}})})}function xr(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var d_="CaptureConsole",p_=(e={})=>{var r;let t=e.levels||lr,n=(r=e.handled)!=null?r:!0;return{name:d_,setup(a){"console"in D&&Pa(({args:i,level:s})=>{x()!==a||!t.includes(s)||f_(i,s,n)})}}},ju=p_;function f_(e,t,n){let r={level:xr(t),extra:{arguments:e}};ze(a=>{if(a.addEventProcessor(o=>(o.logger="console",ot(o,{handled:n,type:"console"}),o)),t==="assert"){if(!e[0]){let o=`Assertion failed: ${wn(e.slice(1)," ")||"console.assert"}`;a.setExtra("arguments",e.slice(1)),In(o,r)}return}let i=e.find(o=>o instanceof Error);if(i){_t(i,r);return}let s=wn(e," ");In(s,r)})}var h_="Dedupe",m_=()=>{let e;return{name:h_,processEvent(t){if(t.type)return t;try{if(g_(t,e))return L&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}},Fa=m_;function g_(e,t){return t?!!(__(e,t)||y_(e,t)):!1}function __(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!qu(e,t)||!zu(e,t))}function y_(e,t){let n=pc(t),r=pc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!qu(e,t)||!zu(e,t))}function zu(e,t){let n=is(e),r=is(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){let i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function qu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(a){return!1}}function pc(e){var t;return((t=e.exception)==null?void 0:t.values)&&e.exception.values[0]}var v_="ExtraErrorData",b_=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:v_,processEvent(r,a,i){let{maxValueLength:s=250}=i.getOptions();return S_(r,a,t,n,s)}}},Wu=b_;function S_(e,t={},n,r,a){if(!t.originalException||!kt(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=w_(t.originalException,r,a);if(s){let o=h({},e.contexts),l=Ge(s,n);return Ft(l)&&(Re(l,"__sentry_skip_normalization__",!0),o[i]=l),I(h({},e),{contexts:o})}return e}function w_(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],a={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];a[i]=kt(s)||typeof s=="string"?Sn(`${s}`,n):s}if(t&&e.cause!==void 0&&(a.cause=kt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let o=i[s];a[s]=kt(o)?o.toString():o}}return a}catch(r){L&&_.error("Unable to extract extra data from the Error object:",r)}return null}function E_(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let a=e[r];a==="."?e.splice(r,1):a===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var k_=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function T_(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=k_.exec(t);return n?n.slice(1):[]}function fc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let a=r>=0?e[r]:"/";a&&(t=`${a}/${t}`,n=a.charAt(0)==="/")}return t=E_(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function hc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function I_(e,t){e=fc(e).slice(1),t=fc(t).slice(1);let n=hc(e.split("/")),r=hc(t.split("/")),a=Math.min(n.length,r.length),i=a;for(let o=0;o<a;o++)if(n[o]!==r[o]){i=o;break}let s=[];for(let o=i;o<n.length;o++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function x_(e,t){let n=T_(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var C_="RewriteFrames",Gu=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in D&&!!D.window,a=e.iteratee||M_({isBrowser:r,root:t,prefix:n});function i(o){try{return I(h({},o),{exception:I(h({},o.exception),{values:o.exception.values.map(l=>h(h({},l),l.stacktrace&&{stacktrace:s(l.stacktrace)}))})})}catch(l){return o}}function s(o){return I(h({},o),{frames:(o==null?void 0:o.frames)&&o.frames.map(l=>a(l))})}return{name:C_,processEvent(o){let l=o;return o.exception&&Array.isArray(o.exception.values)&&(l=i(l)),l}}};function M_({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let a=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(a||i){let s=a?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=t?I_(t,s):x_(s);r.filename=`${n}${o}`}return r}}var R_=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],A_=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],O_={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Vu=["select","insert","upsert","update","delete"];function $a(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch(t){}}function Ua(e){try{return e.__SENTRY_INSTRUMENTED__}catch(t){return!1}}function N_(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function L_(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),a;return n!=null&&n.startsWith("fts")?a="textSearch":n!=null&&n.startsWith("plfts")?a="textSearch[plain]":n!=null&&n.startsWith("phfts")?a="textSearch[phrase]":n!=null&&n.startsWith("wfts")?a="textSearch[websearch]":a=n&&O_[n]||"filter",`${a}(${e}, ${r.join(".")})`}function mc(e,t=!1){return new Proxy(e,{apply(n,r,a){return Ia({name:e.name,attributes:{[ae]:"auto.db.supabase",[Ne]:`db.auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,a).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),_t(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),_t(s,{mechanism:{handled:!1}}),s}).then(...a))}})}function D_(e){let t=e.auth;if(!(!t||Ua(e.auth))){for(let n of R_){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=mc(r))}for(let n of A_){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=mc(r,!0))}$a(e.auth)}}function P_(e){Ua(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let a=Reflect.apply(t,n,r),i=a.constructor;return $_(i),a}}),$a(e.prototype.from))}function F_(e){Ua(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var f;let a=Vu,i=n,s=N_(i.method,i.headers);if(!a.includes(s)||!((f=i==null?void 0:i.url)!=null&&f.pathname)||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let o=i.url.pathname.split("/"),l=o.length>0?o[o.length-1]:"",c=`from(${l})`,d=[];for(let[m,g]of i.url.searchParams.entries())d.push(L_(m,g));let u=Object.create(null);if(Ft(i.body))for(let[m,g]of Object.entries(i.body))u[m]=g;let p={"db.table":l,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql",[ae]:"auto.db.supabase",[Ne]:`db.${s}`};return d.length&&(p["db.query"]=d),Object.keys(u).length&&(p["db.body"]=u),Ia({name:c,attributes:p},m=>Reflect.apply(t,n,[]).then(g=>{if(m&&(g&&typeof g=="object"&&"status"in g&&nn(m,g.status||500),m.end()),g.error){let w=new Error(g.error.message);g.error.code&&(w.code=g.error.code),g.error.details&&(w.details=g.error.details);let C={};d.length&&(C.query=d),Object.keys(u).length&&(C.body=u),_t(w,{contexts:{supabase:C}})}let y={type:"supabase",category:`db.${s}`,message:c},v={};return d.length&&(v.query=d),Object.keys(u).length&&(v.body=u),Object.keys(v).length&&(y.data=v),Je(y),g},g=>{throw m&&(nn(m,500),m.end()),g}).then(...r))}}),$a(e.prototype.then))}function $_(e){for(let t of Vu)Ua(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,a){let i=Reflect.apply(n,r,a),s=i.constructor;return L&&_.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),F_(s),i}}),$a(e.prototype[t]))}var zs=e=>{if(!e){L&&_.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;P_(t),D_(e)},U_="Supabase",B_=e=>({setupOnce(){zs(e)},name:U_}),Yu=e=>B_(e.supabaseClient),H_=10,j_="ZodErrors";function z_(e){return kt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function q_(e){return I(h({},e),{path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0})}function W_(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function G_(e){let t=new Set;for(let r of e.issues){let a=W_(r.path);a.length>0&&t.add(a)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let a=e.issues[0];a!==void 0&&"expected"in a&&typeof a.expected=="string"&&(r=a.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Sn(n.join(", "),100)}`}function V_(e,t=!1,n,r){var a;if(!((a=n.exception)!=null&&a.values)||!r.originalException||!z_(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(q_);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),I(h({},n),{exception:I(h({},n.exception),{values:[I(h({},n.exception.values[0]),{value:G_(r.originalException)}),...n.exception.values.slice(1)]}),extra:I(h({},n.extra),{"zoderror.issues":i.slice(0,e)})})}catch(i){return I(h({},n),{extra:I(h({},n.extra),{"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:i instanceof Error?`${i.name}: ${i.message}
${i.stack}`:"unknown"}})})}}var Y_=(e={})=>{var n;let t=(n=e.limit)!=null?n:H_;return{name:j_,processEvent(r,a){return V_(t,e.saveZodIssuesAsAttachment,r,a)}}},Ju=Y_,Ku=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{Ut(n,(r,a)=>{if(a==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(Bu(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;Uu(r,n)})},processEvent(t){let n=J_(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](a=>!a.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags=I(h({},t.tags),{third_party_code:!0})}}return t}});function J_(e){let t=is(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(gc)).map(r=>r.slice(gc.length)):[])}var gc="_sentryBundlerPluginAppKey:";var K_="thismessage:/";function Xu(e){return"isRelative"in e}function X_(e,t){let n=e.startsWith("/"),r=t!=null?t:n?K_:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;let a=new URL(e,r);return n?{isRelative:n,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch(a){}}function Z_(e){if(Xu(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function yt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ba(e){return e.split(/[?#]/,1)[0]}function Zu(e,t,n,r,a="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,o=xt()&&t(s);if(e.endTimestamp&&o){let u=e.fetchData.__span;if(!u)return;let p=r[u];p&&(ey(p,e),delete r[u]);return}let l=!!fe(),c=o&&l?Mt(ny(s,i,a)):new gt;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){let u=e.args[0],p=e.args[1]||{},f=Q_(u,p,xt()&&l?c:void 0);f&&(e.args[1]=p,p.headers=f)}let d=x();if(d){let u={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",c,u)}return c}function Q_(e,t,n){let r=Hs({span:n}),a=r["sentry-trace"],i=r.baggage;if(!a)return;let s=t.headers||(Ec(e)?e.headers:void 0);if(s)if(ty(s)){let o=new Headers(s);if(o.set("sentry-trace",a),i){let l=o.get("baggage");if(l){let c=la(l);o.set("baggage",c?`${c},${i}`:i)}else o.set("baggage",i)}return o}else if(Array.isArray(s)){let o=[...s.filter(l=>!(Array.isArray(l)&&l[0]==="sentry-trace")).map(l=>{if(Array.isArray(l)&&l[0]==="baggage"&&typeof l[1]=="string"){let[c,d,...u]=l;return[c,la(d),...u]}else return l}),["sentry-trace",a]];return i&&o.push(["baggage",i]),o}else{let o="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(o)?l=o.map(c=>typeof c=="string"?la(c):c).filter(c=>c===""):o&&l.push(la(o)),i&&l.push(i),I(h({},s),{"sentry-trace":a,baggage:l.length>0?l.join(","):void 0})}else return h({},r)}function ey(e,t){var n;if(t.response){nn(e,t.response.status);let r=((n=t.response)==null?void 0:n.headers)&&t.response.headers.get("content-length");if(r){let a=parseInt(r);a>0&&e.setAttribute("http.response_content_length",a)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function la(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(bs)).join(",")}function ty(e){return typeof Headers<"u"&&Tt(e,Headers)}function ny(e,t,n){let r=X_(e);return{name:r?`${t} ${Z_(r)}`:t,attributes:ry(e,r,t,n)}}function ry(e,t,n,r){let a={url:e,type:"fetch","http.method":n,[ae]:r,[Ne]:"http.client"};return t&&(Xu(t)||(a["http.url"]=t.href,a["server.address"]=t.host),t.search&&(a["http.query"]=t.search),t.hash&&(a["http.fragment"]=t.hash)),a}function Ha(e,t={},n=j()){let{message:r,name:a,email:i,url:s,source:o,associatedEventId:l,tags:c}=e,d={contexts:{feedback:{contact_email:i,name:a,message:r,url:s,source:o,associated_event_id:l}},type:"feedback",level:"info",tags:c},u=(n==null?void 0:n.getClient())||x();return u&&u.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var ay="ConsoleLogs",_c={[ae]:"auto.console.logging"},iy=(e={})=>{let t=e.levels||lr;return{name:ay,setup(n){var r;if(!((r=n.getOptions()._experiments)!=null&&r.enableLogs)){L&&_.warn("`_experiments.enableLogs` is not enabled, ConsoleLogs integration disabled");return}Pa(({args:a,level:i})=>{if(x()!==n||!t.includes(i))return;if(i==="assert"){if(!a[0]){let o=a.slice(1),l=o.length>0?`Assertion failed: ${yc(o)}`:"Assertion failed";ga({level:"error",message:l,attributes:_c})}return}let s=i==="log";ga({level:s?"info":i,message:yc(a),severityNumber:s?10:void 0,attributes:_c})})}}},Qu=iy;function yc(e){return"util"in D&&typeof D.util.format=="function"?D.util.format(...e):wn(e," ")}function qs(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var xn=D;function ed(){return"history"in xn&&!!xn.history}function Ws(){if(!("fetch"in xn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function ya(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Gs(){var n;if(typeof EdgeRuntime=="string")return!0;if(!Ws())return!1;if(ya(xn.fetch))return!0;let e=!1,t=xn.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=ya(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Bt&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function td(){return"ReportingObserver"in xn}function On(e,t){let n="fetch";ct(n,e),ut(n,()=>rd(void 0,t))}function nd(e){let t="fetch-body-resolved";ct(t,e),ut(t,()=>rd(oy))}function rd(e,t=!1){t&&!Gs()||we(D,"fetch",function(n){return function(...r){let a=new Error,{method:i,url:s}=ly(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:ve()*1e3,virtualError:a,headers:cy(r)};return e||De("fetch",h({},o)),n.apply(D,r).then(l=>P(this,null,function*(){return e?e(l):De("fetch",I(h({},o),{endTimestamp:ve()*1e3,response:l})),l}),l=>{if(De("fetch",I(h({},o),{endTimestamp:ve()*1e3,error:l})),kt(l)&&l.stack===void 0&&(l.stack=a.stack,Re(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{let c=new URL(o.fetchData.url);l.message=`${l.message} (${c.host})`}catch(c){}throw l})}})}function sy(e,t){return P(this,null,function*(){if(e!=null&&e.body){let n=e.body,r=n.getReader(),a=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:o}=yield r.read();clearTimeout(s),o&&(t(),i=!1)}catch(o){i=!1}finally{clearTimeout(s)}}clearTimeout(a),r.releaseLock(),n.cancel().then(null,()=>{})}})}function oy(e){let t;try{t=e.clone()}catch(n){return}sy(t,()=>{De("fetch-body-resolved",{endTimestamp:ve()*1e3,response:e})})}function fs(e,t){return!!e&&typeof e=="object"&&!!e[t]}function vc(e){return typeof e=="string"?e:e?fs(e,"url")?e.url:e.toString?e.toString():"":""}function ly(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:vc(n),method:fs(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:vc(t),method:fs(t,"method")?String(t.method).toUpperCase():"GET"}}function cy(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Ec(t))return new Headers(t.headers)}catch(r){}}function uy(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ad(){return"npm"}function dy(){return!uy()&&Object.prototype.toString.call(typeof qi<"u"?qi:0)==="[object process]"}function Cr(){return typeof window<"u"&&(!dy()||py())}function py(){var e;return((e=D.process)==null?void 0:e.type)==="renderer"}var Ar=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fy=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Ln=(e,t,n,r)=>{let a,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(a||0),(i||a===void 0)&&(a=t.value,t.delta=i,t.rating=fy(t.value,n),e(t)))}},K=D,hy=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,Or=(e=!0)=>{var n,r;let t=(r=(n=K.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Nr=()=>{var e;return((e=Or())==null?void 0:e.activationStart)||0},Dn=(e,t)=>{var a,i;let n=Or(),r="navigate";return n&&((a=K.document)!=null&&a.prerendering||Nr()>0?r="prerender":(i=K.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:hy(),navigationType:r}},sn=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(a=>{Promise.resolve().then(()=>{t(a.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},Pn=e=>{let t=n=>{var r;(n.type==="pagehide"||((r=K.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};K.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Ja=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Mr=-1,my=()=>K.document.visibilityState==="hidden"&&!K.document.prerendering?0:1/0,Va=e=>{K.document.visibilityState==="hidden"&&Mr>-1&&(Mr=e.type==="visibilitychange"?e.timeStamp:0,_y())},gy=()=>{addEventListener("visibilitychange",Va,!0),addEventListener("prerenderingchange",Va,!0)},_y=()=>{removeEventListener("visibilitychange",Va,!0),removeEventListener("prerenderingchange",Va,!0)},Ka=()=>(K.document&&Mr<0&&(Mr=my(),gy()),{get firstHiddenTime(){return Mr}}),Lr=e=>{var t;(t=K.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},yy=[1800,3e3],vy=(e,t={})=>{Lr(()=>{let n=Ka(),r=Dn("FCP"),a,i=sn("paint",s=>{s.forEach(o=>{o.name==="first-contentful-paint"&&(i.disconnect(),o.startTime<n.firstHiddenTime&&(r.value=Math.max(o.startTime-Nr(),0),r.entries.push(o),a(!0)))})});i&&(a=Ln(e,r,yy,t.reportAllChanges))})},by=[.1,.25],Sy=(e,t={})=>{vy(Ja(()=>{let n=Dn("CLS",0),r,a=0,i=[],s=l=>{l.forEach(c=>{if(!c.hadRecentInput){let d=i[0],u=i[i.length-1];a&&d&&u&&c.startTime-u.startTime<1e3&&c.startTime-d.startTime<5e3?(a+=c.value,i.push(c)):(a=c.value,i=[c])}}),a>n.value&&(n.value=a,n.entries=i,r())},o=sn("layout-shift",s);o&&(r=Ln(e,n,by,t.reportAllChanges),Pn(()=>{s(o.takeRecords()),r(!0)}),setTimeout(r,0))}))},wy=[100,300],Ey=(e,t={})=>{Lr(()=>{let n=Ka(),r=Dn("FID"),a,i=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),a(!0))},s=l=>{l.forEach(i)},o=sn("first-input",s);a=Ln(e,r,wy,t.reportAllChanges),o&&Pn(Ja(()=>{s(o.takeRecords()),o.disconnect()}))})},ud=0,Vs=1/0,ja=0,ky=e=>{e.forEach(t=>{t.interactionId&&(Vs=Math.min(Vs,t.interactionId),ja=Math.max(ja,t.interactionId),ud=ja?(ja-Vs)/7+1:0)})},Qs,Ty=()=>Qs?ud:performance.interactionCount||0,Iy=()=>{"interactionCount"in performance||Qs||(Qs=sn("event",ky,{type:"event",buffered:!0,durationThreshold:0}))},Rt=[],Ys=new Map,xy=40,Cy=0,My=()=>Ty()-Cy,Ry=()=>{let e=Math.min(Rt.length-1,Math.floor(My()/50));return Rt[e]},Js=10,Ay=[],Oy=e=>{var r;if(Ay.forEach(a=>a(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=Rt[Rt.length-1],n=Ys.get(e.interactionId);if(n||Rt.length<Js||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===((r=n.entries[0])==null?void 0:r.startTime)&&n.entries.push(e);else{let a={id:e.interactionId,latency:e.duration,entries:[e]};Ys.set(a.id,a),Rt.push(a)}Rt.sort((a,i)=>i.latency-a.latency),Rt.length>Js&&Rt.splice(Js).forEach(a=>Ys.delete(a.id))}},dd=e=>{var r;let t=K.requestIdleCallback||K.setTimeout,n=-1;return e=Ja(e),((r=K.document)==null?void 0:r.visibilityState)==="hidden"?e():(n=t(e),Pn(e)),n},Ny=[200,500],Ly=(e,t={})=>{"PerformanceEventTiming"in K&&"interactionId"in PerformanceEventTiming.prototype&&Lr(()=>{Iy();let n=Dn("INP"),r,a=s=>{dd(()=>{s.forEach(Oy);let o=Ry();o&&o.latency!==n.value&&(n.value=o.latency,n.entries=o.entries,r())})},i=sn("event",a,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:xy});r=Ln(e,n,Ny,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Pn(()=>{a(i.takeRecords()),r(!0)}))})},Dy=[2500,4e3],id={},Py=(e,t={})=>{Lr(()=>{let n=Ka(),r=Dn("LCP"),a,i=o=>{t.reportAllChanges||(o=o.slice(-1)),o.forEach(l=>{l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Nr(),0),r.entries=[l],a())})},s=sn("largest-contentful-paint",i);if(s){a=Ln(e,r,Dy,t.reportAllChanges);let o=Ja(()=>{id[r.id]||(i(s.takeRecords()),s.disconnect(),id[r.id]=!0,a(!0))});["keydown","click"].forEach(l=>{K.document&&addEventListener(l,()=>dd(o),{once:!0,capture:!0})}),Pn(o)}})},Fy=[800,1800],eo=e=>{var t,n;(t=K.document)!=null&&t.prerendering?Lr(()=>eo(e)):((n=K.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>eo(e),!0):setTimeout(e,0)},$y=(e,t={})=>{let n=Dn("TTFB"),r=Ln(e,n,Fy,t.reportAllChanges);eo(()=>{let a=Or();a&&(n.value=Math.max(a.responseStart-Nr(),0),n.entries=[a],r(!0))})},Rr={},Ya={},pd,fd,hd,md,gd;function Xa(e,t=!1){return Dr("cls",e,By,pd,t)}function ro(e,t=!1){return Dr("lcp",e,jy,hd,t)}function ao(e){return Dr("fid",e,Hy,fd)}function Uy(e){return Dr("ttfb",e,zy,md)}function io(e){return Dr("inp",e,qy,gd)}function Wt(e,t){return _d(e,t),Ya[e]||(Wy(e),Ya[e]=!0),yd(e,t)}function Fn(e,t){let n=Rr[e];if(n!=null&&n.length)for(let r of n)try{r(t)}catch(a){Ar&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${lt(r)}
Error:`,a)}}function By(){return Sy(e=>{Fn("cls",{metric:e}),pd=e},{reportAllChanges:!0})}function Hy(){return Ey(e=>{Fn("fid",{metric:e}),fd=e})}function jy(){return Py(e=>{Fn("lcp",{metric:e}),hd=e},{reportAllChanges:!0})}function zy(){return $y(e=>{Fn("ttfb",{metric:e}),md=e})}function qy(){return Ly(e=>{Fn("inp",{metric:e}),gd=e})}function Dr(e,t,n,r,a=!1){_d(e,t);let i;return Ya[e]||(i=n(),Ya[e]=!0),r&&t({metric:r}),yd(e,t,a?i:void 0)}function Wy(e){let t={};e==="event"&&(t.durationThreshold=0),sn(e,n=>{Fn(e,{entries:n})},t)}function _d(e,t){Rr[e]=Rr[e]||[],Rr[e].push(t)}function yd(e,t,n){return()=>{n&&n();let r=Rr[e];if(!r)return;let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}function Gy(e){return"duration"in e}function Ks(e){return typeof e=="number"&&isFinite(e)}function At(e,t,n,a){var r=Dt(a,[]);let i=F(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),an(e,()=>{let s=Mt(h({startTime:t},r));return s&&s.end(n),s})}function vd(e){var g,y;let t=x();if(!t)return;let{name:n,transaction:r,attributes:a,startTime:i}=e,{release:s,environment:o,sendDefaultPii:l}=t.getOptions(),c=(g=t.getIntegrationByName("Replay"))==null?void 0:g.getReplayId(),d=j(),u=d.getUser(),p=u!==void 0?u.email||u.id||u.ip_address:void 0,f;try{f=d.getScopeData().contexts.profile.profile_id}catch(v){}let m=h({release:s,environment:o,user:p||void 0,profile_id:f||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":(y=K.navigator)==null?void 0:y.userAgent,"client.address":l?"{{auto}}":void 0},a);return Mt({name:n,attributes:m,startTime:i,experimental:{standalone:!0}})}function so(){return K.addEventListener&&K.performance}function Se(e){return e/1e3}function oo(e){let t="unknown",n="unknown",r="";for(let a of e){if(a==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(a))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=a}return r===e&&(t=r),{name:t,version:n}}function Vy(){let e=0,t,n;if(!Jy())return;let r=!1;function a(){r||(r=!0,n&&Yy(e,t,n),i())}let i=Xa(({metric:s})=>{let o=s.entries[s.entries.length-1];o&&(e=s.value,t=o)},!0);Pn(()=>{a()}),setTimeout(()=>{let s=x();if(!s)return;let o=s.on("startNavigationSpan",()=>{a(),o==null||o()}),l=fe();if(l){let c=ue(l);F(c).op==="pageload"&&(n=c.spanContext().spanId)}},0)}function Yy(e,t,n){var l;Ar&&_.log(`Sending CLS span (${e})`);let r=Se((be()||0)+((t==null?void 0:t.startTime)||0)),a=j().getScopeData().transactionName,i=t?He((l=t.sources[0])==null?void 0:l.node):"Layout shift",s={[ae]:"auto.http.browser.cls",[Ne]:"ui.webvital.cls",[rn]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n},o=vd({name:i,transaction:a,attributes:s,startTime:r});o&&(o.addEvent("cls",{[Mn]:"",[Rn]:e}),o.end(r))}function Jy(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(e){return!1}}var Ky=2147483647,sd=0,Ae={},qe,Nn;function bd({recordClsStandaloneSpans:e}){let t=so();if(t&&be()){t.mark&&K.performance.mark("sentry-tracing-init");let n=Qy(),r=Zy(),a=ev(),i=e?Vy():Xy();return()=>{n(),r(),a(),i==null||i()}}return()=>{}}function Sd(){Wt("longtask",({entries:e})=>{let t=fe();if(!t)return;let{op:n,start_timestamp:r}=F(t);for(let a of e){let i=Se(be()+a.startTime),s=Se(a.duration);n==="navigation"&&r&&i<r||At(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ae]:"auto.ui.browser.metrics"}})}})}function wd(){new PerformanceObserver(e=>{let t=fe();if(t)for(let n of e.getEntries()){if(!n.scripts[0])continue;let r=Se(be()+n.startTime),{start_timestamp:a,op:i}=F(t);if(i==="navigation"&&a&&r<a)continue;let s=Se(n.duration),o={[ae]:"auto.ui.browser.metrics"},l=n.scripts[0],{invoker:c,invokerType:d,sourceURL:u,sourceFunctionName:p,sourceCharPosition:f}=l;o["browser.script.invoker"]=c,o["browser.script.invoker_type"]=d,u&&(o["code.filepath"]=u),p&&(o["code.function"]=p),f!==-1&&(o["browser.script.source_char_position"]=f),At(t,r,r+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}}).observe({type:"long-animation-frame",buffered:!0})}function Ed(){Wt("event",({entries:e})=>{let t=fe();if(t){for(let n of e)if(n.name==="click"){let r=Se(be()+n.startTime),a=Se(n.duration),i={name:He(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ae]:"auto.ui.browser.metrics"}},s=Sa(n.target);s&&(i.attributes["ui.component_name"]=s),At(t,r,r+a,i)}}})}function Xy(){return Xa(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ae.cls={value:e.value,unit:""},Nn=t)},!0)}function Zy(){return ro(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ae.lcp={value:e.value,unit:"millisecond"},qe=t)},!0)}function Qy(){return ao(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=Se(be()),r=Se(t.startTime);Ae.fid={value:e.value,unit:"millisecond"},Ae["mark.fid"]={value:n+r,unit:"second"}})}function ev(){return Uy(({metric:e})=>{e.entries[e.entries.length-1]&&(Ae.ttfb={value:e.value,unit:"millisecond"})})}function kd(e,t){let n=so(),r=be();if(!(n!=null&&n.getEntries)||!r)return;let a=Se(r),i=n.getEntries(),{op:s,start_timestamp:o}=F(e);if(i.slice(sd).forEach(l=>{let c=Se(l.startTime),d=Se(Math.max(0,l.duration));if(!(s==="navigation"&&o&&a+c<o))switch(l.entryType){case"navigation":{nv(e,l,a);break}case"mark":case"paint":case"measure":{tv(e,l,c,d,a);let u=Ka(),p=l.startTime<u.firstHiddenTime;l.name==="first-paint"&&p&&(Ae.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&p&&(Ae.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{iv(e,l,l.name,c,d,a);break}}}),sd=Math.max(i.length-1,0),sv(e),s==="pageload"){lv(Ae);let l=Ae["mark.fid"];l&&Ae.fid&&(At(e,l.value,l.value+Se(Ae.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ae]:"auto.ui.browser.metrics"}}),delete Ae["mark.fid"]),(!("fcp"in Ae)||!t.recordClsOnPageloadSpan)&&delete Ae.cls,Object.entries(Ae).forEach(([c,d])=>{Ta(c,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",Nr()),ov(e)}qe=void 0,Nn=void 0,Ae={}}function tv(e,t,n,r,a){let i=Or(!1),s=Se(i?i.requestStart:0),o=a+Math.max(n,s),l=a+n,c=l+r,d={[ae]:"auto.resource.browser.metrics"};o!==l&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=o),o<=c&&At(e,o,c,{name:t.name,op:t.entryType,attributes:d})}function nv(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{za(e,t,r,n)}),za(e,t,"secureConnection",n,"TLS/SSL"),za(e,t,"fetch",n,"cache"),za(e,t,"domainLookup",n,"DNS"),av(e,t,n)}function za(e,t,n,r,a=n){let i=rv(n),s=t[i],o=t[`${n}Start`];!o||!s||At(e,r+Se(o),r+Se(s),{op:`browser.${a}`,name:t.name,attributes:h({[ae]:"auto.ui.browser.metrics"},n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{})})}function rv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function av(e,t,n){let r=n+Se(t.requestStart),a=n+Se(t.responseEnd),i=n+Se(t.responseStart);t.responseEnd&&(At(e,r,a,{op:"browser.request",name:t.name,attributes:{[ae]:"auto.ui.browser.metrics"}}),At(e,i,a,{op:"browser.response",name:t.name,attributes:{[ae]:"auto.ui.browser.metrics"}}))}function iv(e,t,n,r,a,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let s=yt(n),o={[ae]:"auto.resource.browser.metrics"};Xs(o,t,"transferSize","http.response_transfer_size"),Xs(o,t,"encodedBodySize","http.response_content_length"),Xs(o,t,"decodedBodySize","http.decoded_response_content_length");let l=t.deliveryType;l!=null&&(o["http.response_delivery_type"]=l);let c=t.renderBlockingStatus;c&&(o["resource.render_blocking_status"]=c),s.protocol&&(o["url.scheme"]=s.protocol.split(":").pop()),s.host&&(o["server.address"]=s.host),o["url.same_origin"]=n.includes(K.location.origin);let{name:d,version:u}=oo(t.nextHopProtocol);o["network.protocol.name"]=d,o["network.protocol.version"]=u;let p=i+r,f=p+a;At(e,p,f,{name:n.replace(K.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:o})}function sv(e){let t=K.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ks(n.rtt)&&(Ae["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ks(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ks(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function ov(e){qe&&(qe.element&&e.setAttribute("lcp.element",He(qe.element)),qe.id&&e.setAttribute("lcp.id",qe.id),qe.url&&e.setAttribute("lcp.url",qe.url.trim().slice(0,200)),qe.loadTime!=null&&e.setAttribute("lcp.loadTime",qe.loadTime),qe.renderTime!=null&&e.setAttribute("lcp.renderTime",qe.renderTime),e.setAttribute("lcp.size",qe.size)),Nn!=null&&Nn.sources&&Nn.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,He(t.node)))}function Xs(e,t,n,r){let a=t[n];a!=null&&a<Ky&&(e[r]=a)}function lv(e){let t=Or(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var cv=1e3,od,to,no;function Za(e){let t="dom";ct(t,e),ut(t,uv)}function uv(){if(!K.document)return;let e=De.bind(null,"dom"),t=ld(e,!0);K.document.addEventListener("click",t,!1),K.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var a,i;let r=(a=K[n])==null?void 0:a.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(we(r,"addEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=d[o]=d[o]||{refCount:0};if(!u.handler){let p=ld(e);u.handler=p,s.call(this,o,p,c)}u.refCount++}catch(d){}return s.call(this,o,l,c)}}),we(r,"removeEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__||{},u=d[o];u&&(u.refCount--,u.refCount<=0&&(s.call(this,o,u.handler,c),u.handler=void 0,delete d[o]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch(d){}return s.call(this,o,l,c)}}))})}function dv(e){if(e.type!==to)return!1;try{if(!e.target||e.target._sentryId!==no)return!1}catch(t){}return!0}function pv(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ld(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=fv(n);if(pv(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",ke());let a=n.type==="keypress"?"input":n.type;dv(n)||(e({event:n,name:a,global:t}),to=n.type,no=r?r._sentryId:void 0),clearTimeout(od),od=K.setTimeout(()=>{no=void 0,to=void 0},cv)}}function fv(e){try{return e.target}catch(t){return null}}var qa;function Gt(e){let t="history";ct(t,e),ut(t,hv)}function hv(){if(K.addEventListener("popstate",()=>{let t=K.location.href,n=qa;qa=t,n!==t&&De("history",{from:n,to:t})}),!ed())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let a=qa,i=String(r);if(qa=i,a===i)return t.apply(this,n);De("history",{from:a,to:i})}return t.apply(this,n)}}we(K.history,"pushState",e),we(K.history,"replaceState",e)}var Wa={};function Pr(e){let t=Wa[e];if(t)return t;let n=K[e];if(ya(n))return Wa[e]=n.bind(K);let r=K.document;if(r&&typeof r.createElement=="function")try{let a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);let i=a.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(a)}catch(a){Ar&&_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,a)}return n&&(Wa[e]=n.bind(K))}function lo(e){Wa[e]=void 0}function on(...e){return Pr("setTimeout")(...e)}var We="__sentry_xhr_v3__";function $n(e){let t="xhr";ct(t,e),ut(t,mv)}function mv(){if(!K.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let a=new Error,i=ve()*1e3,s=Be(r[0])?r[0].toUpperCase():void 0,o=gv(r[1]);if(!s||!o)return t.apply(n,r);n[We]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let l=()=>{let c=n[We];if(c&&n.readyState===4){try{c.status_code=n.status}catch(u){}let d={endTimestamp:ve()*1e3,startTimestamp:i,xhr:n,virtualError:a};De("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,d,u){return l(),c.apply(d,u)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,u){let[p,f]=u,m=d[We];return m&&Be(p)&&Be(f)&&(m.request_headers[p.toLowerCase()]=f),c.apply(d,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let a=n[We];if(!a)return t.apply(n,r);r[0]!==void 0&&(a.body=r[0]);let i={startTimestamp:ve()*1e3,xhr:n};return De("xhr",i),t.apply(n,r)}})}function gv(e){if(Be(e))return e;try{return e.toString()}catch(t){}}function co(e){return new URLSearchParams(e).toString()}function Un(e,t=_){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[co(e)];if(!e)return[void 0]}catch(n){return Ar&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ar&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Fr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var Zs=[],Ga=new Map;function Td(){if(so()&&be()){let e=_v();return()=>{e()}}return()=>{}}var cd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function _v(){return io(({metric:e})=>{if(e.value==null)return;let t=e.entries.find(f=>f.duration===e.value&&cd[f.name]);if(!t)return;let{interactionId:n}=t,r=cd[t.name],a=Se(be()+t.startTime),i=Se(e.value),s=fe(),o=s?ue(s):void 0,l=(n!=null?Ga.get(n):void 0)||o,c=l?F(l).description:j().getScopeData().transactionName,d=He(t.target),u={[ae]:"auto.http.browser.inp",[Ne]:`ui.interaction.${r}`,[rn]:t.duration},p=vd({name:d,transaction:c,attributes:u,startTime:a});p&&(p.addEvent("inp",{[Mn]:"millisecond",[Rn]:e.value}),p.end(a+i))})}function Id(){let e=({entries:t})=>{let n=fe(),r=n&&ue(n);t.forEach(a=>{if(!Gy(a)||!r)return;let i=a.interactionId;if(i!=null&&!Ga.has(i)){if(Zs.length>10){let s=Zs.shift();Ga.delete(s)}Zs.push(i),Ga.set(i,r)}})};Wt("event",e),Wt("first-input",e)}var pe=D,ko="sentryReplaySession",yv="replay_event",To="Unable to send Replay",vv=3e5,bv=9e5,Sv=5e3,wv=5500,Ev=6e4,kv=5e3,Tv=3,xd=15e4,Qa=5e3,Iv=3e3,xv=300,Io=2e7,Cv=4999,Mv=15e3,Cd=36e5,Rv=Object.defineProperty,Av=(e,t,n)=>t in e?Rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Md=(e,t,n)=>Av(e,typeof t!="symbol"?t+"":t,n),Te=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Te||{});function Ov(e){return e.nodeType===e.ELEMENT_NODE}function Br(e){var t;return((t=e==null?void 0:e.host)==null?void 0:t.shadowRoot)===e}function Hr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Nv(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Lv(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function ai(e){try{let t=e.rules||e.cssRules;return t?Nv(Array.from(t,Qd).join("")):null}catch(t){return null}}function Dv(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,a=r[n],i=r.getPropertyPriority(a);t+=`${a}:${r.getPropertyValue(a)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Qd(e){let t;if(Fv(e))try{t=ai(e.styleSheet)||Lv(e)}catch(n){}else if($v(e)){let n=e.cssText,r=e.selectorText.includes(":"),a=typeof e.style.all=="string"&&e.style.all;if(a&&(n=Dv(e)),r&&(n=Pv(n)),r||a)return n}return t||e.cssText}function Pv(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Fv(e){return"styleSheet"in e}function $v(e){return"selectorText"in e}var ep=class{constructor(){Md(this,"idNodeMap",new Map),Md(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Uv(){return new ep}function fi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function zr({isMasked:e,element:t,value:n,maskInputFn:r}){let a=n||"";return e?(r&&(a=r(a,t)),"*".repeat(a.length)):a}function Gn(e){return e.toLowerCase()}function mo(e){return e.toUpperCase()}var Rd="__rrweb_original__";function Bv(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let a=0;a<e.height;a+=n){let i=t.getImageData,s=Rd in i?i[Rd]:i;if(new Uint32Array(s.call(t,r,a,Math.min(n,e.width-r),Math.min(n,e.height-a)).data.buffer).some(o=>o!==0))return!1}return!0}function xo(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Gn(t):null}function ii(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function tp(e,t){var a,i;let n;try{n=new URL(e,t!=null?t:window.location.href)}catch(s){return null}let r=/\.([0-9a-z]+)(?:$)/i;return(i=(a=n.pathname.match(r))==null?void 0:a[1])!=null?i:null}var Ad={};function np(e){let t=Ad[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Ad[e]=r.bind(window)}function go(...e){return np("setTimeout")(...e)}function rp(...e){return np("clearTimeout")(...e)}function ap(e){try{return e.contentDocument}catch(t){}}var Hv=1,jv=new RegExp("[^a-z0-9-_:]"),qr=-2;function Co(){return Hv++}function zv(e){if(e instanceof HTMLFormElement)return"form";let t=Gn(e.tagName);return jv.test(t)?"div":t}function qv(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Bn,Od,Wv=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Gv=/^(?:[a-z+]+:)?\/\//i,Vv=/^www\..*/i,Yv=/^(data:)([^,]*),(.*)/i;function si(e,t){return(e||"").replace(Wv,(n,r,a,i,s,o)=>{let l=a||s||o,c=r||i||"";if(!l)return n;if(Gv.test(l)||Vv.test(l))return`url(${c}${l}${c})`;if(Yv.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${qv(t)+l}${c})`;let d=t.split("/"),u=l.split("/");d.pop();for(let p of u)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${c}${d.join("/")}${c})`})}var Jv=/^[^ \t\n\r\u000c]+/,Kv=/^[, \t\n\r\u000c]+/;function Xv(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,o=i.exec(t.substring(n));return o?(s=o[0],n+=s.length,s):""}let a=[];for(;r(Kv),!(n>=t.length);){let i=r(Jv);if(i.slice(-1)===",")i=oi(e,i.substring(0,i.length-1)),a.push(i);else{let s="";i=oi(e,i);let o=!1;for(;;){let l=t.charAt(n);if(l===""){a.push((i+s).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,a.push((i+s).trim());break}else l==="("&&(o=!0);s+=l,n+=1}}}return a.join(", ")}var Nd=new WeakMap;function oi(e,t){return!t||t.trim()===""?t:hi(e,t)}function Zv(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function hi(e,t){let n=Nd.get(e);if(n||(n=e.createElement("a"),Nd.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function ip(e,t,n,r,a,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?oi(e,r):n==="srcset"?Xv(e,r):n==="style"?si(r,hi(e)):t==="object"&&n==="data"?oi(e,r):typeof i=="function"?i(n,r,a):r)}function sp(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function op(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let a=e.classList.length;a--;){let i=e.classList[a];if(t.test(i))return!0}if(n)return e.matches(n)}catch(a){}return!1}function Qv(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function ln(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ln(e.parentNode,t,n,r+1)}function zn(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Qv(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}function Vn(e,t,n,r,a,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let c=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let o=-1,l=-1;if(i){if(l=ln(s,zn(r,a)),l<0)return!0;o=ln(s,zn(t,n),l>=0?l:1/0)}else{if(o=ln(s,zn(t,n)),o<0)return!1;l=ln(s,zn(r,a),o>=0?o:1/0)}return o>=0?l>=0?o<=l:!0:l>=0?!1:!!i}catch(s){}return!!i}function eb(e,t,n){let r=e.contentWindow;if(!r)return;let a=!1,i;try{i=r.document.readyState}catch(o){return}if(i!=="complete"){let o=go(()=>{a||(t(),a=!0)},n);e.addEventListener("load",()=>{rp(o),a=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return go(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function tb(e,t,n){let r=!1,a;try{a=e.sheet}catch(s){return}if(a)return;let i=go(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{rp(i),r=!0,t()})}function nb(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:g,maskInputFn:y,dataURLOptions:v={},inlineImages:w,recordCanvas:C,keepIframeSrcFn:A,newlyAddedElement:N=!1}=t,b=rb(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Te.Document,childNodes:[],compatMode:e.compatMode}:{type:Te.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Te.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return ib(e,{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:m,maskInputFn:y,dataURLOptions:v,inlineImages:w,recordCanvas:C,keepIframeSrcFn:A,newlyAddedElement:N,rootId:b,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p});case e.TEXT_NODE:return ab(e,{doc:n,maskAllText:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:m,maskInputFn:y,rootId:b});case e.CDATA_SECTION_NODE:return{type:Te.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Te.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function rb(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function ab(e,t){var v;let{maskAllText:n,maskTextClass:r,unmaskTextClass:a,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:o,maskInputOptions:l,maskInputFn:c,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName,p=e.textContent,f=u==="STYLE"?!0:void 0,m=u==="SCRIPT"?!0:void 0,g=u==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(v=e.parentNode.sheet)!=null&&v.cssRules&&(p=ai(e.parentNode.sheet))}catch(w){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${w}`,e)}p=si(p,hi(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");let y=Vn(e,r,i,a,s,n);if(!f&&!m&&!g&&p&&y&&(p=o?o(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(l.textarea||y)&&(p=c?c(p,e.parentNode):p.replace(/[\S]/g,"*")),u==="OPTION"&&p){let w=fi({type:null,tagName:u,maskInputOptions:l});p=zr({isMasked:Vn(e,r,i,a,s,w),element:e,value:p,maskInputFn:c})}return{type:Te.Text,textContent:p||"",isStyle:f,rootId:d}}function ib(e,t){let{doc:n,blockClass:r,blockSelector:a,unblockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:d={},inlineImages:u,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:w,unmaskTextSelector:C}=t,A=op(e,r,a,i),N=zv(e),b={},k=e.attributes.length;for(let S=0;S<k;S++){let M=e.attributes[S];M.name&&!sp(N,M.name,M.value)&&(b[M.name]=ip(n,N,Gn(M.name),M.value,e,l))}if(N==="link"&&s){let S=Array.from(n.styleSheets).find(T=>T.href===e.href),M=null;S&&(M=ai(S)),M&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=si(M,S.href))}if(N==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let S=ai(e.sheet);S&&(b._cssText=si(S,hi(n)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){let S=e,M=xo(S),T=ii(S,mo(N),M),E=S.checked;if(M!=="submit"&&M!=="button"&&T){let R=Vn(S,y,w,v,C,fi({type:M,tagName:mo(N),maskInputOptions:o}));b.value=zr({isMasked:R,element:S,value:T,maskInputFn:c})}E&&(b.checked=E)}if(N==="option"&&(e.selected&&!o.select?b.selected=!0:delete b.selected),N==="canvas"&&p){if(e.__context==="2d")Bv(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let S=e.toDataURL(d.type,d.quality),M=n.createElement("canvas");M.width=e.width,M.height=e.height;let T=M.toDataURL(d.type,d.quality);S!==T&&(b.rr_dataURL=S)}}if(N==="img"&&u){Bn||(Bn=n.createElement("canvas"),Od=Bn.getContext("2d"));let S=e,M=S.currentSrc||S.getAttribute("src")||"<unknown-src>",T=S.crossOrigin,E=()=>{S.removeEventListener("load",E);try{Bn.width=S.naturalWidth,Bn.height=S.naturalHeight,Od.drawImage(S,0,0),b.rr_dataURL=Bn.toDataURL(d.type,d.quality)}catch(R){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?E():S.addEventListener("load",E);return}else console.warn(`Cannot inline img src=${M}! Error: ${R}`)}S.crossOrigin==="anonymous"&&(T?b.crossOrigin=T:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?E():S.addEventListener("load",E)}if((N==="audio"||N==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),A){let{width:S,height:M}=e.getBoundingClientRect();b={class:b.class,rr_width:`${S}px`,rr_height:`${M}px`}}N==="iframe"&&!f(b.src)&&(!A&&!ap(e)&&(b.rr_src=b.src),delete b.src);let O;try{customElements.get(N)&&(O=!0)}catch(S){}return{type:Te.Element,tagName:N,attributes:b,childNodes:[],isSVG:Zv(e)||void 0,needBlock:A,rootId:g,isCustom:O}}function de(e){return e==null?"":e.toLowerCase()}function sb(e,t){return!!(t.comment&&e.type===Te.Comment||e.type===Te.Element&&(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&tp(e.attributes.href)==="js")||t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(de(e.attributes.name).match(/^msapplication-tile(image|color)$/)||de(e.attributes.name)==="application-name"||de(e.attributes.rel)==="icon"||de(e.attributes.rel)==="apple-touch-icon"||de(e.attributes.rel)==="shortcut icon"))||e.tagName==="meta"&&(t.headMetaDescKeywords&&de(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(de(e.attributes.property).match(/^(og|twitter|fb):/)||de(e.attributes.name).match(/^(og|twitter):/)||de(e.attributes.name)==="pinterest")||t.headMetaRobots&&(de(e.attributes.name)==="robots"||de(e.attributes.name)==="googlebot"||de(e.attributes.name)==="bingbot")||t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0||t.headMetaAuthorship&&(de(e.attributes.name)==="author"||de(e.attributes.name)==="generator"||de(e.attributes.name)==="framework"||de(e.attributes.name)==="publisher"||de(e.attributes.name)==="progid"||de(e.attributes.property).match(/^article:/)||de(e.attributes.property).match(/^product:/))||t.headMetaVerification&&(de(e.attributes.name)==="google-site-verification"||de(e.attributes.name)==="yandex-verification"||de(e.attributes.name)==="csrf-token"||de(e.attributes.name)==="p:domain_verify"||de(e.attributes.name)==="verify-v1"||de(e.attributes.name)==="verification"||de(e.attributes.name)==="shopify-checkout-api-token"))))}function qn(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:C={},inlineImages:A=!1,recordCanvas:N=!1,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:O=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:E=!1}=t,{preserveWhiteSpace:R=!0}=t,W=nb(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,dataURLOptions:C,inlineImages:A,recordCanvas:N,keepIframeSrcFn:T,newlyAddedElement:E});if(!W)return console.warn(e,"not serialized"),null;let V;r.hasNode(e)?V=r.getId(e):sb(W,w)||!R&&W.type===Te.Text&&!W.isStyle&&!W.textContent.replace(/^\s+|\s+$/gm,"").length?V=qr:V=Co();let U=Object.assign(W,{id:V});if(r.add(e,U),V===qr)return null;b&&b(e);let Q=!p;if(U.type===Te.Element){Q=Q&&!U.needBlock,delete U.needBlock;let q=e.shadowRoot;q&&Hr(q)&&(U.isShadowHost=!0)}if((U.type===Te.Document||U.type===Te.Element)&&Q){w.headWhitespace&&U.type===Te.Element&&U.tagName==="head"&&(R=!1);let q={doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:C,inlineImages:A,recordCanvas:N,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:O,onStylesheetLoad:S,stylesheetLoadTimeout:M,keepIframeSrcFn:T};for(let me of Array.from(e.childNodes)){let re=qn(me,q);re&&U.childNodes.push(re)}if(Ov(e)&&e.shadowRoot)for(let me of Array.from(e.shadowRoot.childNodes)){let re=qn(me,q);re&&(Hr(e.shadowRoot)&&(re.isShadow=!0),U.childNodes.push(re))}}return e.parentNode&&Br(e.parentNode)&&Hr(e.parentNode)&&(U.isShadow=!0),U.type===Te.Element&&U.tagName==="iframe"&&!op(e,a,i,s)&&eb(e,()=>{let q=ap(e);if(q&&k){let me=qn(q,{doc:q,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:C,inlineImages:A,recordCanvas:N,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:O,onStylesheetLoad:S,stylesheetLoadTimeout:M,keepIframeSrcFn:T});me&&k(e,me)}},O),U.type===Te.Element&&U.tagName==="link"&&typeof U.attributes.rel=="string"&&(U.attributes.rel==="stylesheet"||U.attributes.rel==="preload"&&typeof U.attributes.href=="string"&&tp(U.attributes.href)==="css")&&tb(e,()=>{if(S){let q=qn(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w,dataURLOptions:C,inlineImages:A,recordCanvas:N,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:O,onStylesheetLoad:S,stylesheetLoadTimeout:M,keepIframeSrcFn:T});q&&S(e,q)}},M),U}function ob(e,t){let{mirror:n=new ep,blockClass:r="rr-block",blockSelector:a=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOM:w=!1,dataURLOptions:C,preserveWhiteSpace:A,onSerialize:N,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:O,stylesheetLoadTimeout:S,keepIframeSrcFn:M=()=>!1}=t||{};return qn(e,{doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,maskAllText:s,maskTextClass:o,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:w==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:w===!1?{}:w,dataURLOptions:C,inlineImages:p,recordCanvas:f,preserveWhiteSpace:A,onSerialize:N,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:O,stylesheetLoadTimeout:S,keepIframeSrcFn:M,newlyAddedElement:!1})}function $e(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Hn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Ld={map:{},getId(){return console.error(Hn),-1},getNode(){return console.error(Hn),null},removeNodeFromMap(){console.error(Hn)},has(){return console.error(Hn),!1},reset(){console.error(Hn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ld=new Proxy(Ld,{get(e,t,n){return t==="map"&&console.error(Hn),Reflect.get(e,t,n)}}));function Wr(e,t,n={}){let r=null,a=0;return function(...i){let s=Date.now();!a&&n.leading===!1&&(a=s);let o=t-(s-a),l=this;o<=0||o>t?(r&&(hb(r),r=null),a=s,e.apply(l,i)):!r&&n.trailing!==!1&&(r=mi(()=>{a=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},o))}}function lp(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){mi(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>lp(e,t,i||{},!0)}function Mo(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}var li=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(li=()=>new Date().getTime());function cp(e){var n,r,a,i,s,o;let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((a=t==null?void 0:t.body)==null?void 0:a.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((s=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:s.scrollTop)||((o=t==null?void 0:t.body)==null?void 0:o.scrollTop)||0}}function up(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function dp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function pp(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function Ke(e,t,n,r,a){if(!e)return!1;let i=pp(e);if(!i)return!1;let s=zn(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=ln(i,s),l=-1;return o<0?!1:(r&&(l=ln(i,zn(null,r))),o>-1&&l<0?!0:o<l)}function lb(e,t){return t.getId(e)!==-1}function uo(e,t){return t.getId(e)===qr}function fp(e,t){if(Br(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?fp(e.parentNode,t):!0:!0}function _o(e){return!!e.changedTouches}function cb(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function hp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function mp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function yo(e){return!!(e!=null&&e.shadowRoot)}var ub=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return(t=this.styleIDMap.get(e))!=null?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function gp(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function db(e){let t=e,n;for(;n=gp(t);)t=n;return t}function pb(e){let t=e.ownerDocument;if(!t)return!1;let n=db(e);return t.contains(n)}function _p(e){let t=e.ownerDocument;return t?t.contains(e)||pb(e):!1}var Dd={};function Ro(e){let t=Dd[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Dd[e]=r.bind(window)}function fb(...e){return Ro("requestAnimationFrame")(...e)}function mi(...e){return Ro("setTimeout")(...e)}function hb(...e){return Ro("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Fe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Fe||{}),Ot=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ot||{}),jn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(jn||{});function Ao(e){try{return e.contentDocument}catch(t){}}function mb(e){try{return e.contentWindow}catch(t){}}function Pd(e){return"__ln"in e}var gb=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(t==null?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Pd(e.previousSibling)){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Pd(e.nextSibling)&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},Fd=(e,t)=>`${e}@${t}`,_b=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new gb,r=o=>{let l=o,c=qr;for(;c===qr;)l=l&&l.nextSibling,c=l&&this.mirror.getId(l);return c},a=o=>{if(!o.parentNode||!_p(o))return;let l=Br(o.parentNode)?this.mirror.getId(gp(o)):this.mirror.getId(o.parentNode),c=r(o);if(l===-1||c===-1)return n.addNode(o);let d=qn(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:u=>{hp(u,this.mirror)&&!Ke(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(u),mp(u,this.mirror)&&this.stylesheetManager.trackLinkElement(u),yo(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(u,p)=>{Ke(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(u,p),u.contentWindow&&this.canvasManager.addWindow(u.contentWindow),this.shadowDomManager.observeAttachShadow(u))},onStylesheetLoad:(u,p)=>{this.stylesheetManager.attachLinkElement(u,p)}});d&&(e.push({parentId:l,nextId:c,node:d}),t.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let o of this.movedSet)$d(this.removes,o,this.mirror)&&!this.movedSet.has(o.parentNode)||a(o);for(let o of this.addedSet)!Ud(this.droppedSet,o)&&!$d(this.removes,o,this.mirror)||Ud(this.movedSet,o)?a(o):this.droppedSet.add(o);let i=null;for(;n.length;){let o=null;if(i){let l=this.mirror.getId(i.value.parentNode),c=r(i.value);l!==-1&&c!==-1&&(o=i)}if(!o){let l=n.tail;for(;l;){let c=l;if(l=l.previous,c){let d=this.mirror.getId(c.value.parentNode);if(r(c.value)===-1)continue;if(d!==-1){o=c;break}else{let u=c.value;if(u.parentNode&&u.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let p=u.parentNode.host;if(this.mirror.getId(p)!==-1){o=c;break}}}}}}if(!o){for(;n.head;)n.removeNode(n.head.value);break}i=o.previous,n.removeNode(o.value),a(o.value)}let s={texts:this.texts.map(o=>({id:this.mirror.getId(o.node),value:o.value})).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),attributes:this.attributes.map(o=>{let{attributes:l}=o;if(typeof l.style=="string"){let c=JSON.stringify(o.styleDiff),d=JSON.stringify(o._unchangedStyles);c.length<l.style.length&&(c+d).split("var(").length===l.style.split("var(").length&&(l.style=o.styleDiff)}return{id:this.mirror.getId(o.node),attributes:l}}).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!uo(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;!Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:Vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,pp(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if(n==="value"){let i=xo(t),s=t.tagName;r=ii(t,s,i);let o=fi({maskInputOptions:this.maskInputOptions,tagName:s,type:i}),l=Vn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o);r=zr({isMasked:l,element:t,value:r,maskInputFn:this.maskInputFn})}if(Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let a=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(r))if(!Ao(t))n="rr_src";else return;if(a||(a={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(e.target,a)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!sp(t.tagName,n)&&(a.attributes[n]=ip(this.doc,Gn(t.tagName),Gn(n),r,t,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(s){this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(let s of Array.from(t.style)){let o=t.style.getPropertyValue(s),l=t.style.getPropertyPriority(s);o!==i.style.getPropertyValue(s)||l!==i.style.getPropertyPriority(s)?l===""?a.styleDiff[s]=o:a.styleDiff[s]=[o,l]:a._unchangedStyles[s]=[o,l]}for(let s of Array.from(i.style))t.style.getPropertyValue(s)===""&&(a.styleDiff[s]=!1)}break}case"childList":{if(Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=Br(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||uo(t,this.mirror)||!lb(t,this.mirror)||(this.addedSet.has(t)?(vo(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||fp(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Fd(n,r)]?vo(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:Br(e.target)&&Hr(e.target)?!0:void 0})),this.mapRemoves.push(t))});break}}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(uo(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[Fd(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ke(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(n=>this.genAdds(n)),yo(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function vo(e,t){e.delete(t),t.childNodes.forEach(n=>vo(e,n))}function $d(e,t,n){return e.length===0?!1:yb(e,t,n)}function yb(e,t,n){let r=t.parentNode;for(;r;){let a=n.getId(r);if(e.some(i=>i.id===a))return!0;r=r.parentNode}return!1}function Ud(e,t){return e.size===0?!1:yp(e,t)}function yp(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:yp(e,n):!1}var jr;function vb(e){jr=e}function bb(){jr=void 0}var Z=e=>jr?(...t)=>{try{return e(...t)}catch(n){if(jr&&jr(n)===!0)return()=>{};throw n}}:e,Wn=[];function Vr(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function vp(e,t){var s,o;let n=new _b;Wn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,a=(o=(s=window==null?void 0:window.Zone)==null?void 0:s.__symbol__)==null?void 0:o.call(s,"MutationObserver");a&&window[a]&&(r=window[a]);let i=new r(Z(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Sb({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let a=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],o,l=Wr(Z(u=>{let p=Date.now()-o;e(s.map(f=>(f.timeOffset-=p,f)),u),s=[],o=null}),i),c=Z(Wr(Z(u=>{let p=Vr(u),{clientX:f,clientY:m}=_o(u)?u.changedTouches[0]:u;o||(o=li()),s.push({x:f,y:m,id:r.getId(p),timeOffset:li()-o}),l(typeof DragEvent<"u"&&u instanceof DragEvent?z.Drag:u instanceof MouseEvent?z.MouseMove:z.TouchMove)}),a,{trailing:!1})),d=[$e("mousemove",c,n),$e("touchmove",c,n),$e("drag",c,n)];return Z(()=>{d.forEach(u=>u())})}function wb({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[],c=null,d=u=>p=>{let f=Vr(p);if(Ke(f,r,a,i,!0))return;let m=null,g=u;if("pointerType"in p){switch(p.pointerType){case"mouse":m=Ot.Mouse;break;case"touch":m=Ot.Touch;break;case"pen":m=Ot.Pen;break}m===Ot.Touch?Fe[u]===Fe.MouseDown?g="TouchStart":Fe[u]===Fe.MouseUp&&(g="TouchEnd"):Ot.Pen}else _o(p)&&(m=Ot.Touch);m!==null?(c=m,(g.startsWith("Touch")&&m===Ot.Touch||g.startsWith("Mouse")&&m===Ot.Mouse)&&(m=null)):Fe[u]===Fe.Click&&(m=c,c=null);let y=_o(p)?p.changedTouches[0]:p;if(!y)return;let v=n.getId(f),{clientX:w,clientY:C}=y;Z(e)(h({type:Fe[g],id:v,x:w,y:C},m!==null&&{pointerType:m}))};return Object.keys(Fe).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&o[u]!==!1).forEach(u=>{let p=Gn(u),f=d(u);if(window.PointerEvent)switch(Fe[u]){case Fe.MouseDown:case Fe.MouseUp:p=p.replace("mouse","pointer");break;case Fe.TouchStart:case Fe.TouchEnd:return}l.push($e(p,f,t))}),Z(()=>{l.forEach(u=>u())})}function bp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){let o=Z(Wr(Z(l=>{let c=Vr(l);if(!c||Ke(c,r,a,i,!0))return;let d=n.getId(c);if(c===t&&t.defaultView){let u=cp(t.defaultView);e({id:d,x:u.left,y:u.top})}else e({id:d,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100));return $e("scroll",o,t)}function Eb({viewportResizeCb:e},{win:t}){let n=-1,r=-1,a=Z(Wr(Z(()=>{let i=up(),s=dp();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return $e("resize",a,t)}var kb=["INPUT","TEXTAREA","SELECT"],Bd=new WeakMap;function Tb({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:u,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}){function y(b){let k=Vr(b),O=b.isTrusted,S=k&&mo(k.tagName);if(S==="OPTION"&&(k=k.parentElement),!k||!S||kb.indexOf(S)<0||Ke(k,r,a,i,!0))return;let M=k;if(M.classList.contains(s)||o&&M.matches(o))return;let T=xo(k),E=ii(M,S,T),R=!1,W=fi({maskInputOptions:l,tagName:S,type:T}),V=Vn(k,p,m,f,g,W);(T==="radio"||T==="checkbox")&&(R=k.checked),E=zr({isMasked:V,element:k,value:E,maskInputFn:c}),v(k,u?{text:E,isChecked:R,userTriggered:O}:{text:E,isChecked:R});let U=k.name;T==="radio"&&U&&R&&t.querySelectorAll(`input[type="radio"][name="${U}"]`).forEach(Q=>{if(Q!==k){let q=zr({isMasked:V,element:Q,value:ii(Q,S,T),maskInputFn:c});v(Q,u?{text:q,isChecked:!R,userTriggered:!1}:{text:q,isChecked:!R})}})}function v(b,k){let O=Bd.get(b);if(!O||O.text!==k.text||O.isChecked!==k.isChecked){Bd.set(b,k);let S=n.getId(b);Z(e)(I(h({},k),{id:S}))}}let w=(d.input==="last"?["change"]:["input","change"]).map(b=>$e(b,Z(y),t)),C=t.defaultView;if(!C)return()=>{w.forEach(b=>b())};let A=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),N=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return A&&A.set&&w.push(...N.map(b=>lp(b[0],b[1],{set(){Z(y)({target:this,isTrusted:!1})}},!1,C))),Z(()=>{w.forEach(b=>b())})}function ci(e){let t=[];function n(r,a){if(ei("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ei("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ei("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ei("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let i=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(i)}else if(r.parentStyleSheet){let i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(i)}return a}return n(e,t)}function Vt(e,t,n){let r,a;return e?(e.ownerNode?r=t.getId(e.ownerNode):a=n.getId(e),{styleId:a,id:r}):{}}function Ib({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Z((d,u,p)=>{let[f,m]=p,{id:g,styleId:y}=Vt(u,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:f,index:m}]}),d.apply(u,p)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Z((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Vt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:f}]}),d.apply(u,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Z((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Vt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:f}),d.apply(u,p)})}));let o;r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:Z((d,u,p)=>{let[f]=p,{id:m,styleId:g}=Vt(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:f}),d.apply(u,p)})}));let l={};ti("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(ti("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),ti("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),ti("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let c={};return Object.entries(l).forEach(([d,u])=>{c[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(c[d].insertRule,{apply:Z((p,f,m)=>{let[g,y]=m,{id:v,styleId:w}=Vt(f.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||w&&w!==-1)&&e({id:v,styleId:w,adds:[{rule:g,index:[...ci(f),y||0]}]}),p.apply(f,m)})}),u.prototype.deleteRule=new Proxy(c[d].deleteRule,{apply:Z((p,f,m)=>{let[g]=m,{id:y,styleId:v}=Vt(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,removes:[{index:[...ci(f),g]}]}),p.apply(f,m)})})}),Z(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([d,u])=>{u.prototype.insertRule=c[d].insertRule,u.prototype.deleteRule=c[d].deleteRule})})}function Sp({mirror:e,stylesheetManager:t},n){var s,o,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let a=n.nodeName==="#document"?(s=n.defaultView)==null?void 0:s.Document:(l=(o=n.ownerDocument)==null?void 0:o.defaultView)==null?void 0:l.ShadowRoot,i=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!a||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var c;return(c=i.get)==null?void 0:c.call(this)},set(c){var u;let d=(u=i.set)==null?void 0:u.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch(p){}return d}}),Z(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function xb({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:a}){let i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Z((o,l,c)=>{var g;let[d,u,p]=c;if(n.has(d))return i.apply(l,[d,u,p]);let{id:f,styleId:m}=Vt((g=l.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,set:{property:d,value:u,priority:p},index:ci(l.parentRule)}),o.apply(l,c)})});let s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Z((o,l,c)=>{var f;let[d]=c;if(n.has(d))return s.apply(l,[d]);let{id:u,styleId:p}=Vt((f=l.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(u&&u!==-1||p&&p!==-1)&&e({id:u,styleId:p,remove:{property:d},index:ci(l.parentRule)}),o.apply(l,c)})}),Z(()=>{a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s})}function Cb({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:a,sampling:i,doc:s}){let o=Z(c=>Wr(Z(d=>{let u=Vr(d);if(!u||Ke(u,t,n,r,!0))return;let{currentTime:p,volume:f,muted:m,playbackRate:g}=u;e({type:c,id:a.getId(u),currentTime:p,volume:f,muted:m,playbackRate:g})}),i.media||500)),l=[$e("play",o(jn.Play),s),$e("pause",o(jn.Pause),s),$e("seeked",o(jn.Seeked),s),$e("volumechange",o(jn.VolumeChange),s),$e("ratechange",o(jn.RateChange),s)];return Z(()=>{l.forEach(c=>c())})}function Mb({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],a=new WeakMap,i=n.FontFace;n.FontFace=function(o,l,c){let d=new i(o,l,c);return a.set(d,{family:o,buffer:typeof l!="string",descriptors:c,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),d};let s=Mo(t.fonts,"add",function(o){return function(l){return mi(Z(()=>{let c=a.get(l);c&&(e(c),a.delete(l))}),0),o.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(s),Z(()=>{r.forEach(o=>o())})}function Rb(e){let{doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,selectionCb:s}=e,o=!0,l=Z(()=>{let c=t.getSelection();if(!c||o&&(c!=null&&c.isCollapsed))return;o=c.isCollapsed||!1;let d=[],u=c.rangeCount||0;for(let p=0;p<u;p++){let f=c.getRangeAt(p),{startContainer:m,startOffset:g,endContainer:y,endOffset:v}=f;Ke(m,r,a,i,!0)||Ke(y,r,a,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(y),endOffset:v})}s({ranges:d})});return l(),$e("selectionchange",l)}function Ab({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Mo(n.customElements,"define",function(r){return function(a,i,s){try{t({define:{name:a}})}catch(o){}return r.apply(this,[a,i,s])}})}function Ob(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=vp(e,e.doc));let a=Sb(e),i=wb(e),s=bp(e),o=Eb(e,{win:n}),l=Tb(e),c=Cb(e),d=()=>{},u=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=Ib(e,{win:n}),u=Sp(e,e.doc),p=xb(e,{win:n}),e.collectFonts&&(f=Mb(e)));let m=Rb(e),g=Ab(e),y=[];for(let v of e.plugins)y.push(v.observer(v.callback,n,v.options));return Z(()=>{Wn.forEach(v=>v.reset()),r==null||r.disconnect(),a(),i(),s(),o(),l(),c(),d(),u(),p(),f(),m(),g(),y.forEach(v=>v())})}function ei(e){return typeof window[e]<"u"}function ti(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var bo=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){let a=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e),s=a.get(t);return s||(s=this.generateIdFn(),a.set(t,s),i.set(s,t)),s}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(a=>this.getId(e,a,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);return typeof t!="number"?t:r.get(t)||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(r=>this.getRemoteId(e,r,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},Nb=class{constructor(){this.crossOriginIframeMirror=new bo(Co),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Lb=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new bo(Co),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new bo(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,a;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(a=this.loadListener)==null||a.call(this,e);let n=Ao(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){let t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;let n=this.crossOriginIframeMap.get(e.source);if(!n)return;let r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:Y.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return t;case Y.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Y.IncrementalSnapshot:switch(t.data.source){case z.Mutation:return t.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);let a=this.crossOriginIframeRootIdMap.get(e);a&&this.patchRootIdOnNode(r.node,a)}),t.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),t.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),t.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case z.Drag:case z.TouchMove:case z.MouseMove:return t.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(t.data,e,["id"]),t;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case z.Font:return t;case z.Selection:return t.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),t;case z.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(n=t.data.styles)==null||n.forEach(r=>{this.replaceStyleIds(r,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(let a of r)!Array.isArray(t[a])&&typeof t[a]!="number"||(Array.isArray(t[a])?t[a]=e.getIds(n,t[a]):t[a]=e.getId(n,t[a]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==Te.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}},Db=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Pb=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Hr(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=vp(I(h({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(bp(I(h({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),mi(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Sp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=Ao(e),n=mb(e);!t||!n||this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(Mo(e.prototype,"attachShadow",function(r){return function(a){let i=r.call(this,a);return this.shadowRoot&&_p(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for($r=0;$r<Hd.length;$r++)Fb[Hd.charCodeAt($r)]=$r;var $r,jd=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},$b=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new ub,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;let n={id:t,styleIds:[]},r=[];for(let a of e){let i;this.styleMirror.has(a)?i=this.styleMirror.getId(a):(i=this.styleMirror.add(a),r.push({styleId:i,rules:Array.from(a.rules||CSSRule,(s,o)=>({rule:Qd(s),index:o}))})),n.styleIds.push(i)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},Ub=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(r=>r!==t)}add(e,t){this.active||(this.active=!0,fb(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},_e,ui,Zd;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Zd=e.contentWindow)==null?void 0:Zd.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var pt=Uv();function Nt(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:w,maskInputFn:C,maskTextFn:A,maxCanvasSize:N=null,packFn:b,sampling:k={},dataURLOptions:O={},mousemoveWait:S,recordDOM:M=!0,recordCanvas:T=!1,recordCrossOriginIframes:E=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:W=!1,collectFonts:V=!1,inlineImages:U=!1,plugins:Q,keepIframeSrcFn:q=()=>!1,ignoreCSSAttributes:me=new Set([]),errorHandler:re,onMutation:Le,getCanvasManager:hn}=e;vb(re);let Ie=E?window.parent===window:!0,xe=!1;if(!Ie)try{window.parent.document&&(xe=!1)}catch(ee){xe=!0}if(Ie&&!t)throw new Error("emit function is required");if(!Ie&&!xe)return()=>{};S!==void 0&&k.mousemove===void 0&&(k.mousemove=S),pt.reset();let St=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},mn=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};cb();let gn,_n=0,yn=ee=>{for(let rt of Q||[])rt.eventProcessor&&(ee=rt.eventProcessor(ee));return b&&!xe&&(ee=b(ee)),ee};_e=(ee,rt)=>{var Qe;let X=ee;if(X.timestamp=li(),(Qe=Wn[0])!=null&&Qe.isFrozen()&&X.type!==Y.FullSnapshot&&!(X.type===Y.IncrementalSnapshot&&X.data.source===z.Mutation)&&Wn.forEach(ht=>ht.unfreeze()),Ie)t==null||t(yn(X),rt);else if(xe){let ht={type:"rrweb",event:yn(X),origin:window.location.origin,isCheckout:rt};window.parent.postMessage(ht,"*")}if(X.type===Y.FullSnapshot)gn=X,_n=0;else if(X.type===Y.IncrementalSnapshot){if(X.data.source===z.Mutation&&X.data.isAttachIframe)return;_n++;let ht=r&&_n>=r,se=n&&gn&&X.timestamp-gn.timestamp>n;(ht||se)&&Ui(!0)}};let ta=ee=>{_e({type:Y.IncrementalSnapshot,data:h({source:z.Mutation},ee)})},te=ee=>_e({type:Y.IncrementalSnapshot,data:h({source:z.Scroll},ee)}),Ee=ee=>_e({type:Y.IncrementalSnapshot,data:h({source:z.CanvasMutation},ee)}),Ze=ee=>_e({type:Y.IncrementalSnapshot,data:h({source:z.AdoptedStyleSheet},ee)}),ye=new $b({mutationCb:ta,adoptedStyleSheetCb:Ze}),ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Nb:new Lb({mirror:pt,mutationCb:ta,stylesheetManager:ye,recordCrossOriginIframes:E,wrappedEmit:_e});for(let ee of Q||[])ee.getMirror&&ee.getMirror({nodeMirror:pt,crossOriginIframeMirror:ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:ie.crossOriginIframeStyleMirror});let Ce=new Ub,Zt=Hb(hn,{mirror:pt,win:window,mutationCb:ee=>_e({type:Y.IncrementalSnapshot,data:h({source:z.CanvasMutation},ee)}),recordCanvas:T,blockClass:a,blockSelector:i,unblockSelector:s,maxCanvasSize:N,sampling:k.canvas,dataURLOptions:O,errorHandler:re}),wt=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Db:new Pb({mutationCb:ta,scrollCb:te,bypassOptions:{onMutation:Le,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:St,dataURLOptions:O,maskAttributeFn:w,maskTextFn:A,maskInputFn:C,recordCanvas:T,inlineImages:U,sampling:k,slimDOMOptions:mn,iframeManager:ie,stylesheetManager:ye,canvasManager:Zt,keepIframeSrcFn:q,processedNodeManager:Ce},mirror:pt}),Ui=(ee=!1)=>{if(!M)return;_e({type:Y.Meta,data:{href:window.location.href,width:dp(),height:up()}},ee),ye.reset(),wt.init(),Wn.forEach(X=>X.lock());let rt=ob(document,{mirror:pt,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:St,maskAttributeFn:w,maskInputFn:C,maskTextFn:A,slimDOM:mn,dataURLOptions:O,recordCanvas:T,inlineImages:U,onSerialize:X=>{hp(X,pt)&&ie.addIframe(X),mp(X,pt)&&ye.trackLinkElement(X),yo(X)&&wt.addShadowRoot(X.shadowRoot,document)},onIframeLoad:(X,Qe)=>{ie.attachIframe(X,Qe),X.contentWindow&&Zt.addWindow(X.contentWindow),wt.observeAttachShadow(X)},onStylesheetLoad:(X,Qe)=>{ye.attachLinkElement(X,Qe)},keepIframeSrcFn:q});if(!rt)return console.warn("Failed to snapshot the document");_e({type:Y.FullSnapshot,data:{node:rt,initialOffset:cp(window)}}),Wn.forEach(X=>X.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ye.adoptStyleSheets(document.adoptedStyleSheets,pt.getId(document))};ui=Ui;try{let ee=[],rt=Qe=>{var ht;return Z(Ob)({onMutation:Le,mutationCb:ta,mousemoveCb:(se,Bi)=>_e({type:Y.IncrementalSnapshot,data:{source:Bi,positions:se}}),mouseInteractionCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.MouseInteraction},se)}),scrollCb:te,viewportResizeCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.ViewportResize},se)}),inputCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.Input},se)}),mediaInteractionCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.MediaInteraction},se)}),styleSheetRuleCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.StyleSheetRule},se)}),styleDeclarationCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.StyleDeclaration},se)}),canvasMutationCb:Ee,fontCb:se=>_e({type:Y.IncrementalSnapshot,data:h({source:z.Font},se)}),selectionCb:se=>{_e({type:Y.IncrementalSnapshot,data:h({source:z.Selection},se)})},customElementCb:se=>{_e({type:Y.IncrementalSnapshot,data:h({source:z.CustomElement},se)})},blockClass:a,ignoreClass:o,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:St,inlineStylesheet:m,sampling:k,recordDOM:M,recordCanvas:T,inlineImages:U,userTriggeredOnInput:W,collectFonts:V,doc:Qe,maskAttributeFn:w,maskInputFn:C,maskTextFn:A,keepIframeSrcFn:q,blockSelector:i,unblockSelector:s,slimDOMOptions:mn,dataURLOptions:O,mirror:pt,iframeManager:ie,stylesheetManager:ye,shadowDomManager:wt,processedNodeManager:Ce,canvasManager:Zt,ignoreCSSAttributes:me,plugins:((ht=Q==null?void 0:Q.filter(se=>se.observer))==null?void 0:ht.map(se=>({observer:se.observer,options:se.options,callback:Bi=>_e({type:Y.Plugin,data:{plugin:se.name,payload:Bi}})})))||[]},{})};ie.addLoadListener(Qe=>{try{ee.push(rt(Qe.contentDocument))}catch(ht){console.warn(ht)}});let X=()=>{Ui(),ee.push(rt(document))};return document.readyState==="interactive"||document.readyState==="complete"?X():(ee.push($e("DOMContentLoaded",()=>{_e({type:Y.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&X()})),ee.push($e("load",()=>{_e({type:Y.Load,data:{}}),R==="load"&&X()},window))),()=>{ee.forEach(Qe=>Qe()),Ce.destroy(),ui=void 0,bb()}}catch(ee){console.warn(ee)}}function Bb(e){if(!ui)throw new Error("please take full snapshot after start recording");ui(e)}Nt.mirror=pt;Nt.takeFullSnapshot=Bb;function Hb(e,t){try{return e?e(t):new jd}catch(n){return console.warn("Unable to initialize CanvasManager"),new jd}}var zd;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(zd||(zd={}));var jb=3,zb=5;function Oo(e){return e>9999999999?e:e*1e3}function po(e){return e>9999999999?e/1e3:e}function Yr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ge(t,10,1e3)}}),t.category==="console")))}var qb="button,a";function wp(e){return e.closest(qb)||e}function Ep(e){let t=kp(e);return!t||!(t instanceof Element)?t:wp(t)}function kp(e){return Wb(e)?e.target:e}function Wb(e){return typeof e=="object"&&!!e&&"target"in e}var Yt;function Gb(e){return Yt||(Yt=[],Vb()),Yt.push(e),()=>{let t=Yt?Yt.indexOf(e):-1;t>-1&&Yt.splice(t,1)}}function Vb(){we(pe,"open",function(e){return function(...t){if(Yt)try{Yt.forEach(n=>n())}catch(n){}return e.apply(pe,t)}})}var Yb=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function Jb(e,t,n){e.handleClick(t,n)}var Kb=class{constructor(e,t,n=Yr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let e=Gb(()=>{this._lastMutation=qd()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(Zb(t,this._ignoreSelector)||!Qb(e))return;let n={timestamp:po(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(r=>r.node===n.node&&Math.abs(r.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=po(e)}registerScroll(e=Date.now()){this._lastScroll=po(e)}registerClick(e){let t=wp(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(t=>{t.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=qd();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(let n of e){let r=this._clicks.indexOf(n);r>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,a=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(a){let o=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,l=o<this._timeout*1e3?"mutation":"timeout",c={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:I(h({},s.data),{url:pe.location.href,route:t.getCurrentRoute(),timeAfterClickMs:o,endReason:l,clickCount:i||1})};this._addBreadcrumbEvent(t,c);return}if(i>1){let o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:I(h({},s.data),{url:pe.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(t,o)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=on(()=>this._checkClicks(),1e3)}},Xb=["A","BUTTON","INPUT"];function Zb(e,t){return!!(!Xb.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Qb(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function qd(){return Date.now()/1e3}function e0(e,t){try{if(!t0(t))return;let{source:n}=t.data;if(Yb.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),n0(t)){let{type:r,id:a}=t.data,i=Nt.mirror.getNode(a);i instanceof HTMLElement&&r===Fe.Click&&e.registerClick(i)}}catch(n){}}function t0(e){return e.type===jb}function n0(e){return e.data.source===z.MouseInteraction}function vt(e){return h({timestamp:Date.now()/1e3,type:"default"},e)}var No=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(No||{}),r0=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function a0(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(r0.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var i0=e=>t=>{if(!e.isEnabled())return;let n=s0(t);if(!n)return;let r=t.name==="click",a=r?t.event:void 0;r&&e.clickDetector&&a&&a.target&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&Jb(e.clickDetector,n,Ep(t.event)),Yr(e,n)};function Tp(e,t){let n=Nt.mirror.getId(e),r=n&&Nt.mirror.getNode(n),a=r&&Nt.mirror.getMeta(r),i=a&&l0(a)?a:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===No.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:a0(i.attributes)}}:{}}}function s0(e){let{target:t,message:n}=o0(e);return vt(h({category:`ui.${e.name}`},Tp(t,n)))}function o0(e){let t=e.name==="click",n,r=null;try{r=t?Ep(e.event):kp(e.event),n=He(r,{maxStringLength:200})||"<unknown>"}catch(a){n="<unknown>"}return{target:r,message:n}}function l0(e){return e.type===No.Element}function c0(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=u0(t);n&&Yr(e,n)}function u0(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i,target:s}=e;if(!s||d0(s)||!i)return null;let o=t||r||a,l=i.length===1;if(!o&&l)return null;let c=He(s,{maxStringLength:200})||"<unknown>",d=Tp(s,c);return vt({category:"ui.keyDown",message:c,data:I(h({},d.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i})})}function d0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var p0={resource:_0,paint:m0,navigation:g0};function ni(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function f0(e){return e.map(h0).filter(Boolean)}function h0(e){let t=p0[e.entryType];return t?t(e):null}function Yn(e){return((be()||pe.performance.timeOrigin)+e)/1e3}function m0(e){let{duration:t,entryType:n,name:r,startTime:a}=e,i=Yn(a);return{type:n,name:r,start:i,end:i+t,data:void 0}}function g0(e){let{entryType:t,name:n,decodedBodySize:r,duration:a,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:d,loadEventEnd:u,redirectCount:p,startTime:f,transferSize:m,type:g}=e;return a===0?null:{type:`${t}.${g}`,start:Yn(f),end:Yn(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:a,domInteractive:c,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:u,domComplete:i,redirectCount:p}}}function _0(e){let{entryType:t,initiatorType:n,name:r,responseEnd:a,startTime:i,decodedBodySize:s,encodedBodySize:o,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Yn(i),end:Yn(a),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:o}}}function y0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return gi(e,"largest-contentful-paint",n)}function v0(e){return e.sources!==void 0}function b0(e){let t=[],n=[];for(let r of e.entries)if(v0(r)){let a=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=Nt.mirror.getId(i.node);s&&a.push(s)}t.push({value:r.value,nodeIds:a.length?a:void 0})}return gi(e,"cumulative-layout-shift",n,t)}function S0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return gi(e,"first-input-delay",n)}function w0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return gi(e,"interaction-to-next-paint",n)}function gi(e,t,n,r){let a=e.value,i=e.rating,s=Yn(a);return{type:"web-vital",name:t,start:s,end:s,data:{value:a,size:a,rating:i,nodeIds:n?n.map(o=>Nt.mirror.getId(o)):void 0,attributions:r}}}function E0(e){function t(a){e.performanceEntries.includes(a)||e.performanceEntries.push(a)}function n({entries:a}){a.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(a=>{r.push(Wt(a,n))}),r.push(ro(ni(y0,e)),Xa(ni(b0,e)),ao(ni(S0,e)),io(ni(w0,e))),()=>{r.forEach(a=>a())}}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,k0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function T0(){let e=new Blob([k0]);return URL.createObjectURL(e)}var Wd=["info","warn","error","log"],ri="[Replay] ";function fo(e,t="info"){Je({category:"console",data:{logger:"replay"},level:t,message:`${ri}${e}`},{level:t})}function I0(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return B?(Wd.forEach(r=>{n[r]=(...a)=>{_[r](ri,...a),t&&fo(a.join(""),xr(r))}}),n.exception=(r,...a)=>{a.length&&n.error&&n.error(...a),_.error(ri,r),e?_t(r):t&&fo(r,"error")},n.infoTick=(...r)=>{_.info(ri,...r),t&&setTimeout(()=>fo(r[0]),0)}):Wd.forEach(r=>{n[r]=()=>{}}),n}var H=I0(),Lo=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Io}.`)}},Ip=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return P(this,null,function*(){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Io)throw new Lo;this.events.push(e)})}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(t=>t.timestamp).sort()[0];return e?Oo(e):null}},x0=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",n=>{t(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){B&&H.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,a)=>{let i=({data:s})=>{let o=s;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success){B&&H.error("Error in compression worker: ",o.response),a(new Error("Error in compression worker"));return}r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}},C0=class{constructor(e){this._worker=new x0(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=Oo(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Io?Promise.reject(new Lo):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{B&&H.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return P(this,null,function*(){let e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}},M0=class{constructor(e){this._fallback=new Ip,this._compression=new C0(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return P(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return P(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){B&&H.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return P(this,null,function*(){let{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(let a of e)r.push(this._compression.addEvent(a));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{yield Promise.all(r),this._fallback.clear()}catch(a){B&&H.exception(a,"Failed to add events when switching buffers.")}})}};function R0({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=A0(t);if(n)return n}return B&&H.info("Using simple buffer"),new Ip}function A0(e){try{let t=e||O0();if(!t)return;B&&H.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new M0(n)}catch(t){B&&H.exception(t,"Failed to create compression worker")}}function O0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?T0():""}function Do(){try{return"sessionStorage"in pe&&!!pe.sessionStorage}catch(e){return!1}}function N0(e){L0(),e.session=void 0}function L0(){if(Do())try{pe.sessionStorage.removeItem(ko)}catch(e){}}function xp(e){return e===void 0?!1:Math.random()<e}function Po(e){if(Do())try{pe.sessionStorage.setItem(ko,JSON.stringify(e))}catch(t){}}function Cp(e){let t=Date.now(),n=e.id||ke(),r=e.started||t,a=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,o=e.previousSessionId;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s,previousSessionId:o}}function D0(e,t){return xp(e)?"session":t?"buffer":!1}function Gd({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let a=D0(e,t),i=Cp({sampled:a,previousSessionId:r});return n&&Po(i),i}function P0(){if(!Do())return null;try{let e=pe.sessionStorage.getItem(ko);if(!e)return null;let t=JSON.parse(e);return B&&H.infoTick("Loading existing session"),Cp(t)}catch(e){return null}}function So(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Mp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return So(e.started,t,r)||So(e.lastActivity,n,r)}function Rp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Mp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ho({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let a=r.stickySession&&P0();return a?Rp(a,{sessionIdleExpire:e,maxReplayDuration:t})?(B&&H.infoTick("Session in sessionStorage is expired, creating new one..."),Gd(r,{previousSessionId:a.id})):a:(B&&H.infoTick("Creating new session"),Gd(r,{previousSessionId:n}))}function F0(e){return e.type===Y.Custom}function Fo(e,t,n){return Op(e,t)?(Ap(e,t,n),!0):!1}function $0(e,t,n){return Op(e,t)?Ap(e,t,n):Promise.resolve(null)}function Ap(e,t,n){return P(this,null,function*(){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let a=e.recordingMode==="buffer";try{n&&a&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=U0(t,i.beforeAddRecordingEvent);return s?yield r.addEvent(s):void 0}catch(i){let s=i&&i instanceof Lo,o=s?"addEventSizeExceeded":"addEvent";if(s&&a)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),yield e.stop({reason:o});let l=x();l&&l.recordDroppedEvent("internal_sdk_error","replay")}})}function Op(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Oo(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(B&&H.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function U0(e,t){try{if(typeof t=="function"&&F0(e))return t(e)}catch(n){return B&&H.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function $o(e){return!e.type}function wo(e){return e.type==="transaction"}function B0(e){return e.type==="replay_event"}function Vd(e){return e.type==="feedback"}function H0(e){return(t,n)=>{if(!e.isEnabled()||!$o(t)&&!wo(t))return;let r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(wo(t)){j0(e,t);return}z0(e,t)}}}function j0(e,t){var r,a;let n=e.getContext();(a=(r=t.contexts)==null?void 0:r.trace)!=null&&a.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function z0(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||on(()=>P(this,null,function*(){try{yield e.sendBufferedReplayOrFlush()}catch(a){e.handleException(a)}}))}function q0(e){return t=>{!e.isEnabled()||!$o(t)||W0(e,t)}}function W0(e,t){var r,a,i;let n=(i=(a=(r=t.exception)==null?void 0:r.values)==null?void 0:a[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let s=vt({category:"replay.hydrate-error",data:{url:je()}});Yr(e,s)}}function G0(e){let t=x();t&&t.on("beforeAddBreadcrumb",n=>V0(e,n))}function V0(e,t){if(!e.isEnabled()||!Np(t))return;let n=Y0(t);n&&Yr(e,n)}function Y0(e){return!Np(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?J0(e):vt(e)}function J0(e){var a;let t=(a=e.data)==null?void 0:a.arguments;if(!Array.isArray(t)||t.length===0)return vt(e);let n=!1,r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>Qa?(n=!0,`${i.slice(0,Qa)}\u2026`):i;if(typeof i=="object")try{let s=Ge(i,7);return JSON.stringify(s).length>Qa?(n=!0,`${JSON.stringify(s,null,2).slice(0,Qa)}\u2026`):s}catch(s){}return i});return vt(I(h({},e),{data:h(I(h({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Np(e){return!!e.category}function K0(e,t){var n;return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!((n=t.originalException)!=null&&n.__rrweb__)}function Lp(){let e=j().getPropagationContext().dsc;e&&delete e.replay_id;let t=fe();if(t){let n=Ve(t);delete n.replay_id}}function X0(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Z0(e,t){return e.recordingMode!=="buffer"||t.message===To||!t.exception||t.type?!1:xp(e.getOptions().errorSampleRate)}function Q0(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:B0(t)?(delete t.breadcrumbs,t):!$o(t)&&!wo(t)&&!Vd(t)?t:e.checkAndHandleExpiredSession()?Vd(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),X0(e,t),t):K0(t,n)&&!e.getOptions()._experiments.captureExceptions?(B&&H.log("Ignoring error from rrweb internals",t),null):((Z0(e,t)||e.recordingMode==="session")&&(t.tags=I(h({},t.tags),{replayId:e.getSessionId()})),t):(Lp(),t),{id:"Replay"})}function _i(e,t){return t.map(({type:n,start:r,end:a,name:i,data:s})=>{let o=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}});return typeof o=="string"?Promise.resolve(null):o})}function eS(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function tS(e){return t=>{if(!e.isEnabled())return;let n=eS(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(_i(e,[n]),!1)))}}function nS(e,t){return B&&e.getOptions()._experiments.traceInternals?!1:Na(t,x())}function Dp(e,t){e.isEnabled()&&t!==null&&(nS(e,t.name)||e.addUpdate(()=>(_i(e,[t]),!0)))}function yi(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=co(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function Pp(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function di(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=h({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Fp(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:a,method:i,statusCode:s,request:o,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:a,data:{method:i,statusCode:s,request:o,response:l}}}function Gr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Jt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:a,warnings:i}=rS(n);return r.body=a,i!=null&&i.length&&(r._meta={warnings:i}),r}function Eo(e,t){return Object.entries(e).reduce((n,[r,a])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=a),n},{})}function rS(e){if(!e||typeof e!="string")return{body:e};let t=e.length>xd,n=aS(e);if(t){let r=e.slice(0,xd);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}function aS(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function pi(e,t){let n=iS(e);return Ye(n,t)}function iS(e,t=pe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(pe.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function sS(e,t,n){return P(this,null,function*(){try{let r=yield lS(e,t,n),a=Fp("resource.fetch",r);Dp(n.replay,a)}catch(r){B&&H.exception(r,"Failed to capture fetch breadcrumb")}})}function oS(e,t){let{input:n,response:r}=t,a=n?Fr(n):void 0,i=yi(a),s=r?Pp(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function lS(e,t,n){return P(this,null,function*(){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r}=t,{url:s,method:o,status_code:l=0,request_body_size:c,response_body_size:d}=e.data,u=pi(s,n.networkDetailAllowUrls)&&!pi(s,n.networkDetailDenyUrls),p=u?cS(n,t.input,c):Gr(c),f=yield uS(u,n,t.response,d);return{startTimestamp:a,endTimestamp:i,url:s,method:o,statusCode:l,request:p,response:f}})}function cS({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let a=n?fS(n,t):{};if(!e)return Jt(a,r,void 0);let i=Fr(n),[s,o]=Un(i,H),l=Jt(a,r,s);return o?di(l,o):l}function uS(i,s,o,l){return P(this,arguments,function*(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,a){if(!e&&a!==void 0)return Gr(a);let c=r?$p(r.headers,n):{};if(!r||!t&&a!==void 0)return Jt(c,a,void 0);let[d,u]=yield pS(r),p=dS(d,{networkCaptureBodies:t,responseBodySize:a,captureDetails:e,headers:c});return u?di(p,u):p})}function dS(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:a}){try{let i=e!=null&&e.length&&n===void 0?yi(e):n;return r?t?Jt(a,i,e):Jt(a,i,void 0):Gr(i)}catch(i){return B&&H.exception(i,"Failed to serialize response body"),Jt(a,n,void 0)}}function pS(e){return P(this,null,function*(){let t=hS(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield mS(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(B&&H.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(B&&H.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}})}function $p(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function fS(e,t){return e.length===1&&typeof e[0]!="string"?Yd(e[0],t):e.length===2?Yd(e[1],t):{}}function Yd(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?$p(n,t):Array.isArray(n)?{}:Eo(n,t):{}}function hS(e){try{return e.clone()}catch(t){B&&H.exception(t,"Failed to clone response body")}}function mS(e){return new Promise((t,n)=>{let r=on(()=>n(new Error("Timeout while trying to read response body")),500);gS(e).then(a=>t(a),a=>n(a)).finally(()=>clearTimeout(r))})}function gS(e){return P(this,null,function*(){return yield e.text()})}function _S(e,t,n){return P(this,null,function*(){try{let r=vS(e,t,n),a=Fp("resource.xhr",r);Dp(n.replay,a)}catch(r){B&&H.exception(r,"Failed to capture xhr breadcrumb")}})}function yS(e,t){let{xhr:n,input:r}=t;if(!n)return;let a=yi(r),i=n.getResponseHeader("content-length")?Pp(n.getResponseHeader("content-length")):ES(n.response,n.responseType);a!==void 0&&(e.data.request_body_size=a),i!==void 0&&(e.data.response_body_size=i)}function vS(e,t,n){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r,input:s,xhr:o}=t,{url:l,method:c,status_code:d=0,request_body_size:u,response_body_size:p}=e.data;if(!l)return null;if(!o||!pi(l,n.networkDetailAllowUrls)||pi(l,n.networkDetailDenyUrls)){let b=Gr(u),k=Gr(p);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:b,response:k}}let f=o[We],m=f?Eo(f.request_headers,n.networkRequestHeaders):{},g=Eo(bS(o),n.networkResponseHeaders),[y,v]=n.networkCaptureBodies?Un(s,H):[void 0],[w,C]=n.networkCaptureBodies?SS(o):[void 0],A=Jt(m,u,y),N=Jt(g,p,w);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:v?di(A,v):A,response:C?di(N,C):N}}function bS(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return i&&(n[a.toLowerCase()]=i),n},{}):{}}function SS(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return wS(e.response,e.responseType)}catch(n){t.push(n)}return B&&H.warn("Failed to get xhr response body",...t),[void 0]}function wS(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return B&&H.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return B&&H.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function ES(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return yi(n)}catch(n){return}}function kS(e){let t=x();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(l,c)=>TS(o,l,c))}catch(n){}}function TS(e,t,n){if(t.data)try{IS(t)&&CS(n)&&(yS(t,n),_S(t,n,e)),xS(t)&&MS(n)&&(oS(t,n),sS(t,n,e))}catch(r){B&&H.exception(r,"Error when enriching network breadcrumb")}}function IS(e){return e.category==="xhr"}function xS(e){return e.category==="fetch"}function CS(e){return e==null?void 0:e.xhr}function MS(e){return e==null?void 0:e.response}function RS(e,{autoFlushOnFeedback:t}){let n=x();Za(i0(e)),Gt(tS(e)),G0(e),kS(e);let r=Q0(e);Ra(r),n&&(n.on("beforeSendEvent",q0(e)),n.on("afterSendEvent",H0(e)),n.on("createDsc",a=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(a.replay_id=i)}),n.on("spanStart",a=>{e.lastActiveSpan=a}),n.on("spanEnd",a=>{e.lastActiveSpan=a}),n.on("beforeSendFeedback",(a,i)=>P(this,null,function*(){var o;let s=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&s&&((o=a.contexts)!=null&&o.feedback)&&(a.contexts.feedback.source==="api"&&t&&(yield e.flush()),a.contexts.feedback.replay_id=s)})),t&&n.on("openFeedbackWidget",()=>P(this,null,function*(){yield e.flush()})))}function AS(e){return P(this,null,function*(){try{return Promise.all(_i(e,[OS(pe.performance.memory)]))}catch(t){return[]}})}function OS(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function NS(e,t,n){let r,a,i,s=n!=null&&n.maxWait?Math.max(n.maxWait,t):0;function o(){return l(),r=e(),r}function l(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function c(){return a!==void 0||i!==void 0?o():r}function d(){return a&&clearTimeout(a),a=on(o,t),s&&i===void 0&&(i=on(o,s)),r}return d.cancel=l,d.flush=c,d}var tt=D.navigator;function LS(){var e,t;return/iPhone|iPad|iPod/i.test((e=tt==null?void 0:tt.userAgent)!=null?e:"")||/Macintosh/i.test((t=tt==null?void 0:tt.userAgent)!=null?t:"")&&(tt!=null&&tt.maxTouchPoints)&&(tt==null?void 0:tt.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function DS(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){B&&H.warn("Received replay event after session expired.");return}let a=r||!t;t=!0,e.clickDetector&&e0(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&a&&e.setInitialState(),!Fo(e,n,a))return!0;if(!a)return!1;let i=e.session;if(FS(e,a),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(B&&H.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Po(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function PS(e){let t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function FS(e,t){!t||!e.session||e.session.segmentId!==0||Fo(e,PS(e),!1)}function $S(e,t,n,r){return dt(Ms(e,ka(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function US({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let a=new TextEncoder().encode(r);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}function BS(a){return P(this,arguments,function*({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);let o=yield Ps(e.getOptions(),r,s,t,e,ge());if(!o)return null;e.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";let l=e.getSdkMetadata(),{name:c,version:d}=(l==null?void 0:l.sdk)||{};return o.sdk=I(h({},o.sdk),{name:c||"sentry.javascript.unknown",version:d||"0.0.0"}),o})}function HS(s){return P(this,arguments,function*({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:a,session:i}){let o=US({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:c,traceIds:d,initialTimestamp:u}=r,p=x(),f=j(),m=p==null?void 0:p.getTransport(),g=p==null?void 0:p.getDsn();if(!p||!m||!g||!i.sampled)return it({});let y={type:yv,replay_start_timestamp:u/1e3,timestamp:a/1e3,error_ids:c,trace_ids:d,urls:l,replay_id:t,segment_id:n,replay_type:i.sampled},v=yield BS({scope:f,client:p,replayId:t,event:y});if(!v)return p.recordDroppedEvent("event_processor","replay"),B&&H.info("An event processor returned `null`, will not send event."),it({});delete v.sdkProcessingMetadata;let w=$S(v,o,g,p.getOptions().tunnel),C;try{C=yield m.send(w)}catch(N){let b=new Error(To);try{b.cause=N}catch(k){}throw b}if(typeof C.statusCode=="number"&&(C.statusCode<200||C.statusCode>=300))throw new Up(C.statusCode);let A=Us({},C);if($s(A,"replay"))throw new Uo(A);return C})}var Up=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},Uo=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};function Bp(n){return P(this,arguments,function*(e,t={count:0,interval:kv}){let{recordingData:r,onError:a}=e;if(r.length)try{return yield HS(e),!0}catch(i){if(i instanceof Up||i instanceof Uo)throw i;if(xa("Replays",{_retryCount:t.count}),a&&a(i),t.count>=Tv){let s=new Error(`${To} - max retries exceeded`);try{s.cause=i}catch(o){}throw s}return t.interval*=++t.count,new Promise((s,o)=>{on(()=>P(this,null,function*(){try{yield Bp(e,t),s(!0)}catch(l){o(l)}}),t.interval)})}})}var Hp="__THROTTLED",jS="__SKIPPED";function zS(e,t,n){let r=new Map,a=o=>{let l=o-n;r.forEach((c,d)=>{d<l&&r.delete(d)})},i=()=>[...r.values()].reduce((o,l)=>o+l,0),s=!1;return(...o)=>{let l=Math.floor(Date.now()/1e3);if(a(l),i()>=t){let d=s;return s=!0,d?jS:Hp}s=!1;let c=r.get(l)||0;return r.set(l,c+1),e(...o)}}var qS=class{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:vv,sessionIdleExpire:bv},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=NS(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=zS((i,s)=>$0(this,i,s),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),a=n?{threshold:Math.min(Iv,n),timeout:n,scrollTimeout:xv,ignoreSelector:r?r.join(","):""}:void 0;if(a&&(this.clickDetector=new Kb(this,a)),B){let i=e._experiments;H.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{pe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let i=vt({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{let i=vt({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{c0(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){B&&H.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){B&&H.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",B&&H.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){B&&H.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){B&&H.info("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=ho({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled){B&&H.info("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in buffer mode");let e=ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let e=this._canvas;this._stopRecording=Nt(h(I(h(I(h(h({},this._recordingOptions),this.recordingMode==="buffer"?{checkoutEveryNms:Ev}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{emit:DS(this)}),LS()),{onMutation:this._onMutationHandler.bind(this)}),e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}stop(){return P(this,arguments,function*({forceFlush:e=!1,reason:t}={}){var n;if(this._isEnabled){this._isEnabled=!1;try{B&&H.info(`Stopping Replay${t?` triggered by ${t}`:""}`),Lp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),(n=this.eventBuffer)==null||n.destroy(),this.eventBuffer=null,N0(this)}catch(r){this.handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),B&&H.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),B&&H.info("Resuming replay"))}sendBufferedReplayOrFlush(){return P(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let t=Date.now();B&&H.info("Converting buffer to session"),yield this.flushImmediate();let n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){let t=e();this.recordingMode!=="buffer"&&t!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var e;return(e=this.session)==null?void 0:e.id}checkAndHandleExpiredSession(){if(this._lastActivity&&So(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${pe.location.pathname}${pe.location.hash}${pe.location.search}`,t=`${pe.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===Hp){let r=vt({category:"replay.throttled"});this.addUpdate(()=>!Fo(this,{type:zb,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||fe(),t=e&&ue(e),n=(t&&F(t).data||{})[Pe];if(!(!t||!n||!["route","custom"].includes(n)))return F(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=R0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=ho({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return Rp(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return P(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{pe.document.addEventListener("visibilitychange",this._handleVisibilityChange),pe.addEventListener("blur",this._handleWindowBlur),pe.addEventListener("focus",this._handleWindowFocus),pe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(RS(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=E0(this)}_removeListeners(){try{pe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),pe.removeEventListener("blur",this._handleWindowBlur),pe.removeEventListener("focus",this._handleWindowFocus),pe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||Mp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){B&&H.info("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=f0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(n=>n.start>=t)}return Promise.all(_i(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return P(this,null,function*(){var t;let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){B&&H.error("No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!!((t=this.eventBuffer)!=null&&t.hasEvents)&&(yield AS(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession();let i=yield this.eventBuffer.finish();yield Bp({replayId:e,recordingData:i,segmentId:a,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=x();if(r){let a=n instanceof Uo?"ratelimit_backoff":"send_error";r.recordDroppedEvent(a,"replay")}}})}_flush(){return P(this,arguments,function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){B&&H.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,a=n>this._options.maxReplayDuration+5e3;if(r||a){B&&H.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}let i=this.eventBuffer;i&&this.session.segmentId===0&&!i.hasCheckout&&B&&H.info("Flushing initial segment without checkout.");let s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{yield this._flushLock}catch(o){this.handleException(o)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Po(this.session)}_onMutationHandler(e){let t=e.length,n=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,a=n&&t>n;if(t>r||a){let i=vt({category:"replay.mutations",data:{count:t,limit:a}});this._createCustomBreadcrumb(i)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function Ur(e,t){return[...e,...t].join(",")}function WS({mask:e,unmask:t,block:n,unblock:r,ignore:a}){let i=["base","iframe[srcdoc]:not([src])"],s=Ur(e,[".sentry-mask","[data-sentry-mask]"]),o=Ur(t,[]);return{maskTextSelector:s,unmaskTextSelector:o,blockSelector:Ur(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Ur(r,[]),ignoreSelector:Ur(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function GS({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:a,value:i}){return!r||a.unmaskTextSelector&&e.matches(a.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var Jd='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',VS=["content-length","content-type","accept"],Kd=!1,jp=e=>new YS(e),YS=class{constructor({flushMinDelay:e=Sv,flushMaxDelay:t=wv,minReplayDuration:n=Cv,maxReplayDuration:r=Cd,stickySession:a=!0,useCompression:i=!0,workerUrl:s,_experiments:o={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:u=750,mutationLimit:p=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:w=[],networkResponseHeaders:C=[],mask:A=[],maskAttributes:N=["title","placeholder"],unmask:b=[],block:k=[],unblock:O=[],ignore:S=[],maskFn:M,beforeAddRecordingEvent:T,beforeErrorSampling:E,onError:R}={}){this.name="Replay";let W=WS({mask:A,unmask:b,block:k,unblock:O,ignore:S});if(this._recordingOptions=I(h({maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(V,U,Q)=>GS({maskAttributes:N,maskAllText:l,privacyOptions:W,key:V,value:U,el:Q})},W),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:V=>{try{V.__rrweb__=!0}catch(U){}},recordCrossOriginIframes:!!o.recordCrossOriginIframes}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,Mv),maxReplayDuration:Math.min(r,Cd),stickySession:a,useCompression:i,workerUrl:s,blockAllMedia:d,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:u,mutationLimit:p,slowClickTimeout:f,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:Xd(w),networkResponseHeaders:Xd(C),beforeAddRecordingEvent:T,beforeErrorSampling:E,onError:R,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Jd}`:Jd),this._isInitialized&&Cr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Kd}set _isInitialized(e){Kd=e}afterAllSetup(e){!Cr()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){let t=JS(this._initialOptions,e);this._replay=new qS({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(t){}}};function JS(e,t){let n=t.getOptions(),r=h({sessionSampleRate:0,errorSampleRate:0},e),a=$t(n.replaysSessionSampleRate),i=$t(n.replaysOnErrorSampleRate);return a==null&&i==null&&st(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),a!=null&&(r.sessionSampleRate=a),i!=null&&(r.errorSampleRate=i),r}function Xd(e){return[...VS,...e.map(t=>t.toLowerCase())]}function zp(){var e;return(e=x())==null?void 0:e.getIntegrationByName("Replay")}var KS=Object.defineProperty,XS=(e,t,n)=>t in e?KS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qp=(e,t,n)=>XS(e,typeof t!="symbol"?t+"":t,n),ZS=class{constructor(){qp(this,"idNodeMap",new Map),qp(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function QS(){return new ZS}function e1(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Ho(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ho(e.parentNode,t,n,r+1)}function Wp(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(e1(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}var Jn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Gp={map:{},getId(){return console.error(Jn),-1},getNode(){return console.error(Jn),null},removeNodeFromMap(){console.error(Jn)},has(){return console.error(Jn),!1},reset(){console.error(Jn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Gp=new Proxy(Gp,{get(e,t,n){return t==="map"&&console.error(Jn),Reflect.get(e,t,n)}}));function jo(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){tf(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>jo(e,t,i||{},!0)}function zo(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}Date.now().toString();function t1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function wi(e,t,n,r,a){if(!e)return!1;let i=t1(e);if(!i)return!1;let s=Wp(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=Ho(i,s),l=-1;return o<0?!1:(r&&(l=Ho(i,Wp(null,r))),o>-1&&l<0?!0:o<l)}var Vp={};function ef(e){let t=Vp[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Vp[e]=r.bind(window)}function cn(...e){return ef("requestAnimationFrame")(...e)}function tf(...e){return ef("setTimeout")(...e)}var Xn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Xn||{}),bi;function n1(e){bi=e}var Bo=e=>bi?(...t)=>{try{return e(...t)}catch(n){if(bi&&bi(n)===!0)return()=>{};throw n}}:e,Kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Jr=0;Jr<Kn.length;Jr++)r1[Kn.charCodeAt(Jr)]=Jr;var Jr,a1=function(e){var t=new Uint8Array(e),n,r=t.length,a="";for(n=0;n<r;n+=3)a+=Kn[t[n]>>2],a+=Kn[(t[n]&3)<<4|t[n+1]>>4],a+=Kn[(t[n+1]&15)<<2|t[n+2]>>6],a+=Kn[t[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},Yp=new Map;function i1(e,t){let n=Yp.get(e);return n||(n=new Map,Yp.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var nf=(e,t,n)=>{if(!e||!(af(e,t)||typeof e=="object"))return;let r=e.constructor.name,a=i1(n,r),i=a.indexOf(e);return i===-1&&(i=a.length,a.push(e)),i};function Si(e,t,n){if(e instanceof Array)return e.map(r=>Si(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,a=a1(e);return{rr_type:r,base64:a}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Si(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:a}=e;return{rr_type:r,src:a}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",a=e.toDataURL();return{rr_type:r,src:a}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Si(e.data,t,n),e.width,e.height]};if(af(e,t)||typeof e=="object"){let r=e.constructor.name,a=nf(e,t,n);return{rr_type:r,index:a}}}}return e}var rf=(e,t,n)=>e.map(r=>Si(r,t,n)),af=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(n=>typeof t[n]=="function").find(n=>e instanceof t[n]);function s1(e,t,n,r,a){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;let l=zo(t.CanvasRenderingContext2D.prototype,o,function(c){return function(...d){return wi(this.canvas,n,r,a,!0)||tf(()=>{let u=rf(d,t,this);e(this.canvas,{type:Xn["2D"],property:o,args:u})},0),c.apply(this,d)}});i.push(l)}catch(l){let c=jo(t.CanvasRenderingContext2D.prototype,o,{set(d){e(this.canvas,{type:Xn["2D"],property:o,args:[d],setter:!0})}});i.push(c)}return()=>{i.forEach(o=>o())}}function o1(e){return e==="experimental-webgl"?"webgl":e}function Jp(e,t,n,r,a){let i=[];try{let s=zo(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(l,...c){if(!wi(this,t,n,r,!0)){let d=o1(l);if("__context"in this||(this.__context=d),a&&["webgl","webgl2"].includes(d))if(c[0]&&typeof c[0]=="object"){let u=c[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else c.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[l,...c])}});i.push(s)}catch(s){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function Kp(e,t,n,r,a,i,s,o){let l=[],c=Object.getOwnPropertyNames(e);for(let d of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let u=zo(e,d,function(p){return function(...f){let m=p.apply(this,f);if(nf(m,o,this),"tagName"in this.canvas&&!wi(this.canvas,r,a,i,!0)){let g=rf(f,o,this),y={type:t,property:d,args:g};n(this.canvas,y)}return m}});l.push(u)}catch(u){let p=jo(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});l.push(p)}return l}function l1(e,t,n,r,a,i){let s=[];return s.push(...Kp(t.WebGLRenderingContext.prototype,Xn.WebGL,e,n,r,a,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...Kp(t.WebGL2RenderingContext.prototype,Xn.WebGL2,e,n,r,a,i,t)),()=>{s.forEach(o=>o())}}var c1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function u1(){let e=new Blob([c1]);return URL.createObjectURL(e)}var d1=class{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(d,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(u)};let{sampling:t="all",win:n,blockClass:r,blockSelector:a,unblockSelector:i,maxCanvasSize:s,recordCanvas:o,dataURLOptions:l,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&n1(c),(o&&typeof t=="number"||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),!e.enableManualSnapshot&&Bo(()=>{o&&t==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof t=="number"&&this.initCanvasFPSObserver(t,r,a,i,s,{dataURLOptions:l})})()}reset(){var e;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch(n){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(e=this.worker)==null||e.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){let{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:a,recordCanvas:i,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(e)){if(s){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}Bo(()=>{if(i&&t==="all"&&this.initCanvasMutationObserver(e,n,r,a),i&&typeof t=="number"){let o=Jp(e,n,r,a,!0);this.restoreHandlers.push(()=>{o()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let e=new Worker(u1());return e.onmessage=t=>{let n=t.data,{id:r}=n;if(this.snapshotInProgressMap.set(r,!1),!("base64"in n))return;let{base64:a,type:i,width:s,height:o}=n;this.mutationCb({id:r,type:Xn["2D"],commands:[{property:"clearRect",args:[0,0,s,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:a}],type:i}]},0,0,s,o]}]})},e}initCanvasFPSObserver(e,t,n,r,a,i){let s=this.takeSnapshot(!1,e,t,n,r,a,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(s)})}initCanvasMutationObserver(e,t,n,r){let a=Jp(e,t,n,r,!1),i=s1(this.processMutation.bind(this),e,t,n,r),s=l1(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{a(),i(),s()})}snapshot(e){let{options:t}=this,n=this.takeSnapshot(!0,t.sampling==="all"?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n)})}takeSnapshot(e,t,n,r,a,i,s,o){let l=1e3/t,c,d=p=>{if(p)return[p];let f=[],m=g=>{g.querySelectorAll("canvas").forEach(y=>{wi(y,n,r,a,!0)||f.push(y)})};for(let g of this.windows){let y=g.deref(),v;try{v=y&&y.document}catch(w){}v&&m(v)}for(let g of this.shadowDoms){let y=g.deref();y&&m(y)}return f},u=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<l){c=cn(u);return}this.lastSnapshotTime=p,d(o).forEach(f=>{var g;if(!this.mirror.hasNode(f))return;let m=this.mirror.getId(f);if(!this.snapshotInProgressMap.get(m)&&!(!f.width||!f.height)){if(this.snapshotInProgressMap.set(m,!0),!e&&["webgl","webgl2"].includes(f.__context)){let y=f.getContext(f.__context);((g=y==null?void 0:y.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(f).then(y=>{var v;(v=this.worker)==null||v.postMessage({id:m,bitmap:y,width:f.width,height:f.height,dataURLOptions:s,maxCanvasSize:i},[y])}).catch(y=>{Bo(()=>{throw y})()})}}),e||(c=cn(u))}};return c=cn(u),c}startPendingCanvasMutationFlusher(){cn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,cn(e)};cn(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),cn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;let r=n.map(i=>{let l=i,{type:s}=l;return Dt(l,["type"])}),{type:a}=n[0];this.mutationCb({id:t,type:a,commands:r}),this.pendingCanvasMutations.delete(e)}},Qp;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Qp=e.contentWindow)==null?void 0:Qp.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}QS();var Xp;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Xp||(Xp={}));var Zp={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},p1="ReplayCanvas",vi=1280,f1=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,vi):vi,n?Math.min(n,vi):vi]},a,i=new Promise(o=>a=o);return{name:p1,getOptions(){let{quality:o,enableManualSnapshot:l,maxCanvasSize:c}=r;return h({enableManualSnapshot:l,recordCanvas:!0,getCanvasManager:d=>{let u=new d1(I(h({},d),{enableManualSnapshot:l,maxCanvasSize:c,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(f){}}}));return a(u),u}},Zp[o]||Zp.medium)},snapshot(o){return P(this,null,function*(){(yield i).snapshot(o)})}}},sf=f1;var ft=D,oe=ft.document,Kr=ft.navigator,Ef="Report a Bug",h1="Cancel",m1="Send Bug Report",g1="Confirm",_1="Report a Bug",y1="your.email@example.org",v1="Email",b1="What's the bug? What did you expect?",S1="Description",w1="Your Name",E1="Name",k1="Thank you for your report!",T1="(required)",I1="Add a screenshot",x1="Remove screenshot",C1="widget",M1="api",R1=5e3,Qo=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=x();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&j().setTags(e.tags);let r=Ha(h({source:M1,url:je()},e),t);return new Promise((a,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),5e3),o=n.on("afterSendEvent",(l,c)=>{if(l.event_id===r)return clearTimeout(s),o(),c&&typeof c.statusCode=="number"&&c.statusCode>=200&&c.statusCode<300?a(r):c&&typeof c.statusCode=="number"&&c.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):c&&typeof c.statusCode=="number"&&c.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Ii=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function A1(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Kr.userAgent)||/Macintosh/i.test(Kr.userAgent)&&Kr.maxTouchPoints&&Kr.maxTouchPoints>1||!isSecureContext)}function Ei(e,t){return I(h(h({},e),t),{tags:h(h({},e.tags),t.tags),onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:n=>{var r,a;(r=t.onSubmitSuccess)==null||r.call(t,n),(a=e.onSubmitSuccess)==null||a.call(e,n)},onSubmitError:n=>{var r,a;(r=t.onSubmitError)==null||r.call(t,n),(a=e.onSubmitError)==null||a.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:h(h({},e.themeDark),t.themeDark),themeLight:h(h({},e.themeLight),t.themeLight)})}function O1(e){let t=oe.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Xe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var Zn=20,N1="http://www.w3.org/2000/svg";function L1(){let e=o=>ft.document.createElementNS(N1,o),t=Xe(e("svg"),{width:`${Zn}`,height:`${Zn}`,viewBox:`0 0 ${Zn} ${Zn}`,fill:"var(--actor-color, var(--foreground))"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let a=e("defs"),i=Xe(e("clipPath"),{id:"clip0_57_80"}),s=Xe(e("rect"),{width:`${Zn}`,height:`${Zn}`,fill:"white"});return i.appendChild(s),a.appendChild(i),t.appendChild(a).appendChild(i).appendChild(s),t}function D1({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let a=oe.createElement("button");if(a.type="button",a.className="widget__actor",a.ariaHidden="false",a.ariaLabel=t||e||Ef,a.appendChild(L1()),e){let s=oe.createElement("span");s.appendChild(oe.createTextNode(e)),a.appendChild(s)}let i=O1(r);return{el:a,appendToDom(){n.appendChild(i),n.appendChild(a)},removeFromDom(){n.removeChild(a),n.removeChild(i)},show(){a.ariaHidden="false"},hide(){a.ariaHidden="true"}}}var kf="rgba(88, 74, 192, 1)",P1={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:kf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},of={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:kf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function lf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function F1({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let a=oe.createElement("style");return a.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${lf(e==="dark"?h(h({},of),t):h(h({},P1),n))}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${lf(h(h({},of),t))}
  }
}`:""}
}
`,r&&a.setAttribute("nonce",r),a}var Oi=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:a=!0,showBranding:i=!0,isEmailRequired:s=!1,isNameRequired:o=!1,showEmail:l=!0,showName:c=!0,enableScreenshot:d=!0,useSentryUser:u={email:"email",name:"username"},tags:p,styleNonce:f,scriptNonce:m,colorScheme:g="system",themeLight:y={},themeDark:v={},addScreenshotButtonLabel:w=I1,cancelButtonLabel:C=h1,confirmButtonLabel:A=g1,emailLabel:N=v1,emailPlaceholder:b=y1,formTitle:k=_1,isRequiredLabel:O=T1,messageLabel:S=S1,messagePlaceholder:M=b1,nameLabel:T=E1,namePlaceholder:E=w1,removeScreenshotButtonLabel:R=x1,submitButtonLabel:W=m1,successMessageText:V=k1,triggerLabel:U=Ef,triggerAriaLabel:Q="",onFormOpen:q,onFormClose:me,onSubmitSuccess:re,onSubmitError:Le,onFormSubmitted:hn}={})=>{let Ie={id:r,autoInject:a,showBranding:i,isEmailRequired:s,isNameRequired:o,showEmail:l,showName:c,enableScreenshot:d,useSentryUser:u,tags:p,styleNonce:f,scriptNonce:m,colorScheme:g,themeDark:v,themeLight:y,triggerLabel:U,triggerAriaLabel:Q,cancelButtonLabel:C,submitButtonLabel:W,confirmButtonLabel:A,formTitle:k,emailLabel:N,emailPlaceholder:b,messageLabel:S,messagePlaceholder:M,nameLabel:T,namePlaceholder:E,successMessageText:V,isRequiredLabel:O,addScreenshotButtonLabel:w,removeScreenshotButtonLabel:R,onFormClose:me,onFormOpen:q,onSubmitError:Le,onSubmitSuccess:re,onFormSubmitted:hn},xe=null,St=[],mn=te=>{if(!xe){let Ee=oe.createElement("div");Ee.id=String(te.id),oe.body.appendChild(Ee),xe=Ee.attachShadow({mode:"open"}),xe.appendChild(F1(te))}return xe},gn=te=>P(void 0,null,function*(){let Ee=te.enableScreenshot&&A1(),Ze,ye;try{Ze=(t?t():yield e("feedbackModalIntegration",m))(),Tr(Ze)}catch(Ce){throw Ii&&_.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Ce=Ee?n?n():yield e("feedbackScreenshotIntegration",m):void 0;Ce&&(ye=Ce(),Tr(ye))}catch(Ce){Ii&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let ie=Ze.createDialog({options:I(h({},te),{onFormClose:()=>{var Ce;ie==null||ie.close(),(Ce=te.onFormClose)==null||Ce.call(te)},onFormSubmitted:()=>{var Ce;ie==null||ie.close(),(Ce=te.onFormSubmitted)==null||Ce.call(te)}}),screenshotIntegration:ye,sendFeedback:Qo,shadow:mn(te)});return ie}),_n=(te,Ee={})=>{let Ze=Ei(Ie,Ee),ye=typeof te=="string"?oe.querySelector(te):typeof te.addEventListener=="function"?te:null;if(!ye)throw Ii&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let ie=null,Ce=()=>P(void 0,null,function*(){ie||(ie=yield gn(I(h({},Ze),{onFormSubmitted:()=>{var wt;ie==null||ie.removeFromDom(),(wt=Ze.onFormSubmitted)==null||wt.call(Ze)}}))),ie.appendToDom(),ie.open()});ye.addEventListener("click",Ce);let Zt=()=>{St=St.filter(wt=>wt!==Zt),ie==null||ie.removeFromDom(),ie=null,ye.removeEventListener("click",Ce)};return St.push(Zt),Zt},yn=(te={})=>{let Ee=Ei(Ie,te),Ze=mn(Ee),ye=D1({triggerLabel:Ee.triggerLabel,triggerAriaLabel:Ee.triggerAriaLabel,shadow:Ze,styleNonce:f});return _n(ye.el,I(h({},Ee),{onFormOpen(){ye.hide()},onFormClose(){ye.show()},onFormSubmitted(){ye.show()}})),ye};return{name:"Feedback",setupOnce(){!Cr()||!Ie.autoInject||(oe.readyState==="loading"?oe.addEventListener("DOMContentLoaded",()=>yn().appendToDom()):yn().appendToDom())},attachTo:_n,createWidget(te={}){let Ee=yn(Ei(Ie,te));return Ee.appendToDom(),Ee},createForm(){return P(this,arguments,function*(te={}){return gn(Ei(Ie,te))})},remove(){var te;xe&&((te=xe.parentElement)==null||te.remove(),xe=null),St.forEach(Ee=>Ee()),St=[]}}};function Tf(){var e;return(e=x())==null?void 0:e.getIntegrationByName("Feedback")}var Ni,ce,If,un,cf,xf,Jo,Xr={},el=[],$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,tl=Array.isArray;function Xt(e,t){for(var n in t)e[n]=t[n];return e}function Cf(e){var t=e.parentNode;t&&t.removeChild(e)}function J(e,t,n){var r,a,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?a=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Ni.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return xi(e,s,r,a,null)}function xi(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a!=null?a:++If,__i:-1,__u:0};return a==null&&ce.vnode!=null&&ce.vnode(i),i}function Zr(e){return e.children}function Ci(e,t){this.props=e,this.context=t}function er(e,t){if(t==null)return e.__?er(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?er(e):null}function U1(e,t,n){var r,a=e.__v,i=a.__e,s=e.__P;if(s)return(r=Xt({},a)).__v=a.__v+1,ce.vnode&&ce.vnode(r),nl(s,r,a,e.__n,s.ownerSVGElement!==void 0,32&a.__u?[i]:null,t,i!=null?i:er(a),!!(32&a.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Mf(r),r}function Mf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Mf(e)}}function uf(e){(!e.__d&&(e.__d=!0)&&un.push(e)&&!Ai.__r++||cf!==ce.debounceRendering)&&((cf=ce.debounceRendering)||xf)(Ai)}function Ai(){var e,t,n,r=[],a=[];for(un.sort(Jo);e=un.shift();)e.__d&&(n=un.length,t=U1(e,r,a)||t,n===0||un.length>n?(Ko(r,t,a),a.length=r.length=0,t=void 0,un.sort(Jo)):t&&ce.__c&&ce.__c(t,el));t&&Ko(r,t,a),Ai.__r=0}function Rf(e,t,n,r,a,i,s,o,l,c,d){var u,p,f,m,g,y=r&&r.__k||el,v=t.length;for(n.__d=l,B1(n,t,y),l=n.__d,u=0;u<v;u++)(f=n.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?Xr:y[f.__i]||Xr,f.__i=u,nl(e,f,p,a,i,s,o,l,c,d),m=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&rl(p.ref,null,f),d.push(f.ref,f.__c||m,f)),g==null&&m!=null&&(g=m),65536&f.__u||p.__k===f.__k?l=Af(f,l,e):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:m&&(l=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=g}function B1(e,t,n){var r,a,i,s,o,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)(a=e.__k[r]=(a=t[r])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?xi(null,a,null,null,a):tl(a)?xi(Zr,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?xi(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=e,a.__b=e.__b+1,o=H1(a,n,s=r+u,d),a.__i=o,i=null,o!==-1&&(d--,(i=n[o])&&(i.__u|=131072)),i==null||i.__v===null?(o==-1&&u--,typeof a.type!="function"&&(a.__u|=65536)):o!==s&&(o===s+1?u++:o>s?d>l-s?u+=o-s:u--:u=o<s&&o==s-1?o-s:0,o!==r+u&&(a.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=er(i)),Xo(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=er(i)),Xo(i,i))}function Af(e,t,n){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=Af(r[a],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function H1(e,t,n,r){var a=e.key,i=e.type,s=n-1,o=n+1,l=t[n];if(l===null||l&&a==l.key&&i===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||o<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&a==l.key&&i===l.type)return s;s--}if(o<t.length){if((l=t[o])&&!(131072&l.__u)&&a==l.key&&i===l.type)return o;o++}}return-1}function df(e,t,n){t[0]==="-"?e.setProperty(t,n!=null?n:""):e[t]=n==null?"":typeof n!="number"||$1.test(t)?n:n+"px"}function ki(e,t,n,r,a){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||df(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||df(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?ff:pf,i)):e.removeEventListener(t,i?ff:pf,i);else{if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n!=null?n:"";break e}catch(s){}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function pf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ce.event?ce.event(e):e)}}function ff(e){if(this.l)return this.l[e.type+!0](ce.event?ce.event(e):e)}function nl(e,t,n,r,a,i,s,o,l,c){var d,u,p,f,m,g,y,v,w,C,A,N,b,k,O,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[o=t.__e=n.__e]),(d=ce.__b)&&d(t);e:if(typeof S=="function")try{if(v=t.props,w=(d=S.contextType)&&r[d.__c],C=d?w?w.props.value:d.__:r,n.__c?y=(u=t.__c=n.__c).__=u.__E:("prototype"in S&&S.prototype.render?t.__c=u=new S(v,C):(t.__c=u=new Ci(v,C),u.constructor=S,u.render=z1),w&&w.sub(u),u.props=v,u.state||(u.state={}),u.context=C,u.__n=r,p=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),S.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Xt({},u.__s)),Xt(u.__s,S.getDerivedStateFromProps(v,u.__s))),f=u.props,m=u.state,u.__v=t,p)S.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(S.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,C),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,C)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(M){M&&(M.__=t)}),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,C),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,m,g)})}if(u.context=C,u.props=v,u.__P=e,u.__e=!1,N=ce.__r,b=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,N&&N(t),d=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,N&&N(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++b<25);u.state=u.__s,u.getChildContext!=null&&(r=Xt(Xt({},r),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(f,m)),Rf(e,tl(O=d!=null&&d.type===Zr&&d.key==null?d.props.children:d)?O:[O],t,n,r,a,i,s,o,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),y&&(u.__E=u.__=null)}catch(M){t.__v=null,l||i!=null?(t.__e=o,t.__u|=l?160:32,i[i.indexOf(o)]=null):(t.__e=n.__e,t.__k=n.__k),ce.__e(M,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=j1(n.__e,t,n,r,a,i,s,l,c);(d=ce.diffed)&&d(t)}function Ko(e,t,n){for(var r=0;r<n.length;r++)rl(n[r],n[++r],n[++r]);ce.__c&&ce.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(i){i.call(a)})}catch(i){ce.__e(i,a.__v)}})}function j1(e,t,n,r,a,i,s,o,l){var c,d,u,p,f,m,g,y=n.props,v=t.props,w=t.type;if(w==="svg"&&(a=!0),i!=null){for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!w&&(w?f.localName===w:f.nodeType===3)){e=f,i[c]=null;break}}if(e==null){if(w===null)return document.createTextNode(v);e=a?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,v.is&&v),i=null,o=!1}if(w===null)y===v||o&&e.data===v||(e.data=v);else{if(i=i&&Ni.call(e.childNodes),y=n.props||Xr,!o&&i!=null)for(y={},c=0;c<e.attributes.length;c++)y[(f=e.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?u=f:c==="key"||c in v||ki(e,c,null,f,a));for(c in v)f=v[c],c=="children"?p=f:c=="dangerouslySetInnerHTML"?d=f:c=="value"?m=f:c=="checked"?g=f:c==="key"||o&&typeof f!="function"||y[c]===f||ki(e,c,f,y[c],a);if(d)o||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Rf(e,tl(p)?p:[p],t,n,r,a&&w!=="foreignObject",i,s,i?i[0]:n.__k&&er(n,0),o,l),i!=null)for(c=i.length;c--;)i[c]!=null&&Cf(i[c]);o||(c="value",m!==void 0&&(m!==e[c]||w==="progress"&&!m||w==="option"&&m!==y[c])&&ki(e,c,m,y[c],!1),c="checked",g!==void 0&&g!==e[c]&&ki(e,c,g,y[c],!1))}return e}function rl(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ce.__e(r,n)}}function Xo(e,t,n){var r,a;if(ce.unmount&&ce.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||rl(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ce.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&Xo(r[a],t,n||typeof e.type!="function");n||e.__e==null||Cf(e.__e),e.__=e.__e=e.__d=void 0}function z1(e,t,n){return this.constructor(e,n)}function q1(e,t,n){var r,a,i,s;ce.__&&ce.__(e,t),a=(r=!1)?null:t.__k,i=[],s=[],nl(t,e=t.__k=J(Zr,null,[e]),a||Xr,Xr,t.ownerSVGElement!==void 0,a?null:t.firstChild?Ni.call(t.childNodes):null,i,a?a.__e:t.firstChild,r,s),e.__d=void 0,Ko(i,e,s)}Ni=el.slice,ce={__e:function(e,t,n,r){for(var a,i,s;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(e)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),s=a.__d),s)return a.__E=a}catch(o){e=o}throw e}},If=0,Ci.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xt({},this.state),typeof e=="function"&&(e=e(Xt({},n),this.props)),e&&Xt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),uf(this))},Ci.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),uf(this))},Ci.prototype.render=Zr,un=[],xf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jo=function(e,t){return e.__v.__b-t.__v.__b},Ai.__r=0;var Lt,le,qo,hf,tr=0,Of=[],Mi=[],he=ce,mf=he.__b,gf=he.__r,_f=he.diffed,yf=he.__c,vf=he.unmount,bf=he.__;function pn(e,t){he.__h&&he.__h(le,e,tr||t),tr=0;var n=le.__H||(le.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Mi}),n.__[e]}function dn(e){return tr=1,Nf(Df,e)}function Nf(e,t,n){var r=pn(Lt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Df(void 0,t),function(o){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,o);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=le,!le.u)){var a=function(o,l,c){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,o,l,c);var u=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(u=!0)}}),!(!u&&r.__c.props===o)&&(!i||i.call(this,o,l,c))};le.u=!0;var i=le.shouldComponentUpdate,s=le.componentWillUpdate;le.componentWillUpdate=function(o,l,c){if(this.__e){var d=i;i=void 0,a(o,l,c),i=d}s&&s.call(this,o,l,c)},le.shouldComponentUpdate=a}return r.__N||r.__}function W1(e,t){var n=pn(Lt++,3);!he.__s&&al(n.__H,t)&&(n.__=e,n.i=t,le.__H.__h.push(n))}function Lf(e,t){var n=pn(Lt++,4);!he.__s&&al(n.__H,t)&&(n.__=e,n.i=t,le.__h.push(n))}function G1(e){return tr=5,Qr(function(){return{current:e}},[])}function V1(e,t,n){tr=6,Lf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Qr(e,t){var n=pn(Lt++,7);return al(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function Qn(e,t){return tr=8,Qr(function(){return e},t)}function Y1(e){var t=le.context[e.__c],n=pn(Lt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(le)),t.props.value):e.__}function J1(e,t){he.useDebugValue&&he.useDebugValue(t?t(e):e)}function K1(e){var t=pn(Lt++,10),n=dn();return t.__=e,le.componentDidCatch||(le.componentDidCatch=function(r,a){t.__&&t.__(r,a),n[1](r)}),[n[0],function(){n[1](void 0)}]}function X1(){var e=pn(Lt++,11);if(!e.__){for(var t=le.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Z1(){for(var e;e=Of.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ri),e.__H.__h.forEach(Zo),e.__H.__h=[]}catch(t){e.__H.__h=[],he.__e(t,e.__v)}}he.__b=function(e){le=null,mf&&mf(e)},he.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),bf&&bf(e,t)},he.__r=function(e){gf&&gf(e),Lt=0;var t=(le=e.__c).__H;t&&(qo===le?(t.__h=[],le.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Mi,n.__N=n.i=void 0})):(t.__h.forEach(Ri),t.__h.forEach(Zo),t.__h=[],Lt=0)),qo=le},he.diffed=function(e){_f&&_f(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Of.push(t)!==1&&hf===he.requestAnimationFrame||((hf=he.requestAnimationFrame)||Q1)(Z1)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Mi&&(n.__=n.__V),n.i=void 0,n.__V=Mi})),qo=le=null},he.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ri),n.__h=n.__h.filter(function(r){return!r.__||Zo(r)})}catch(r){t.some(function(a){a.__h&&(a.__h=[])}),t=[],he.__e(r,n.__v)}}),yf&&yf(e,t)},he.unmount=function(e){vf&&vf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ri(r)}catch(a){t=a}}),n.__H=void 0,t&&he.__e(t,n.__v))};var Sf=typeof requestAnimationFrame=="function";function Q1(e){var t,n=function(){clearTimeout(r),Sf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Sf&&(t=requestAnimationFrame(n))}function Ri(e){var t=le,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),le=t}function Zo(e){var t=le;e.__c=e.__(),le=t}function al(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Df(e,t){return typeof t=="function"?t(e):t}var ew=Object.defineProperty({__proto__:null,useCallback:Qn,useContext:Y1,useDebugValue:J1,useEffect:W1,useErrorBoundary:K1,useId:X1,useImperativeHandle:V1,useLayoutEffect:Lf,useMemo:Qr,useReducer:Nf,useRef:G1,useState:dn},Symbol.toStringTag,{value:"Module"}),tw="http://www.w3.org/2000/svg";function nw(){let e=r=>oe.createElementNS(tw,r),t=Xe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Xe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function rw({options:e}){let t=Qr(()=>({__html:nw().outerHTML}),[]);return J("h2",{class:"dialog__header"},J("span",{class:"dialog__title"},e.formTitle),e.showBranding?J("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function aw(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Wo(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function iw({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:a,onSubmitSuccess:i,onSubmitError:s,showEmail:o,showName:l,screenshotInput:c}){let{tags:d,addScreenshotButtonLabel:u,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:g,isEmailRequired:y,isNameRequired:v,messageLabel:w,messagePlaceholder:C,nameLabel:A,namePlaceholder:N,submitButtonLabel:b,isRequiredLabel:k}=e,[O,S]=dn(!1),[M,T]=dn(null),[E,R]=dn(!1),W=c==null?void 0:c.input,[V,U]=dn(null),Q=Qn(re=>{U(re),R(!1)},[]),q=Qn(re=>{let Le=aw(re,{emailLabel:m,isEmailRequired:y,isNameRequired:v,messageLabel:w,nameLabel:A});return Le.length>0?T(`Please enter in the following required fields: ${Le.join(", ")}`):T(null),Le.length===0},[m,y,v,w,A]),me=Qn(re=>P(this,null,function*(){S(!0);try{if(re.preventDefault(),!(re.target instanceof HTMLFormElement))return;let Le=new FormData(re.target),hn=yield c&&E?c.value():void 0,Ie={name:Wo(Le,"name"),email:Wo(Le,"email"),message:Wo(Le,"message"),attachments:hn?[hn]:void 0};if(!q(Ie))return;try{yield a({name:Ie.name,email:Ie.email,message:Ie.message,source:C1,tags:d},{attachments:Ie.attachments}),i(Ie)}catch(xe){Ii&&_.error(xe),T(xe),s(xe)}}finally{S(!1)}}),[c&&E,i,s]);return J("form",{class:"form",onSubmit:me},W&&E?J(W,{onError:Q}):null,J("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:O},J("div",{class:"form__top"},M?J("div",{class:"form__error-container"},M):null,l?J("label",{for:"name",class:"form__label"},J(Go,{label:A,isRequiredLabel:k,isRequired:v}),J("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:N,required:v,type:"text"})):J("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),o?J("label",{for:"email",class:"form__label"},J(Go,{label:m,isRequiredLabel:k,isRequired:y}),J("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:y,type:"email"})):J("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),J("label",{for:"message",class:"form__label"},J(Go,{label:w,isRequiredLabel:k,isRequired:!0}),J("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:C,required:!0,rows:5})),W?J("label",{for:"screenshot",class:"form__label"},J("button",{class:"btn btn--default",disabled:O,type:"button",onClick:()=>{U(null),R(re=>!re)}},E?p:u),V?J("div",{class:"form__error-container"},V.message):null):null),J("div",{class:"btn-group"},J("button",{class:"btn btn--primary",disabled:O,type:"submit"},b),J("button",{class:"btn btn--default",disabled:O,type:"button",onClick:r},f))))}function Go({label:e,isRequired:t,isRequiredLabel:n}){return J("span",{class:"form__label__text"},e,t&&J("span",{class:"form__label__text--required"},n))}var Ti=16,wf=17,sw="http://www.w3.org/2000/svg";function ow(){let e=l=>ft.document.createElementNS(sw,l),t=Xe(e("svg"),{width:`${Ti}`,height:`${wf}`,viewBox:`0 0 ${Ti} ${wf}`,fill:"inherit"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),a=Xe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(a,r);let i=e("defs"),s=Xe(e("clipPath"),{id:"clip0_57_156"}),o=Xe(e("rect"),{width:`${Ti}`,height:`${Ti}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(o),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(o),t}function lw(r){var a=r,{open:e,onFormSubmitted:t}=a,n=Dt(a,["open","onFormSubmitted"]);let i=n.options,s=Qr(()=>({__html:ow().outerHTML}),[]),[o,l]=dn(null),c=Qn(()=>{o&&(clearTimeout(o),l(null)),t()},[o]),d=Qn(u=>{n.onSubmitSuccess(u),l(setTimeout(()=>{t(),l(null)},R1))},[t]);return J(Zr,null,o?J("div",{class:"success__position",onClick:c},J("div",{class:"success__content"},i.successMessageText,J("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):J("dialog",{class:"dialog",onClick:i.onFormClose,open:e},J("div",{class:"dialog__position"},J("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},J(rw,{options:i}),J(iw,I(h({},n),{onSubmitSuccess:d}))))))}var cw=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,uw=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,dw=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,pw=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,fw=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function hw(e){let t=oe.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${cw}
${uw}
${dw}
${pw}
${fw}
`,e&&t.setAttribute("nonce",e),t}function mw(){let e=j().getUser(),t=ge().getUser(),n=yr().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var Pf=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let a=r,i=e.useSentryUser,s=mw(),o=oe.createElement("div"),l=hw(e.styleNonce),c="",d={get el(){return o},appendToDom(){!a.contains(l)&&!a.contains(o)&&(a.appendChild(l),a.appendChild(o))},removeFromDom(){a.removeChild(o),a.removeChild(l),oe.body.style.overflow=c},open(){var f,m;p(!0),(f=e.onFormOpen)==null||f.call(e),(m=x())==null||m.emit("openFeedbackWidget"),c=oe.body.style.overflow,oe.body.style.overflow="hidden"},close(){p(!1),oe.body.style.overflow=c}},u=t==null?void 0:t.createInput({h:J,hooks:ew,dialog:d,options:e}),p=f=>{q1(J(lw,{options:e,screenshotInput:u,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&s&&s[i.name]||"",defaultEmail:i&&s&&s[i.email]||"",onFormClose:()=>{var m;p(!1),(m=e.onFormClose)==null||m.call(e)},onSubmit:n,onSubmitSuccess:m=>{var g;p(!1),(g=e.onSubmitSuccess)==null||g.call(e,m)},onSubmitError:m=>{var g;(g=e.onSubmitError)==null||g.call(e,m)},onFormSubmitted:()=>{var m;(m=e.onFormSubmitted)==null||m.call(e)},open:f}),o)};return d}});function gw({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function _w(e){let t=oe.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function yw({h:e}){return function({action:t,setAction:n}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${t==="highlight"?"editor__tool--active":""}`,onClick:()=>{n(t==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${t==="hide"?"editor__tool--active":""}`,onClick:()=>{n(t==="hide"?"":"hide")}},"Hide")))}}function vw({hooks:e}){function t(){var a;let[n,r]=e.useState((a=ft.devicePixelRatio)!=null?a:1);return e.useEffect(()=>{let i=()=>{r(ft.devicePixelRatio)},s=matchMedia(`(resolution: ${ft.devicePixelRatio}dppx)`);return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),n}return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:a,onError:i}){let s=t();e.useEffect(()=>{P(this,null,function*(){n();let o=yield Kr.mediaDevices.getDisplayMedia({video:{width:ft.innerWidth*s,height:ft.innerHeight*s},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),l=oe.createElement("video");yield new Promise((c,d)=>{l.srcObject=o,l.onloadedmetadata=()=>{r(l,s),o.getTracks().forEach(u=>u.stop()),c()},l.play().catch(d)}),a()}).catch(i)},[])}}function bw(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Kt(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function Vo(e,t){Kt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Yo(e,t,n){Kt(e,{alpha:!0},(r,a)=>{n.length&&(a.fillStyle="rgba(0, 0, 0, 0.25)",a.fillRect(0,0,r.width,r.height)),n.forEach(i=>{bw(i,a,t)})})}function Sw({h:e,hooks:t,outputBuffer:n,dialog:r,options:a}){let i=vw({hooks:t}),s=yw({h:e}),o=gw({h:e}),l={__html:_w(a.styleNonce).innerText},c=r.el.style,d=({screenshot:u})=>{let[p,f]=t.useState("highlight"),[m,g]=t.useState([]),y=t.useRef(null),v=t.useRef(null),w=t.useRef(null),C=t.useRef(null),[A,N]=t.useState(1),b=t.useMemo(()=>{let E=oe.getElementById(a.id);if(!E)return"white";let R=getComputedStyle(E);return R.getPropertyValue("--button-primary-background")||R.getPropertyValue("--accent-background")},[a.id]);t.useLayoutEffect(()=>{let E=()=>{let R=y.current;R&&Kt(u.canvas,{alpha:!1},W=>{let V=Math.min(R.clientWidth/W.width,R.clientHeight/W.height);N(V)})};return E(),ft.addEventListener("resize",E),()=>{ft.removeEventListener("resize",E)}},[u]);let k=t.useCallback((E,R)=>{Kt(E,{alpha:!0},(W,V)=>{V.scale(R,R),W.width=u.canvas.width,W.height=u.canvas.height})},[u]);t.useEffect(()=>{k(v.current,u.dpi),Vo(v.current,u.canvas)},[u]),t.useEffect(()=>{k(w.current,u.dpi),Kt(w.current,{alpha:!0},(E,R)=>{R.clearRect(0,0,E.width,E.height)}),Yo(w.current,b,m)},[m,b]),t.useEffect(()=>{k(n,u.dpi),Vo(n,u.canvas),Kt(oe.createElement("canvas"),{alpha:!0},(E,R)=>{R.scale(u.dpi,u.dpi),E.width=u.canvas.width,E.height=u.canvas.height,Yo(E,b,m),Vo(n,E)})},[m,u,b]);let O=E=>{if(!p||!C.current)return;let R=C.current.getBoundingClientRect(),W={type:p,x:E.offsetX/A,y:E.offsetY/A},V=(q,me)=>{let re=(me.clientX-R.x)/A,Le=(me.clientY-R.y)/A;return{type:q.type,x:Math.min(q.x,re),y:Math.min(q.y,Le),w:Math.abs(re-q.x),h:Math.abs(Le-q.y)}},U=q=>{Kt(w.current,{alpha:!0},(me,re)=>{re.clearRect(0,0,me.width,me.height)}),Yo(w.current,b,[...m,V(W,q)])},Q=q=>{let me=V(W,q);me.w*A>=1&&me.h*A>=1&&g(re=>[...re,me]),oe.removeEventListener("mousemove",U),oe.removeEventListener("mouseup",Q)};oe.addEventListener("mousemove",U),oe.addEventListener("mouseup",Q)},S=t.useCallback(E=>R=>{R.preventDefault(),R.stopPropagation(),g(W=>{let V=[...W];return V.splice(E,1),V})},[]),M={width:`${u.canvas.width*A}px`,height:`${u.canvas.height*A}px`},T=E=>{E.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:a.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:y},e("canvas",{ref:v,id:"background",style:M}),e("canvas",{ref:w,id:"foreground",style:M}),e("div",{ref:C,onMouseDown:O,style:M},m.map((E,R)=>e("div",{key:R,class:"editor__rect",style:{top:`${E.y*A}px`,left:`${E.x*A}px`,width:`${E.w*A}px`,height:`${E.h*A}px`}},e("button",{"aria-label":"Remove",onClick:S(R),onMouseDown:T,onMouseUp:T,type:"button"},e(o,null))))))),e(s,{action:p,setAction:f}))};return function({onError:u}){let[p,f]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{c.display="none"},[]),onScreenshot:t.useCallback((m,g)=>{Kt(oe.createElement("canvas"),{alpha:!1},(y,v)=>{v.scale(g,g),y.width=m.videoWidth,y.height=m.videoHeight,v.drawImage(m,0,0,y.width,y.height),f({canvas:y,dpi:g})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{c.display="block"},[]),onError:t.useCallback(m=>{c.display="block",u(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var Ff=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let a=oe.createElement("canvas");return{input:Sw({h:e,hooks:t,outputBuffer:a,dialog:n,options:r}),value:()=>P(void 0,null,function*(){let i=yield new Promise(s=>{a.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(yield i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});var ww=Object.defineProperty,Ew=(e,t)=>{for(var n in t)ww(e,n,{get:t[n],enumerable:!0})},$=D,ll=0;function eh(){return ll>0}function kw(){ll++,setTimeout(()=>{ll--})}function nr(e,t={}){function n(a){return typeof a=="function"}if(!n(e))return e;try{let a=e.__sentry_wrapped__;if(a)return typeof a=="function"?a:e;if(fr(e))return e}catch(a){return e}let r=function(...a){try{let i=a.map(s=>nr(s,t));return e.apply(this,i)}catch(i){throw kw(),ze(s=>{s.addEventProcessor(o=>(t.mechanism&&(hr(o,void 0,void 0),ot(o,t.mechanism)),o.extra=I(h({},o.extra),{arguments:a}),o)),_t(i)}),i}};try{for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}catch(a){}_s(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch(a){}return r}var Tw={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},$f=$;function th(e,t){return P(this,null,function*(){let n=Tw[e],r=$f.Sentry=$f.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let a=r[e];if(typeof a=="function"&&!("_isShim"in a))return a;let i=Iw(n),s=$.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let o=new Promise((u,p)=>{s.addEventListener("load",()=>u()),s.addEventListener("error",p)}),l=$.document.currentScript,c=$.document.body||$.document.head||(l==null?void 0:l.parentElement);if(c)c.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{yield o}catch(u){throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d})}function Iw(e){var n,r;let t=((r=(n=x())==null?void 0:n.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${at}/${e}.min.js`,t).toString()}var xw=Oi({lazyLoadIntegration:th}),Cw=Oi({getModalIntegration:()=>Pf,getScreenshotIntegration:()=>Ff}),nh={};Ew(nh,{debug:()=>Rw,error:()=>Nw,fatal:()=>Lw,fmt:()=>Nu,info:()=>Aw,trace:()=>Mw,warn:()=>Ow});function sr(e,t,n,r){ga({level:e,message:t,attributes:n,severityNumber:r})}function Mw(e,t){sr("trace",e,t)}function Rw(e,t){sr("debug",e,t)}function Aw(e,t){sr("info",e,t)}function Ow(e,t){sr("warn",e,t)}function Nw(e,t){sr("error",e,t)}function Lw(e,t){sr("fatal",e,t)}function Pi(e,t){let n=dl(e,t),r={type:Uw(t),value:Bw(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Dw(e,t,n,r){var l;let a=(l=x())==null?void 0:l.getOptions().normalizeDepth,i=zw(t),s={__serialized__:Cs(t,a)};if(i)return{exception:{values:[Pi(e,i)]},extra:s};let o={exception:{values:[{type:dr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Hw(t,{isUnhandledRejection:r})}]},extra:s};if(n){let c=dl(e,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function il(e,t){return{exception:{values:[Pi(e,t)]}}}function dl(e,t){let n=t.stacktrace||t.stack||"",r=Fw(t),a=$w(t);try{return e(n,r,a)}catch(i){}return[]}var Pw=/Minified React error #\d+;/i;function Fw(e){return e&&Pw.test(e.message)?1:0}function $w(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function rh(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Uw(e){let t=e==null?void 0:e.name;return!t&&rh(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Bw(e){let t=e==null?void 0:e.message;return rh(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function ah(e,t,n,r){let a=(n==null?void 0:n.syntheticException)||void 0,i=pl(e,t,a,r);return ot(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),it(i)}function ih(e,t,n="info",r,a){let i=(r==null?void 0:r.syntheticException)||void 0,s=cl(e,t,i,a);return s.level=n,r!=null&&r.event_id&&(s.event_id=r.event_id),it(s)}function pl(e,t,n,r,a){let i;if(hs(t)&&t.error)return il(e,t.error);if(ms(t)||Sc(t)){let s=t;if("stack"in t)i=il(e,t);else{let o=s.name||(ms(s)?"DOMError":"DOMException"),l=s.message?`${o}: ${s.message}`:o;i=cl(e,l,n,r),hr(i,l)}return"code"in s&&(i.tags=I(h({},i.tags),{"DOMException.code":`${s.code}`})),i}return kt(t)?il(e,t):Ft(t)||dr(t)?(i=Dw(e,t,n,a),ot(i,{synthetic:!0}),i):(i=cl(e,t,n,r),hr(i,`${t}`,void 0),ot(i,{synthetic:!0}),i)}function cl(e,t,n,r){let a={};if(r&&n){let i=dl(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),ot(a,{synthetic:!0})}if(ur(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return a.logentry={message:i,params:s},a}return a.message=t,a}function Hw(e,{isUnhandledRejection:t}){let n=Tc(e),r=t?"promise rejection":"exception";return hs(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:dr(e)?`Event \`${jw(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function jw(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}function zw(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var qw=5e3,sh=class extends Tu{constructor(e){let t=h({parentSpanIsAlwaysRootSpan:!0},e),n=$.SENTRY_SDK_SOURCE||ad();Pu(t,"browser",["browser"],n),super(t);let r=this,{sendDefaultPii:a,_experiments:i}=r._options,s=i==null?void 0:i.enableLogs;t.sendClientReports&&$.document&&$.document.addEventListener("visibilitychange",()=>{$.document.visibilityState==="hidden"&&(this._flushOutcomes(),s&&Ir(r))}),s&&(r.on("flush",()=>{Ir(r)}),r.on("afterCaptureLog",()=>{r._logFlushIdleTimeout&&clearTimeout(r._logFlushIdleTimeout),r._logFlushIdleTimeout=setTimeout(()=>{Ir(r)},qw)})),a&&(r.on("postprocessEvent",Lu),r.on("beforeSendSession",Du))}eventFromException(e,t){return ah(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return ih(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}};function fl(e,t=Pr("fetch")){let n=0,r=0;function a(i){let s=i.body.length;n+=s,r++;let o=h({body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return lo("fetch"),Sr("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return lo("fetch"),n-=s,r--,Sr(l)}}return Oa(e,a)}var Ww=10,Gw=20,Vw=30,Yw=40,Jw=50;function rr(e,t,n,r){let a={filename:e,function:t==="<anonymous>"?et:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}var Kw=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Xw=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Zw=/\((\S*)(?::(\d+))(?::(\d+))\)/,Qw=e=>{let t=Kw.exec(e);if(t){let[,r,a,i]=t;return rr(r,et,+a,+i)}let n=Xw.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let i=Zw.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}let[r,a]=dh(n[1]||et,n[2]);return rr(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},oh=[Vw,Qw],eE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nE=e=>{let t=eE.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let a=tE.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||et;return[r,n]=dh(r,n),rr(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},lh=[Jw,nE],rE=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,aE=e=>{let t=rE.exec(e);return t?rr(t[2],t[1]||et,+t[3],t[4]?+t[4]:void 0):void 0},iE=[Yw,aE],sE=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,oE=e=>{let t=sE.exec(e);return t?rr(t[2],t[3]||et,+t[1]):void 0},lE=[Ww,oE],cE=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,uE=e=>{let t=cE.exec(e);return t?rr(t[5],t[3]||t[4]||et,+t[1],+t[2]):void 0},dE=[Gw,uE],ch=[oh,lh],uh=ks(...ch),dh=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:et,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function pE(e,{metadata:t,tunnel:n,dsn:r}){let a=h(h({event_id:e.event_id,sent_at:new Date().toISOString()},(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:zt(r)}),i=fE(e);return dt(a,[i])}function fE(e){return[{type:"user_report"},e]}var G=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Li=1024,hE="Breadcrumbs",mE=(e={})=>{let t=h({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:hE,setup(n){t.console&&Pa(yE(n)),t.dom&&Za(_E(n,t.dom)),t.xhr&&$n(vE(n)),t.fetch&&On(bE(n)),t.history&&Gt(SE(n)),t.sentry&&n.on("beforeSendEvent",gE(n))}}},ph=mE;function gE(e){return function(t){x()===e&&Je({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Pt(t)},{event:t})}}function _E(e,t){return function(n){if(x()!==e)return;let r,a,i=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Li&&(G&&_.warn(`\`dom.maxStringLength\` cannot exceed ${Li}, but a value of ${s} was configured. Sentry will use ${Li} instead.`),s=Li),typeof i=="string"&&(i=[i]);try{let l=n.event,c=wE(l)?l.target:l;r=He(c,{keyAttrs:i,maxStringLength:s}),a=Sa(c)}catch(l){r="<unknown>"}if(r.length===0)return;let o={category:`ui.${n.name}`,message:r};a&&(o.data={"ui.component_name":a}),Je(o,{event:n.event,name:n.name,global:n.global})}}function yE(e){return function(t){if(x()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:xr(t.level),message:wn(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)n.message=`Assertion failed: ${wn(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1);else return;Je(n,{input:t.args,level:t.level})}}function vE(e){return function(t){if(x()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[We];if(!n||!r||!a)return;let{method:i,url:s,status_code:o,body:l}=a,c={method:i,url:s,status_code:o},d={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},u={category:"xhr",data:c,type:"http",level:qs(o)};e.emit("beforeOutgoingRequestBreadcrumb",u,d),Je(u,d)}}function bE(e){return function(t){if(x()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.fetchData.method,t.fetchData.url,t.error){let a=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,i),Je(s,i)}else{let a=t.response,i=I(h({},t.fetchData),{status_code:a==null?void 0:a.status});t.fetchData.request_body_size,t.fetchData.response_body_size,a==null||a.status;let s={input:t.args,response:a,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:i,type:"http",level:qs(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",o,s),Je(o,s)}}}function SE(e){return function(t){if(x()!==e)return;let n=t.from,r=t.to,a=yt($.location.href),i=n?yt(n):void 0,s=yt(r);i!=null&&i.path||(i=a),a.protocol===s.protocol&&a.host===s.host&&(r=s.relative),a.protocol===i.protocol&&a.host===i.host&&(n=i.relative),Je({category:"navigation",data:{from:n,to:r}})}}function wE(e){return!!e&&!!e.target}var EE=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kE="BrowserApiErrors",TE=(e={})=>{let t=h({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:kE,setupOnce(){t.setTimeout&&we($,"setTimeout",Uf),t.setInterval&&we($,"setInterval",Uf),t.requestAnimationFrame&&we($,"requestAnimationFrame",IE),t.XMLHttpRequest&&"XMLHttpRequest"in $&&we(XMLHttpRequest.prototype,"send",xE);let n=t.eventTarget;n&&(Array.isArray(n)?n:EE).forEach(CE)}}},fh=TE;function Uf(e){return function(...t){let n=t[0];return t[0]=nr(n,{mechanism:{data:{function:lt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function IE(e){return function(t){return e.apply(this,[nr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:lt(e)},handled:!1,type:"instrument"}})])}}function xE(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&we(n,r,function(a){let i={mechanism:{data:{function:r,handler:lt(a)},handled:!1,type:"instrument"}},s=fr(a);return s&&(i.mechanism.data.handler=lt(s)),nr(a,i)})}),e.apply(this,t)}}function CE(e){var n,r;let t=(n=$[e])==null?void 0:n.prototype;(r=t==null?void 0:t.hasOwnProperty)!=null&&r.call(t,"addEventListener")&&(we(t,"addEventListener",function(a){return function(i,s,o){try{ME(s)&&(s.handleEvent=nr(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:lt(s),target:e},handled:!1,type:"instrument"}}))}catch(l){}return a.apply(this,[i,nr(s,{mechanism:{data:{function:"addEventListener",handler:lt(s),target:e},handled:!1,type:"instrument"}}),o])}}),we(t,"removeEventListener",function(a){return function(i,s,o){try{let l=s.__sentry_wrapped__;l&&a.call(this,i,l,o)}catch(l){}return a.call(this,i,s,o)}}))}function ME(e){return typeof e.handleEvent=="function"}var hh=()=>({name:"BrowserSession",setupOnce(){if(typeof $.document>"u"){G&&_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Er({ignoreDuration:!0}),kr(),Gt(({from:e,to:t})=>{e!==void 0&&e!==t&&(Er({ignoreDuration:!0}),kr())})}}),RE="GlobalHandlers",AE=(e={})=>{let t=h({onerror:!0,onunhandledrejection:!0},e);return{name:RE,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(OE(n),Bf("onerror")),t.onunhandledrejection&&(NE(n),Bf("onunhandledrejection"))}}},mh=AE;function OE(e){Ts(t=>{let{stackParser:n,attachStacktrace:r}=gh();if(x()!==e||eh())return;let{msg:a,url:i,line:s,column:o,error:l}=t,c=PE(pl(n,l||a,void 0,r,!1),i,s,o);c.level="error",qt(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function NE(e){Is(t=>{let{stackParser:n,attachStacktrace:r}=gh();if(x()!==e||eh())return;let a=LE(t),i=ba(a)?DE(a):pl(n,a,void 0,r,!0);i.level="error",qt(i,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function LE(e){if(ba(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}function DE(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function PE(e,t,n,r){let a=e.exception=e.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},l=o.frames=o.frames||[],c=r,d=n,u=Be(t)&&t.length>0?t:je();return l.length===0&&l.push({colno:c,filename:u,function:et,in_app:!0,lineno:d}),e}function Bf(e){G&&_.log(`Global Handler attached: ${e}`)}function gh(){var e;return((e=x())==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}var _h=()=>({name:"HttpContext",preprocessEvent(e){var s,o;if(!$.navigator&&!$.location&&!$.document)return;let t=((s=e.request)==null?void 0:s.url)||je(),{referrer:n}=$.document||{},{userAgent:r}=$.navigator||{},a=h(h(h({},(o=e.request)==null?void 0:o.headers),n&&{Referer:n}),r&&{"User-Agent":r}),i=I(h(h({},e.request),t&&{url:t}),{headers:a});e.request=i}}),FE="cause",$E=5,UE="LinkedErrors",BE=(e={})=>{let t=e.limit||$E,n=e.key||FE;return{name:UE,preprocessEvent(r,a,i){let s=i.getOptions();Fu(Pi,s.stackParser,n,t,r,a)}}},yh=BE;function vh(e){return[Da(),La(),fh(),ph(),mh(),yh(),Fa(),_h(),hh()]}function HE(e={}){var t;return h({defaultIntegrations:vh(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=$.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0},jE(e))}function jE(e){let t={};for(let n of Object.getOwnPropertyNames(e)){let r=n;e[r]!==void 0&&(t[r]=e[r])}return t}function zE(){var o,l;let e=typeof $.window<"u"&&$;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=(l=(o=e[t])==null?void 0:o.runtime)==null?void 0:l.id,r=je()||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],i=!!n&&$===$.top&&a.some(c=>r.startsWith(`${c}//`)),s=typeof e.nw<"u";return!!n&&!i&&!s}function hl(e={}){let t=HE(e);if(!t.skipBrowserExtensionCheck&&zE()){G&&st(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}G&&!Ws()&&_.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");let n=I(h({},t),{stackParser:Vc(t.stackParser||uh),integrations:bu(t),transport:t.transport||fl});return xu(sh,n)}function qE(e={}){var s;if(!$.document){G&&_.error("Global document not defined in showReportDialog call");return}let t=j(),n=(s=t.getClient())==null?void 0:s.getDsn();if(!n){G&&_.error("DSN not configured for showReportDialog call");return}if(t&&(e.user=h(h({},t.getUser()),e.user)),!e.eventId){let o=Ma();o&&(e.eventId=o)}let r=$.document.createElement("script");r.async=!0,r.crossOrigin="anonymous",r.src=vu(n,e),e.onLoad&&(r.onload=e.onLoad);let{onClose:a}=e;if(a){let o=l=>{if(l.data==="__sentry_reportdialog_closed__")try{a()}finally{$.removeEventListener("message",o)}};$.addEventListener("message",o)}let i=$.document.head||$.document.body;i?i.appendChild(r):G&&_.error("Not injecting report dialog. No injection point found in HTML")}function WE(){}function GE(e){e()}var VE=D,YE="ReportingObserver",Hf=new WeakMap,JE=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(Hf.has(x()))for(let a of r)ze(i=>{i.setExtra("url",a.url);let s=`ReportingObserver [${a.type}]`,o="No details available";if(a.body){let l={};for(let c in a.body)l[c]=a.body[c];if(i.setExtra("body",l),a.type==="crash"){let c=a.body;o=[c.crashId||"",c.reason||""].join(" ").trim()||o}else o=a.body.message||o}In(`${s}: ${o}`)})}return{name:YE,setupOnce(){td()&&new VE.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Hf.set(r,!0)}}},KE=JE,XE="HttpClient",ZE=(e={})=>{let t=h({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:XE,setup(n){ok(n,t),lk(n,t)}}},QE=ZE;function ek(e,t,n,r,a){if(Sh(e,n.status,n.url)){let i=ck(t,r),s,o,l,c;Eh()&&([s,l]=jf("Cookie",i),[o,c]=jf("Set-Cookie",n));let d=wh({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:o,requestCookies:l,responseCookies:c,error:a});qt(d)}}function jf(e,t){let n=rk(t.headers),r;try{let a=n[e]||n[e.toLowerCase()]||void 0;a&&(r=bh(a))}catch(a){}return[n,r]}function tk(e,t,n,r,a){if(Sh(e,t.status,t.responseURL)){let i,s,o;if(Eh()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=bh(c))}catch(c){}try{o=ak(t)}catch(c){}i=r}let l=wh({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:o,responseCookies:s,error:a});qt(l)}}function nk(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function bh(e){return e.split("; ").reduce((t,n)=>{let[r,a]=n.split("=");return r&&a&&(t[r]=a),t},{})}function rk(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function ak(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return a&&i&&(n[a]=i),n},{}):{}}function ik(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function sk(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function ok(e,t){Gs()&&On(n=>{if(x()!==e)return;let{response:r,args:a,error:i,virtualError:s}=n,[o,l]=a;r&&ek(t,o,r,l,i||s)},!1)}function lk(e,t){"XMLHttpRequest"in D&&$n(n=>{if(x()!==e)return;let{error:r,virtualError:a}=n,i=n.xhr,s=i[We];if(!s)return;let{method:o,request_headers:l}=s;try{tk(t,i,o,l,r||a)}catch(c){G&&_.warn("Error while extracting response event form XHR response",c)}})}function Sh(e,t,n){return sk(e.failedRequestStatusCodes,t)&&ik(e.failedRequestTargets,n)&&!Na(n,x())}function wh(e){let t=x(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,a=`HTTP Client Error with status code: ${e.status}`,i={message:a,exception:{values:[{type:"Error",value:a,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:nk(e.responseHeaders)}}};return ot(i,{type:"http.client",handled:!1}),i}function ck(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function Eh(){let e=x();return e?!!e.getOptions().sendDefaultPii:!1}var sl=D,uk=7,dk="ContextLines",pk=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:uk;return{name:dk,processEvent(n){return hk(n,t)}}},fk=pk;function hk(e,t){var o;let n=sl.document,r=sl.location&&Ba(sl.location.href);if(!n||!r)return e;let a=(o=e.exception)==null?void 0:o.values;if(!(a!=null&&a.length))return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return a.forEach(l=>{let c=l.stacktrace;c!=null&&c.frames&&(c.frames=c.frames.map(d=>mk(d,s,r,t)))}),e}function mk(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||xc(t,e,r),e}var gk="GraphQLClient",_k=e=>({name:gk,setup(t){yk(t,e),vk(t,e)}});function yk(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let a=F(n).data||{};if(a[Ne]!=="http.client")return;let i=a[Oc]||a["http.url"],s=a[Ac]||a["http.method"];if(!Be(i)||!Be(s))return;let{endpoints:o}=t,l=Ye(i,o),c=Th(r);if(l&&c){let d=Ih(c);if(d){let u=kh(d);n.updateName(`${s} ${i} (${u})`),n.setAttribute("graphql.document",c)}}})}function vk(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:a,type:i,data:s}=n;if(i==="http"&&(a==="fetch"||a==="xhr")){let o=s==null?void 0:s.url,{endpoints:l}=t,c=Ye(o,l),d=Th(r);if(c&&s&&d){let u=Ih(d);if(!s.graphql&&u){let p=kh(u);s["graphql.document"]=u.query,s["graphql.operation"]=p}}}})}function kh(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:a}=bk(t);return r?`${a} ${r}`:`${a}`}function Th(e){let t="xhr"in e,n;if(t){let r=e.xhr[We];n=r&&Un(r.body)[0]}else{let r=Fr(e.input);n=Un(r)[0]}return n}function bk(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let a=e.match(n);return a?{operationType:a[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Ih(e){let t;try{let n=JSON.parse(e);n.query&&(t=n)}finally{return t}}var Sk=_k,zf=new WeakMap,ol=new Map,ml={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function xh(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:o,onRequestSpanStart:l}=h(h({},ml),t),c=typeof i=="function"?i:p=>!0,d=p=>kk(p,o),u={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(f=>{if(f.op==="http.client"){let m=ol.get(f.span_id);m&&(f.timestamp=m/1e3,ol.delete(f.span_id))}}),p)),a&&nd(p=>{if(p.response){let f=zf.get(p.response);f&&p.endTimestamp&&ol.set(f,p.endTimestamp)}}),On(p=>{let f=Zu(p,c,d,u);if(p.response&&p.fetchData.__span&&zf.set(p.response,p.fetchData.__span),f){let m=Ch(p.fetchData.url),g=m?yt(m).host:void 0;f.setAttributes({"http.url":m,"server.address":g}),s&&qf(f),l==null||l(f,{headers:p.headers})}})),r&&$n(p=>{var m;let f=Tk(p,c,d,u);if(f){s&&qf(f);let g;try{g=new Headers((m=p.xhr.__sentry_xhr_v3__)==null?void 0:m.request_headers)}catch(y){}l==null||l(f,{headers:g})}})}function wk(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function qf(e){let{url:t}=F(e).data;if(!t||typeof t!="string")return;let n=Wt("resource",({entries:r})=>{r.forEach(a=>{wk(a)&&a.name.endsWith(t)&&(Ek(a).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function bt(e=0){return((be()||performance.timeOrigin)+e)/1e3}function Ek(e){let{name:t,version:n}=oo(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),be()?[...r,["http.request.redirect_start",bt(e.redirectStart)],["http.request.fetch_start",bt(e.fetchStart)],["http.request.domain_lookup_start",bt(e.domainLookupStart)],["http.request.domain_lookup_end",bt(e.domainLookupEnd)],["http.request.connect_start",bt(e.connectStart)],["http.request.secure_connection_start",bt(e.secureConnectionStart)],["http.request.connection_end",bt(e.connectEnd)],["http.request.request_start",bt(e.requestStart)],["http.request.response_start",bt(e.responseStart)],["http.request.response_end",bt(e.responseEnd)]]:r}function kk(e,t){let n=je();if(n){let r,a;try{r=new URL(e,n),a=new URL(n).origin}catch(s){return!1}let i=r.origin===a;return t?Ye(r.toString(),t)||i&&Ye(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Ye(e,t):r}}function Tk(e,t,n,r){let a=e.xhr,i=a==null?void 0:a[We];if(!a||a.__sentry_own_request__||!i)return;let{url:s,method:o}=i,l=xt()&&t(s);if(e.endTimestamp&&l){let g=a.__sentry_xhr_span_id__;if(!g)return;let y=r[g];y&&i.status_code!==void 0&&(nn(y,i.status_code),y.end(),delete r[g]);return}let c=Ch(s),d=c?yt(c):yt(s),u=Ba(s),p=!!fe(),f=l&&p?Mt({name:`${o} ${u}`,attributes:h(h({url:s,type:"xhr","http.method":o,"http.url":c,"server.address":d==null?void 0:d.host,[ae]:"auto.http.browser",[Ne]:"http.client"},(d==null?void 0:d.search)&&{"http.query":d==null?void 0:d.search}),(d==null?void 0:d.hash)&&{"http.fragment":d==null?void 0:d.hash})}):new gt;a.__sentry_xhr_span_id__=f.spanContext().spanId,r[a.__sentry_xhr_span_id__]=f,n(s)&&Ik(a,xt()&&p?f:void 0);let m=x();return m&&m.emit("beforeOutgoingRequestSpan",f,e),f}function Ik(e,t){let{"sentry-trace":n,baggage:r}=Hs({span:t});n&&xk(e,n,r)}function xk(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch(r){}}function Ch(e){try{return new URL(e,$.location.origin).href}catch(t){return}}function Ck(){$.document?$.document.addEventListener("visibilitychange",()=>{let e=fe();if(!e)return;let t=ue(e);if($.document.hidden&&t){let n="cancelled",{op:r,status:a}=F(t);G&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),a||t.setStatus({code:Lc,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):G&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Mk=3600,Mh="sentry_previous_trace",Rk="sentry.previous_trace";function Wf(e,t){let n=F(t);if(!e)return{spanContext:t.spanContext(),startTimestamp:n.start_timestamp};let r=e.spanContext;return r.traceId===n.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Mk&&(G&&_.info(`Adding previous_trace ${r} link to span ${h({op:n.op},t.spanContext())}`),t.addLink({context:r,attributes:{[Nc]:"previous_trace"}}),t.setAttribute(Rk,`${r.traceId}-${r.spanId}-${r.traceFlags===1?1:0}`)),{spanContext:t.spanContext(),startTimestamp:F(t).start_timestamp})}function Ak(e){try{$.sessionStorage.setItem(Mh,JSON.stringify(e))}catch(t){G&&_.warn("Could not store previous trace in sessionStorage",t)}}function Ok(){var e;try{let t=(e=$.sessionStorage)==null?void 0:e.getItem(Mh);return JSON.parse(t)}catch(t){return}}var Nk="BrowserTracing",Lk=h(I(h({},or),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,linkPreviousTrace:"in-memory",_experiments:{}}),ml),Gf=!1,gl=(e={})=>{Gf&&st(()=>{console.warn("Multiple browserTracingIntegration instances are not supported.")}),Gf=!0;let t=$.document;Ea();let{enableInp:n,enableLongTask:r,enableLongAnimationFrame:a,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:o,idleTimeout:l,finalTimeout:c,childSpanTimeout:d,markBackgroundSpan:u,traceFetch:p,traceXHR:f,trackFetchStreamPerformance:m,shouldCreateSpanForRequest:g,enableHTTPTimings:y,instrumentPageLoad:v,instrumentNavigation:w,linkPreviousTrace:C,onRequestSpanStart:A}=h(h({},Lk),e),N=bd({recordClsStandaloneSpans:s||!1});n&&Td(),a&&D.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?wd():r&&Sd(),i&&Ed();let b={name:void 0,source:void 0};function k(O,S){let M=S.op==="pageload",T=o?o(S):S,E=T.attributes||{};S.name!==T.name&&(E[Pe]="custom",T.attributes=E),b.name=T.name,b.source=E[Pe];let R=Ds(T,{idleTimeout:l,finalTimeout:c,childSpanTimeout:d,disableAutoFinish:M,beforeSpanEnd:V=>{N(),kd(V,{recordClsOnPageloadSpan:!s}),Yf(O,void 0);let U=j(),Q=U.getPropagationContext();U.setPropagationContext(I(h({},Q),{traceId:R.spanContext().traceId,sampled:jt(R),dsc:Ve(V)}))}});Yf(O,R);function W(){t&&["interactive","complete"].includes(t.readyState)&&O.emit("idleSpanEnableAutoFinish",R)}M&&t&&(t.addEventListener("readystatechange",()=>{W()}),W())}return{name:Nk,afterAllSetup(O){let S=je();function M(){let T=Fi(O);T&&!F(T).timestamp&&(G&&_.log(`[Tracing] Finishing current active span with op: ${F(T).op}`),T.end())}if(O.on("startNavigationSpan",T=>{x()===O&&(M(),ge().setPropagationContext({traceId:mt(),sampleRand:Math.random()}),j().setPropagationContext({traceId:mt(),sampleRand:Math.random()}),k(O,h({op:"navigation"},T)))}),O.on("startPageLoadSpan",(T,E={})=>{if(x()!==O)return;M();let R=E.sentryTrace||Vf("sentry-trace"),W=E.baggage||Vf("baggage"),V=Ss(R,W);j().setPropagationContext(V),k(O,h({op:"pageload"},T))}),C!=="off"){let T;O.on("spanStart",E=>{if(ue(E)===E)if(C==="session-storage"){let R=Wf(Ok(),E);Ak(R)}else T=Wf(T,E)})}if($.location){if(v){let T=be();Rh(O,{name:$.location.pathname,startTime:T?T/1e3:void 0,attributes:{[Pe]:"url",[ae]:"auto.pageload.browser"}})}w&&Gt(({to:T,from:E})=>{if(E===void 0&&(S==null?void 0:S.indexOf(T))!==-1){S=void 0;return}E!==T&&(S=void 0,Ah(O,{name:$.location.pathname,attributes:{[Pe]:"url",[ae]:"auto.navigation.browser"}}))})}u&&Ck(),i&&Dk(O,l,c,d,b),n&&Id(),xh(O,{traceFetch:p,traceXHR:f,trackFetchStreamPerformance:m,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:g,enableHTTPTimings:y,onRequestSpanStart:A})}}};function Rh(e,t,n){return e.emit("startPageLoadSpan",t,n),j().setTransactionName(t.name),Fi(e)}function Ah(e,t){return e.emit("startNavigationSpan",t),j().setTransactionName(t.name),Fi(e)}function Vf(e){var t,n;return((n=(t=$.document)==null?void 0:t.querySelector(`meta[name=${e}]`))==null?void 0:n.getAttribute("content"))||void 0}function Dk(e,t,n,r,a){let i=$.document,s,o=()=>{let l="ui.action.click",c=Fi(e);if(c){let d=F(c).op;if(["navigation","pageload"].includes(d)){G&&_.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(fa,"interactionInterrupted"),s.end(),s=void 0),!a.name){G&&_.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}s=Ds({name:a.name,op:l,attributes:{[Pe]:a.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",o,{once:!1,capture:!0})}var Oh="_sentry_idleSpan";function Fi(e){return e[Oh]}function Yf(e,t){Re(e,Oh,t)}function ar(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Pk(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=ar(n);return a=>r.then(i=>a(i.transaction(t,"readwrite").objectStore(t)))}function _l(e){return ar(e.getAllKeys())}function Fk(e,t,n){return e(r=>_l(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.max(...a,0)+1),ar(r.transaction)}))}function $k(e,t,n){return e(r=>_l(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.min(...a,0)-1),ar(r.transaction)}))}function Uk(e){return e(t=>_l(t).then(n=>{let r=n[0];if(r!=null)return ar(t.get(r)).then(a=>(t.delete(r),ar(t.transaction).then(()=>a)))}))}function Bk(e){let t;function n(){return t==null&&(t=Pk(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:r=>P(this,null,function*(){try{let a=yield An(r);yield Fk(n(),a,e.maxQueueSize||30)}catch(a){}}),unshift:r=>P(this,null,function*(){try{let a=yield An(r);yield $k(n(),a,e.maxQueueSize||30)}catch(a){}}),shift:()=>P(this,null,function*(){try{let r=yield Uk(n());if(r)return tu(r)}catch(r){}})}}function Hk(e){return t=>{let n=e(I(h({},t),{createStore:Bk}));return $.addEventListener("online",r=>P(this,null,function*(){yield n.flush()})),n}}function jk(e=fl){return Hk(Ru(e))}var Jf=1e6,Di=String(0),zk="main",nt=$.navigator,Nh="",Lh="",Dh="",ul=(nt==null?void 0:nt.userAgent)||"",Ph="",Qf,qk=(nt==null?void 0:nt.language)||((Qf=nt==null?void 0:nt.languages)==null?void 0:Qf[0])||"";function Wk(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var Kf=nt==null?void 0:nt.userAgentData;Wk(Kf)&&Kf.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(Nh=e.platform||"",Dh=e.architecture||"",Ph=e.model||"",Lh=e.platformVersion||"",(t=e.fullVersionList)==null?void 0:t.length){let n=e.fullVersionList[e.fullVersionList.length-1];ul=`${n.brand} ${n.version}`}}).catch(e=>{});function Gk(e){return!("thread_metadata"in e)}function Vk(e){return Gk(e)?Kk(e):e}function Yk(e){var n,r;let t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&G&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function Jk(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let a=Yk(r),i=Vk(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:ve()*1e3),o=typeof r.timestamp=="number"?r.timestamp*1e3:ve()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||vr,runtime:{name:"javascript",version:$.navigator.userAgent},os:{name:Nh,version:Lh,build_number:ul},device:{locale:qk,model:Ph,manufacturer:ul,architecture:Dh,is_emulator:!1},debug_meta:{images:Qk(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||ke(),trace_id:a,active_thread_id:Di,relative_start_ns:"0",relative_end_ns:((o-s)*1e6).toFixed(0)}]}}function Fh(e){return F(e).op==="pageload"}function Kk(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Di]:{name:zk}}},a=e.samples[0];if(!a)return r;let i=a.timestamp,s=be(),o=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,l=o-(s||o);return e.samples.forEach((c,d)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((c.timestamp+l-i)*Jf).toFixed(0),stack_id:t,thread_id:Di};return}let u=e.stacks[c.stackId],p=[];for(;u;){p.push(u.frameId);let m=e.frames[u.frameId];m&&r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let f={elapsed_since_start_ns:((c.timestamp+l-i)*Jf).toFixed(0),stack_id:n,thread_id:Di};r.stacks[n]=p,r.samples[d]=f,n++}),r}function Xk(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function Zk(e){let t=[];return Ut(e,(n,r)=>{if(r==="transaction")for(let a=1;a<n.length;a++){let i=n[a];i!=null&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(n[a])}}),t}function Qk(e){var n,r;let t=(r=(n=x())==null?void 0:n.getOptions())==null?void 0:r.stackParser;return t?lu(t,e):[]}function eT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(G&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(G&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function tT(e){return e.samples.length<2?(G&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(G&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}var $h=!1,Uh=3e4;function nT(e){return typeof e=="function"}function rT(){let e=$.Profiler;if(!nT(e)){G&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(Uh/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch(r){G&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),$h=!0}}function Xf(e){var r;if($h)return G&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return G&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=(r=x())==null?void 0:r.getOptions();if(!t)return G&&_.log("[Profiling] Profiling disabled, no options found."),!1;let n=t.profilesSampleRate;return eT(n)?n?n===!0||Math.random()<n?!0:(G&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(G&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(G&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function aT(e,t,n,r){return tT(n)?Jk(e,t,n,r):null}var fn=new Map;function iT(){return fn.size}function sT(e){let t=fn.get(e);return t&&fn.delete(e),t}function oT(e,t){if(fn.set(e,t),fn.size>30){let n=fn.keys().next().value;fn.delete(n)}}function Zf(e){let t;Fh(e)&&(t=ve()*1e3);let n=rT();if(!n)return;G&&_.log(`[Profiling] started profiling span: ${F(e).description}`);let r=ke();j().setContext("profile",{profile_id:r,start_timestamp:t});function a(){return P(this,null,function*(){if(e&&n)return n.stop().then(l=>{if(i&&($.clearTimeout(i),i=void 0),G&&_.log(`[Profiling] stopped profiling of span: ${F(e).description}`),!l){G&&_.log(`[Profiling] profiler returned null profile for: ${F(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}oT(r,l)}).catch(l=>{G&&_.log("[Profiling] error while stopping profiler:",l)})})}let i=$.setTimeout(()=>{G&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",F(e).description),a()},Uh),s=e.end.bind(e);function o(){return e?(a().then(()=>{s()},()=>{s()}),e):s()}e.end=o}var lT="BrowserProfiling",cT=()=>({name:lT,setup(e){let t=fe(),n=t&&ue(t);n&&Fh(n)&&Xf(n)&&Zf(n),e.on("spanStart",r=>{r===ue(r)&&Xf(r)&&Zf(r)}),e.on("beforeEnvelope",r=>{var s,o;if(!iT())return;let a=Zk(r);if(!a.length)return;let i=[];for(let l of a){let c=l==null?void 0:l.contexts,d=(s=c==null?void 0:c.profile)==null?void 0:s.profile_id,u=(o=c==null?void 0:c.profile)==null?void 0:o.start_timestamp;if(typeof d!="string"){G&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){G&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}c!=null&&c.profile&&delete c.profile;let p=sT(d);if(!p){G&&_.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}let f=aT(d,u,p,l);f&&i.push(f)}Xk(r,i)})}}),uT=cT,dT="SpotlightBrowser",pT=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:dT,setup:()=>{G&&_.log("Using Sidecar URL",t)},processEvent:n=>mT(n)?null:n,afterAllSetup:n=>{fT(n,t)}}};function fT(e,t){let n=Pr("fetch"),r=0;e.on("beforeEnvelope",a=>{if(r>3){_.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:An(a),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,_.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var hT=pT;function mT(e){return!!(e.type==="transaction"&&e.spans&&e.contexts&&e.contexts.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t==null?void 0:t.includes("#sentry-spotlight")))}var gT=100;function ea(e){let t=j().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function ir(e,t,n=gT){let r=j().getScopeData().contexts;r.flags||(r.flags={values:[]});let a=r.flags.values;_T(a,e,t,n)}function _T(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){G&&_.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let a=e.findIndex(i=>i.flag===t);a!==-1&&e.splice(a,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}var yT=()=>({name:"FeatureFlags",processEvent(e,t,n){return ea(e)},addFeatureFlag(e,t){ir(e,t)}}),vT=()=>({name:"LaunchDarkly",processEvent(e,t,n){return ea(e)}});function bT(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{ir(e,t.value)}}}var ST=()=>({name:"OpenFeature",processEvent(e,t,n){return ea(e)}}),wT=class{after(e,t){ir(t.flagKey,t.value)}error(e,t,n){ir(e.flagKey,e.defaultValue)}},ET=({featureFlagClientClass:e})=>({name:"Unleash",processEvent(t,n,r){return ea(t)},setupOnce(){let t=e.prototype;we(t,"isEnabled",kT)}});function kT(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?ir(n,r):G&&_.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var TT=({featureFlagClient:e})=>({name:"Statsig",processEvent(t,n,r){return ea(t)},setup(){e.on("gate_evaluation",t=>{ir(t.gate.name,t.gate.value)})}});function IT(){return P(this,null,function*(){let e=x();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{yield fetch("https://o447951.ingest.sentry.io/api/1337/envelope/?sentry_version=7&sentry_key=1337&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch(t){return"sentry-unreachable"}})}var Hh=/(\.dev|www-[a-z0-9]+)\.archive\.org$/.test(window.location.origin)?"review":"production",vl=document.querySelector("head"),xT=vl.getAttribute("data-release")||"unset",CT=vl.getAttribute("data-node")||"unknown",MT="https://1975dc711a374a438885e671105ce869@sink.archive.org/6",$i=Hh==="production",RT=$i?.01:1,AT=$i?.05:1;function Bh(e){let t=e.split("/").slice(1);if(/^\/(details|download)\/.+/.test(e)){let n=vl.querySelector('meta[property="mediatype"]').getAttribute("content");return`/${t[0]}/<${n}>`}return/^\/post\/\d+/.test(e)?`/${t[0]}/<id>`:e}hl({dsn:MT,attachStacktrace:!0,autoSessionTracking:!$i,debug:!$i,environment:Hh,release:xT,tracesSampleRate:RT,integrations:[gl({beforeStartSpan:e=>I(h({},e),{name:Bh(location.pathname)})})],beforeSend(e){let t=Bh(location.pathname);return t!==location.pathname&&(e.transaction=t),e},sampleRate:AT});Ca("server_name",CT);window.Sentry=yl;})();
// @license-end
//# sourceMappingURL=ia-sentry.min.js.map
