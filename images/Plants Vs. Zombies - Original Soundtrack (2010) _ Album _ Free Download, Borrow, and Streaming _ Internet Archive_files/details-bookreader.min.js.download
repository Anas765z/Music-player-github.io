// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var qv=Object.defineProperty,ik=Object.defineProperties;var rk=Object.getOwnPropertyDescriptors;var Ju=Object.getOwnPropertySymbols;var Gv=Object.prototype.hasOwnProperty,Yv=Object.prototype.propertyIsEnumerable;var ip=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),En=Math.pow,Wv=(e,t,r)=>t in e?qv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jr=(e,t)=>{for(var r in t||(t={}))Gv.call(t,r)&&Wv(e,r,t[r]);if(Ju)for(var r of Ju(t))Yv.call(t,r)&&Wv(e,r,t[r]);return e},an=(e,t)=>ik(e,rk(t));var nn=(e,t)=>{var r={};for(var s in e)Gv.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Ju)for(var s of Ju(e))t.indexOf(s)<0&&Yv.call(e,s)&&(r[s]=e[s]);return r};var Zt=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ln=(e,t)=>{for(var r in t)qv(e,r,{get:t[r],enumerable:!0})};var xi=(e,t,r)=>new Promise((s,l)=>{var o=u=>{try{n(r.next(u))}catch(p){l(p)}},c=u=>{try{n(r.throw(u))}catch(p){l(p)}},n=u=>u.done?s(u.value):Promise.resolve(u.value).then(o,c);n((r=r.apply(e,t)).next())}),nk=function(e,t){this[0]=e,this[1]=t};var Qu=e=>{var t=e[ip("asyncIterator")],r=!1,s,l={};return t==null?(t=e[ip("iterator")](),s=o=>l[o]=c=>t[o](c)):(t=t.call(e),s=o=>l[o]=c=>{if(r){if(r=!1,o==="throw")throw c;return c}return r=!0,{done:!1,value:new nk(new Promise(n=>{var u=t[o](c);if(!(u instanceof Object))throw TypeError("Object expected");n(u)}),1)}}),l[ip("iterator")]=()=>l,s("next"),"throw"in t?s("throw"):l.throw=o=>{throw o},"return"in t&&s("return"),l};function de(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o}function ms(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ga(e,t,r,s){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function n(g){try{p(s.next(g))}catch(m){c(m)}}function u(g){try{p(s.throw(g))}catch(m){c(m)}}function p(g){g.done?o(g.value):l(g.value).then(n,u)}p((s=s.apply(e,t||[])).next())})}var wr=Zt(()=>{});function Ml(e,t,r){var s=r||{},l=s.noTrailing,o=l===void 0?!1:l,c=s.noLeading,n=c===void 0?!1:c,u=s.debounceMode,p=u===void 0?void 0:u,g,m=!1,y=0;function x(){g&&clearTimeout(g)}function w(S){var P=S||{},E=P.upcomingOnly,O=E===void 0?!1:E;x(),m=!O}function k(){for(var S=arguments.length,P=new Array(S),E=0;E<S;E++)P[E]=arguments[E];var O=this,a=Date.now()-y;if(m)return;function h(){y=Date.now(),t.apply(O,P)}function v(){g=void 0}!n&&p&&!g&&h(),x(),p===void 0&&a>e?n?(y=Date.now(),o||(g=setTimeout(p?v:h,e))):h():o!==!0&&(g=setTimeout(p?v:h,p===void 0?e-a:e))}return k.cancel=w,k}var Mc=Zt(()=>{});var ed,td,rp,Kv,np,Xv,yt,op,id,ap=Zt(()=>{ed=window,td=ed.ShadowRoot&&(ed.ShadyCSS===void 0||ed.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,rp=Symbol(),Kv=new WeakMap,np=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==rp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(td&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=Kv.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Kv.set(t,e))}return e}toString(){return this.cssText}},Xv=e=>new np(typeof e=="string"?e:e+"",void 0,rp),yt=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((s,l,o)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new np(r,e,rp)},op=(e,t)=>{td?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let s=document.createElement("style"),l=ed.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)})},id=td?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return Xv(r)})(e):e;});var sp,rd,Zv,ok,lp,up,Jv,cp,dp,gs,Lc=Zt(()=>{ap();ap();rd=window,Zv=rd.trustedTypes,ok=Zv?Zv.emptyScript:"",lp=rd.reactiveElementPolyfillSupport,up={toAttribute(e,t){switch(t){case Boolean:e=e?ok:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},Jv=(e,t)=>t!==e&&(t==t||e==e),cp={attribute:!0,type:String,converter:up,reflect:!1,hasChanged:Jv},dp="finalized",gs=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let s=this._$Ep(r,t);s!==void 0&&(this._$Ev.set(s,r),e.push(s))}),e}static createProperty(e,t=cp){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,r,t);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(s){let l=this[e];this[t]=s,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||cp}static finalize(){if(this.hasOwnProperty(dp))return!1;this[dp]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let s of r)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(id(s))}else e!==void 0&&t.push(id(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return op(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=cp){var s;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:up).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let s=this.constructor,l=s._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=s.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:up;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let s=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Jv)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}_$Ej(){return xi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,l)=>this[l]=s),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(s=>{var l;return(l=s.hostUpdate)===null||l===void 0?void 0:l.call(s)}),this.update(r)):this._$Ek()}catch(s){throw t=!1,this._$Ek(),s}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};gs[dp]=!0,gs.elementProperties=new Map,gs.elementStyles=[],gs.shadowRootOptions={mode:"open"},lp==null||lp({ReactiveElement:gs}),((sp=rd.reactiveElementVersions)!==null&&sp!==void 0?sp:rd.reactiveElementVersions=[]).push("1.6.3");});function c0(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Qv!==void 0?Qv.createHTML(t):t}function Il(e,t,r=e,s){var l,o,c,n;if(t===ws)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Rc(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Il(e,u._$AS(e,t.values),u,s)),t}var hp,nd,Ll,Qv,mp,Ya,o0,ak,bs,Dc,Rc,a0,sk,pp,Ic,e0,t0,vs,i0,r0,s0,l0,tt,Gn,ws,$i,n0,ys,lk,gp,ck,vp,od,uk,dk,hk,pk,fk,fp,ad,Dl=Zt(()=>{nd=window,Ll=nd.trustedTypes,Qv=Ll?Ll.createPolicy("lit-html",{createHTML:e=>e}):void 0,mp="$lit$",Ya=`lit$${(Math.random()+"").slice(9)}$`,o0="?"+Ya,ak=`<${o0}>`,bs=document,Dc=()=>bs.createComment(""),Rc=e=>e===null||typeof e!="object"&&typeof e!="function",a0=Array.isArray,sk=e=>a0(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",pp=`[ 	
\f\r]`,Ic=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,e0=/-->/g,t0=/>/g,vs=RegExp(`>|${pp}(?:([^\\s"'>=/]+)(${pp}*=${pp}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),i0=/'/g,r0=/"/g,s0=/^(?:script|style|textarea|title)$/i,l0=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),tt=l0(1),Gn=l0(2),ws=Symbol.for("lit-noChange"),$i=Symbol.for("lit-nothing"),n0=new WeakMap,ys=bs.createTreeWalker(bs,129,null,!1);lk=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Ic;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Ic?g[1]==="!--"?c=e0:g[1]!==void 0?c=t0:g[2]!==void 0?(s0.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=vs):g[3]!==void 0&&(c=vs):c===vs?g[0]===">"?(c=l!=null?l:Ic,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?vs:g[3]==='"'?r0:i0):c===r0||c===i0?c=vs:c===e0||c===t0?c=Ic:(c=vs,l=void 0);let x=c===vs&&e[n+1].startsWith("/>")?" ":"";o+=c===Ic?u+ak:m>=0?(s.push(p),u.slice(0,m)+mp+u.slice(m)+Ya+x):u+Ya+(m===-2?(s.push(void 0),n):x)}return[c0(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},gp=class u0{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=lk(t,r);if(this.el=u0.createElement(p,s),ys.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=ys.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(mp)||y.startsWith(Ya)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+mp).split(Ya),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?uk:k[1]==="?"?hk:k[1]==="@"?pk:od})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(s0.test(l.tagName)){let m=l.textContent.split(Ya),y=m.length-1;if(y>0){l.textContent=Ll?Ll.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Dc()),ys.nextNode(),u.push({type:2,index:++o});l.append(m[y],Dc())}}}else if(l.nodeType===8)if(l.data===o0)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(Ya,m+1))!==-1;)u.push({type:7,index:o}),m+=Ya.length-1}o++}}static createElement(t,r){let s=bs.createElement("template");return s.innerHTML=t,s}};ck=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:bs).importNode(r,!0);ys.currentNode=l;let o=ys.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new vp(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new fk(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=ys.nextNode(),c++)}return ys.currentNode=bs,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},vp=class d0{constructor(t,r,s,l){var o;this.type=2,this._$AH=$i,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Il(this,t,r),Rc(t)?t===$i||t==null||t===""?(this._$AH!==$i&&this._$AR(),this._$AH=$i):t!==this._$AH&&t!==ws&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):sk(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==$i&&Rc(this._$AH)?this._$AA.nextSibling.data=t:this.$(bs.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=gp.createElement(c0(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new ck(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=n0.get(t.strings);return r===void 0&&n0.set(t.strings,r=new gp(t)),r}T(t){a0(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new d0(this.k(Dc()),this.k(Dc()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},od=class{constructor(e,t,r,s,l){this.type=1,this._$AH=$i,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$i}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Il(this,e,t,0),o=!Rc(e)||e!==this._$AH&&e!==ws,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Il(this,c[r+n],t,n),u===ws&&(u=this._$AH[n]),o||(o=!Rc(u)||u!==this._$AH[n]),u===$i?e=$i:e!==$i&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===$i?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},uk=class extends od{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$i?void 0:e}},dk=Ll?Ll.emptyScript:"",hk=class extends od{constructor(){super(...arguments),this.type=4}j(e){e&&e!==$i?this.element.setAttribute(this.name,dk):this.element.removeAttribute(this.name)}},pk=class extends od{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Il(this,e,t,0))!==null&&r!==void 0?r:$i)===ws)return;let s=this._$AH,l=e===$i&&s!==$i||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==$i&&(s===$i||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},fk=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Il(this,e)}},fp=nd.litHtmlPolyfillSupport;fp==null||fp(gp,vp),((hp=nd.litHtmlVersions)!==null&&hp!==void 0?hp:nd.litHtmlVersions=[]).push("2.8.0");ad=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new vp(t.insertBefore(Dc(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var yp,bp,hi,wp,xp=Zt(()=>{Lc();Lc();Dl();Dl();hi=class extends gs{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ad(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return ws}};hi.finalized=!0,hi._$litElement$=!0,(yp=globalThis.litElementHydrateSupport)===null||yp===void 0||yp.call(globalThis,{LitElement:hi});wp=globalThis.litElementPolyfillSupport;wp==null||wp({LitElement:hi});((bp=globalThis.litElementVersions)!==null&&bp!==void 0?bp:globalThis.litElementVersions=[]).push("3.3.3");});var _p=Zt(()=>{});var ki=Zt(()=>{Lc();Dl();xp();_p()});var cr,h0=Zt(()=>{cr=e=>t=>typeof t=="function"?((r,s)=>(customElements.define(r,s),s))(e,t):((r,s)=>{let{kind:l,elements:o}=s;return{kind:l,elements:o,finisher(c){customElements.define(r,c)}}})(e,t);});function ri(e){return(t,r)=>r!==void 0?gk(e,t,r):mk(e,t)}var mk,gk,kp=Zt(()=>{mk=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?an(jr({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},gk=(e,t,r)=>{t.constructor.createProperty(r,e)};});function uo(e){return ri(an(jr({},e),{state:!0}))}var p0=Zt(()=>{kp();});var xs,_s=Zt(()=>{xs=({finisher:e,descriptor:t})=>(r,s)=>{var l;if(s===void 0){let o=(l=r.originalKey)!==null&&l!==void 0?l:r.key,c=t!=null?{kind:"method",placement:"prototype",key:o,descriptor:t(r.key)}:an(jr({},r),{key:o});return e!=null&&(c.finisher=function(n){e(n,o)}),c}{let o=r.constructor;t!==void 0&&Object.defineProperty(r,s,t(s)),e==null||e(o,s)}};});var f0=Zt(()=>{_s();});function ln(e,t){return xs({descriptor:r=>{let s={get(){var l,o;return(o=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(e))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(t){let l=typeof r=="symbol"?Symbol():"__"+r;s.get=function(){var o,c;return this[l]===void 0&&(this[l]=(c=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&c!==void 0?c:null),this[l]}}return s}})}var m0=Zt(()=>{_s();});var g0=Zt(()=>{_s();});var v0=Zt(()=>{_s();});var Ap,mE,Sp=Zt(()=>{_s();mE=((Ap=window.HTMLSlotElement)===null||Ap===void 0?void 0:Ap.prototype.assignedElements)!=null?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(r=>r.nodeType===Node.ELEMENT_NODE);});var y0=Zt(()=>{_s();Sp();});var Vr=Zt(()=>{h0();kp();p0();f0();m0();g0();v0();Sp();y0()});var vk,yk,sd=Zt(()=>{ki();ki();vk=tt`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,yk=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return vk}};customElements.define("ia-icon-close",yk)});var Ek,S0,Tk,Pk,$k,Ok,Mk,Lk,Ik,Dk,k0,A0,Pp,$p=Zt(()=>{Ek=Object.create,S0=Object.defineProperty,Tk=Object.getOwnPropertyDescriptor,Pk=Object.getOwnPropertyNames,$k=Object.getPrototypeOf,Ok=Object.prototype.hasOwnProperty,Mk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Lk=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Pk(t))!Ok.call(e,l)&&l!==r&&S0(e,l,{get:()=>t[l],enumerable:!(s=Tk(t,l))||s.enumerable});return e},Ik=(e,t,r)=>(r=e!=null?Ek($k(e)):{},Lk(t||!e||!e.__esModule?S0(r,"default",{value:e,enumerable:!0}):r,e)),Dk=Mk((e,t)=>{(function(r,s){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?s(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}:s(r)})(typeof window<"u"?window:e,function(r,s){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,p=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,x=y.toString,w=x.call(Object),k={},S=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},P=function(f){return f!=null&&f===f.window},E=r.document,O={type:!0,src:!0,nonce:!0,noModule:!0};function a(f,b,A){A=A||E;var M,H,F=A.createElement("script");if(F.text=f,b)for(M in O)H=b[M]||b.getAttribute&&b.getAttribute(M),H&&F.setAttribute(M,H);A.head.appendChild(F).parentNode.removeChild(F)}function h(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,A){return f.call(b,A,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,A=+f+(f<0?b:0);return this.pushStack(A>=0&&A<b?[this[A]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,A,M,H,F,X=arguments[0]||{},Be=1,Pe=arguments.length,ft=!1;for(typeof X=="boolean"&&(ft=X,X=arguments[Be]||{},Be++),typeof X!="object"&&!S(X)&&(X={}),Be===Pe&&(X=this,Be--);Be<Pe;Be++)if((f=arguments[Be])!=null)for(b in f)M=f[b],!(b==="__proto__"||X===M)&&(ft&&M&&(d.isPlainObject(M)||(H=Array.isArray(M)))?(A=X[b],H&&!Array.isArray(A)?F=[]:!H&&!d.isPlainObject(A)?F={}:F=A,H=!1,X[b]=d.extend(ft,F,M)):M!==void 0&&(X[b]=M));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,A;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(A=y.call(b,"constructor")&&b.constructor,typeof A=="function"&&x.call(A)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,A){a(f,{nonce:b&&b.nonce},A)},each:function(f,b){var A,M=0;if(_(f))for(A=f.length;M<A&&b.call(f[M],M,f[M])!==!1;M++);else for(M in f)if(b.call(f[M],M,f[M])===!1)break;return f},makeArray:function(f,b){var A=b||[];return f!=null&&(_(Object(f))?d.merge(A,typeof f=="string"?[f]:f):u.call(A,f)),A},inArray:function(f,b,A){return b==null?-1:p.call(b,f,A)},merge:function(f,b){for(var A=+b.length,M=0,H=f.length;M<A;M++)f[H++]=b[M];return f.length=H,f},grep:function(f,b,A){for(var M,H=[],F=0,X=f.length,Be=!A;F<X;F++)M=!b(f[F],F),M!==Be&&H.push(f[F]);return H},map:function(f,b,A){var M,H,F=0,X=[];if(_(f))for(M=f.length;F<M;F++)H=b(f[F],F,A),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,A),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function _(f){var b=!!f&&"length"in f&&f.length,A=h(f);return S(f)||P(f)?!1:A==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,A,M,H,F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L,j,U,se,me="sizzle"+1*new Date,Ce=f.document,Rt=0,vt=0,qt=Cn(),ai=Cn(),Ei=Cn(),Ii=Cn(),Oi=function(ie,Oe){return ie===Oe&&(ei=!0),0},ar={}.hasOwnProperty,Wi=[],Ri=Wi.pop,Yi=Wi.push,Qi=Wi.push,Ki=Wi.slice,gr=function(ie,Oe){for(var at=0,Wt=ie.length;at<Wt;at++)if(ie[at]===Oe)return at;return-1},Dr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Li="[\\x20\\t\\r\\n\\f]",sr="(?:\\\\[\\da-fA-F]{1,6}"+Li+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Kr="\\["+Li+"*("+sr+")(?:"+Li+"*([*^$|!~]?=)"+Li+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+sr+"))|)"+Li+"*\\]",mr=":("+sr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Kr+")*)|.*)\\)|)",Br=new RegExp(Li+"+","g"),Lr=new RegExp("^"+Li+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Li+"+$","g"),pn=new RegExp("^"+Li+"*,"+Li+"*"),Nr=new RegExp("^"+Li+"*([>+~]|"+Li+")"+Li+"*"),Ir=new RegExp(Li+"|>"),Xr=new RegExp(mr),ge=new RegExp("^"+sr+"$"),ue={ID:new RegExp("^#("+sr+")"),CLASS:new RegExp("^\\.("+sr+")"),TAG:new RegExp("^("+sr+"|[*])"),ATTR:new RegExp("^"+Kr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Li+"*(even|odd|(([+-]|)(\\d*)n|)"+Li+"*(?:([+-]|)"+Li+"*(\\d+)|))"+Li+"*\\)|)","i"),bool:new RegExp("^(?:"+Dr+")$","i"),needsContext:new RegExp("^"+Li+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Li+"*((?:-\\d)?\\d*)"+Li+"*\\)|)(?=[^-]|$)","i")},Te=/HTML$/i,Vt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,ni=/^[^{]+\{\s*\[native \w/,vi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ui=/[+~]/,Di=new RegExp("\\\\[\\da-fA-F]{1,6}"+Li+"?|\\\\([^\\r\\n\\f])","g"),Ji=function(ie,Oe){var at="0x"+ie.slice(1)-65536;return Oe||(at<0?String.fromCharCode(at+65536):String.fromCharCode(at>>10|55296,at&1023|56320))},pr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yr=function(ie,Oe){return Oe?ie==="\0"?"\uFFFD":ie.slice(0,-1)+"\\"+ie.charCodeAt(ie.length-1).toString(16)+" ":"\\"+ie},ko=function(){$t()},_a=to(function(ie){return ie.disabled===!0&&ie.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Qi.apply(Wi=Ki.call(Ce.childNodes),Ce.childNodes),Wi[Ce.childNodes.length].nodeType}catch(ie){Qi={apply:Wi.length?function(Oe,at){Yi.apply(Oe,Ki.call(at))}:function(Oe,at){for(var Wt=Oe.length,pt=0;Oe[Wt++]=at[pt++];);Oe.length=Wt-1}}}function ur(ie,Oe,at,Wt){var pt,Yt,ii,li,mi,Bi,ji,Ni=Oe&&Oe.ownerDocument,tr=Oe?Oe.nodeType:9;if(at=at||[],typeof ie!="string"||!ie||tr!==1&&tr!==9&&tr!==11)return at;if(!Wt&&($t(Oe),Oe=Oe||ot,D)){if(tr!==11&&(mi=vi.exec(ie)))if(pt=mi[1]){if(tr===9)if(ii=Oe.getElementById(pt)){if(ii.id===pt)return at.push(ii),at}else return at;else if(Ni&&(ii=Ni.getElementById(pt))&&se(Oe,ii)&&ii.id===pt)return at.push(ii),at}else{if(mi[2])return Qi.apply(at,Oe.getElementsByTagName(ie)),at;if((pt=mi[3])&&A.getElementsByClassName&&Oe.getElementsByClassName)return Qi.apply(at,Oe.getElementsByClassName(pt)),at}if(A.qsa&&!Ii[ie+" "]&&(!L||!L.test(ie))&&(tr!==1||Oe.nodeName.toLowerCase()!=="object")){if(ji=ie,Ni=Oe,tr===1&&(Ir.test(ie)||Nr.test(ie))){for(Ni=Ui.test(ie)&&Uo(Oe.parentNode)||Oe,(Ni!==Oe||!A.scope)&&((li=Oe.getAttribute("id"))?li=li.replace(pr,yr):Oe.setAttribute("id",li=me)),Bi=X(ie),Yt=Bi.length;Yt--;)Bi[Yt]=(li?"#"+li:":scope")+" "+Vo(Bi[Yt]);ji=Bi.join(",")}try{return Qi.apply(at,Ni.querySelectorAll(ji)),at}catch(Tr){Ii(ie,!0)}finally{li===me&&Oe.removeAttribute("id")}}}return Pe(ie.replace(Lr,"$1"),Oe,at,Wt)}function Cn(){var ie=[];function Oe(at,Wt){return ie.push(at+" ")>M.cacheLength&&delete Oe[ie.shift()],Oe[at+" "]=Wt}return Oe}function dn(ie){return ie[me]=!0,ie}function fn(ie){var Oe=ot.createElement("fieldset");try{return!!ie(Oe)}catch(at){return!1}finally{Oe.parentNode&&Oe.parentNode.removeChild(Oe),Oe=null}}function Fo(ie,Oe){for(var at=ie.split("|"),Wt=at.length;Wt--;)M.attrHandle[at[Wt]]=Oe}function fo(ie,Oe){var at=Oe&&ie,Wt=at&&ie.nodeType===1&&Oe.nodeType===1&&ie.sourceIndex-Oe.sourceIndex;if(Wt)return Wt;if(at){for(;at=at.nextSibling;)if(at===Oe)return-1}return ie?1:-1}function zo(ie){return function(Oe){var at=Oe.nodeName.toLowerCase();return at==="input"&&Oe.type===ie}}function ka(ie){return function(Oe){var at=Oe.nodeName.toLowerCase();return(at==="input"||at==="button")&&Oe.type===ie}}function Aa(ie){return function(Oe){return"form"in Oe?Oe.parentNode&&Oe.disabled===!1?"label"in Oe?"label"in Oe.parentNode?Oe.parentNode.disabled===ie:Oe.disabled===ie:Oe.isDisabled===ie||Oe.isDisabled!==!ie&&_a(Oe)===ie:Oe.disabled===ie:"label"in Oe?Oe.disabled===ie:!1}}function Rn(ie){return dn(function(Oe){return Oe=+Oe,dn(function(at,Wt){for(var pt,Yt=ie([],at.length,Oe),ii=Yt.length;ii--;)at[pt=Yt[ii]]&&(at[pt]=!(Wt[pt]=at[pt]))})})}function Uo(ie){return ie&&typeof ie.getElementsByTagName<"u"&&ie}A=ur.support={},F=ur.isXML=function(ie){var Oe=ie&&ie.namespaceURI,at=ie&&(ie.ownerDocument||ie).documentElement;return!Te.test(Oe||at&&at.nodeName||"HTML")},$t=ur.setDocument=function(ie){var Oe,at,Wt=ie?ie.ownerDocument||ie:Ce;return Wt==ot||Wt.nodeType!==9||!Wt.documentElement||(ot=Wt,Pi=ot.documentElement,D=!F(ot),Ce!=ot&&(at=ot.defaultView)&&at.top!==at&&(at.addEventListener?at.addEventListener("unload",ko,!1):at.attachEvent&&at.attachEvent("onunload",ko)),A.scope=fn(function(pt){return Pi.appendChild(pt).appendChild(ot.createElement("div")),typeof pt.querySelectorAll<"u"&&!pt.querySelectorAll(":scope fieldset div").length}),A.attributes=fn(function(pt){return pt.className="i",!pt.getAttribute("className")}),A.getElementsByTagName=fn(function(pt){return pt.appendChild(ot.createComment("")),!pt.getElementsByTagName("*").length}),A.getElementsByClassName=ni.test(ot.getElementsByClassName),A.getById=fn(function(pt){return Pi.appendChild(pt).id=me,!ot.getElementsByName||!ot.getElementsByName(me).length}),A.getById?(M.filter.ID=function(pt){var Yt=pt.replace(Di,Ji);return function(ii){return ii.getAttribute("id")===Yt}},M.find.ID=function(pt,Yt){if(typeof Yt.getElementById<"u"&&D){var ii=Yt.getElementById(pt);return ii?[ii]:[]}}):(M.filter.ID=function(pt){var Yt=pt.replace(Di,Ji);return function(ii){var li=typeof ii.getAttributeNode<"u"&&ii.getAttributeNode("id");return li&&li.value===Yt}},M.find.ID=function(pt,Yt){if(typeof Yt.getElementById<"u"&&D){var ii,li,mi,Bi=Yt.getElementById(pt);if(Bi){if(ii=Bi.getAttributeNode("id"),ii&&ii.value===pt)return[Bi];for(mi=Yt.getElementsByName(pt),li=0;Bi=mi[li++];)if(ii=Bi.getAttributeNode("id"),ii&&ii.value===pt)return[Bi]}return[]}}),M.find.TAG=A.getElementsByTagName?function(pt,Yt){if(typeof Yt.getElementsByTagName<"u")return Yt.getElementsByTagName(pt);if(A.qsa)return Yt.querySelectorAll(pt)}:function(pt,Yt){var ii,li=[],mi=0,Bi=Yt.getElementsByTagName(pt);if(pt==="*"){for(;ii=Bi[mi++];)ii.nodeType===1&&li.push(ii);return li}return Bi},M.find.CLASS=A.getElementsByClassName&&function(pt,Yt){if(typeof Yt.getElementsByClassName<"u"&&D)return Yt.getElementsByClassName(pt)},j=[],L=[],(A.qsa=ni.test(ot.querySelectorAll))&&(fn(function(pt){var Yt;Pi.appendChild(pt).innerHTML="<a id='"+me+"'></a><select id='"+me+"-\r\\' msallowcapture=''><option selected=''></option></select>",pt.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+Li+`*(?:''|"")`),pt.querySelectorAll("[selected]").length||L.push("\\["+Li+"*(?:value|"+Dr+")"),pt.querySelectorAll("[id~="+me+"-]").length||L.push("~="),Yt=ot.createElement("input"),Yt.setAttribute("name",""),pt.appendChild(Yt),pt.querySelectorAll("[name='']").length||L.push("\\["+Li+"*name"+Li+"*="+Li+`*(?:''|"")`),pt.querySelectorAll(":checked").length||L.push(":checked"),pt.querySelectorAll("a#"+me+"+*").length||L.push(".#.+[+~]"),pt.querySelectorAll("\\\f"),L.push("[\\r\\n\\f]")}),fn(function(pt){pt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Yt=ot.createElement("input");Yt.setAttribute("type","hidden"),pt.appendChild(Yt).setAttribute("name","D"),pt.querySelectorAll("[name=d]").length&&L.push("name"+Li+"*[*^$|!~]?="),pt.querySelectorAll(":enabled").length!==2&&L.push(":enabled",":disabled"),Pi.appendChild(pt).disabled=!0,pt.querySelectorAll(":disabled").length!==2&&L.push(":enabled",":disabled"),pt.querySelectorAll("*,:x"),L.push(",.*:")})),(A.matchesSelector=ni.test(U=Pi.matches||Pi.webkitMatchesSelector||Pi.mozMatchesSelector||Pi.oMatchesSelector||Pi.msMatchesSelector))&&fn(function(pt){A.disconnectedMatch=U.call(pt,"*"),U.call(pt,"[s!='']:x"),j.push("!=",mr)}),L=L.length&&new RegExp(L.join("|")),j=j.length&&new RegExp(j.join("|")),Oe=ni.test(Pi.compareDocumentPosition),se=Oe||ni.test(Pi.contains)?function(pt,Yt){var ii=pt.nodeType===9?pt.documentElement:pt,li=Yt&&Yt.parentNode;return pt===li||!!(li&&li.nodeType===1&&(ii.contains?ii.contains(li):pt.compareDocumentPosition&&pt.compareDocumentPosition(li)&16))}:function(pt,Yt){if(Yt){for(;Yt=Yt.parentNode;)if(Yt===pt)return!0}return!1},Oi=Oe?function(pt,Yt){if(pt===Yt)return ei=!0,0;var ii=!pt.compareDocumentPosition-!Yt.compareDocumentPosition;return ii||(ii=(pt.ownerDocument||pt)==(Yt.ownerDocument||Yt)?pt.compareDocumentPosition(Yt):1,ii&1||!A.sortDetached&&Yt.compareDocumentPosition(pt)===ii?pt==ot||pt.ownerDocument==Ce&&se(Ce,pt)?-1:Yt==ot||Yt.ownerDocument==Ce&&se(Ce,Yt)?1:Dt?gr(Dt,pt)-gr(Dt,Yt):0:ii&4?-1:1)}:function(pt,Yt){if(pt===Yt)return ei=!0,0;var ii,li=0,mi=pt.parentNode,Bi=Yt.parentNode,ji=[pt],Ni=[Yt];if(!mi||!Bi)return pt==ot?-1:Yt==ot?1:mi?-1:Bi?1:Dt?gr(Dt,pt)-gr(Dt,Yt):0;if(mi===Bi)return fo(pt,Yt);for(ii=pt;ii=ii.parentNode;)ji.unshift(ii);for(ii=Yt;ii=ii.parentNode;)Ni.unshift(ii);for(;ji[li]===Ni[li];)li++;return li?fo(ji[li],Ni[li]):ji[li]==Ce?-1:Ni[li]==Ce?1:0}),ot},ur.matches=function(ie,Oe){return ur(ie,null,null,Oe)},ur.matchesSelector=function(ie,Oe){if($t(ie),A.matchesSelector&&D&&!Ii[Oe+" "]&&(!j||!j.test(Oe))&&(!L||!L.test(Oe)))try{var at=U.call(ie,Oe);if(at||A.disconnectedMatch||ie.document&&ie.document.nodeType!==11)return at}catch(Wt){Ii(Oe,!0)}return ur(Oe,ot,null,[ie]).length>0},ur.contains=function(ie,Oe){return(ie.ownerDocument||ie)!=ot&&$t(ie),se(ie,Oe)},ur.attr=function(ie,Oe){(ie.ownerDocument||ie)!=ot&&$t(ie);var at=M.attrHandle[Oe.toLowerCase()],Wt=at&&ar.call(M.attrHandle,Oe.toLowerCase())?at(ie,Oe,!D):void 0;return Wt!==void 0?Wt:A.attributes||!D?ie.getAttribute(Oe):(Wt=ie.getAttributeNode(Oe))&&Wt.specified?Wt.value:null},ur.escape=function(ie){return(ie+"").replace(pr,yr)},ur.error=function(ie){throw new Error("Syntax error, unrecognized expression: "+ie)},ur.uniqueSort=function(ie){var Oe,at=[],Wt=0,pt=0;if(ei=!A.detectDuplicates,Dt=!A.sortStable&&ie.slice(0),ie.sort(Oi),ei){for(;Oe=ie[pt++];)Oe===ie[pt]&&(Wt=at.push(pt));for(;Wt--;)ie.splice(at[Wt],1)}return Dt=null,ie},H=ur.getText=function(ie){var Oe,at="",Wt=0,pt=ie.nodeType;if(pt){if(pt===1||pt===9||pt===11){if(typeof ie.textContent=="string")return ie.textContent;for(ie=ie.firstChild;ie;ie=ie.nextSibling)at+=H(ie)}else if(pt===3||pt===4)return ie.nodeValue}else for(;Oe=ie[Wt++];)at+=H(Oe);return at},M=ur.selectors={cacheLength:50,createPseudo:dn,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ie){return ie[1]=ie[1].replace(Di,Ji),ie[3]=(ie[3]||ie[4]||ie[5]||"").replace(Di,Ji),ie[2]==="~="&&(ie[3]=" "+ie[3]+" "),ie.slice(0,4)},CHILD:function(ie){return ie[1]=ie[1].toLowerCase(),ie[1].slice(0,3)==="nth"?(ie[3]||ur.error(ie[0]),ie[4]=+(ie[4]?ie[5]+(ie[6]||1):2*(ie[3]==="even"||ie[3]==="odd")),ie[5]=+(ie[7]+ie[8]||ie[3]==="odd")):ie[3]&&ur.error(ie[0]),ie},PSEUDO:function(ie){var Oe,at=!ie[6]&&ie[2];return ue.CHILD.test(ie[0])?null:(ie[3]?ie[2]=ie[4]||ie[5]||"":at&&Xr.test(at)&&(Oe=X(at,!0))&&(Oe=at.indexOf(")",at.length-Oe)-at.length)&&(ie[0]=ie[0].slice(0,Oe),ie[2]=at.slice(0,Oe)),ie.slice(0,3))}},filter:{TAG:function(ie){var Oe=ie.replace(Di,Ji).toLowerCase();return ie==="*"?function(){return!0}:function(at){return at.nodeName&&at.nodeName.toLowerCase()===Oe}},CLASS:function(ie){var Oe=qt[ie+" "];return Oe||(Oe=new RegExp("(^|"+Li+")"+ie+"("+Li+"|$)"))&&qt(ie,function(at){return Oe.test(typeof at.className=="string"&&at.className||typeof at.getAttribute<"u"&&at.getAttribute("class")||"")})},ATTR:function(ie,Oe,at){return function(Wt){var pt=ur.attr(Wt,ie);return pt==null?Oe==="!=":Oe?(pt+="",Oe==="="?pt===at:Oe==="!="?pt!==at:Oe==="^="?at&&pt.indexOf(at)===0:Oe==="*="?at&&pt.indexOf(at)>-1:Oe==="$="?at&&pt.slice(-at.length)===at:Oe==="~="?(" "+pt.replace(Br," ")+" ").indexOf(at)>-1:Oe==="|="?pt===at||pt.slice(0,at.length+1)===at+"-":!1):!0}},CHILD:function(ie,Oe,at,Wt,pt){var Yt=ie.slice(0,3)!=="nth",ii=ie.slice(-4)!=="last",li=Oe==="of-type";return Wt===1&&pt===0?function(mi){return!!mi.parentNode}:function(mi,Bi,ji){var Ni,tr,Tr,Hi,qr,en,rn=Yt!==ii?"nextSibling":"previousSibling",Mr=mi.parentNode,So=li&&mi.nodeName.toLowerCase(),jn=!ji&&!li,hn=!1;if(Mr){if(Yt){for(;rn;){for(Hi=mi;Hi=Hi[rn];)if(li?Hi.nodeName.toLowerCase()===So:Hi.nodeType===1)return!1;en=rn=ie==="only"&&!en&&"nextSibling"}return!0}if(en=[ii?Mr.firstChild:Mr.lastChild],ii&&jn){for(Hi=Mr,Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),Ni=tr[ie]||[],qr=Ni[0]===Rt&&Ni[1],hn=qr&&Ni[2],Hi=qr&&Mr.childNodes[qr];Hi=++qr&&Hi&&Hi[rn]||(hn=qr=0)||en.pop();)if(Hi.nodeType===1&&++hn&&Hi===mi){tr[ie]=[Rt,qr,hn];break}}else if(jn&&(Hi=mi,Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),Ni=tr[ie]||[],qr=Ni[0]===Rt&&Ni[1],hn=qr),hn===!1)for(;(Hi=++qr&&Hi&&Hi[rn]||(hn=qr=0)||en.pop())&&!((li?Hi.nodeName.toLowerCase()===So:Hi.nodeType===1)&&++hn&&(jn&&(Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),tr[ie]=[Rt,hn]),Hi===mi)););return hn-=pt,hn===Wt||hn%Wt===0&&hn/Wt>=0}}},PSEUDO:function(ie,Oe){var at,Wt=M.pseudos[ie]||M.setFilters[ie.toLowerCase()]||ur.error("unsupported pseudo: "+ie);return Wt[me]?Wt(Oe):Wt.length>1?(at=[ie,ie,"",Oe],M.setFilters.hasOwnProperty(ie.toLowerCase())?dn(function(pt,Yt){for(var ii,li=Wt(pt,Oe),mi=li.length;mi--;)ii=gr(pt,li[mi]),pt[ii]=!(Yt[ii]=li[mi])}):function(pt){return Wt(pt,0,at)}):Wt}},pseudos:{not:dn(function(ie){var Oe=[],at=[],Wt=Be(ie.replace(Lr,"$1"));return Wt[me]?dn(function(pt,Yt,ii,li){for(var mi,Bi=Wt(pt,null,li,[]),ji=pt.length;ji--;)(mi=Bi[ji])&&(pt[ji]=!(Yt[ji]=mi))}):function(pt,Yt,ii){return Oe[0]=pt,Wt(Oe,null,ii,at),Oe[0]=null,!at.pop()}}),has:dn(function(ie){return function(Oe){return ur(ie,Oe).length>0}}),contains:dn(function(ie){return ie=ie.replace(Di,Ji),function(Oe){return(Oe.textContent||H(Oe)).indexOf(ie)>-1}}),lang:dn(function(ie){return ge.test(ie||"")||ur.error("unsupported lang: "+ie),ie=ie.replace(Di,Ji).toLowerCase(),function(Oe){var at;do if(at=D?Oe.lang:Oe.getAttribute("xml:lang")||Oe.getAttribute("lang"))return at=at.toLowerCase(),at===ie||at.indexOf(ie+"-")===0;while((Oe=Oe.parentNode)&&Oe.nodeType===1);return!1}}),target:function(ie){var Oe=f.location&&f.location.hash;return Oe&&Oe.slice(1)===ie.id},root:function(ie){return ie===Pi},focus:function(ie){return ie===ot.activeElement&&(!ot.hasFocus||ot.hasFocus())&&!!(ie.type||ie.href||~ie.tabIndex)},enabled:Aa(!1),disabled:Aa(!0),checked:function(ie){var Oe=ie.nodeName.toLowerCase();return Oe==="input"&&!!ie.checked||Oe==="option"&&!!ie.selected},selected:function(ie){return ie.parentNode&&ie.parentNode.selectedIndex,ie.selected===!0},empty:function(ie){for(ie=ie.firstChild;ie;ie=ie.nextSibling)if(ie.nodeType<6)return!1;return!0},parent:function(ie){return!M.pseudos.empty(ie)},header:function(ie){return bt.test(ie.nodeName)},input:function(ie){return Vt.test(ie.nodeName)},button:function(ie){var Oe=ie.nodeName.toLowerCase();return Oe==="input"&&ie.type==="button"||Oe==="button"},text:function(ie){var Oe;return ie.nodeName.toLowerCase()==="input"&&ie.type==="text"&&((Oe=ie.getAttribute("type"))==null||Oe.toLowerCase()==="text")},first:Rn(function(){return[0]}),last:Rn(function(ie,Oe){return[Oe-1]}),eq:Rn(function(ie,Oe,at){return[at<0?at+Oe:at]}),even:Rn(function(ie,Oe){for(var at=0;at<Oe;at+=2)ie.push(at);return ie}),odd:Rn(function(ie,Oe){for(var at=1;at<Oe;at+=2)ie.push(at);return ie}),lt:Rn(function(ie,Oe,at){for(var Wt=at<0?at+Oe:at>Oe?Oe:at;--Wt>=0;)ie.push(Wt);return ie}),gt:Rn(function(ie,Oe,at){for(var Wt=at<0?at+Oe:at;++Wt<Oe;)ie.push(Wt);return ie})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=zo(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=ka(b);function Sa(){}Sa.prototype=M.filters=M.pseudos,M.setFilters=new Sa,X=ur.tokenize=function(ie,Oe){var at,Wt,pt,Yt,ii,li,mi,Bi=ai[ie+" "];if(Bi)return Oe?0:Bi.slice(0);for(ii=ie,li=[],mi=M.preFilter;ii;){(!at||(Wt=pn.exec(ii)))&&(Wt&&(ii=ii.slice(Wt[0].length)||ii),li.push(pt=[])),at=!1,(Wt=Nr.exec(ii))&&(at=Wt.shift(),pt.push({value:at,type:Wt[0].replace(Lr," ")}),ii=ii.slice(at.length));for(Yt in M.filter)(Wt=ue[Yt].exec(ii))&&(!mi[Yt]||(Wt=mi[Yt](Wt)))&&(at=Wt.shift(),pt.push({value:at,type:Yt,matches:Wt}),ii=ii.slice(at.length));if(!at)break}return Oe?ii.length:ii?ur.error(ie):ai(ie,li).slice(0)};function Vo(ie){for(var Oe=0,at=ie.length,Wt="";Oe<at;Oe++)Wt+=ie[Oe].value;return Wt}function to(ie,Oe,at){var Wt=Oe.dir,pt=Oe.next,Yt=pt||Wt,ii=at&&Yt==="parentNode",li=vt++;return Oe.first?function(mi,Bi,ji){for(;mi=mi[Wt];)if(mi.nodeType===1||ii)return ie(mi,Bi,ji);return!1}:function(mi,Bi,ji){var Ni,tr,Tr,Hi=[Rt,li];if(ji){for(;mi=mi[Wt];)if((mi.nodeType===1||ii)&&ie(mi,Bi,ji))return!0}else for(;mi=mi[Wt];)if(mi.nodeType===1||ii)if(Tr=mi[me]||(mi[me]={}),tr=Tr[mi.uniqueID]||(Tr[mi.uniqueID]={}),pt&&pt===mi.nodeName.toLowerCase())mi=mi[Wt]||mi;else{if((Ni=tr[Yt])&&Ni[0]===Rt&&Ni[1]===li)return Hi[2]=Ni[2];if(tr[Yt]=Hi,Hi[2]=ie(mi,Bi,ji))return!0}return!1}}function aa(ie){return ie.length>1?function(Oe,at,Wt){for(var pt=ie.length;pt--;)if(!ie[pt](Oe,at,Wt))return!1;return!0}:ie[0]}function Tc(ie,Oe,at){for(var Wt=0,pt=Oe.length;Wt<pt;Wt++)ur(ie,Oe[Wt],at);return at}function Ao(ie,Oe,at,Wt,pt){for(var Yt,ii=[],li=0,mi=ie.length,Bi=Oe!=null;li<mi;li++)(Yt=ie[li])&&(!at||at(Yt,Wt,pt))&&(ii.push(Yt),Bi&&Oe.push(li));return ii}function In(ie,Oe,at,Wt,pt,Yt){return Wt&&!Wt[me]&&(Wt=In(Wt)),pt&&!pt[me]&&(pt=In(pt,Yt)),dn(function(ii,li,mi,Bi){var ji,Ni,tr,Tr=[],Hi=[],qr=li.length,en=ii||Tc(Oe||"*",mi.nodeType?[mi]:mi,[]),rn=ie&&(ii||!Oe)?Ao(en,Tr,ie,mi,Bi):en,Mr=at?pt||(ii?ie:qr||Wt)?[]:li:rn;if(at&&at(rn,Mr,mi,Bi),Wt)for(ji=Ao(Mr,Hi),Wt(ji,[],mi,Bi),Ni=ji.length;Ni--;)(tr=ji[Ni])&&(Mr[Hi[Ni]]=!(rn[Hi[Ni]]=tr));if(ii){if(pt||ie){if(pt){for(ji=[],Ni=Mr.length;Ni--;)(tr=Mr[Ni])&&ji.push(rn[Ni]=tr);pt(null,Mr=[],ji,Bi)}for(Ni=Mr.length;Ni--;)(tr=Mr[Ni])&&(ji=pt?gr(ii,tr):Tr[Ni])>-1&&(ii[ji]=!(li[ji]=tr))}}else Mr=Ao(Mr===li?Mr.splice(qr,Mr.length):Mr),pt?pt(null,li,Mr,Bi):Qi.apply(li,Mr)})}function Wo(ie){for(var Oe,at,Wt,pt=ie.length,Yt=M.relative[ie[0].type],ii=Yt||M.relative[" "],li=Yt?1:0,mi=to(function(Ni){return Ni===Oe},ii,!0),Bi=to(function(Ni){return gr(Oe,Ni)>-1},ii,!0),ji=[function(Ni,tr,Tr){var Hi=!Yt&&(Tr||tr!==ft)||((Oe=tr).nodeType?mi(Ni,tr,Tr):Bi(Ni,tr,Tr));return Oe=null,Hi}];li<pt;li++)if(at=M.relative[ie[li].type])ji=[to(aa(ji),at)];else{if(at=M.filter[ie[li].type].apply(null,ie[li].matches),at[me]){for(Wt=++li;Wt<pt&&!M.relative[ie[Wt].type];Wt++);return In(li>1&&aa(ji),li>1&&Vo(ie.slice(0,li-1).concat({value:ie[li-2].type===" "?"*":""})).replace(Lr,"$1"),at,li<Wt&&Wo(ie.slice(li,Wt)),Wt<pt&&Wo(ie=ie.slice(Wt)),Wt<pt&&Vo(ie))}ji.push(at)}return aa(ji)}function Tl(ie,Oe){var at=Oe.length>0,Wt=ie.length>0,pt=function(Yt,ii,li,mi,Bi){var ji,Ni,tr,Tr=0,Hi="0",qr=Yt&&[],en=[],rn=ft,Mr=Yt||Wt&&M.find.TAG("*",Bi),So=Rt+=rn==null?1:Math.random()||.1,jn=Mr.length;for(Bi&&(ft=ii==ot||ii||Bi);Hi!==jn&&(ji=Mr[Hi])!=null;Hi++){if(Wt&&ji){for(Ni=0,!ii&&ji.ownerDocument!=ot&&($t(ji),li=!D);tr=ie[Ni++];)if(tr(ji,ii||ot,li)){mi.push(ji);break}Bi&&(Rt=So)}at&&((ji=!tr&&ji)&&Tr--,Yt&&qr.push(ji))}if(Tr+=Hi,at&&Hi!==Tr){for(Ni=0;tr=Oe[Ni++];)tr(qr,en,ii,li);if(Yt){if(Tr>0)for(;Hi--;)qr[Hi]||en[Hi]||(en[Hi]=Ri.call(mi));en=Ao(en)}Qi.apply(mi,en),Bi&&!Yt&&en.length>0&&Tr+Oe.length>1&&ur.uniqueSort(mi)}return Bi&&(Rt=So,ft=rn),qr};return at?dn(pt):pt}return Be=ur.compile=function(ie,Oe){var at,Wt=[],pt=[],Yt=Ei[ie+" "];if(!Yt){for(Oe||(Oe=X(ie)),at=Oe.length;at--;)Yt=Wo(Oe[at]),Yt[me]?Wt.push(Yt):pt.push(Yt);Yt=Ei(ie,Tl(pt,Wt)),Yt.selector=ie}return Yt},Pe=ur.select=function(ie,Oe,at,Wt){var pt,Yt,ii,li,mi,Bi=typeof ie=="function"&&ie,ji=!Wt&&X(ie=Bi.selector||ie);if(at=at||[],ji.length===1){if(Yt=ji[0]=ji[0].slice(0),Yt.length>2&&(ii=Yt[0]).type==="ID"&&Oe.nodeType===9&&D&&M.relative[Yt[1].type]){if(Oe=(M.find.ID(ii.matches[0].replace(Di,Ji),Oe)||[])[0],Oe)Bi&&(Oe=Oe.parentNode);else return at;ie=ie.slice(Yt.shift().value.length)}for(pt=ue.needsContext.test(ie)?0:Yt.length;pt--&&(ii=Yt[pt],!M.relative[li=ii.type]);)if((mi=M.find[li])&&(Wt=mi(ii.matches[0].replace(Di,Ji),Ui.test(Yt[0].type)&&Uo(Oe.parentNode)||Oe))){if(Yt.splice(pt,1),ie=Wt.length&&Vo(Yt),!ie)return Qi.apply(at,Wt),at;break}}return(Bi||Be(ie,ji))(Wt,Oe,!D,at,!Oe||Ui.test(ie)&&Uo(Oe.parentNode)||Oe),at},A.sortStable=me.split("").sort(Oi).join("")===me,A.detectDuplicates=!!ei,$t(),A.sortDetached=fn(function(ie){return ie.compareDocumentPosition(ot.createElement("fieldset"))&1}),fn(function(ie){return ie.innerHTML="<a href='#'></a>",ie.firstChild.getAttribute("href")==="#"})||Fo("type|href|height|width",function(ie,Oe,at){if(!at)return ie.getAttribute(Oe,Oe.toLowerCase()==="type"?1:2)}),(!A.attributes||!fn(function(ie){return ie.innerHTML="<input/>",ie.firstChild.setAttribute("value",""),ie.firstChild.getAttribute("value")===""}))&&Fo("value",function(ie,Oe,at){if(!at&&ie.nodeName.toLowerCase()==="input")return ie.defaultValue}),fn(function(ie){return ie.getAttribute("disabled")==null})||Fo(Dr,function(ie,Oe,at){var Wt;if(!at)return ie[Oe]===!0?Oe.toLowerCase():(Wt=ie.getAttributeNode(Oe))&&Wt.specified?Wt.value:null}),ur}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,A){for(var M=[],H=A!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(A))break;M.push(f)}return M},G=function(f,b){for(var A=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&A.push(f);return A},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(f,b,A){return S(b)?d.grep(f,function(M,H){return!!b.call(M,H,M)!==A}):b.nodeType?d.grep(f,function(M){return M===b!==A}):typeof b!="string"?d.grep(f,function(M){return p.call(b,M)>-1!==A}):d.filter(b,f,A)}d.filter=function(f,b,A){var M=b[0];return A&&(f=":not("+f+")"),b.length===1&&M.nodeType===1?d.find.matchesSelector(M,f)?[M]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,A,M=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<M;b++)if(d.contains(H[b],this))return!0}));for(A=this.pushStack([]),b=0;b<M;b++)d.find(f,H[b],A);return M>1?d.uniqueSort(A):A},filter:function(f){return this.pushStack(Q(this,f||[],!1))},not:function(f){return this.pushStack(Q(this,f||[],!0))},is:function(f){return!!Q(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var ee,Me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,pe=d.fn.init=function(f,b,A){var M,H;if(!f)return this;if(A=A||ee,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?M=[null,f,null]:M=Me.exec(f),M&&(M[1]||!b))if(M[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(M[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),ne.test(M[1])&&d.isPlainObject(b))for(M in b)S(this[M])?this[M](b[M]):this.attr(M,b[M]);return this}else return H=E.getElementById(M[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||A).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(S(f))return A.ready!==void 0?A.ready(f):f(d)}return d.makeArray(f,this)};pe.prototype=d.fn,ee=d(E);var W=/^(?:parents|prev(?:Until|All))/,oe={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),A=b.length;return this.filter(function(){for(var M=0;M<A;M++)if(d.contains(this,b[M]))return!0})},closest:function(f,b){var A,M=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;M<H;M++)for(A=this[M];A&&A!==b;A=A.parentNode)if(A.nodeType<11&&(X?X.index(A)>-1:A.nodeType===1&&d.find.matchesSelector(A,f))){F.push(A);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?p.call(d(f),this[0]):p.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function fe(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,A){return N(f,"parentNode",A)},next:function(f){return fe(f,"nextSibling")},prev:function(f){return fe(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,A){return N(f,"nextSibling",A)},prevUntil:function(f,b,A){return N(f,"previousSibling",A)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(A,M){var H=d.map(this,b,A);return f.slice(-5)!=="Until"&&(M=A),M&&typeof M=="string"&&(H=d.filter(M,H)),this.length>1&&(oe[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function xe(f){var b={};return d.each(f.match(Z)||[],function(A,M){b[M]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?xe(f):d.extend({},f);var b,A,M,H,F=[],X=[],Be=-1,Pe=function(){for(H=H||f.once,M=b=!0;X.length;Be=-1)for(A=X.shift();++Be<F.length;)F[Be].apply(A[0],A[1])===!1&&f.stopOnFalse&&(Be=F.length,A=!1);f.memory||(A=!1),b=!1,H&&(A?F=[]:F="")},ft={add:function(){return F&&(A&&!b&&(Be=F.length-1,X.push(A)),function Dt(ei){d.each(ei,function($t,ot){S(ot)?(!f.unique||!ft.has(ot))&&F.push(ot):ot&&ot.length&&h(ot)!=="string"&&Dt(ot)})}(arguments),A&&!b&&Pe()),this},remove:function(){return d.each(arguments,function(Dt,ei){for(var $t;($t=d.inArray(ei,F,$t))>-1;)F.splice($t,1),$t<=Be&&Be--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=A="",this},disabled:function(){return!F},lock:function(){return H=X=[],!A&&!b&&(F=A=""),this},locked:function(){return!!H},fireWith:function(Dt,ei){return H||(ei=ei||[],ei=[Dt,ei.slice?ei.slice():ei],X.push(ei),b||Pe()),this},fire:function(){return ft.fireWith(this,arguments),this},fired:function(){return!!M}};return ft};function Y(f){return f}function he(f){throw f}function Ke(f,b,A,M){var H;try{f&&S(H=f.promise)?H.call(f).done(b).fail(A):f&&S(H=f.then)?H.call(f,b,A):b.apply(void 0,[f].slice(M))}catch(F){A.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],A="pending",M={state:function(){return A},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return M.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(Be,Pe){var ft=S(F[Pe[4]])&&F[Pe[4]];H[Pe[1]](function(){var Dt=ft&&ft.apply(this,arguments);Dt&&S(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Pe[0]+"With"](this,ft?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,Be){var Pe=0;function ft(Dt,ei,$t,ot){return function(){var Pi=this,D=arguments,L=function(){var U,se;if(!(Dt<Pe)){if(U=$t.apply(Pi,D),U===ei.promise())throw new TypeError("Thenable self-resolution");se=U&&(typeof U=="object"||typeof U=="function")&&U.then,S(se)?ot?se.call(U,ft(Pe,ei,Y,ot),ft(Pe,ei,he,ot)):(Pe++,se.call(U,ft(Pe,ei,Y,ot),ft(Pe,ei,he,ot),ft(Pe,ei,Y,ei.notifyWith))):($t!==Y&&(Pi=void 0,D=[U]),(ot||ei.resolveWith)(Pi,D))}},j=ot?L:function(){try{L()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Pe&&($t!==he&&(Pi=void 0,D=[U]),ei.rejectWith(Pi,D))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(ft(0,Dt,S(Be)?Be:Y,Dt.notifyWith)),b[1][3].add(ft(0,Dt,S(F)?F:Y)),b[2][3].add(ft(0,Dt,S(X)?X:he))}).promise()},promise:function(F){return F!=null?d.extend(F,M):M}},H={};return d.each(b,function(F,X){var Be=X[2],Pe=X[5];M[X[1]]=Be.add,Pe&&Be.add(function(){A=Pe},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),Be.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=Be.fireWith}),M.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,A=b,M=Array(A),H=c.call(arguments),F=d.Deferred(),X=function(Be){return function(Pe){M[Be]=this,H[Be]=arguments.length>1?c.call(arguments):Pe,--b||F.resolveWith(M,H)}};if(b<=1&&(Ke(f,F.done(X(A)).resolve,F.reject,!b),F.state()==="pending"||S(H[A]&&H[A].then)))return F.then();for(;A--;)Ke(H[A],X(A),F.reject);return F.promise()}});var ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ht.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var lt=d.Deferred();d.fn.ready=function(f){return lt.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&lt.resolveWith(E,[d]))}}),d.ready.then=lt.then;function We(){E.removeEventListener("DOMContentLoaded",We),r.removeEventListener("load",We),d.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?r.setTimeout(d.ready):(E.addEventListener("DOMContentLoaded",We),r.addEventListener("load",We));var Se=function(f,b,A,M,H,F,X){var Be=0,Pe=f.length,ft=A==null;if(h(A)==="object"){H=!0;for(Be in A)Se(f,b,Be,A[Be],!0,F,X)}else if(M!==void 0&&(H=!0,S(M)||(X=!0),ft&&(X?(b.call(f,M),b=null):(ft=b,b=function(Dt,ei,$t){return ft.call(d(Dt),$t)})),b))for(;Be<Pe;Be++)b(f[Be],A,X?M:M.call(f[Be],Be,b(f[Be],A)));return H?f:ft?b.call(f):Pe?b(f[0],A):F},Le=/^-ms-/,je=/-([a-z])/g;function Ne(f,b){return b.toUpperCase()}function Ge(f){return f.replace(Le,"ms-").replace(je,Ne)}var it=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function Re(){this.expando=d.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(f){var b=f[this.expando];return b||(b={},it(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,A){var M,H=this.cache(f);if(typeof b=="string")H[Ge(b)]=A;else for(M in b)H[Ge(M)]=b[M];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][Ge(b)]},access:function(f,b,A){return b===void 0||b&&typeof b=="string"&&A===void 0?this.get(f,b):(this.set(f,b,A),A!==void 0?A:b)},remove:function(f,b){var A,M=f[this.expando];if(M!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ge):(b=Ge(b),b=b in M?[b]:b.match(Z)||[]),A=b.length;A--;)delete M[b[A]];(b===void 0||d.isEmptyObject(M))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var te=new Re,J=new Re,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;function be(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:qe.test(f)?JSON.parse(f):f}function $e(f,b,A){var M;if(A===void 0&&f.nodeType===1)if(M="data-"+b.replace(_t,"-$&").toLowerCase(),A=f.getAttribute(M),typeof A=="string"){try{A=be(A)}catch(H){}J.set(f,b,A)}else A=void 0;return A}d.extend({hasData:function(f){return J.hasData(f)||te.hasData(f)},data:function(f,b,A){return J.access(f,b,A)},removeData:function(f,b){J.remove(f,b)},_data:function(f,b,A){return te.access(f,b,A)},_removeData:function(f,b){te.remove(f,b)}}),d.fn.extend({data:function(f,b){var A,M,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=J.get(F),F.nodeType===1&&!te.get(F,"hasDataAttrs"))){for(A=X.length;A--;)X[A]&&(M=X[A].name,M.indexOf("data-")===0&&(M=Ge(M.slice(5)),$e(F,M,H[M])));te.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){J.set(this,f)}):Se(this,function(Be){var Pe;if(F&&Be===void 0)return Pe=J.get(F,f),Pe!==void 0||(Pe=$e(F,f),Pe!==void 0)?Pe:void 0;this.each(function(){J.set(this,f,Be)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){J.remove(this,f)})}}),d.extend({queue:function(f,b,A){var M;if(f)return b=(b||"fx")+"queue",M=te.get(f,b),A&&(!M||Array.isArray(A)?M=te.access(f,b,d.makeArray(A)):M.push(A)),M||[]},dequeue:function(f,b){b=b||"fx";var A=d.queue(f,b),M=A.length,H=A.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=A.shift(),M--),H&&(b==="fx"&&A.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!M&&F&&F.empty.fire()},_queueHooks:function(f,b){var A=b+"queueHooks";return te.get(f,A)||te.access(f,A,{empty:d.Callbacks("once memory").add(function(){te.remove(f,[b+"queue",A])})})}}),d.fn.extend({queue:function(f,b){var A=2;return typeof f!="string"&&(b=f,f="fx",A--),arguments.length<A?d.queue(this[0],f):b===void 0?this:this.each(function(){var M=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&M[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var A,M=1,H=d.Deferred(),F=this,X=this.length,Be=function(){--M||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)A=te.get(F[X],f+"queueHooks"),A&&A.empty&&(M++,A.empty.add(Be));return Be(),H.promise(b)}});var st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],nt=E.documentElement,Ut=function(f){return d.contains(f.ownerDocument,f)},ut={composed:!0};nt.getRootNode&&(Ut=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(ut)===f.ownerDocument});var mt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Ut(f)&&d.css(f,"display")==="none"};function Mt(f,b,A,M){var H,F,X=20,Be=M?function(){return M.cur()}:function(){return d.css(f,b,"")},Pe=Be(),ft=A&&A[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||ft!=="px"&&+Pe)&&Ee.exec(d.css(f,b));if(Dt&&Dt[3]!==ft){for(Pe=Pe/2,ft=ft||Dt[3],Dt=+Pe||1;X--;)d.style(f,b,Dt+ft),(1-F)*(1-(F=Be()/Pe||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+ft),A=A||[]}return A&&(Dt=+Dt||+Pe||0,H=A[1]?Dt+(A[1]+1)*A[2]:+A[2],M&&(M.unit=ft,M.start=Dt,M.end=H)),H}var ti={};function oi(f){var b,A=f.ownerDocument,M=f.nodeName,H=ti[M];return H||(b=A.body.appendChild(A.createElement(M)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ti[M]=H,H)}function ci(f,b){for(var A,M,H=[],F=0,X=f.length;F<X;F++)M=f[F],M.style&&(A=M.style.display,b?(A==="none"&&(H[F]=te.get(M,"display")||null,H[F]||(M.style.display="")),M.style.display===""&&mt(M)&&(H[F]=oi(M))):A!=="none"&&(H[F]="none",te.set(M,"display",A)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ci(this,!0)},hide:function(){return ci(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){mt(this)?d(this).show():d(this).hide()})}});var Lt=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ct=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=E.createDocumentFragment(),b=f.appendChild(E.createElement("div")),A=E.createElement("input");A.setAttribute("type","radio"),A.setAttribute("checked","checked"),A.setAttribute("name","t"),b.appendChild(A),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var St={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,k.option||(St.optgroup=St.option=[1,"<select multiple='multiple'>","</select>"]);function kt(f,b){var A;return typeof f.getElementsByTagName<"u"?A=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?A=f.querySelectorAll(b||"*"):A=[],b===void 0||b&&K(f,b)?d.merge([f],A):A}function I(f,b){for(var A=0,M=f.length;A<M;A++)te.set(f[A],"globalEval",!b||te.get(b[A],"globalEval"))}var Ve=/<|&#?\w+;/;function ke(f,b,A,M,H){for(var F,X,Be,Pe,ft,Dt,ei=b.createDocumentFragment(),$t=[],ot=0,Pi=f.length;ot<Pi;ot++)if(F=f[ot],F||F===0)if(h(F)==="object")d.merge($t,F.nodeType?[F]:F);else if(!Ve.test(F))$t.push(b.createTextNode(F));else{for(X=X||ei.appendChild(b.createElement("div")),Be=(It.exec(F)||["",""])[1].toLowerCase(),Pe=St[Be]||St._default,X.innerHTML=Pe[1]+d.htmlPrefilter(F)+Pe[2],Dt=Pe[0];Dt--;)X=X.lastChild;d.merge($t,X.childNodes),X=ei.firstChild,X.textContent=""}for(ei.textContent="",ot=0;F=$t[ot++];){if(M&&d.inArray(F,M)>-1){H&&H.push(F);continue}if(ft=Ut(F),X=kt(ei.appendChild(F),"script"),ft&&I(X),A)for(Dt=0;F=X[Dt++];)Ct.test(F.type||"")&&A.push(F)}return ei}var Ye=/^([^.]*)(?:\.(.+)|)/;function Ze(){return!0}function dt(){return!1}function ae(f,b){return f===Ie()==(b==="focus")}function Ie(){try{return E.activeElement}catch(f){}}function Ue(f,b,A,M,H,F){var X,Be;if(typeof b=="object"){typeof A!="string"&&(M=M||A,A=void 0);for(Be in b)Ue(f,Be,A,M,b[Be],F);return f}if(M==null&&H==null?(H=A,M=A=void 0):H==null&&(typeof A=="string"?(H=M,M=void 0):(H=M,M=A,A=void 0)),H===!1)H=dt;else if(!H)return f;return F===1&&(X=H,H=function(Pe){return d().off(Pe),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,M,A)})}d.event={global:{},add:function(f,b,A,M,H){var F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L=te.get(f);if(it(f))for(A.handler&&(F=A,A=F.handler,H=F.selector),H&&d.find.matchesSelector(nt,H),A.guid||(A.guid=d.guid++),(Pe=L.events)||(Pe=L.events=Object.create(null)),(X=L.handle)||(X=L.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],ft=b.length;ft--;)Be=Ye.exec(b[ft])||[],ot=D=Be[1],Pi=(Be[2]||"").split(".").sort(),ot&&(ei=d.event.special[ot]||{},ot=(H?ei.delegateType:ei.bindType)||ot,ei=d.event.special[ot]||{},Dt=d.extend({type:ot,origType:D,data:M,handler:A,guid:A.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:Pi.join(".")},F),($t=Pe[ot])||($t=Pe[ot]=[],$t.delegateCount=0,(!ei.setup||ei.setup.call(f,M,Pi,X)===!1)&&f.addEventListener&&f.addEventListener(ot,X)),ei.add&&(ei.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=A.guid)),H?$t.splice($t.delegateCount++,0,Dt):$t.push(Dt),d.event.global[ot]=!0)},remove:function(f,b,A,M,H){var F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L=te.hasData(f)&&te.get(f);if(!(!L||!(Pe=L.events))){for(b=(b||"").match(Z)||[""],ft=b.length;ft--;){if(Be=Ye.exec(b[ft])||[],ot=D=Be[1],Pi=(Be[2]||"").split(".").sort(),!ot){for(ot in Pe)d.event.remove(f,ot+b[ft],A,M,!0);continue}for(ei=d.event.special[ot]||{},ot=(M?ei.delegateType:ei.bindType)||ot,$t=Pe[ot]||[],Be=Be[2]&&new RegExp("(^|\\.)"+Pi.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=$t.length;F--;)Dt=$t[F],(H||D===Dt.origType)&&(!A||A.guid===Dt.guid)&&(!Be||Be.test(Dt.namespace))&&(!M||M===Dt.selector||M==="**"&&Dt.selector)&&($t.splice(F,1),Dt.selector&&$t.delegateCount--,ei.remove&&ei.remove.call(f,Dt));X&&!$t.length&&((!ei.teardown||ei.teardown.call(f,Pi,L.handle)===!1)&&d.removeEvent(f,ot,L.handle),delete Pe[ot])}d.isEmptyObject(Pe)&&te.remove(f,"handle events")}},dispatch:function(f){var b,A,M,H,F,X,Be=new Array(arguments.length),Pe=d.event.fix(f),ft=(te.get(this,"events")||Object.create(null))[Pe.type]||[],Dt=d.event.special[Pe.type]||{};for(Be[0]=Pe,b=1;b<arguments.length;b++)Be[b]=arguments[b];if(Pe.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Pe)===!1)){for(X=d.event.handlers.call(this,Pe,ft),b=0;(H=X[b++])&&!Pe.isPropagationStopped();)for(Pe.currentTarget=H.elem,A=0;(F=H.handlers[A++])&&!Pe.isImmediatePropagationStopped();)(!Pe.rnamespace||F.namespace===!1||Pe.rnamespace.test(F.namespace))&&(Pe.handleObj=F,Pe.data=F.data,M=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,Be),M!==void 0&&(Pe.result=M)===!1&&(Pe.preventDefault(),Pe.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Pe),Pe.result}},handlers:function(f,b){var A,M,H,F,X,Be=[],Pe=b.delegateCount,ft=f.target;if(Pe&&ft.nodeType&&!(f.type==="click"&&f.button>=1)){for(;ft!==this;ft=ft.parentNode||this)if(ft.nodeType===1&&!(f.type==="click"&&ft.disabled===!0)){for(F=[],X={},A=0;A<Pe;A++)M=b[A],H=M.selector+" ",X[H]===void 0&&(X[H]=M.needsContext?d(H,this).index(ft)>-1:d.find(H,this,null,[ft]).length),X[H]&&F.push(M);F.length&&Be.push({elem:ft,handlers:F})}}return ft=this,Pe<b.length&&Be.push({elem:ft,handlers:b.slice(Pe)}),Be},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(A){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:A})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Lt.test(b.type)&&b.click&&K(b,"input")&&gt(b,"click",Ze),!1},trigger:function(f){var b=this||f;return Lt.test(b.type)&&b.click&&K(b,"input")&&gt(b,"click"),!0},_default:function(f){var b=f.target;return Lt.test(b.type)&&b.click&&K(b,"input")&&te.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function gt(f,b,A){if(!A){te.get(f,b)===void 0&&d.event.add(f,b,Ze);return}te.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(M){var H,F,X=te.get(this,b);if(M.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&M.stopPropagation();else if(X=c.call(arguments),te.set(this,b,X),H=A(this,b),this[b](),F=te.get(this,b),X!==F||H?te.set(this,b,!1):F={},X!==F)return M.stopImmediatePropagation(),M.preventDefault(),F&&F.value}else X.length&&(te.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),M.stopImmediatePropagation())}})}d.removeEvent=function(f,b,A){f.removeEventListener&&f.removeEventListener(b,A)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Ze:dt,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:dt,isPropagationStopped:dt,isImmediatePropagationStopped:dt,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Ze,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Ze,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Ze,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return gt(this,f,ae),!1},trigger:function(){return gt(this,f),!0},_default:function(A){return te.get(A.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(A){var M,H=this,F=A.relatedTarget,X=A.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(A.type=X.origType,M=X.handler.apply(this,arguments),A.type=b),M}}}),d.fn.extend({on:function(f,b,A,M){return Ue(this,f,b,A,M)},one:function(f,b,A,M){return Ue(this,f,b,A,M,1)},off:function(f,b,A){var M,H;if(f&&f.preventDefault&&f.handleObj)return M=f.handleObj,d(f.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(A=b,b=void 0),A===!1&&(A=dt),this.each(function(){d.event.remove(this,f,A,b)})}});var ct=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Ot(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function Bt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Xe(f,b){var A,M,H,F,X,Be,Pe;if(b.nodeType===1){if(te.hasData(f)&&(F=te.get(f),Pe=F.events,Pe)){te.remove(b,"handle events");for(H in Pe)for(A=0,M=Pe[H].length;A<M;A++)d.event.add(b,H,Pe[H][A])}J.hasData(f)&&(X=J.access(f),Be=d.extend({},X),J.set(b,Be))}}function De(f,b){var A=b.nodeName.toLowerCase();A==="input"&&Lt.test(f.type)?b.checked=f.checked:(A==="input"||A==="textarea")&&(b.defaultValue=f.defaultValue)}function Fe(f,b,A,M){b=n(b);var H,F,X,Be,Pe,ft,Dt=0,ei=f.length,$t=ei-1,ot=b[0],Pi=S(ot);if(Pi||ei>1&&typeof ot=="string"&&!k.checkClone&&Et.test(ot))return f.each(function(D){var L=f.eq(D);Pi&&(b[0]=ot.call(this,D,L.html())),Fe(L,b,A,M)});if(ei&&(H=ke(b,f[0].ownerDocument,!1,f,M),F=H.firstChild,H.childNodes.length===1&&(H=F),F||M)){for(X=d.map(kt(H,"script"),Ot),Be=X.length;Dt<ei;Dt++)Pe=H,Dt!==$t&&(Pe=d.clone(Pe,!0,!0),Be&&d.merge(X,kt(Pe,"script"))),A.call(f[Dt],Pe,Dt);if(Be)for(ft=X[X.length-1].ownerDocument,d.map(X,Bt),Dt=0;Dt<Be;Dt++)Pe=X[Dt],Ct.test(Pe.type||"")&&!te.access(Pe,"globalEval")&&d.contains(ft,Pe)&&(Pe.src&&(Pe.type||"").toLowerCase()!=="module"?d._evalUrl&&!Pe.noModule&&d._evalUrl(Pe.src,{nonce:Pe.nonce||Pe.getAttribute("nonce")},ft):a(Pe.textContent.replace(zt,""),Pe,ft))}return f}function et(f,b,A){for(var M,H=b?d.filter(b,f):f,F=0;(M=H[F])!=null;F++)!A&&M.nodeType===1&&d.cleanData(kt(M)),M.parentNode&&(A&&Ut(M)&&I(kt(M,"script")),M.parentNode.removeChild(M));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,A){var M,H,F,X,Be=f.cloneNode(!0),Pe=Ut(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=kt(Be),F=kt(f),M=0,H=F.length;M<H;M++)De(F[M],X[M]);if(b)if(A)for(F=F||kt(f),X=X||kt(Be),M=0,H=F.length;M<H;M++)Xe(F[M],X[M]);else Xe(f,Be);return X=kt(Be,"script"),X.length>0&&I(X,!Pe&&kt(f,"script")),Be},cleanData:function(f){for(var b,A,M,H=d.event.special,F=0;(A=f[F])!==void 0;F++)if(it(A)){if(b=A[te.expando]){if(b.events)for(M in b.events)H[M]?d.event.remove(A,M):d.removeEvent(A,M,b.handle);A[te.expando]=void 0}A[J.expando]&&(A[J.expando]=void 0)}}}),d.fn.extend({detach:function(f){return et(this,f,!0)},remove:function(f){return et(this,f)},text:function(f){return Se(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return Fe(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Xt(this,f);b.appendChild(f)}})},prepend:function(){return Fe(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Xt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return Fe(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Fe(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(kt(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Se(this,function(b){var A=this[0]||{},M=0,H=this.length;if(b===void 0&&A.nodeType===1)return A.innerHTML;if(typeof b=="string"&&!ct.test(b)&&!St[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;M<H;M++)A=this[M]||{},A.nodeType===1&&(d.cleanData(kt(A,!1)),A.innerHTML=b);A=0}catch(F){}}A&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return Fe(this,arguments,function(b){var A=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(kt(this)),A&&A.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(A){for(var M,H=[],F=d(A),X=F.length-1,Be=0;Be<=X;Be++)M=Be===X?this:this.clone(!0),d(F[Be])[b](M),u.apply(H,M.get());return this.pushStack(H)}});var Pt=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Nt=/^--/,Je=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},wt=function(f,b,A){var M,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];M=A.call(f);for(H in b)f.style[H]=F[H];return M},At=new RegExp(Qe.join("|"),"i"),Kt="[\\x20\\t\\r\\n\\f]",Jt=new RegExp("^"+Kt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Kt+"+$","g");(function(){function f(){if(ft){Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ft.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Pe).appendChild(ft);var Dt=r.getComputedStyle(ft);A=Dt.top!=="1%",Be=b(Dt.marginLeft)===12,ft.style.right="60%",F=b(Dt.right)===36,M=b(Dt.width)===36,ft.style.position="absolute",H=b(ft.offsetWidth/3)===12,nt.removeChild(Pe),ft=null}}function b(Dt){return Math.round(parseFloat(Dt))}var A,M,H,F,X,Be,Pe=E.createElement("div"),ft=E.createElement("div");ft.style&&(ft.style.backgroundClip="content-box",ft.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=ft.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),M},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),A},reliableMarginLeft:function(){return f(),Be},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ei,$t,ot;return X==null&&(Dt=E.createElement("table"),ei=E.createElement("tr"),$t=E.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ei.style.cssText="border:1px solid",ei.style.height="1px",$t.style.height="9px",$t.style.display="block",nt.appendChild(Dt).appendChild(ei).appendChild($t),ot=r.getComputedStyle(ei),X=parseInt(ot.height,10)+parseInt(ot.borderTopWidth,10)+parseInt(ot.borderBottomWidth,10)===ei.offsetHeight,nt.removeChild(Dt)),X}}))})();function Ai(f,b,A){var M,H,F,X,Be=Nt.test(b),Pe=f.style;return A=A||Je(f),A&&(X=A.getPropertyValue(b)||A[b],Be&&(X=X.replace(Jt,"$1")),X===""&&!Ut(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Pt.test(X)&&At.test(b)&&(M=Pe.width,H=Pe.minWidth,F=Pe.maxWidth,Pe.minWidth=Pe.maxWidth=Pe.width=X,X=A.width,Pe.width=M,Pe.minWidth=H,Pe.maxWidth=F)),X!==void 0?X+"":X}function Si(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Mi=["Webkit","Moz","ms"],Gt=E.createElement("div").style,wi={};function Ti(f){for(var b=f[0].toUpperCase()+f.slice(1),A=Mi.length;A--;)if(f=Mi[A]+b,f in Gt)return f}function Fi(f){var b=d.cssProps[f]||wi[f];return b||(f in Gt?f:wi[f]=Ti(f)||f)}var fr=/^(none|table(?!-c[ea]).+)/,Zi={position:"absolute",visibility:"hidden",display:"block"},lr={letterSpacing:"0",fontWeight:"400"};function Er(f,b,A){var M=Ee.exec(b);return M?Math.max(0,M[2]-(A||0))+(M[3]||"px"):b}function or(f,b,A,M,H,F){var X=b==="width"?1:0,Be=0,Pe=0;if(A===(M?"border":"content"))return 0;for(;X<4;X+=2)A==="margin"&&(Pe+=d.css(f,A+Qe[X],!0,H)),M?(A==="content"&&(Pe-=d.css(f,"padding"+Qe[X],!0,H)),A!=="margin"&&(Pe-=d.css(f,"border"+Qe[X]+"Width",!0,H))):(Pe+=d.css(f,"padding"+Qe[X],!0,H),A!=="padding"?Pe+=d.css(f,"border"+Qe[X]+"Width",!0,H):Be+=d.css(f,"border"+Qe[X]+"Width",!0,H));return!M&&F>=0&&(Pe+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Pe-Be-.5))||0),Pe}function vr(f,b,A){var M=Je(f),H=!k.boxSizingReliable()||A,F=H&&d.css(f,"boxSizing",!1,M)==="border-box",X=F,Be=Ai(f,b,M),Pe="offset"+b[0].toUpperCase()+b.slice(1);if(Pt.test(Be)){if(!A)return Be;Be="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||Be==="auto"||!parseFloat(Be)&&d.css(f,"display",!1,M)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,M)==="border-box",X=Pe in f,X&&(Be=f[Pe])),Be=parseFloat(Be)||0,Be+or(f,b,A||(F?"border":"content"),X,M,Be)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var A=Ai(f,"opacity");return A===""?"1":A}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,A,M){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,Be=Ge(b),Pe=Nt.test(b),ft=f.style;if(Pe||(b=Fi(Be)),X=d.cssHooks[b]||d.cssHooks[Be],A!==void 0){if(F=typeof A,F==="string"&&(H=Ee.exec(A))&&H[1]&&(A=Mt(f,b,H),F="number"),A==null||A!==A)return;F==="number"&&!Pe&&(A+=H&&H[3]||(d.cssNumber[Be]?"":"px")),!k.clearCloneStyle&&A===""&&b.indexOf("background")===0&&(ft[b]="inherit"),(!X||!("set"in X)||(A=X.set(f,A,M))!==void 0)&&(Pe?ft.setProperty(b,A):ft[b]=A)}else return X&&"get"in X&&(H=X.get(f,!1,M))!==void 0?H:ft[b]}},css:function(f,b,A,M){var H,F,X,Be=Ge(b),Pe=Nt.test(b);return Pe||(b=Fi(Be)),X=d.cssHooks[b]||d.cssHooks[Be],X&&"get"in X&&(H=X.get(f,!0,A)),H===void 0&&(H=Ai(f,b,M)),H==="normal"&&b in lr&&(H=lr[b]),A===""||A?(F=parseFloat(H),A===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(A,M,H){if(M)return fr.test(d.css(A,"display"))&&(!A.getClientRects().length||!A.getBoundingClientRect().width)?wt(A,Zi,function(){return vr(A,b,H)}):vr(A,b,H)},set:function(A,M,H){var F,X=Je(A),Be=!k.scrollboxSize()&&X.position==="absolute",Pe=Be||H,ft=Pe&&d.css(A,"boxSizing",!1,X)==="border-box",Dt=H?or(A,b,H,ft,X):0;return ft&&Be&&(Dt-=Math.ceil(A["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-or(A,b,"border",!1,X)-.5)),Dt&&(F=Ee.exec(M))&&(F[3]||"px")!=="px"&&(A.style[b]=M,M=d.css(A,b)),Er(A,M,Dt)}}}),d.cssHooks.marginLeft=Si(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(Ai(f,"marginLeft"))||f.getBoundingClientRect().left-wt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(A){for(var M=0,H={},F=typeof A=="string"?A.split(" "):[A];M<4;M++)H[f+Qe[M]+b]=F[M]||F[M-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Er)}),d.fn.extend({css:function(f,b){return Se(this,function(A,M,H){var F,X,Be={},Pe=0;if(Array.isArray(M)){for(F=Je(A),X=M.length;Pe<X;Pe++)Be[M[Pe]]=d.css(A,M[Pe],!1,F);return Be}return H!==void 0?d.style(A,M,H):d.css(A,M)},f,b,arguments.length>1)}});function _r(f,b,A,M,H){return new _r.prototype.init(f,b,A,M,H)}d.Tween=_r,_r.prototype={constructor:_r,init:function(f,b,A,M,H,F){this.elem=f,this.prop=A,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=M,this.unit=F||(d.cssNumber[A]?"":"px")},cur:function(){var f=_r.propHooks[this.prop];return f&&f.get?f.get(this):_r.propHooks._default.get(this)},run:function(f){var b,A=_r.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Fi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=_r.prototype.init,d.fx.step={};var Pr,Zr,sn=/^(?:toggle|show|hide)$/,$r=/queueHooks$/;function Rr(){Zr&&(E.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(Rr):r.setTimeout(Rr,d.fx.interval),d.fx.tick())}function Yr(){return r.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Wr(f,b){var A,M=0,H={height:f};for(b=b?1:0;M<4;M+=2-b)A=Qe[M],H["margin"+A]=H["padding"+A]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,A){for(var M,H=(ye.tweeners[b]||[]).concat(ye.tweeners["*"]),F=0,X=H.length;F<X;F++)if(M=H[F].call(A,b,f))return M}function ce(f,b,A){var M,H,F,X,Be,Pe,ft,Dt,ei="width"in b||"height"in b,$t=this,ot={},Pi=f.style,D=f.nodeType&&mt(f),L=te.get(f,"fxshow");A.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,Be=X.empty.fire,X.empty.fire=function(){X.unqueued||Be()}),X.unqueued++,$t.always(function(){$t.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(M in b)if(H=b[M],sn.test(H)){if(delete b[M],F=F||H==="toggle",H===(D?"hide":"show"))if(H==="show"&&L&&L[M]!==void 0)D=!0;else continue;ot[M]=L&&L[M]||d.style(f,M)}if(Pe=!d.isEmptyObject(b),!(!Pe&&d.isEmptyObject(ot))){ei&&f.nodeType===1&&(A.overflow=[Pi.overflow,Pi.overflowX,Pi.overflowY],ft=L&&L.display,ft==null&&(ft=te.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(ft?Dt=ft:(ci([f],!0),ft=f.style.display||ft,Dt=d.css(f,"display"),ci([f]))),(Dt==="inline"||Dt==="inline-block"&&ft!=null)&&d.css(f,"float")==="none"&&(Pe||($t.done(function(){Pi.display=ft}),ft==null&&(Dt=Pi.display,ft=Dt==="none"?"":Dt)),Pi.display="inline-block")),A.overflow&&(Pi.overflow="hidden",$t.always(function(){Pi.overflow=A.overflow[0],Pi.overflowX=A.overflow[1],Pi.overflowY=A.overflow[2]})),Pe=!1;for(M in ot)Pe||(L?"hidden"in L&&(D=L.hidden):L=te.access(f,"fxshow",{display:ft}),F&&(L.hidden=!D),D&&ci([f],!0),$t.done(function(){D||ci([f]),te.remove(f,"fxshow");for(M in ot)d.style(f,M,ot[M])})),Pe=ve(D?L[M]:0,M,$t),M in L||(L[M]=Pe.start,D&&(Pe.end=Pe.start,Pe.start=0))}}function B(f,b){var A,M,H,F,X;for(A in f)if(M=Ge(A),H=b[M],F=f[A],Array.isArray(F)&&(H=F[1],F=f[A]=F[0]),A!==M&&(f[M]=F,delete f[A]),X=d.cssHooks[M],X&&"expand"in X){F=X.expand(F),delete f[M];for(A in F)A in f||(f[A]=F[A],b[A]=H)}else b[M]=H}function ye(f,b,A){var M,H,F=0,X=ye.prefilters.length,Be=d.Deferred().always(function(){delete Pe.elem}),Pe=function(){if(H)return!1;for(var ei=Pr||Yr(),$t=Math.max(0,ft.startTime+ft.duration-ei),ot=$t/ft.duration||0,Pi=1-ot,D=0,L=ft.tweens.length;D<L;D++)ft.tweens[D].run(Pi);return Be.notifyWith(f,[ft,Pi,$t]),Pi<1&&L?$t:(L||Be.notifyWith(f,[ft,1,0]),Be.resolveWith(f,[ft]),!1)},ft=Be.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},A),originalProperties:b,originalOptions:A,startTime:Pr||Yr(),duration:A.duration,tweens:[],createTween:function(ei,$t){var ot=d.Tween(f,ft.opts,ei,$t,ft.opts.specialEasing[ei]||ft.opts.easing);return ft.tweens.push(ot),ot},stop:function(ei){var $t=0,ot=ei?ft.tweens.length:0;if(H)return this;for(H=!0;$t<ot;$t++)ft.tweens[$t].run(1);return ei?(Be.notifyWith(f,[ft,1,0]),Be.resolveWith(f,[ft,ei])):Be.rejectWith(f,[ft,ei]),this}}),Dt=ft.props;for(B(Dt,ft.opts.specialEasing);F<X;F++)if(M=ye.prefilters[F].call(ft,f,Dt,ft.opts),M)return S(M.stop)&&(d._queueHooks(ft.elem,ft.opts.queue).stop=M.stop.bind(M)),M;return d.map(Dt,ve,ft),S(ft.opts.start)&&ft.opts.start.call(f,ft),ft.progress(ft.opts.progress).done(ft.opts.done,ft.opts.complete).fail(ft.opts.fail).always(ft.opts.always),d.fx.timer(d.extend(Pe,{elem:f,anim:ft,queue:ft.opts.queue})),ft}d.Animation=d.extend(ye,{tweeners:{"*":[function(f,b){var A=this.createTween(f,b);return Mt(A.elem,f,Ee.exec(b),A),A}]},tweener:function(f,b){S(f)?(b=f,f=["*"]):f=f.match(Z);for(var A,M=0,H=f.length;M<H;M++)A=f[M],ye.tweeners[A]=ye.tweeners[A]||[],ye.tweeners[A].unshift(b)},prefilters:[ce],prefilter:function(f,b){b?ye.prefilters.unshift(f):ye.prefilters.push(f)}}),d.speed=function(f,b,A){var M=f&&typeof f=="object"?d.extend({},f):{complete:A||!A&&b||S(f)&&f,duration:f,easing:A&&b||b&&!S(b)&&b};return d.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in d.fx.speeds?M.duration=d.fx.speeds[M.duration]:M.duration=d.fx.speeds._default),(M.queue==null||M.queue===!0)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){S(M.old)&&M.old.call(this),M.queue&&d.dequeue(this,M.queue)},M},d.fn.extend({fadeTo:function(f,b,A,M){return this.filter(mt).css("opacity",0).show().end().animate({opacity:b},f,A,M)},animate:function(f,b,A,M){var H=d.isEmptyObject(f),F=d.speed(b,A,M),X=function(){var Be=ye(this,d.extend({},f),F);(H||te.get(this,"finish"))&&Be.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,A){var M=function(H){var F=H.stop;delete H.stop,F(A)};return typeof f!="string"&&(A=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,Be=te.get(this);if(F)Be[F]&&Be[F].stop&&M(Be[F]);else for(F in Be)Be[F]&&Be[F].stop&&$r.test(F)&&M(Be[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(A),H=!1,X.splice(F,1));(H||!A)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,A=te.get(this),M=A[f+"queue"],H=A[f+"queueHooks"],F=d.timers,X=M?M.length:0;for(A.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)M[b]&&M[b].finish&&M[b].finish.call(this);delete A.finish})}}),d.each(["toggle","show","hide"],function(f,b){var A=d.fn[b];d.fn[b]=function(M,H,F){return M==null||typeof M=="boolean"?A.apply(this,arguments):this.animate(Wr(b,!0),M,H,F)}}),d.each({slideDown:Wr("show"),slideUp:Wr("hide"),slideToggle:Wr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(A,M,H){return this.animate(b,A,M,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,A=d.timers;for(Pr=Date.now();b<A.length;b++)f=A[b],!f()&&A[b]===f&&A.splice(b--,1);A.length||d.fx.stop(),Pr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Zr||(Zr=!0,Rr())},d.fx.stop=function(){Zr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(A,M){var H=r.setTimeout(A,f);M.stop=function(){r.clearTimeout(H)}})},function(){var f=E.createElement("input"),b=E.createElement("select"),A=b.appendChild(E.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=A.selected,f=E.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var _e,Tt=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Se(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,A){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,A);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?_e:void 0)),A!==void 0){if(A===null){d.removeAttr(f,b);return}return H&&"set"in H&&(M=H.set(f,A,b))!==void 0?M:(f.setAttribute(b,A+""),A)}return H&&"get"in H&&(M=H.get(f,b))!==null?M:(M=d.find.attr(f,b),M!=null?M:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var A=f.value;return f.setAttribute("type",b),A&&(f.value=A),b}}}},removeAttr:function(f,b){var A,M=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;A=H[M++];)f.removeAttribute(A)}}),_e={set:function(f,b,A){return b===!1?d.removeAttr(f,A):f.setAttribute(A,A),A}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var A=Tt[b]||d.find.attr;Tt[b]=function(M,H,F){var X,Be,Pe=H.toLowerCase();return F||(Be=Tt[Pe],Tt[Pe]=X,X=A(M,H,F)!=null?Pe:null,Tt[Pe]=Be),X}});var Ft=/^(?:input|select|textarea|button)$/i,pi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Se(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,A){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),A!==void 0?H&&"set"in H&&(M=H.set(f,A,b))!==void 0?M:f[b]=A:H&&"get"in H&&(M=H.get(f,b))!==null?M:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):Ft.test(f.nodeName)||pi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function di(f){var b=f.match(Z)||[];return b.join(" ")}function zi(f){return f.getAttribute&&f.getAttribute("class")||""}function dr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,A,M,H,F,X;return S(f)?this.each(function(Be){d(this).addClass(f.call(this,Be,zi(this)))}):(b=dr(f),b.length?this.each(function(){if(M=zi(this),A=this.nodeType===1&&" "+di(M)+" ",A){for(F=0;F<b.length;F++)H=b[F],A.indexOf(" "+H+" ")<0&&(A+=H+" ");X=di(A),M!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,A,M,H,F,X;return S(f)?this.each(function(Be){d(this).removeClass(f.call(this,Be,zi(this)))}):arguments.length?(b=dr(f),b.length?this.each(function(){if(M=zi(this),A=this.nodeType===1&&" "+di(M)+" ",A){for(F=0;F<b.length;F++)for(H=b[F];A.indexOf(" "+H+" ")>-1;)A=A.replace(" "+H+" "," ");X=di(A),M!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var A,M,H,F,X=typeof f,Be=X==="string"||Array.isArray(f);return S(f)?this.each(function(Pe){d(this).toggleClass(f.call(this,Pe,zi(this),b),b)}):typeof b=="boolean"&&Be?b?this.addClass(f):this.removeClass(f):(A=dr(f),this.each(function(){if(Be)for(F=d(this),H=0;H<A.length;H++)M=A[H],F.hasClass(M)?F.removeClass(M):F.addClass(M);else(f===void 0||X==="boolean")&&(M=zi(this),M&&te.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||f===!1?"":te.get(this,"__className__")||""))}))},hasClass:function(f){var b,A,M=0;for(b=" "+f+" ";A=this[M++];)if(A.nodeType===1&&(" "+di(zi(A))+" ").indexOf(b)>-1)return!0;return!1}});var ir=/\r/g;d.fn.extend({val:function(f){var b,A,M,H=this[0];return arguments.length?(M=S(f),this.each(function(F){var X;this.nodeType===1&&(M?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(Be){return Be==null?"":Be+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(A=b.get(H,"value"))!==void 0?A:(A=H.value,typeof A=="string"?A.replace(ir,""):A!=null?A:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:di(d.text(f))}},select:{get:function(f){var b,A,M,H=f.options,F=f.selectedIndex,X=f.type==="select-one",Be=X?null:[],Pe=X?F+1:H.length;for(F<0?M=Pe:M=X?F:0;M<Pe;M++)if(A=H[M],(A.selected||M===F)&&!A.disabled&&(!A.parentNode.disabled||!K(A.parentNode,"optgroup"))){if(b=d(A).val(),X)return b;Be.push(b)}return Be},set:function(f,b){for(var A,M,H=f.options,F=d.makeArray(b),X=H.length;X--;)M=H[X],(M.selected=d.inArray(d.valHooks.option.get(M),F)>-1)&&(A=!0);return A||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Ur=/^(?:focusinfocus|focusoutblur)$/,le=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,A,M){var H,F,X,Be,Pe,ft,Dt,ei,$t=[A||E],ot=y.call(f,"type")?f.type:f,Pi=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ei=X=A=A||E,!(A.nodeType===3||A.nodeType===8)&&!Ur.test(ot+d.event.triggered)&&(ot.indexOf(".")>-1&&(Pi=ot.split("."),ot=Pi.shift(),Pi.sort()),Pe=ot.indexOf(":")<0&&"on"+ot,f=f[d.expando]?f:new d.Event(ot,typeof f=="object"&&f),f.isTrigger=M?2:3,f.namespace=Pi.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Pi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=A),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[ot]||{},!(!M&&Dt.trigger&&Dt.trigger.apply(A,b)===!1))){if(!M&&!Dt.noBubble&&!P(A)){for(Be=Dt.delegateType||ot,Ur.test(Be+ot)||(F=F.parentNode);F;F=F.parentNode)$t.push(F),X=F;X===(A.ownerDocument||E)&&$t.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=$t[H++])&&!f.isPropagationStopped();)ei=F,f.type=H>1?Be:Dt.bindType||ot,ft=(te.get(F,"events")||Object.create(null))[f.type]&&te.get(F,"handle"),ft&&ft.apply(F,b),ft=Pe&&F[Pe],ft&&ft.apply&&it(F)&&(f.result=ft.apply(F,b),f.result===!1&&f.preventDefault());return f.type=ot,!M&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply($t.pop(),b)===!1)&&it(A)&&Pe&&S(A[ot])&&!P(A)&&(X=A[Pe],X&&(A[Pe]=null),d.event.triggered=ot,f.isPropagationStopped()&&ei.addEventListener(ot,le),A[ot](),f.isPropagationStopped()&&ei.removeEventListener(ot,le),d.event.triggered=void 0,X&&(A[Pe]=X)),f.result}},simulate:function(f,b,A){var M=d.extend(new d.Event,A,{type:f,isSimulated:!0});d.event.trigger(M,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var A=this[0];if(A)return d.event.trigger(f,b,A,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var A=function(M){d.event.simulate(b,M.target,d.event.fix(M))};d.event.special[b]={setup:function(){var M=this.ownerDocument||this.document||this,H=te.access(M,b);H||M.addEventListener(f,A,!0),te.access(M,b,(H||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,H=te.access(M,b)-1;H?te.access(M,b,H):(M.removeEventListener(f,A,!0),te.remove(M,b))}}});var On=r.location,yn={guid:Date.now()},An=/\?/;d.parseXML=function(f){var b,A;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(M){}return A=b&&b.getElementsByTagName("parsererror")[0],(!b||A)&&d.error("Invalid XML: "+(A?d.map(A.childNodes,function(M){return M.textContent}).join(`
`):f)),b};var bn=/\[\]$/,si=/\r?\n/g,bi=/^(?:submit|button|image|reset|file)$/i,fi=/^(?:input|select|textarea|keygen)/i;function er(f,b,A,M){var H;if(Array.isArray(b))d.each(b,function(F,X){A||bn.test(f)?M(f,X):er(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,A,M)});else if(!A&&h(b)==="object")for(H in b)er(f+"["+H+"]",b[H],A,M);else M(f,b)}d.param=function(f,b){var A,M=[],H=function(F,X){var Be=S(X)?X():X;M[M.length]=encodeURIComponent(F)+"="+encodeURIComponent(Be!=null?Be:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(A in f)er(A,f[A],b,H);return M.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&fi.test(this.nodeName)&&!bi.test(f)&&(this.checked||!Lt.test(f))}).map(function(f,b){var A=d(this).val();return A==null?null:Array.isArray(A)?d.map(A,function(M){return{name:b.name,value:M.replace(si,`\r
`)}}):{name:b.name,value:A.replace(si,`\r
`)}}).get()}});var rr=/%20/g,Sn=/#.*$/,gn=/([?&])_=[^&]*/,po=/^(.*?):[ \t]*([^\r\n]*)$/mg,so=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Va=/^(?:GET|HEAD)$/,na=/^\/\//,xo={},Mn={},Qr="*/".concat("*"),lo=E.createElement("a");lo.href=On.href;function _o(f){return function(b,A){typeof b!="string"&&(A=b,b="*");var M,H=0,F=b.toLowerCase().match(Z)||[];if(S(A))for(;M=F[H++];)M[0]==="+"?(M=M.slice(1)||"*",(f[M]=f[M]||[]).unshift(A)):(f[M]=f[M]||[]).push(A)}}function oa(f,b,A,M){var H={},F=f===Mn;function X(Be){var Pe;return H[Be]=!0,d.each(f[Be]||[],function(ft,Dt){var ei=Dt(b,A,M);if(typeof ei=="string"&&!F&&!H[ei])return b.dataTypes.unshift(ei),X(ei),!1;if(F)return!(Pe=ei)}),Pe}return X(b.dataTypes[0])||!H["*"]&&X("*")}function qn(f,b){var A,M,H=d.ajaxSettings.flatOptions||{};for(A in b)b[A]!==void 0&&((H[A]?f:M||(M={}))[A]=b[A]);return M&&d.extend(!0,f,M),f}function wa(f,b,A){for(var M,H,F,X,Be=f.contents,Pe=f.dataTypes;Pe[0]==="*";)Pe.shift(),M===void 0&&(M=f.mimeType||b.getResponseHeader("Content-Type"));if(M){for(H in Be)if(Be[H]&&Be[H].test(M)){Pe.unshift(H);break}}if(Pe[0]in A)F=Pe[0];else{for(H in A){if(!Pe[0]||f.converters[H+" "+Pe[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Pe[0]&&Pe.unshift(F),A[F]}function Wa(f,b,A,M){var H,F,X,Be,Pe,ft={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)ft[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(A[f.responseFields[F]]=b),!Pe&&M&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Pe=F,F=Dt.shift(),F){if(F==="*")F=Pe;else if(Pe!=="*"&&Pe!==F){if(X=ft[Pe+" "+F]||ft["* "+F],!X){for(H in ft)if(Be=H.split(" "),Be[1]===F&&(X=ft[Pe+" "+Be[0]]||ft["* "+Be[0]],X)){X===!0?X=ft[H]:ft[H]!==!0&&(F=Be[0],Dt.unshift(Be[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ei){return{state:"parsererror",error:X?ei:"No conversion from "+Pe+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On.href,type:"GET",isLocal:so.test(On.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?qn(qn(f,d.ajaxSettings),b):qn(d.ajaxSettings,f)},ajaxPrefilter:_o(xo),ajaxTransport:_o(Mn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var A,M,H,F,X,Be,Pe,ft,Dt,ei,$t=d.ajaxSetup({},b),ot=$t.context||$t,Pi=$t.context&&(ot.nodeType||ot.jquery)?d(ot):d.event,D=d.Deferred(),L=d.Callbacks("once memory"),j=$t.statusCode||{},U={},se={},me="canceled",Ce={readyState:0,getResponseHeader:function(vt){var qt;if(Pe){if(!F)for(F={};qt=po.exec(H);)F[qt[1].toLowerCase()+" "]=(F[qt[1].toLowerCase()+" "]||[]).concat(qt[2]);qt=F[vt.toLowerCase()+" "]}return qt==null?null:qt.join(", ")},getAllResponseHeaders:function(){return Pe?H:null},setRequestHeader:function(vt,qt){return Pe==null&&(vt=se[vt.toLowerCase()]=se[vt.toLowerCase()]||vt,U[vt]=qt),this},overrideMimeType:function(vt){return Pe==null&&($t.mimeType=vt),this},statusCode:function(vt){var qt;if(vt)if(Pe)Ce.always(vt[Ce.status]);else for(qt in vt)j[qt]=[j[qt],vt[qt]];return this},abort:function(vt){var qt=vt||me;return A&&A.abort(qt),Rt(0,qt),this}};if(D.promise(Ce),$t.url=((f||$t.url||On.href)+"").replace(na,On.protocol+"//"),$t.type=b.method||b.type||$t.method||$t.type,$t.dataTypes=($t.dataType||"*").toLowerCase().match(Z)||[""],$t.crossDomain==null){Be=E.createElement("a");try{Be.href=$t.url,Be.href=Be.href,$t.crossDomain=lo.protocol+"//"+lo.host!=Be.protocol+"//"+Be.host}catch(vt){$t.crossDomain=!0}}if($t.data&&$t.processData&&typeof $t.data!="string"&&($t.data=d.param($t.data,$t.traditional)),oa(xo,$t,b,Ce),Pe)return Ce;ft=d.event&&$t.global,ft&&d.active++===0&&d.event.trigger("ajaxStart"),$t.type=$t.type.toUpperCase(),$t.hasContent=!Va.test($t.type),M=$t.url.replace(Sn,""),$t.hasContent?$t.data&&$t.processData&&($t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&($t.data=$t.data.replace(rr,"+")):(ei=$t.url.slice(M.length),$t.data&&($t.processData||typeof $t.data=="string")&&(M+=(An.test(M)?"&":"?")+$t.data,delete $t.data),$t.cache===!1&&(M=M.replace(gn,"$1"),ei=(An.test(M)?"&":"?")+"_="+yn.guid+++ei),$t.url=M+ei),$t.ifModified&&(d.lastModified[M]&&Ce.setRequestHeader("If-Modified-Since",d.lastModified[M]),d.etag[M]&&Ce.setRequestHeader("If-None-Match",d.etag[M])),($t.data&&$t.hasContent&&$t.contentType!==!1||b.contentType)&&Ce.setRequestHeader("Content-Type",$t.contentType),Ce.setRequestHeader("Accept",$t.dataTypes[0]&&$t.accepts[$t.dataTypes[0]]?$t.accepts[$t.dataTypes[0]]+($t.dataTypes[0]!=="*"?", "+Qr+"; q=0.01":""):$t.accepts["*"]);for(Dt in $t.headers)Ce.setRequestHeader(Dt,$t.headers[Dt]);if($t.beforeSend&&($t.beforeSend.call(ot,Ce,$t)===!1||Pe))return Ce.abort();if(me="abort",L.add($t.complete),Ce.done($t.success),Ce.fail($t.error),A=oa(Mn,$t,b,Ce),!A)Rt(-1,"No Transport");else{if(Ce.readyState=1,ft&&Pi.trigger("ajaxSend",[Ce,$t]),Pe)return Ce;$t.async&&$t.timeout>0&&(X=r.setTimeout(function(){Ce.abort("timeout")},$t.timeout));try{Pe=!1,A.send(U,Rt)}catch(vt){if(Pe)throw vt;Rt(-1,vt)}}function Rt(vt,qt,ai,Ei){var Ii,Oi,ar,Wi,Ri,Yi=qt;Pe||(Pe=!0,X&&r.clearTimeout(X),A=void 0,H=Ei||"",Ce.readyState=vt>0?4:0,Ii=vt>=200&&vt<300||vt===304,ai&&(Wi=wa($t,Ce,ai)),!Ii&&d.inArray("script",$t.dataTypes)>-1&&d.inArray("json",$t.dataTypes)<0&&($t.converters["text script"]=function(){}),Wi=Wa($t,Wi,Ce,Ii),Ii?($t.ifModified&&(Ri=Ce.getResponseHeader("Last-Modified"),Ri&&(d.lastModified[M]=Ri),Ri=Ce.getResponseHeader("etag"),Ri&&(d.etag[M]=Ri)),vt===204||$t.type==="HEAD"?Yi="nocontent":vt===304?Yi="notmodified":(Yi=Wi.state,Oi=Wi.data,ar=Wi.error,Ii=!ar)):(ar=Yi,(vt||!Yi)&&(Yi="error",vt<0&&(vt=0))),Ce.status=vt,Ce.statusText=(qt||Yi)+"",Ii?D.resolveWith(ot,[Oi,Yi,Ce]):D.rejectWith(ot,[Ce,Yi,ar]),Ce.statusCode(j),j=void 0,ft&&Pi.trigger(Ii?"ajaxSuccess":"ajaxError",[Ce,$t,Ii?Oi:ar]),L.fireWith(ot,[Ce,Yi]),ft&&(Pi.trigger("ajaxComplete",[Ce,$t]),--d.active||d.event.trigger("ajaxStop")))}return Ce},getJSON:function(f,b,A){return d.get(f,b,A,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(A,M,H,F){return S(M)&&(F=F||H,H=M,M=void 0),d.ajax(d.extend({url:A,type:b,dataType:F,data:M,success:H},d.isPlainObject(A)&&A))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,A){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){d.globalEval(M,b,A)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(S(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this)),this},wrapInner:function(f){return S(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),A=b.contents();A.length?A.wrapAll(f):b.append(f)})},wrap:function(f){var b=S(f);return this.each(function(A){d(this).wrapAll(b?f.call(this,A):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var xa={0:200,1223:204},no=d.ajaxSettings.xhr();k.cors=!!no&&"withCredentials"in no,k.ajax=no=!!no,d.ajaxTransport(function(f){var b,A;if(k.cors||no&&!f.crossDomain)return{send:function(M,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(F in M)X.setRequestHeader(F,M[F]);b=function(Be){return function(){b&&(b=A=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,Be==="abort"?X.abort():Be==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(xa[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),A=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=A:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&A()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(Be){if(b)throw Be}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,A;return{send:function(M,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",A=function(F){b.remove(),A=null,F&&H(F.type==="error"?404:200,F.type)}),E.head.appendChild(b[0])},abort:function(){A&&A()}}}});var Do=[],Bo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=Do.pop()||d.expando+"_"+yn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,A){var M,H,F,X=f.jsonp!==!1&&(Bo.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Bo.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return M=f.jsonpCallback=S(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Bo,"$1"+M):f.jsonp!==!1&&(f.url+=(An.test(f.url)?"&":"?")+f.jsonp+"="+M),f.converters["script json"]=function(){return F||d.error(M+" was not called"),F[0]},f.dataTypes[0]="json",H=r[M],r[M]=function(){F=arguments},A.always(function(){H===void 0?d(r).removeProp(M):r[M]=H,f[M]&&(f.jsonpCallback=b.jsonpCallback,Do.push(M)),F&&S(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=E.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,A){if(typeof f!="string")return[];typeof b=="boolean"&&(A=b,b=!1);var M,H,F;return b||(k.createHTMLDocument?(b=E.implementation.createHTMLDocument(""),M=b.createElement("base"),M.href=E.location.href,b.head.appendChild(M)):b=E),H=ne.exec(f),F=!A&&[],H?[b.createElement(H[1])]:(H=ke([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,A){var M,H,F,X=this,Be=f.indexOf(" ");return Be>-1&&(M=di(f.slice(Be)),f=f.slice(0,Be)),S(b)?(A=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Pe){F=arguments,X.html(M?d("<div>").append(d.parseHTML(Pe)).find(M):Pe)}).always(A&&function(Pe,ft){X.each(function(){A.apply(this,F||[Pe.responseText,ft,Pe])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,A){var M,H,F,X,Be,Pe,ft,Dt=d.css(f,"position"),ei=d(f),$t={};Dt==="static"&&(f.style.position="relative"),Be=ei.offset(),F=d.css(f,"top"),Pe=d.css(f,"left"),ft=(Dt==="absolute"||Dt==="fixed")&&(F+Pe).indexOf("auto")>-1,ft?(M=ei.position(),X=M.top,H=M.left):(X=parseFloat(F)||0,H=parseFloat(Pe)||0),S(b)&&(b=b.call(f,A,d.extend({},Be))),b.top!=null&&($t.top=b.top-Be.top+X),b.left!=null&&($t.left=b.left-Be.left+H),"using"in b?b.using.call(f,$t):ei.css($t)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,A,M=this[0];if(M)return M.getClientRects().length?(b=M.getBoundingClientRect(),A=M.ownerDocument.defaultView,{top:b.top+A.pageYOffset,left:b.left+A.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,A,M=this[0],H={top:0,left:0};if(d.css(M,"position")==="fixed")b=M.getBoundingClientRect();else{for(b=this.offset(),A=M.ownerDocument,f=M.offsetParent||A.documentElement;f&&(f===A.body||f===A.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==M&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(M,"marginTop",!0),left:b.left-H.left-d.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||nt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var A=b==="pageYOffset";d.fn[f]=function(M){return Se(this,function(H,F,X){var Be;if(P(H)?Be=H:H.nodeType===9&&(Be=H.defaultView),X===void 0)return Be?Be[b]:H[F];Be?Be.scrollTo(A?Be.pageXOffset:X,A?X:Be.pageYOffset):H[F]=X},f,M,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=Si(k.pixelPosition,function(A,M){if(M)return M=Ai(A,b),Pt.test(M)?d(A).position()[b]+"px":M})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(A,M){d.fn[M]=function(H,F){var X=arguments.length&&(A||typeof H!="boolean"),Be=A||(H===!0||F===!0?"margin":"border");return Se(this,function(Pe,ft,Dt){var ei;return P(Pe)?M.indexOf("outer")===0?Pe["inner"+f]:Pe.document.documentElement["client"+f]:Pe.nodeType===9?(ei=Pe.documentElement,Math.max(Pe.body["scroll"+f],ei["scroll"+f],Pe.body["offset"+f],ei["offset"+f],ei["client"+f])):Dt===void 0?d.css(Pe,ft,Be):d.style(Pe,ft,Dt,Be)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(A){return this.on(b,A)}}),d.fn.extend({bind:function(f,b,A){return this.on(f,null,b,A)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,A,M){return this.on(b,f,A,M)},undelegate:function(f,b,A){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",A)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(A,M){return arguments.length>0?this.on(b,null,A,M):this.trigger(b)}});var Ho=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var A,M,H;if(typeof b=="string"&&(A=f[b],b=f,f=A),!!S(f))return M=c.call(arguments,2),H=function(){return f.apply(b||this,M.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=S,d.isWindow=P,d.camelCase=Ge,d.type=h,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Ho,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var co=r.jQuery,wn=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=wn),f&&r.jQuery===d&&(r.jQuery=co),d},typeof s>"u"&&(r.jQuery=r.$=d),d})}),k0=Ik(Dk()),Pp=(A0=k0.default)!=null?A0:k0;});var C0=Zt(()=>{$p();$p()});var yi,Op=Zt(()=>{C0();yi="jQuery"in window&&"$"in window?window.$:Pp;window.jQuery=yi;window.$=yi});function Rk(e,t=!1){if(typeof location=="undefined")return"";let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let s=0;s<r.length;s++)if(r[s].slice(0,r[s].indexOf("="))===e){let l=r[s].slice(r[s].indexOf("=")+1);return l.length>0?unescape(l):""}return""}var qo,ld=Zt(()=>{qo=Rk});var E0,Gi,T0,Ka=Zt(()=>{Gi=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((E0=globalThis==null?void 0:globalThis.navigator)==null?void 0:E0.onLine)===!1?console.log.bind(console):()=>{},T0=console.error.bind(console)});function jk(e,t,r="false",s=null){if(typeof e!="string")throw new Error("first arg should be a string");$(e).on("click",s,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var Go,Mp=Zt(()=>{Go=jk});var P0=Zt(()=>{window.jwplayer=function(e){function t(p){for(var g,m,y=p[0],x=p[1],w=0,k=[];w<y.length;w++)m=y[w],Object.prototype.hasOwnProperty.call(s,m)&&s[m]&&k.push(s[m][0]),s[m]=0;for(g in x)Object.prototype.hasOwnProperty.call(x,g)&&(e[g]=x[g]);for(u&&u(p);k.length;)k.shift()()}var r={},s={0:0};function l(p){if(r[p])return r[p].exports;var g=r[p]={i:p,l:!1,exports:{}};return e[p].call(g.exports,g,g.exports,l),g.l=!0,g.exports}l.e=function(p){var g=[],m=s[p];if(m!==0)if(m)g.push(m[2]);else{var y=new Promise(function(P,E){m=s[p]=[P,E]});g.push(m[2]=y);var x,w=document.createElement("script");w.charset="utf-8",w.timeout=120,l.nc&&w.setAttribute("nonce",l.nc),w.src=function(P){return l.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[P]||P)+".js"}(p);var k=new Error;x=function(P){w.onerror=w.onload=null,clearTimeout(S);var E=s[p];if(E!==0){if(E){var O=P&&(P.type==="load"?"missing":P.type),a=P&&P.target&&P.target.src;k.message="Loading chunk "+p+` failed.
(`+O+": "+a+")",k.name="ChunkLoadError",k.type=O,k.request=a,E[1](k)}s[p]=void 0}};var S=setTimeout(function(){x({type:"timeout",target:w})},12e4);w.onerror=w.onload=x,document.head.appendChild(w)}return Promise.all(g)},l.m=e,l.c=r,l.d=function(p,g,m){l.o(p,g)||Object.defineProperty(p,g,{enumerable:!0,get:m})},l.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},l.t=function(p,g){if(1&g&&(p=l(p)),8&g||4&g&&typeof p=="object"&&p&&p.__esModule)return p;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:p}),2&g&&typeof p!="string")for(var y in p)l.d(m,y,function(x){return p[x]}.bind(null,y));return m},l.n=function(p){var g=p&&p.__esModule?function(){return p.default}:function(){return p};return l.d(g,"a",g),g},l.o=function(p,g){return Object.prototype.hasOwnProperty.call(p,g)},l.p="",l.oe=function(p){throw console.error(p),p};var o=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var n=0;n<o.length;n++)t(o[n]);var u=c;return l(l.s=56)}([function(e,t,r){"use strict";r.d(t,"f",function(){return d}),r.d(t,"v",function(){return C}),r.d(t,"i",function(){return Q}),r.d(t,"h",function(){return Me}),r.d(t,"z",function(){return lt}),r.d(t,"b",function(){return We}),r.d(t,"j",function(){return Le}),r.d(t,"e",function(){return je}),r.d(t,"l",function(){return Ne}),r.d(t,"a",function(){return it}),r.d(t,"A",function(){return _t}),r.d(t,"m",function(){return st}),r.d(t,"d",function(){return Ee}),r.d(t,"g",function(){return Qe}),r.d(t,"x",function(){return nt}),r.d(t,"p",function(){return oi}),r.d(t,"r",function(){return ci}),r.d(t,"s",function(){return Lt}),r.d(t,"o",function(){return It}),r.d(t,"q",function(){return Ct}),r.d(t,"n",function(){return St}),r.d(t,"t",function(){return kt}),r.d(t,"k",function(){return Ve}),r.d(t,"y",function(){return ke}),r.d(t,"w",function(){return Ye}),r.d(t,"u",function(){return dt});var s=r(16),l={},o=Array.prototype,c=Object.prototype,n=Function.prototype,u=o.slice,p=o.concat,g=c.toString,m=c.hasOwnProperty,y=o.map,x=o.reduce,w=o.forEach,k=o.filter,S=o.every,P=o.some,E=o.indexOf,O=Array.isArray,a=Object.keys,h=n.bind,v=window.isFinite,d=function(ae,Ie,Ue){var gt,ct;if(ae==null)return ae;if(w&&ae.forEach===w)ae.forEach(Ie,Ue);else if(ae.length===+ae.length){for(gt=0,ct=ae.length;gt<ct;gt++)if(Ie.call(Ue,ae[gt],gt,ae)===l)return}else{var Et=be(ae);for(gt=0,ct=Et.length;gt<ct;gt++)if(Ie.call(Ue,ae[Et[gt]],Et[gt],ae)===l)return}return ae},_=d,C=function(ae,Ie,Ue){var gt=[];return ae==null?gt:y&&ae.map===y?ae.map(Ie,Ue):(d(ae,function(ct,Et,zt){gt.push(Ie.call(Ue,ct,Et,zt))}),gt)},N=C,G="Reduce of empty array with no initial value",q=function(ae,Ie,Ue,gt){var ct=arguments.length>2;if(ae==null&&(ae=[]),x&&ae.reduce===x)return gt&&(Ie=it(Ie,gt)),ct?ae.reduce(Ie,Ue):ae.reduce(Ie);if(d(ae,function(Et,zt,Xt){ct?Ue=Ie.call(gt,Ue,Et,zt,Xt):(Ue=Et,ct=!0)}),!ct)throw new TypeError(G);return Ue},K=q,ne=q,Q=function(ae,Ie,Ue){var gt;return fe(ae,function(ct,Et,zt){if(Ie.call(Ue,ct,Et,zt))return gt=ct,!0}),gt},ee=Q,Me=function(ae,Ie,Ue){var gt=[];return ae==null?gt:k&&ae.filter===k?ae.filter(Ie,Ue):(d(ae,function(ct,Et,zt){Ie.call(Ue,ct,Et,zt)&&gt.push(ct)}),gt)},pe=Me,W=function(ae,Ie,Ue){Ie||(Ie=Ve);var gt=!0;return ae==null?gt:S&&ae.every===S?ae.every(Ie,Ue):(d(ae,function(ct,Et,zt){if(!(gt=gt&&Ie.call(Ue,ct,Et,zt)))return l}),!!gt)},oe=W,fe=function(ae,Ie,Ue){Ie||(Ie=Ve);var gt=!1;return ae==null?gt:P&&ae.some===P?ae.some(Ie,Ue):(d(ae,function(ct,Et,zt){if(gt||(gt=Ie.call(Ue,ct,Et,zt)))return l}),!!gt)},Z=fe,xe=function(ae,Ie){var Ue;return function(){return--ae>0&&(Ue=Ie.apply(this,arguments)),ae<=1&&(Ie=null),Ue}},Y=function(ae){return ae==null?Ve:oi(ae)?ae:ke(ae)},he=function(ae){return function(Ie,Ue,gt){var ct={};return Ue=Y(Ue),d(Ie,function(Et,zt){var Xt=Ue.call(gt,Et,zt,Ie);ae(ct,Xt,Et)}),ct}},Ke=he(function(ae,Ie,Ue){I(ae,Ie)?ae[Ie].push(Ue):ae[Ie]=[Ue]}),ht=he(function(ae,Ie,Ue){ae[Ie]=Ue}),lt=function(ae,Ie,Ue,gt){for(var ct=(Ue=Y(Ue)).call(gt,Ie),Et=0,zt=ae.length;Et<zt;){var Xt=Et+zt>>>1;Ue.call(gt,ae[Xt])<ct?Et=Xt+1:zt=Xt}return Et},We=function(ae,Ie){return ae!=null&&(ae.length!==+ae.length&&(ae=$e(ae)),Ne(ae,Ie)>=0)},Se=We,Le=function(ae,Ie){return Q(ae,Ye(Ie))},je=function(ae){var Ie=p.apply(o,u.call(arguments,1));return Me(ae,function(Ue){return!We(Ie,Ue)})},Ne=function(ae,Ie,Ue){if(ae==null)return-1;var gt=0,ct=ae.length;if(Ue){if(typeof Ue!="number")return ae[gt=lt(ae,Ie)]===Ie?gt:-1;gt=Ue<0?Math.max(0,ct+Ue):Ue}if(E&&ae.indexOf===E)return ae.indexOf(Ie,Ue);for(;gt<ct;gt++)if(ae[gt]===Ie)return gt;return-1},Ge=function(){},it=function(ae,Ie){var Ue,gt;if(h&&ae.bind===h)return h.apply(ae,u.call(arguments,1));if(!oi(ae))throw new TypeError;return Ue=u.call(arguments,2),gt=function(){if(!(this instanceof gt))return ae.apply(Ie,Ue.concat(u.call(arguments)));Ge.prototype=ae.prototype;var ct=new Ge;Ge.prototype=null;var Et=ae.apply(ct,Ue.concat(u.call(arguments)));return Object(Et)===Et?Et:ct}},Re=function(ae){var Ie=u.call(arguments,1);return function(){for(var Ue=0,gt=Ie.slice(),ct=0,Et=gt.length;ct<Et;ct++)I(gt[ct],"partial")&&(gt[ct]=arguments[Ue++]);for(;Ue<arguments.length;)gt.push(arguments[Ue++]);return ae.apply(this,gt)}},te=Re(xe,2),J=function(ae,Ie){var Ue=u.call(arguments,2);return setTimeout(function(){return ae.apply(null,Ue)},Ie)},qe=Re(J,{partial:Re},1),_t=function(ae,Ie,Ue){var gt,ct,Et,zt=null,Xt=0;Ue||(Ue={});var Ot=function(){Xt=Ue.leading===!1?0:Ze(),zt=null,Et=ae.apply(gt,ct),gt=ct=null};return function(){Xt||Ue.leading!==!1||(Xt=Ze);var Bt=Ie-(Ze-Xt);return gt=this,ct=arguments,Bt<=0?(clearTimeout(zt),zt=null,Xt=Ze,Et=ae.apply(gt,ct),gt=ct=null):zt||Ue.trailing===!1||(zt=setTimeout(Ot,Bt)),Et}},be=function(ae){if(!ut(ae))return[];if(a)return a(ae);var Ie=[];for(var Ue in ae)I(ae,Ue)&&Ie.push(Ue);return Ie},$e=function(ae){for(var Ie=be(ae),Ue=be.length,gt=Array(Ue),ct=0;ct<Ue;ct++)gt[ct]=ae[Ie[ct]];return gt},st=function(ae){for(var Ie={},Ue=be(ae),gt=0,ct=Ue.length;gt<ct;gt++)Ie[ae[Ue[gt]]]=Ue[gt];return Ie},Ee=function(ae){return d(u.call(arguments,1),function(Ie){if(Ie)for(var Ue in Ie)ae[Ue]===void 0&&(ae[Ue]=Ie[Ue])}),ae},Qe=Object.assign||function(ae){return d(u.call(arguments,1),function(Ie){if(Ie)for(var Ue in Ie)Object.prototype.hasOwnProperty.call(Ie,Ue)&&(ae[Ue]=Ie[Ue])}),ae},nt=function(ae){var Ie={},Ue=p.apply(o,u.call(arguments,1));return d(Ue,function(gt){gt in ae&&(Ie[gt]=ae[gt])}),Ie},Ut=O||function(ae){return g.call(ae)=="[object Array]"},ut=function(ae){return ae===Object(ae)},mt=[];d(["Function","String","Number","Date","RegExp"],function(ae){mt[ae]=function(Ie){return g.call(Ie)=="[object "+ae+"]"}}),mt.Function=function(ae){return typeof ae=="function"};var Mt=mt.Date,ti=mt.RegExp,oi=mt.Function,ci=mt.Number,Lt=mt.String,It=function(ae){return v(ae)&&!Ct(parseFloat(ae))},Ct=function(ae){return ci(ae)&&ae!=+ae},St=function(ae){return ae===!0||ae===!1||g.call(ae)=="[object Boolean]"},kt=function(ae){return ae===void 0},I=function(ae,Ie){return m.call(ae,Ie)},Ve=function(ae){return ae},ke=function(ae){return function(Ie){return Ie[ae]}},Ye=function(ae){return function(Ie){if(Ie===ae)return!0;for(var Ue in ae)if(ae[Ue]!==Ie[Ue])return!1;return!0}},Ze=s.a,dt=function(ae){return ci(ae)&&!Ct(ae)};t.c={after:function(ae,Ie){return function(){if(--ae<1)return Ie.apply(this,arguments)}},all:W,any:fe,before:xe,bind:it,clone:function(ae){return ut(ae)?Ut(ae)?ae.slice():Qe({},ae):ae},collect:N,compact:function(ae){return Me(ae,Ve)},constant:function(ae){return function(){return ae}},contains:We,debounce:function(ae,Ie){var Ue;return Ie===void 0&&(Ie=100),function(){for(var gt=this,ct=arguments.length,Et=new Array(ct),zt=0;zt<ct;zt++)Et[zt]=arguments[zt];clearTimeout(Ue),Ue=setTimeout(function(){ae.apply(gt,Et)},Ie)}},defaults:Ee,defer:qe,delay:J,detect:ee,difference:je,each:d,every:oe,extend:Qe,filter:Me,find:Q,findWhere:Le,foldl:K,forEach:_,groupBy:Ke,has:I,identity:Ve,include:Se,indexBy:ht,indexOf:Ne,inject:ne,invert:st,isArray:Ut,isBoolean:St,isDate:Mt,isFinite:It,isFunction:oi,isNaN:Ct,isNull:function(ae){return ae===null},isNumber:ci,isObject:ut,isRegExp:ti,isString:Lt,isUndefined:kt,isValidNumber:dt,keys:be,last:function(ae,Ie,Ue){if(ae!=null)return Ie==null||Ue?ae[ae.length-1]:u.call(ae,Math.max(ae.length-Ie,0))},map:C,matches:Ye,max:function(ae,Ie,Ue){if(!Ie&&Ut(ae)&&ae[0]===+ae[0]&&ae.length<65535)return Math.max.apply(Math,ae);var gt=-1/0,ct=-1/0;return d(ae,function(Et,zt,Xt){var Ot=Ie?Ie.call(Ue,Et,zt,Xt):Et;Ot>ct&&(gt=Et,ct=Ot)}),gt},memoize:function(ae,Ie){var Ue={};return Ie||(Ie=Ve),function(){var gt=Ie.apply(this,arguments);return I(Ue,gt)?Ue[gt]:Ue[gt]=ae.apply(this,arguments)}},now:Ze,omit:function(ae){var Ie={},Ue=p.apply(o,u.call(arguments,1));for(var gt in ae)We(Ue,gt)||(Ie[gt]=ae[gt]);return Ie},once:te,partial:Re,pick:nt,pluck:function(ae,Ie){return C(ae,ke(Ie))},property:ke,propertyOf:function(ae){return ae==null?function(){}:function(Ie){return ae[Ie]}},reduce:q,reject:function(ae,Ie,Ue){return Me(ae,function(gt,ct,Et){return!Ie.call(Ue,gt,ct,Et)},Ue)},result:function(ae,Ie){if(ae!=null){var Ue=ae[Ie];return oi(Ue)?Ue.call(ae):Ue}},select:pe,size:function(ae){return ae==null?0:ae.length===+ae.length?ae.length:be(ae).length},some:Z,sortedIndex:lt,throttle:_t,where:function(ae,Ie){return Me(ae,Ye(Ie))},without:function(ae){return je(ae,u.call(arguments,1))}}},function(e,t,r){"use strict";r.d(t,"v",function(){return l}),r.d(t,"u",function(){return o}),r.d(t,"t",function(){return c}),r.d(t,"q",function(){return n}),r.d(t,"r",function(){return u}),r.d(t,"p",function(){return p}),r.d(t,"b",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"s",function(){return y}),r.d(t,"e",function(){return x}),r.d(t,"i",function(){return w}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return S}),r.d(t,"c",function(){return P}),r.d(t,"g",function(){return E}),r.d(t,"h",function(){return O}),r.d(t,"l",function(){return a}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return v}),r.d(t,"m",function(){return d}),r.d(t,"n",function(){return _}),r.d(t,"o",function(){return C}),r.d(t,"x",function(){return N}),r.d(t,"w",function(){return G}),r.d(t,"y",function(){return q});var s=r(0),l=1e5,o=100001,c=100002,n=101e3,u=102e3,p=102700,g=200001,m=202e3,y=104e3,x=203e3,w=203640,k=203700,S=204e3,P=306e3,E=308e3,O=308640,a="cantPlayVideo",h="badConnection",v="cantLoadPlayer",d="liveStreamDown",_="technicalError",C=function(){function K(ne,Q,ee){this.code=Object(s.u)(Q)?Q:0,this.sourceError=ee||null,ne&&(this.key=ne)}return K.logMessage=function(ne){var Q=ne%1e3,ee=Math.floor((ne-Q)/1e3),Me=ne.toString();return Q>=400&&Q<600&&(Me=ee+"400-"+ee+"599"),"JW Player "+(ne>299999&&ne<4e5?"Warning":"Error")+" "+ne+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+Me},K}();function N(K,ne,Q){return Q instanceof C&&Q.code?Q:new C(K,ne,Q)}function G(K,ne){var Q=N(_,ne,K);return Q.code=(K&&K instanceof C&&K.code||0)+ne,Q}function q(K){var ne=K.name,Q=K.message;switch(ne){case"AbortError":return/pause/.test(Q)?303213:/load/.test(Q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}},function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"e",function(){return c}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"g",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"f",function(){return y}),r.d(t,"h",function(){return x}),r.d(t,"c",function(){return w});var s=r(0),l=window.parseFloat;function o(k){return k.replace(/^\s+|\s+$/g,"")}function c(k,S,P){for(k=""+k,P=P||"0";k.length<S;)k=P+k;return k}function n(k,S){for(var P=k.attributes,E=0;E<P.length;E++)if(P[E].name&&P[E].name.toLowerCase()===S.toLowerCase())return P[E].value.toString();return""}function u(k){if(!k||k.substr(0,4)==="rtmp")return"";var S=/[(,]format=(m3u8|mpd)-/i.exec(k);if(S)return S[1];var P=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return P!==k?P.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""}function p(k){var S=(k/60|0)%60,P=k%60;return c((k/3600|0).toString(),2)+":"+c(S.toString(),2)+":"+c(P.toFixed(3),6)}function g(k,S){if(!k)return 0;if(Object(s.u)(k))return k;var P=k.replace(",","."),E=P.slice(-1),O=P.split(":"),a=O.length,h=0;if(E==="s")h=l(P);else if(E==="m")h=60*l(P);else if(E==="h")h=3600*l(P);else if(a>1){var v=a-1;a===4&&(S&&(h=l(O[v])/S),v-=1),h+=l(O[v]),h+=60*l(O[v-1]),a>=3&&(h+=3600*l(O[v-2]))}else h=l(P);return Object(s.u)(h)?h:0}function m(k,S,P){if(Object(s.s)(k)&&k.slice(-1)==="%"){var E=l(k);return S&&Object(s.u)(S)&&Object(s.u)(E)?S*E/100:null}return g(k,P)}function y(k,S){return k.map(function(P){return S+P})}function x(k,S){return k.map(function(P){return P+S})}function w(k){return!!k&&Object(s.s)(k)&&k.slice(-1)==="%"}},function(e,t,r){"use strict";r.d(t,"jb",function(){return s}),r.d(t,"mb",function(){return l}),r.d(t,"kb",function(){return o}),r.d(t,"ob",function(){return c}),r.d(t,"pb",function(){return n}),r.d(t,"lb",function(){return u}),r.d(t,"nb",function(){return p}),r.d(t,"qb",function(){return g}),r.d(t,"s",function(){return m}),r.d(t,"u",function(){return y}),r.d(t,"t",function(){return x}),r.d(t,"o",function(){return w}),r.d(t,"r",function(){return k}),r.d(t,"Z",function(){return S}),r.d(t,"W",function(){return P}),r.d(t,"v",function(){return E}),r.d(t,"Y",function(){return O}),r.d(t,"w",function(){return a}),r.d(t,"ub",function(){return h}),r.d(t,"a",function(){return v}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return _}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return N}),r.d(t,"f",function(){return G}),r.d(t,"i",function(){return q}),r.d(t,"F",function(){return K}),r.d(t,"gb",function(){return ne}),r.d(t,"Q",function(){return Q}),r.d(t,"C",function(){return ee}),r.d(t,"B",function(){return Me}),r.d(t,"E",function(){return pe}),r.d(t,"q",function(){return W}),r.d(t,"cb",function(){return oe}),r.d(t,"n",function(){return fe}),r.d(t,"G",function(){return Z}),r.d(t,"H",function(){return xe}),r.d(t,"N",function(){return Y}),r.d(t,"O",function(){return he}),r.d(t,"R",function(){return Ke}),r.d(t,"ib",function(){return ht}),r.d(t,"bb",function(){return lt}),r.d(t,"D",function(){return We}),r.d(t,"S",function(){return Se}),r.d(t,"P",function(){return Le}),r.d(t,"T",function(){return je}),r.d(t,"V",function(){return Ne}),r.d(t,"M",function(){return Ge}),r.d(t,"L",function(){return it}),r.d(t,"K",function(){return Re}),r.d(t,"I",function(){return te}),r.d(t,"J",function(){return J}),r.d(t,"U",function(){return qe}),r.d(t,"p",function(){return _t}),r.d(t,"y",function(){return be}),r.d(t,"hb",function(){return $e}),r.d(t,"db",function(){return st}),r.d(t,"eb",function(){return Ee}),r.d(t,"g",function(){return Qe}),r.d(t,"h",function(){return nt}),r.d(t,"rb",function(){return Ut}),r.d(t,"sb",function(){return ut}),r.d(t,"ab",function(){return mt}),r.d(t,"A",function(){return Mt}),r.d(t,"m",function(){return ti}),r.d(t,"l",function(){return oi}),r.d(t,"fb",function(){return ci}),r.d(t,"tb",function(){return Lt}),r.d(t,"z",function(){return It}),r.d(t,"k",function(){return Ct}),r.d(t,"X",function(){return St}),r.d(t,"j",function(){return kt}),r.d(t,"x",function(){return I});var s="buffering",l="idle",o="complete",c="paused",n="playing",u="error",p="loading",g="stalled",m="drag",y="dragStart",x="dragEnd",w="click",k="doubleClick",S="over",P="move",E="enter",O="out",a=u,h="warning",v="adClick",d="mediaLoaded",_="adPause",C="adPlay",N="adSkipped",G="adTime",q="autostartNotAllowed",K=o,ne="ready",Q="seek",ee="beforePlay",Me="beforeComplete",pe="bufferFull",W="displayClick",oe="playlistComplete",fe="cast",Z="mediaError",xe="firstFrame",Y="playAttempt",he="playAttemptFailed",Ke="seeked",ht="setupError",lt="state",We="bufferChange",Se="time",Le="ratechange",je="mediaType",Ne="volume",Ge="mute",it="metadataCueParsed",Re="meta",te="levels",J="levelsChanged",qe="visualQuality",_t="controls",be="fullscreen",$e="resize",st="playlistItem",Ee="playlist",Qe="audioTracks",nt="audioTrackChanged",Ut="subtitlesTracks",ut="subtitlesTrackChanged",mt="playbackRateChanged",Mt="logoClick",ti="captionsList",oi="captionsChanged",ci="providerFirstFrame",Lt="userAction",It="instreamClick",Ct="breakpoint",St="fullscreenchange",kt="bandwidthEstimate",I="float"},function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return n});var s=r(2);function l(u){var p="";return u&&(u.localName?p=u.localName:u.baseName&&(p=u.baseName)),p}function o(u){var p="";return u&&(u.textContent?p=Object(s.i)(u.textContent):u.text&&(p=Object(s.i)(u.text))),p}function c(u,p){return u.childNodes[p]}function n(u){return u.childNodes?u.childNodes.length:0}},function(e,t,r){"use strict";function s(_){return navigator.userAgent.match(_)!==null}r.d(t,"f",function(){return o}),r.d(t,"l",function(){return c}),r.d(t,"k",function(){return n}),r.d(t,"p",function(){return u}),r.d(t,"g",function(){return p}),r.d(t,"e",function(){return g}),r.d(t,"n",function(){return m}),r.d(t,"r",function(){return y}),r.d(t,"s",function(){return x}),r.d(t,"d",function(){return w}),r.d(t,"i",function(){return k}),r.d(t,"q",function(){return S}),r.d(t,"j",function(){return P}),r.d(t,"c",function(){return E}),r.d(t,"b",function(){return O}),r.d(t,"o",function(){return a}),r.d(t,"m",function(){return h}),r.d(t,"h",function(){return v}),r.d(t,"a",function(){return d});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},o=function(){return s(/gecko\//i)},c=function(){return s(/iP(hone|od)/i)},n=function(){return s(/iPad/i)||l()},u=function(){return s(/Macintosh/i)&&!l()},p=function(){return s(/FBAV/i)},g=function(){return s(/\sEdge?\/\d+/i)},m=function(){return s(/msie/i)},y=function(){return s(/SMART-TV/)},x=function(){return y()&&!s(/SamsungBrowser/)},w=function(){return s(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!g()&&!s(/UCBrowser/i)&&!y()},k=function(){return!s(/\sEdg\/\d+/i)&&(g()||s(/trident\/.+rv:\s*11/i)||m())},S=function(){return s(/safari/i)&&!s(/(?:Chrome|CriOS|chromium|android|phantom)/i)||y()},P=function(){return s(/iP(hone|ad|od)/i)||l()};function E(){return!(s(/chrome\/[123456789]/i)&&!s(/chrome\/18/i)&&!o())&&O()}var O=function(){return s(/Android/i)&&!s(/Windows Phone/i)},a=function(){return P()||O()||s(/Windows Phone/i)};function h(){try{return window.self!==window.top}catch(_){return!0}}var v=function(){return!1},d=function(){return 0}},function(e,t,r){"use strict";r.d(t,"j",function(){return p}),r.d(t,"f",function(){return g}),r.d(t,"r",function(){return m}),r.d(t,"k",function(){return y}),r.d(t,"t",function(){return x}),r.d(t,"s",function(){return k}),r.d(t,"v",function(){return S}),r.d(t,"e",function(){return O}),r.d(t,"b",function(){return a}),r.d(t,"p",function(){return h}),r.d(t,"q",function(){return v}),r.d(t,"w",function(){return d}),r.d(t,"u",function(){return _}),r.d(t,"i",function(){return C}),r.d(t,"c",function(){return N}),r.d(t,"h",function(){return G}),r.d(t,"d",function(){return q}),r.d(t,"n",function(){return K}),r.d(t,"l",function(){return ne}),r.d(t,"o",function(){return Q}),r.d(t,"m",function(){return ee}),r.d(t,"g",function(){return Me}),r.d(t,"a",function(){return pe});var s,l=r(0),o=r(2),c=r(7),n=window.DOMParser,u=!0;function p(W,oe){return W.classList.contains(oe)}function g(W){return y(W).firstChild}function m(W,oe){C(W),function(fe,Z){if(Z){for(var xe=document.createDocumentFragment(),Y=y(Z).childNodes,he=0;he<Y.length;he++)xe.appendChild(Y[he].cloneNode(!0));fe.appendChild(xe)}}(W,oe)}function y(W){var oe=function(xe){if(s||(s=new n,u=function(){try{if(s.parseFromString("","text/html"))return!0}catch(he){}return!1}()),u)return s.parseFromString(xe,"text/html").body;var Y=document.implementation.createHTMLDocument("");return xe.toLowerCase().indexOf("<!doctype")>-1?Y.documentElement.innerHTML=xe:Y.body.innerHTML=xe,Y.body}(W);x(oe);for(var fe=oe.querySelectorAll("*"),Z=fe.length;Z--;)k(fe[Z]);return oe}function x(W){for(var oe=W.querySelectorAll("script,object,iframe,meta"),fe=oe.length;fe--;){var Z=oe[fe];Z.parentNode.removeChild(Z)}return W}var w=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/);function k(W){for(var oe=W.attributes,fe=oe.length;fe--;){var Z=oe[fe].name;if(/^on/.test(Z)&&W.removeAttribute(Z),/href/.test(Z)){var xe=oe[fe].value;/javascript:|javascript&colon;/.test(xe)||!w.test(xe)?W.removeAttribute(Z):console.warn("Invalid or unsafe URL")}}return W}function S(W){return W+(W.toString().indexOf("%")>0?"":"px")}function P(W){return Object(l.s)(W.className)?W.className.split(" "):[]}function E(W,oe){oe=Object(o.i)(oe),W.className!==oe&&(W.className=oe)}function O(W){return W.classList?W.classList:P(W)}function a(W,oe){var fe=P(W);(Array.isArray(oe)?oe:oe.split(" ")).forEach(function(Z){Object(l.b)(fe,Z)||fe.push(Z)}),E(W,fe.join(" "))}function h(W,oe){var fe=P(W),Z=Array.isArray(oe)?oe:oe.split(" ");E(W,Object(l.e)(fe,Z).join(" "))}function v(W,oe,fe){var Z=W.className||"";oe.test(Z)?Z=Z.replace(oe,fe):fe&&(Z+=" "+fe),E(W,Z)}function d(W,oe,fe){var Z=p(W,oe);(fe=Object(l.n)(fe)?fe:!Z)!==Z&&(fe?a(W,oe):h(W,oe))}function _(W,oe,fe){W.setAttribute(oe,fe)}function C(W){for(;W.firstChild;)W.removeChild(W.firstChild)}function N(W){var oe=document.createElement("link");oe.rel="stylesheet",oe.href=W,document.getElementsByTagName("head")[0].appendChild(oe)}function G(W){W&&C(W)}function q(W){var oe={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!W||!document.body.contains(W))return oe;var fe=W.getBoundingClientRect(),Z=window.pageYOffset,xe=window.pageXOffset;return(fe.width||fe.height||fe.left||fe.top)&&(oe.left=fe.left+xe,oe.right=fe.right+xe,oe.top=fe.top+Z,oe.bottom=fe.bottom+Z,oe.width=fe.right-fe.left,oe.height=fe.bottom-fe.top),oe}function K(W,oe){W.insertBefore(oe,W.firstChild)}function ne(W){return W.nextElementSibling}function Q(W){return W.previousElementSibling}function ee(W,oe,fe){if(fe===void 0&&(fe={}),w.test(W)){var Z=document.createElement("a");Z.href=W,Z.target=oe,Z=k(Object(l.g)(Z,fe)),c.Browser.firefox?Z.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):Z.click()}}function Me(){var W=window.screen.orientation;return!!W&&(W.type==="landscape-primary"||W.type==="landscape-secondary")||window.orientation===90||window.orientation===-90}function pe(W){return function(oe){var fe=document.createElement("textarea");return fe.innerHTML=oe,fe.value}(W).replace(/&|<|>|"|''/gm,function(oe){return"&#"+oe.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")}},function(e,t,r){"use strict";r.r(t);var s=r(5);function l(g,m){var y=g.exec(m);if(y&&y.length>1)return y[1]}r.d(t,"Browser",function(){return n}),r.d(t,"OS",function(){return u}),r.d(t,"Features",function(){return p});var o=navigator.userAgent,c=function(){},n={get androidNative(){return Object(s.c)()},get chrome(){return Object(s.d)()},get edge(){return Object(s.e)()},get facebook(){return Object(s.g)()},get firefox(){return Object(s.f)()},get ie(){return Object(s.i)()},get msie(){return Object(s.n)()},get safari(){return Object(s.q)()},get version(){return function(g,m){var y,x,w,k;if(g.chrome)y=m.indexOf("Chrome")!==-1?m.substring(m.indexOf("Chrome")+7):m.substring(m.indexOf("CriOS")+6);else if(g.safari)y=m.substring(m.indexOf("Version")+8);else if(g.firefox)y=m.substring(m.indexOf("Firefox")+8);else if(g.edge){var S=m.indexOf("Edge");S===-1?S=m.indexOf("Edg")+4:S+=5,y=m.substring(S)}else g.ie&&(m.indexOf("rv:")!==-1?y=m.substring(m.indexOf("rv:")+3):m.indexOf("MSIE")!==-1&&(y=m.substring(m.indexOf("MSIE")+5)));return y&&((k=y.indexOf(";"))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(" "))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(")"))!==-1&&(y=y.substring(0,k)),x=parseInt(y,10),w=parseInt(y.split(".")[1],10)),{version:y,major:x,minor:w}}(this,o)}},u={get android(){return Object(s.b)()},get iOS(){return Object(s.j)()},get mobile(){return Object(s.o)()},get mac(){return Object(s.p)()},get iPad(){return Object(s.k)()},get iPhone(){return Object(s.l)()},get windows(){return o.indexOf("Windows")>-1},get tizen(){return Object(s.r)()},get tizenApp(){return Object(s.s)()},get version(){return function(g,m){var y,x,w;if(g.windows)switch(y=l(/Windows(?: NT|)? ([._\d]+)/,m)){case"6.1":y="7.0";break;case"6.2":y="8.0";break;case"6.3":y="8.1"}else g.android?y=l(/Android ([._\d]+)/,m):g.iOS?y=l(/OS ([._\d]+)/,m):g.mac?y=l(/Mac OS X ([._\d]+)/,m):g.tizen&&(y=l(/Tizen ([._\d]+)/,m));if(y){x=parseInt(y,10);var k=y.split(/[._]/);k&&(w=parseInt(k[1],10))}return{version:y,major:x,minor:w}}(this,o)}},p={get flash(){return Object(s.h)()},get flashVersion(){return Object(s.a)()},get iframe(){return Object(s.m)()},get passiveEvents(){return function(){var g=!1;try{var m=Object.defineProperty({},"passive",{get:function(){return g=!0}});window.addEventListener("testPassive",c,m),window.removeEventListener("testPassive",c,m)}catch(y){}return g}()},get backgroundLoading(){return!(u.iOS||n.safari||u.tizen)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return c}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return u});var s=function(){function y(){}var x=y.prototype;return x.on=function(w,k,S){if(!g(this,"on",w,[k,S])||!k)return this;var P=this._events||(this._events={});return(P[w]||(P[w]=[])).push({callback:k,context:S}),this},x.once=function(w,k,S){if(!g(this,"once",w,[k,S])||!k)return this;var P=0,E=this,O=function a(){P++||(E.off(w,a),k.apply(this,arguments))};return O._callback=k,this.on(w,O,S)},x.off=function(w,k,S){if(!this._events||!g(this,"off",w,[k,S]))return this;if(!w&&!k&&!S)return delete this._events,this;for(var P=w?[w]:Object.keys(this._events),E=0,O=P.length;E<O;E++){w=P[E];var a=this._events[w];if(a){var h=this._events[w]=[];if(k||S)for(var v=0,d=a.length;v<d;v++){var _=a[v];(k&&k!==_.callback&&k!==_.callback._callback||S&&S!==_.context)&&h.push(_)}h.length||delete this._events[w]}}return this},x.trigger=function(w){for(var k=arguments.length,S=new Array(k>1?k-1:0),P=1;P<k;P++)S[P-1]=arguments[P];if(!this._events)return this;if(!g(this,"trigger",w,S))return this;var E=this._events[w],O=this._events.all;return E&&m(E,S,this),O&&m(O,arguments,this),this},x.triggerSafe=function(w){for(var k=arguments.length,S=new Array(k>1?k-1:0),P=1;P<k;P++)S[P-1]=arguments[P];if(!this._events)return this;if(!g(this,"trigger",w,S))return this;var E=this._events[w],O=this._events.all;return E&&m(E,S,this,w),O&&m(O,arguments,this,w),this},y}(),l=s.prototype.on,o=s.prototype.once,c=s.prototype.off,n=s.prototype.trigger,u=s.prototype.triggerSafe;s.on=l,s.once=o,s.off=c,s.trigger=n;var p=/\s+/;function g(y,x,w,k){if(!w)return!0;if(typeof w=="object"){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&y[x].apply(y,[S,w[S]].concat(k));return!1}if(p.test(w)){for(var P=w.split(p),E=0,O=P.length;E<O;E++)y[x].apply(y,[P[E]].concat(k));return!1}return!0}function m(y,x,w,k){for(var S=-1,P=y.length;++S<P;){var E=y[S];if(k)try{E.callback.apply(E.context||w,x)}catch(O){console.log('Error in "'+k+'" event handler:',O)}else E.callback.apply(E.context||w,x)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return n});var s=r(1),l={};function o(u,p){return function(){throw new s.o(s.k,u,p)}}function c(u,p){return function(){throw new s.o(null,u,p)}}function n(){return r.e(3).then(function(u){return r(54).default}.bind(null,r)).catch(o(s.q+101))}},function(e,t,r){"use strict";r.r(t),r.d(t,"exists",function(){return l}),r.d(t,"isHTTPS",function(){return o}),r.d(t,"isFileProtocol",function(){return c}),r.d(t,"isRtmp",function(){return n}),r.d(t,"isYouTube",function(){return u}),r.d(t,"typeOf",function(){return p}),r.d(t,"isDeepKeyCompliant",function(){return g});var s=window.location.protocol;function l(m){switch(typeof m){case"string":return m.length>0;case"object":return m!==null;case"undefined":return!1;default:return!0}}function o(){return s==="https:"}function c(){return s==="file:"}function n(m,y){return m.indexOf("rtmp:")===0||y==="rtmp"}function u(m,y){return y==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(m)}function p(m){if(m===null)return"null";var y=typeof m;return y==="object"&&Array.isArray(m)?"array":y}function g(m,y,x){var w=Object.keys(m);return Object.keys(y).length>=w.length&&w.every(function(k){var S=m[k],P=y[k];return S&&typeof S=="object"?!(!P||typeof P!="object")&&g(S,P,x):x(k,m)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return u}),r.d(t,"d",function(){return p}),r.d(t,"e",function(){return y}),r.d(t,"c",function(){return x});var s,l=r(2),o=r(31),c=r.n(o),n=c.a.clear;function u(w,k,S,P){S=S||"all-players";var E="";if(typeof k=="object"){var O=document.createElement("div");p(O,k);var a=O.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&a&&(a=a+' content: "'+k.content+'";'),P&&a&&(a=a.replace(/;/g," !important;")),E="{"+a+"}"}else typeof k=="string"&&(E=k);E!==""&&E!=="{}"?c.a.style([[w,w+E]],S):c.a.clear(S,w)}function p(w,k){if(w!=null){var S;w.length===void 0&&(w=[w]);var P={};for(S in k)Object.prototype.hasOwnProperty.call(k,S)&&(P[S]=m(S,k[S]));for(var E=0;E<w.length;E++){var O=w[E],a=void 0;if(O!=null)for(S in P)Object.prototype.hasOwnProperty.call(P,S)&&(a=g(S),O.style[a]!==P[S]&&(O.style[a]=P[S]))}}}function g(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")}function m(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(l.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"}function y(w,k){p(w,{transform:k})}function x(w,k){var S="rgb",P=k!==void 0&&k!==100;if(P&&(S+="a"),!s){var E=document.createElement("canvas");E.height=1,E.width=1,s=E.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",s.clearRect(0,0,1,1),s.fillStyle=w,s.fillRect(0,0,1,1);var O=s.getImageData(0,0,1,1).data;return S+="("+O[0]+", "+O[1]+", "+O[2],P&&(S+=", "+k/100),S+")"}},function(e,t,r){"use strict";r.r(t),r.d(t,"getAbsolutePath",function(){return o}),r.d(t,"isAbsolutePath",function(){return c}),r.d(t,"parseXML",function(){return n}),r.d(t,"serialize",function(){return u}),r.d(t,"parseDimension",function(){return p}),r.d(t,"timeFormat",function(){return g});var s=r(10),l=r(0);function o(m,y){if(y&&Object(s.exists)(y)||(y=document.location.href),!Object(s.exists)(m))return"";if(c(m))return m;var x,w=y.substring(0,y.indexOf("://")+3),k=y.substring(w.length,y.indexOf("/",w.length+1));if(m.indexOf("/")===0)x=m.split("/");else{var S=y.split("?")[0];x=(S=S.substring(w.length+k.length+1,S.lastIndexOf("/"))).split("/").concat(m.split("/"))}for(var P=[],E=0;E<x.length;E++)x[E]&&Object(s.exists)(x[E])&&x[E]!=="."&&(x[E]===".."?P.pop():P.push(x[E]));return w+k+"/"+P.join("/")}function c(m){return/^(?:(?:https?|file):)?\/\//.test(m)}function n(m){var y=null;try{(y=new window.DOMParser().parseFromString(m,"text/xml")).querySelector("parsererror")&&(y=null)}catch(x){}return y}function u(m){if(m===void 0)return null;if(typeof m=="string"&&m.length<6){var y=m.toLowerCase();if(y==="true")return!0;if(y==="false")return!1;if(!Object(l.q)(Number(m))&&!Object(l.q)(parseFloat(m)))return Number(m)}return m}function p(m){return Object(l.u)(m)?m:m===""?0:m.lastIndexOf("%")>-1?m:parseInt(m.replace("px",""),10)}function g(m,y){if(Object(l.q)(m)&&(m=parseInt(m.toString())),Object(l.q)(m)||!isFinite(m)||m<=0&&!y)return"00:00";var x=m<0?"-":"";m=Math.abs(m);var w=Math.floor(m/3600),k=Math.floor((m-3600*w)/60),S=Math.floor(m%60);return x+(w?w+":":"")+(k<10?"0":"")+k+":"+(S<10?"0":"")+S}},function(e,t,r){"use strict";r.d(t,"h",function(){return y}),r.d(t,"c",function(){return w}),r.d(t,"e",function(){return S}),r.d(t,"f",function(){return P}),r.d(t,"b",function(){return E}),r.d(t,"d",function(){return a}),r.d(t,"g",function(){return h}),r.d(t,"a",function(){return v});var s=r(0),l=r(5),o=r(21),c=r(10),n=r(30),u={},p={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(s.m)(p);function g(_){var C=m(_),N=C.indexOf("_");return N===-1?C:C.substring(0,N)}function m(_){return _.toLowerCase().replace("-","_")}function y(_){return _?Object.keys(_).reduce(function(C,N){return C[m(N)]=_[N],C},{}):{}}function x(_){var C=_.querySelector("html");return C?C.getAttribute("lang"):null}function w(){var _=x(document);if(!_&&Object(l.m)())try{_=x(window.top.document)}catch(C){}return _||navigator.language||"en"}var k=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"];function S(_){return _.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(_)}function P(_){return k.indexOf(g(_))>=0}function E(_,C,N){return Object(s.g)({},function(G){var q=G.advertising,K=G.related,ne=G.sharing,Q=G.abouttext,ee=Object(s.g)({},G.localization);q&&(ee.advertising=ee.advertising||{},O(ee.advertising,q,"admessage"),O(ee.advertising,q,"cuetext"),O(ee.advertising,q,"loadingAd"),O(ee.advertising,q,"podmessage"),O(ee.advertising,q,"skipmessage"),O(ee.advertising,q,"skiptext")),typeof ee.related=="string"?ee.related={heading:ee.related}:ee.related=ee.related||{},K&&O(ee.related,K,"autoplaymessage"),ne&&(ee.sharing=ee.sharing||{},O(ee.sharing,ne,"heading"),O(ee.sharing,ne,"copied")),Q&&O(ee,G,"abouttext");var Me=ee.close||ee.nextUpClose;return Me&&(ee.close=Me),ee}(_),C[g(N)],C[m(N)])}function O(_,C,N){var G=_[N]||C[N];G&&(_[N]=G)}function a(_){return Object(c.isDeepKeyCompliant)(n.a,_,function(C,N){return typeof N[C]=="string"})}function h(_,C){var N,G=u[C];if(!G){var q=_+"translations/"+(N=g(C),(/^n[bn]$/.test(N)?"no":N)+".json");u[C]=G=new Promise(function(K,ne){Object(o.a)({url:q,oncomplete:K,onerror:function(Q,ee,Me,pe){u[C]=null,ne(pe)},responseType:"json"})})}return G}function v(_,C){var N=Object(s.g)({},_,C);return d(N,"errors",_,C),d(N,"related",_,C),d(N,"sharing",_,C),d(N,"advertising",_,C),d(N,"shortcuts",_,C),d(N,"captionsStyles",_,C),N}function d(_,C,N,G){_[C]=Object(s.g)({},N[C],G[C])}},function(e,t,r){"use strict";t.a=[]},function(e,t,r){"use strict";var s=r(49),l=r(10),o=document.createElement("video");r.d(t,"a",function(){return n});var c={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},n=[{name:"html5",supports:function(u){if(!o||!o.canPlayType||Object(s.a)(u)===!1)return!1;var p=u.file,g=u.type;if(Object(l.isRtmp)(p,g))return!1;var m=u.mimeType||c[g];if(!m)return!1;var y=u.mediaTypes;return y&&y.length&&(m=[m].concat(y.slice()).join("; ")),!!o.canPlayType(m)}}]},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=Date.now||function(){return new Date().getTime()}},function(e,t,r){"use strict";t.a={debug:!1}},function(e,t,r){"use strict";var s=r(0),l={none:!0,metadata:!0,auto:!0};function o(O,a){return l[O]?O:l[a]?a:"metadata"}var c=r(24),n=r(27),u=r(32),p=r(1);r.d(t,"b",function(){return g}),r.d(t,"e",function(){return m}),r.d(t,"d",function(){return y}),r.d(t,"f",function(){return x}),r.d(t,"c",function(){return w});function g(O,a,h){var v=Object(s.g)({},h);return delete v.playlist,O.map(function(d){return y(a,d,v)}).filter(function(d){return!!d})}function m(O){if(!Array.isArray(O)||O.length===0)throw new p.o(p.l,630)}function y(O,a,h){var v=O.getProviders(),d=O.get("preload"),_=Object(s.g)({},a);if(_.preload=o(a.preload,d),_.allSources=k(_,O),_.sources=S(_.allSources,v),_.sources.length)return _.file=_.sources[0].file,_.feedData=h,function(C){var N=C.sources[0].liveSyncDuration;return N&&(C.liveSyncDuration=C.dvrSeekLimit=N),C}(_)}function x(O,a){var h=(parseInt(O,10)||0)%a;return h<0&&(h+=a),h}var w=function(O,a){return S(k(O,a),a.getProviders())};function k(O,a){var h=a.attributes,v=O.sources,d=O.allSources,_=O.preload,C=O.drm,N=P(O.withCredentials,h.withCredentials);return(d||v).map(function(G){if(G!==Object(G))return null;E(G,h,"androidhls"),E(G,h,"hlsjsdefault"),E(G,h,"safarihlsjs"),function(ne,Q,ee){if(!ne.liveSyncDuration){var Me=Q.liveSyncDuration?Q:ee;E(ne,Me,"liveSyncDuration")}}(G,O,h),E(G,h,"_hlsjsProgressive"),G.preload=o(G.preload,_);var q=G.drm||C||h.drm;q&&(G.drm=q);var K=P(G.withCredentials,N);return K!==void 0&&(G.withCredentials=K),Object(n.a)(G)}).filter(function(G){return!!G})}function S(O,a){a&&a.choose||(a=new u.a);var h=function(_,C){for(var N=0;N<_.length;N++){var G=_[N],q=C.choose(G).providerToCheck;if(q)return{type:G.type,provider:q}}return null}(O,a);if(!h)return[];var v=h.provider,d=h.type;return O.filter(function(_){return _.type===d&&a.providerSupports(v,_)})}function P(O,a){return O===void 0?a:O}function E(O,a,h){h in a&&(O[h]=a[h])}t.a=function(O){return(Array.isArray(O)?O:[O]).map(c.a)}},function(e,t,r){"use strict";r.r(t),r.d(t,"getScriptPath",function(){return l}),r.d(t,"repo",function(){return o}),r.d(t,"versionCheck",function(){return c}),r.d(t,"loadFrom",function(){return n});var s=r(22),l=(r(10),function(u){for(var p=document.getElementsByTagName("script"),g=0;g<p.length;g++){var m=p[g].src;if(m){var y=m.lastIndexOf("/"+u);if(y>=0)return m.substr(0,y+1)}}return""}),o=function(){return l("jwplayer.js")},c=function(u){var p=("0"+u).split(/\W/),g=s.a.split(/\W/),m=parseFloat(p[0]),y=parseFloat(g[0]);return!(m>y)&&!(m===y&&parseFloat("0"+p[1])>parseFloat(g[1]))},n=function(){return l("jwplayer.js")}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var s=r(26),l=r(15),o=r(50),c=r(0);r(8);function n(u){var p=u.getName().name;if(!s.a[p]){if(!Object(c.i)(l.a,Object(c.w)({name:p}))){if(!Object(c.p)(u.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:p,supports:u.supports})}Object(c.d)(u.prototype,o.a),s.a[p]=u}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var s=r(0),l=r(12),o=r(10),c=r(1),n=function(){};function u(y,x,w,k){var S;y===Object(y)&&(y=(k=y).url);var P=Object(s.g)({xhr:null,url:y,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:x||n,onerror:w||n,mimeType:k&&!k.responseType?"text/xml":"",requireValidXML:!1,responseType:k&&k.plainText?"text":"",useDomParser:!1,requestFilter:null},k),E=function(a,h){return function(v,d){var _=v.currentTarget||h.xhr;if(clearTimeout(h.timeoutId),h.retryWithoutCredentials&&h.xhr.withCredentials)return p(_),void u(Object(s.g)({},h,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!d&&_.status>=400&&_.status<600&&(d=_.status),g(h,d?c.l:c.n,d||6,v)}}(0,P);if("XMLHttpRequest"in window){if(S=P.xhr=P.xhr||new window.XMLHttpRequest,typeof P.requestFilter=="function"){var O;try{O=P.requestFilter({url:y,xhr:S})}catch(a){return E(a,5),S}O&&"open"in O&&"send"in O&&(S=P.xhr=O)}S.onreadystatechange=function(a){return function(h){var v=h.currentTarget||a.xhr;if(v.readyState===4){clearTimeout(a.timeoutId);var d=v.status;if(d>=400)return void g(a,c.l,d<600?d:6);if(d===200)return function(_){return function(C){var N=C.currentTarget||_.xhr;if(clearTimeout(_.timeoutId),_.responseType){if(_.responseType==="json")return function(K,ne){if(!K.response||typeof K.response=="string"&&K.responseText.substr(1)!=='"')try{K=Object(s.g)({},K,{response:JSON.parse(K.responseText)})}catch(Q){return void g(ne,c.l,611,Q)}return ne.oncomplete(K)}(N,_)}else{var G,q=N.responseXML;if(q)try{G=q.firstChild}catch(K){}if(q&&G||_.useDomParser&&N.responseText&&!q&&(q=Object(l.parseXML)(N.responseText))&&q.firstChild)return m(N,q,_);if(_.requireValidXML)return void g(_,c.l,602)}_.oncomplete(N)}}(a)(h);d===0&&Object(o.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(a.url)&&g(a,c.l,7)}}}(P),S.onerror=E,"overrideMimeType"in S?P.mimeType&&S.overrideMimeType(P.mimeType):P.useDomParser=!0;try{y=y.replace(/#.*$/,""),S.open("GET",y,!0)}catch(a){return E(a,3),S}if(P.responseType)try{S.responseType=P.responseType}catch(a){}P.timeout&&(P.timeoutId=setTimeout(function(){p(S),g(P,c.n,1)},P.timeout),S.onabort=function(){clearTimeout(P.timeoutId)});try{P.withCredentials&&"withCredentials"in S&&(S.withCredentials=!0),S.send()}catch(a){E(a,4)}return S}g(P,c.n,2)}function p(y){y.onload=null,y.onprogress=null,y.onreadystatechange=null,y.onerror=null,"abort"in y&&y.abort()}function g(y,x,w,k){y.onerror(x,y.url,y.xhr,new c.o(x,w,k))}function m(y,x,w){var k=x.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return y.responseXML||(y=Object(s.g)({},y,{responseXML:x})),w.oncomplete(y);g(w,c.l,601)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s="8.22.0+local.2021-09-01-23-05-40-496"},function(e,t,r){"use strict";var s=r(0),l=r(16),o=window.performance||{timing:{}},c=o.timing.navigationStart||Object(l.a)();function n(){return c+o.now()}"now"in o||(o.now=function(){return Object(l.a)()-c});var u=function(){function p(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var g=p.prototype;return g.start=function(m){this.startTimes[m]=n(),this.counts[m]=this.counts[m]+1||1},g.end=function(m){if(this.startTimes[m]){var y=n()-this.startTimes[m];delete this.startTimes[m],this.sum[m]=this.sum[m]+y||y}},g.dump=function(){var m=Object(s.g)({},this.sum);for(var y in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,y)){var x=n()-this.startTimes[y];m[y]=m[y]+x||x}return{counts:Object(s.g)({},this.counts),sums:m,events:Object(s.g)({},this.ticks)}},g.tick=function(m){this.ticks[m]=n()},g.clear=function(m){delete this.ticks[m]},g.between=function(m,y){return this.ticks[y]&&this.ticks[m]?this.ticks[y]-this.ticks[m]:null},p}();t.a=u},function(e,t,r){"use strict";var s=r(0),l=r(27),o=["captions","metadata","thumbnails","chapters"],c=function(p){if(p&&p.file){var g,m=Object(s.g)({},{kind:"captions",default:!1},p);return m.kind=(g=m.kind,o.indexOf(g)!==-1?m.kind:"captions"),m.default=!!m.default,m}},n=r(28),u=Array.isArray;t.a=function(p){u((p=p||{}).tracks)||delete p.tracks;var g=Object(s.g)({},{sources:[],tracks:[],minDvrWindow:n.b},p);g.sources!==Object(g.sources)||u(g.sources)||(g.sources=[Object(l.a)(g.sources)]),u(g.sources)&&g.sources.length!==0||(p.levels?g.sources=p.levels:g.sources=[Object(l.a)(p)]);for(var m=0;m<g.sources.length;m++){var y=g.sources[m];if(y){var x=y.default;y.default=!!x&&x.toString()==="true",g.sources[m].label||(g.sources[m].label=m.toString()),g.sources[m]=Object(l.a)(g.sources[m])}}return g.sources=g.sources.filter(function(w){return!!w}),u(g.tracks)||(g.tracks=[]),u(g.captions)&&(g.tracks=g.tracks.concat(g.captions),delete g.captions),g.tracks=g.tracks.map(c).filter(function(w){return!!w}),g}},function(e,t,r){"use strict";var s=r(1),l=r(0),o=function(O){return O.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},c=function(){this.load=function(O,a,h,v){return h&&typeof h=="object"?Promise.all(Object.keys(h).filter(function(d){return d}).map(function(d){var _=h[d];return a.setupPlugin(d).then(function(C){if(!v.attributes._destroyed)return function(N,G,q){var K=N.name,ne=Object(l.g)({},G),Q=document.createElement("div");Q.id=q.id+"_"+K,Q.className="jw-plugin jw-reset";var ee=N.getNewInstance(q,ne,Q);return q.addPlugin(K,ee),ee}(C,_,O)}).catch(function(C){return a.removePlugin(d),C.code?C:new s.o(null,305e3,C)})})):Promise.resolve()}},n=r(35),u=r(12),p=r(2),g=function(O){if(typeof O=="string"){var a=(O=O.split("?")[0]).indexOf("://");if(a>0)return 0;var h=O.indexOf("/"),v=Object(p.a)(O);return!(a<0&&h<0)||v&&isNaN(v)?1:2}},m=function(O){this.url=O,this.promise_=null};Object.defineProperties(m.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(m.prototype,{load:function(){var O=this,a=this.promise_;if(!a){if(g(this.url)===2)return Promise.resolve(this);var h=new n.a(function(v){switch(g(v)){case 0:return v;case 1:return Object(u.getAbsolutePath)(v,window.location.href)}}(this.url));this.loader=h,a=h.load().then(function(){return O}),this.promise_=a}return a},registerPlugin:function(O,a,h){this.name=O,this.target=a,this.js=h},getNewInstance:function(O,a,h){var v=this.js;if(typeof v!="function")throw new s.o(null,(this.url,305100));var d=new v(O,a,h);return d.addToPlayer=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&(h.left=_.style.left,h.top=_.style.top,_.appendChild(h))},d.resizeHandler=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&d.resize(_.clientWidth,_.clientHeight)},d}});var y=m,x=r(36),w={},k=function(){function O(){}var a=O.prototype;return a.setupPlugin=function(h){var v=this.getPlugin(h);return v?(v.url!==h&&Object(x.a)('JW Plugin "'+o(h)+'" already loaded from "'+v.url+'". Ignoring "'+h+'."'),v.promise):this.addPlugin(h).load()},a.addPlugin=function(h){var v=o(h),d=w[v];return d||(d=new y(h),w[v]=d),d},a.getPlugin=function(h){return w[o(h)]},a.removePlugin=function(h){delete w[o(h)]},a.getPlugins=function(){return w},O}();r.d(t,"b",function(){return P}),r.d(t,"a",function(){return E});var S=new k,P=function(O,a,h){var v=S.addPlugin(O);v.js||v.registerPlugin(O,a,h)};function E(O,a){var h=O.get("plugins");return window.jwplayerPluginJsonp=P,(O.pluginLoader=O.pluginLoader||new c).load(a,S,h,O).then(function(v){if(!O.attributes._destroyed)return delete window.jwplayerPluginJsonp,v})}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s={}},function(e,t,r){"use strict";var s=r(0),l=r(10),o=r(2);t.a=function(c){if(c&&c.file){var n=Object(s.g)({},{default:!1,type:""},c);n.file=Object(o.i)(""+n.file);var u=/^[^/]+\/(?:x-)?([^/]+)$/,p=n.type;if(u.test(p)&&(n.mimeType=p,n.type=p.replace(u,"$1")),Object(l.isYouTube)(n.file)?n.type="youtube":Object(l.isRtmp)(n.file)?n.type="rtmp":n.type||(n.type=Object(o.a)(n.file)),n.type){switch(n.type){case"m3u8":case"vnd.apple.mpegurl":n.type="hls";break;case"dash+xml":n.type="dash";break;case"m4a":n.type="aac";break;case"smil":n.type="rtmp"}return Object.keys(n).forEach(function(g){n[g]===""&&delete n[g]}),n}}}},function(e,t,r){"use strict";r.d(t,"d",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return c});var s={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:r(3).mb,itemReady:!1,controlsEnabled:!1},l={position:0,duration:0,buffer:0,currentTime:0},o=120,c=25},function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return n});var s=r(9),l=r(7),o=null,c={};function n(){return o||(o=l.OS.tizenApp?r.e(2).then(function(u){var p=r(55).default;return c.controls=p,p}.bind(null,r)).catch(function(){o=null,Object(s.c)(301133)()}):r.e(1).then(function(u){var p=r(52).default;return c.controls=p,p}.bind(null,r)).catch(function(){o=null,Object(s.c)(301130)()})),o}},function(e,t,r){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(e,t){var r,s,l={},o={},c=(r=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return s===void 0&&(s=r.apply(this,arguments)),s});function n(y){var x=document.createElement("style");return x.type="text/css",x.setAttribute("data-jwplayer-id",y),function(w){c().appendChild(w)}(x),x}function u(y,x){var w,k,S,P=o[y];P||(P=o[y]={element:n(y),counter:0});var E=P.counter++;return w=P.element,S=function(){m(w,E,"")},(k=function(O){m(w,E,O)})(x.css),function(O){if(O){if(O.css===x.css&&O.media===x.media)return;k((x=O).css)}else S()}}e.exports={style:function(y,x){(function(w,k){for(var S=0;S<k.length;S++){var P=k[S],E=(l[w]||{})[P.id];if(E){for(var O=0;O<E.parts.length;O++)E.parts[O](P.parts[O]);for(;O<P.parts.length;O++)E.parts.push(u(w,P.parts[O]))}else{var a=[];for(O=0;O<P.parts.length;O++)a.push(u(w,P.parts[O]));l[w]=l[w]||{},l[w][P.id]={id:P.id,parts:a}}}})(x,function(w){for(var k=[],S={},P=0;P<w.length;P++){var E=w[P],O=E[0],a=E[1],h=E[2],v={css:a,media:h};S[O]?S[O].parts.push(v):k.push(S[O]={id:O,parts:[v]})}return k}(y))},clear:function(y,x){var w=l[y];if(w){if(x){var k=w[x];if(k)for(var S=0;S<k.parts.length;S+=1)k.parts[S]();return}for(var P=Object.keys(w),E=0;E<P.length;E+=1)for(var O=w[P[E]],a=0;a<O.parts.length;a+=1)O.parts[a]();delete l[y]}}};var p,g=(p=[],function(y,x){return p[y]=x,p.filter(Boolean).join(`
`)});function m(y,x,w){if(y.styleSheet)y.styleSheet.cssText=g(x,w);else{var k=document.createTextNode(w),S=y.childNodes[x];S?y.replaceChild(k,S):y.appendChild(k)}}},function(e,t,r){"use strict";var s=r(0),l=r(15),o=r(26),c=r(20),n=r(9),u={html5:function(){return r.e(10).then(function(g){var m=r(117).default;return Object(c.a)(m),m}.bind(null,r)).catch(Object(n.b)(152))}};function p(g){this.config=g||{}}Object(s.g)(p.prototype,{load:function(g){var m=u[g],y=function(){return Promise.reject(new Error("Failed to load media"))};return m?m().then(function(){var x=o.a[g];return x||y()}):y()},providerSupports:function(g,m){return g.supports(m)},choose:function(g){if(g===Object(g))for(var m=l.a.length,y=0;y<m;y++){var x=l.a[y];if(this.providerSupports(x,g))return{priority:m-y-1,name:x.name,type:g.type,providerToCheck:x,provider:o.a[x.name]}}return{}}}),t.a=p},function(e,t,r){"use strict";var s=r(6),l=r(11);function o(c,n){var u=n.message,p=n.code,g=function(w,k,S,P){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(P?("("+S+": "+P+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(c.get("id"),u,c.get("localization").errors.errorCode,p.toString()),m=c.get("width"),y=c.get("height"),x=Object(s.f)(g);return Object(l.d)(x,{width:m.toString().indexOf("%")>0?m:m+"px",height:y.toString().indexOf("%")>0?y:y+"px"}),x}r.d(t,"a",function(){return o})},function(e,t,r){"use strict";function s(o){return o.slice&&o.slice(-2)==="px"&&(o=o.slice(0,-2)),o}function l(o,c){if(c.toString().indexOf("%")===-1||typeof o!="string"||!o)return 0;if(/^\d*\.?\d+%$/.test(o))return o;var n=o.indexOf(":");if(n===-1)return 0;var u=parseFloat(o.substr(0,n)),p=parseFloat(o.substr(n+1));return u<=0||p<=0?0:p/u*100+"%"}r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l})},function(e,t,r){"use strict";var s=r(0),l=r(8),o=r(3),c={};function n(g){var m=document.createElement("link");return m.type="text/css",m.rel="stylesheet",m.href=g,m}function u(g,m){var y=document.createElement("script");return y.type="text/javascript",y.charset="utf-8",y.async=!0,y.timeout=m||45e3,y.src=g,y}var p=function(g,m,y){var x=this,w=0;function k(P){w=2,x.trigger(o.w,P).off()}function S(P){w=3,x.trigger(o.kb,P).off()}this.getStatus=function(){return w},this.load=function(){var P=c[g];return w!==0||(P&&P.then(S).catch(k),w=1,P=new Promise(function(E,O){var a=(m?n:u)(g,y),h=function(){a.onerror=a.onload=null,clearTimeout(d)},v=function(C){h(),k(C),O(C)},d=setTimeout(function(){v(new Error("Network timeout "+g))},45e3);a.onerror=function(){v(new Error("Failed to load "+g))},a.onload=function(C){h(),S(C),E(C)};var _=document.getElementsByTagName("head")[0]||document.documentElement;_.insertBefore(a,_.firstChild)}),c[g]=P),P}};Object(s.g)(p.prototype,l.a),t.a=p},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=typeof console.log=="function"?console.log.bind(console):function(){}},function(e,t,r){"use strict";r.d(t,"a",function(){return S}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return ne});var s=r(7),l=r(3),o=r(8),c=r(16),n=r(6);function u(ee,Me){return(u=Object.setPrototypeOf||function(pe,W){return pe.__proto__=W,pe})(ee,Me)}var p,g,m="ontouchstart"in window,y="PointerEvent"in window&&!s.OS.android,x=!(y||m&&s.OS.mobile),w=s.Features.passiveEvents,k=!!w&&{passive:!0},S=function(ee){var Me,pe;function W(fe,Z){var xe;xe=ee.call(this)||this;var Y=!(Z=Z||{}).preventScrolling;return xe.directSelect=!!Z.directSelect,xe.dragged=!1,xe.enableDoubleClick=!1,xe.el=fe,xe.handlers={},xe.options={},xe.lastClick=0,xe.lastStart=0,xe.passive=Y,xe.pointerId=null,xe.startX=0,xe.startY=0,xe.event=null,xe.clicking=!1,xe}pe=ee,(Me=W).prototype=Object.create(pe.prototype),Me.prototype.constructor=Me,u(Me,pe);var oe=W.prototype;return oe.on=function(fe,Z,xe){return E(fe)&&(this.handlers[fe]||v[fe](this)),ee.prototype.on.call(this,fe,Z,xe)},oe.off=function(fe,Z,xe){var Y=this;if(E(fe))C(this,fe);else if(!fe){var he=this.handlers;Object.keys(he).forEach(function(Ke){C(Y,Ke)})}return ee.prototype.off.call(this,fe,Z,xe)},oe.destroy=function(){this.el&&(this.off(),y&&N(this),this.el=null)},W}(o.a),P=/\s+/;function E(ee){return ee&&!(P.test(ee)||typeof ee=="object")}function O(ee){if(!ee.handlers.init){var Me=ee.el,pe=ee.passive,W=!!w&&{passive:pe},oe=function(Z){if(ee.dragged)q(ee,l.s,Z);else{var xe=K(Z),Y=xe.pageX,he=xe.pageY,Ke=Y-ee.startX,ht=he-ee.startY;Ke*Ke+ht*ht>36&&(q(ee,l.u,Z),ee.dragged=!0,q(ee,l.s,Z))}var lt;pe||Z.type!=="touchmove"||(lt=Z).preventDefault&&lt.preventDefault()},fe=function(Z){clearTimeout(p),ee.el&&(N(ee),C(ee,"window"),ee.dragged&&(ee.dragged=!1,q(ee,l.t,Z)))};h(ee,"init"),Q(ee,"init",function(Z){if(Object(n.p)(Me,"jw-tab-focus"),!ne(Z)){var xe=Z.target,Y=Z.type;if(!ee.directSelect||xe===Me){var he=K(Z),Ke=he.pageX,ht=he.pageY;if(ee.dragged=!1,ee.startX=Ke,ee.startY=ht,C(ee,"window"),Y==="pointerdown"&&Z.isPrimary){if(!pe){var lt=Z.pointerId;ee.pointerId=lt,Me.setPointerCapture(lt)}_(ee,"window","pointermove",oe,W),_(ee,"window","pointercancel",fe),_(ee,"window","pointerup",fe)}else Y==="mousedown"?(_(ee,"window","mousemove",oe,W),_(ee,"window","mouseup",fe)):Y==="touchstart"&&(_(ee,"window","touchmove",oe,W),_(ee,"window","touchcancel",fe),_(ee,"window","touchend",fe))}}},W),g||(g=new S(document).on("interaction"))}}function a(ee){if(!ee.handlers.select){var Me=ee.el;h(ee,"select"),Q(ee,"select",function(pe){var W=pe.target;ne(pe)||ee.directSelect&&W!==Me||(pe.isPrimary&&W.tageName==="BUTTON"&&W.focus(),ee.lastStart=Object(c.a)(),ee.clicking=!0)}),_(ee,"select","click",function(pe){ne(pe)||ee.directSelect&&pe.target!==Me||(Object(c.a)()-ee.lastStart>500&&ee.clicking===!0||(function(W,oe){W.enableDoubleClick&&(Object(c.a)()-W.lastClick<300?(q(W,l.r,oe),W.lastClick=0):W.lastClick=Object(c.a)())}(ee,pe),q(ee,l.o,pe)),ee.clicking=!1)})}}function h(ee,Me){if(!ee.handlers.init&&!ee.handlers.select){var pe=ee.el;_(ee,Me,"blur",function(){Object(n.p)(pe,"jw-tab-focus"),ee.clicking=!1}),_(ee,Me,"focus",function(){g.event&&g.event.type==="keydown"&&Object(n.b)(pe,"jw-tab-focus")})}}var v={drag:function(ee){O(ee)},dragStart:function(ee){O(ee)},dragEnd:function(ee){O(ee)},click:function(ee){a(ee)},doubleClick:function(ee){ee.enableDoubleClick=!0,a(ee)},longPress:function(ee){if(s.OS.iOS){var Me=function(){clearTimeout(p)};_(ee,"longPress","touchstart",function(pe){Me(),p=setTimeout(function(){q(ee,"longPress",pe)},500)}),_(ee,"longPress","touchmove",Me),_(ee,"longPress","touchcancel",Me),_(ee,"longPress","touchend",Me)}else ee.el.oncontextmenu=function(pe){return q(ee,"longPress",pe),!1}},focus:function(ee){_(ee,"focus","focus",function(Me){G(ee,"focus",Me)})},blur:function(ee){_(ee,"blur","blur",function(Me){G(ee,"blur",Me)})},over:function(ee){(y||x)&&_(ee,l.Z,y?"pointerover":"mouseover",function(Me){Me.pointerType!=="touch"&&q(ee,l.Z,Me)})},out:function(ee){if(y){var Me=ee.el;_(ee,l.Y,"pointerout",function(pe){if(pe.pointerType!=="touch"&&"clientX"in pe){var W=document.elementFromPoint(pe.clientX,pe.clientY);Me.contains(W)||q(ee,l.Y,pe)}})}else x&&_(ee,l.Y,"mouseout",function(pe){q(ee,l.Y,pe)})},move:function(ee){(y||x)&&_(ee,l.W,y?"pointermove":"mousemove",function(Me){Me.pointerType!=="touch"&&q(ee,l.W,Me)})},enter:function(ee){_(ee,l.v,"keydown",function(Me){Me.key!=="Enter"&&Me.keyCode!==13||(Me.stopPropagation(),G(ee,l.v,Me))})},keydown:function(ee){_(ee,"keydown","keydown",function(Me){G(ee,"keydown",Me)},!1)},gesture:function(ee){var Me=function(pe){return q(ee,"gesture",pe)};_(ee,"gesture","click",Me),_(ee,"gesture","keydown",Me)},interaction:function(ee){var Me=function(pe){ee.event=pe};_(ee,"interaction","mousedown",Me,!0),_(ee,"interaction","keydown",Me,!0)},tap:function(){},doubleTap:function(){}};function d(ee){var Me=ee.ownerDocument||ee;return Me.defaultView||Me.parentWindow||window}function _(ee,Me,pe,W,oe){oe===void 0&&(oe=k);var fe=ee.handlers[Me],Z=ee.options[Me];if(fe||(fe=ee.handlers[Me]={},Z=ee.options[Me]={}),fe[pe])throw new Error(Me+" "+pe+" already registered");fe[pe]=W,Z[pe]=oe;var xe=ee.el;(Me==="window"?d(xe):xe).addEventListener(pe,W,oe)}function C(ee,Me){var pe=ee.el,W=ee.handlers,oe=ee.options,fe=Me==="window"?d(pe):pe,Z=W[Me],xe=oe[Me];Z&&(Object.keys(Z).forEach(function(Y){var he=xe[Y];typeof he=="boolean"?fe.removeEventListener(Y,Z[Y],he):fe.removeEventListener(Y,Z[Y])}),W[Me]=null,oe[Me]=null)}function N(ee){var Me=ee.el;ee.pointerId!==null&&(Me.releasePointerCapture(ee.pointerId),ee.pointerId=null)}function G(ee,Me,pe){var W=ee.el,oe=pe.target;ee.trigger(Me,{type:Me,sourceEvent:pe,currentTarget:W,target:oe})}function q(ee,Me,pe){var W=function(oe,fe,Z){var xe,Y=fe.target,he=fe.touches,Ke=fe.changedTouches,ht=fe.pointerType;he||Ke?(xe=he&&he.length?he[0]:Ke[0],ht=ht||"touch"):(xe=fe,ht=ht||"mouse");var lt=xe,We=lt.pageX,Se=lt.pageY;return{type:oe,pointerType:ht,pageX:We,pageY:Se,sourceEvent:fe,currentTarget:Z,target:Y}}(Me,pe,ee.el);ee.trigger(Me,W)}function K(ee){return ee.type.indexOf("touch")===0?(ee.originalEvent||ee).changedTouches[0]:ee}function ne(ee){return!(!ee.ctrlKey||ee.type!=="click")||("which"in ee?ee.which===3:"button"in ee&&ee.button===2)}function Q(ee,Me,pe,W){y?_(ee,Me,"pointerdown",pe,W):(x&&_(ee,Me,"mousedown",pe,W),_(ee,Me,"touchstart",pe,W))}},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l});var s=window.requestAnimationFrame||function(o){return setTimeout(o,17)},l=window.cancelAnimationFrame||clearTimeout},function(e,t,r){"use strict";var s=r(0),l=r(19),o=r(10),c=r(12),n=r(2),u=r(23),p=r(17);function g(O,a){this.name=O,this.message=a.message||a.toString(),this.error=a}var m=r(5),y=r(6),x=r(11),w=r(21),k=r(40),S=r(36),P=r(41),E=Object(s.g)({},c,o,l,{addClass:y.b,hasClass:y.j,removeClass:y.p,replaceClass:y.q,toggleClass:y.w,classList:y.e,styleDimension:y.v,createElement:y.f,emptyElement:y.i,addStyleSheet:y.c,bounds:y.d,openLink:y.m,replaceInnerHtml:y.r,css:x.b,clearCss:x.a,style:x.d,transform:x.e,getRgba:x.c,ajax:w.a,crossdomain:function(O){var a=window.URL;try{var h=new a(O,location.origin);return location.protocol+"//"+location.host!=h.protocol+"//"+h.host}catch(v){}return!0},tryCatch:function(O,a,h){if(h===void 0&&(h=[]),p.a.debug)return O.apply(a||this,h);try{return O.apply(a||this,h)}catch(v){return new g(O.name,v)}},Error:g,Timer:u.a,log:S.a,genId:P.b,between:k.a,foreach:function(O,a){for(var h in O)Object.prototype.hasOwnProperty.call(O,h)&&a(h,O[h])},flashVersion:m.a,isIframe:m.m,indexOf:s.l,trim:n.i,pad:n.e,extension:n.a,hms:n.b,seconds:n.g,prefix:n.f,suffix:n.h,noop:function(){}});t.a=E},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=function(l,o,c){return Math.max(Math.min(l,c),o)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return o});var s=12;function l(){try{var c=window.crypto||window.msCrypto;if(c&&c.getRandomValues)return c.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(n){}return Math.random().toString(36).slice(2,9)}function o(c){for(var n="";n.length<c;)n+=l();return n.slice(0,c)}},function(e,t,r){"use strict";function s(l,o,c){var n=[],u={};function p(){for(;n.length>0;){var g=n.shift(),m=g.command,y=g.args;(u[m]||l[m]).apply(l,y)}}o.forEach(function(g){var m=l[g];u[g]=m,l[g]=function(){for(var y=arguments.length,x=new Array(y),w=0;w<y;w++)x[w]=arguments[w];c()?n.push({command:g,args:x}):(p(),m&&m.apply(this,x))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return n}}),this.flush=p,this.empty=function(){n.length=0},this.off=function(){o.forEach(function(g){var m=u[g];m&&(l[g]=m,delete u[g])})},this.destroy=function(){this.off(),this.empty()}}r.d(t,"a",function(){return s})},function(e,t,r){"use strict";function s(o,c){return(s=Object.setPrototypeOf||function(n,u){return n.__proto__=u,n})(o,c)}r.d(t,"a",function(){return l});var l=function(o){var c,n;function u(){var g;return(g=o.call(this)||this).attributes=Object.create(null),g}n=o,(c=u).prototype=Object.create(n.prototype),c.prototype.constructor=c,s(c,n);var p=u.prototype;return p.addAttributes=function(g){var m=this;Object.keys(g).forEach(function(y){m.add(y,g[y])})},p.add=function(g,m){var y=this;Object.defineProperty(this,g,{get:function(){return y.attributes[g]},set:function(x){return y.set(g,x)},enumerable:!1}),this.attributes[g]=m},p.get=function(g){return this.attributes[g]},p.set=function(g,m){if(this.attributes[g]!==m){var y=this.attributes[g];this.attributes[g]=m,this.trigger("change:"+g,this,m,y)}},p.clone=function(){var g={},m=this.attributes;if(m)for(var y in m)g[y]=m[y];return g},p.change=function(g,m,y){this.on("change:"+g,m,y);var x=this.get(g);return m.call(y,this,x,x),this},u}(r(8).a)},function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o});var s=4,l=5,o=1},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var s=r(0);function l(o,c){return Object(s.g)({},c,{prime:function(){o.src||o.load()},getPrimedElement:function(){return o},clean:function(){c.clean(o)},recycle:function(){c.clean(o)}})}},function(e,t,r){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,r){"use strict";var s=r(0),l=r(42),o=r(34),c=r(19),n=r(12),u=r(7),p=r(30),g=r(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:p.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(Re,te){var J=Object(s.g)({},(window.jwplayer||{}).defaults,te,Re);(function(Lt){Object.keys(Lt).forEach(function(It){It!=="id"&&(Lt[It]=Object(n.serialize)(Lt[It]))})})(J);var qe=J.forceLocalizationDefaults?m.language:Object(g.c)(),_t=Object(g.h)(J.intl);J.localization=Object(g.a)(p.a,Object(g.b)(J,_t,qe));var be=Object(s.g)({},m,J);be.base==="."&&(be.base=Object(c.getScriptPath)("jwplayer.js")),be.base=(be.base||Object(c.loadFrom)()).replace(/\/?$/,"/"),r.p=be.base,be.width=Object(o.b)(be.width),be.height=Object(o.b)(be.height),be.aspectratio=Object(o.a)(be.aspectratio,be.width),be.volume=Object(s.u)(be.volume)?Math.min(Math.max(0,be.volume),100):m.volume,be.mute=!!be.mute,be.language=qe,be.intl=_t;var $e=be.playlistIndex;$e&&(be.item=$e),Object(s.r)(be.item)||(be.item=0);var st=J.autoPause;st&&(be.autoPause.viewability=!("viewability"in st)||!!st.viewability);var Ee=be.playbackRateControls;if(Ee){var Qe=be.playbackRates;Array.isArray(Ee)&&(Qe=Ee),(Qe=Qe.filter(function(Lt){return Object(s.r)(Lt)&&Lt>=.25&&Lt<=4}).map(function(Lt){return Math.round(100*Lt)/100})).indexOf(1)<0&&Qe.push(1),Qe.sort(),be.playbackRateControls=!0,be.playbackRates=Qe}(!be.playbackRateControls||be.playbackRates.indexOf(be.defaultPlaybackRate)<0)&&(be.defaultPlaybackRate=1),be.playbackRate=be.defaultPlaybackRate,be.aspectratio||delete be.aspectratio;var nt=be.playlist;if(nt)Array.isArray(nt.playlist)&&(be.feedData=nt,be.playlist=nt.playlist);else{var Ut=Object(s.x)(be,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);be.playlist=[Ut]}be.qualityLabels=be.qualityLabels||be.hlslabels,delete be.duration;var ut=be.liveTimeout;ut!==null&&(Object(s.u)(ut)?ut!==0&&(ut=Math.max(30,ut)):ut=null,be.liveTimeout=ut);var mt,Mt,ti,oi=parseFloat(be.bandwidthEstimate),ci=parseFloat(be.bitrateSelection);return be.bandwidthEstimate=Object(s.u)(oi)?oi:(mt=be.defaultBandwidthEstimate,Mt=parseFloat(mt),Object(s.u)(Mt)?Math.max(Mt,1):m.bandwidthEstimate),be.bitrateSelection=Object(s.u)(ci)?ci:m.bitrateSelection,be.liveSyncDuration=(ti=be.liveSyncDuration)<5?5:ti>30?30:ti,be.backgroundLoading=Object(s.n)(be.backgroundLoading)?be.backgroundLoading:u.Features.backgroundLoading,be},x=r(9),w=r(24),k=r(18),S=r(15),P=r(20),E=r(29),O=r(1),a=null;function h(Re){return a||(a=function(te){var J=te.get("controls"),qe=v(),_t=function($e,st){var Ee=$e.get("playlist");if(Array.isArray(Ee)&&Ee.length)for(var Qe=Object(k.f)($e.get("item"),Ee.length),nt=Object(k.c)(Object(w.a)(Ee[Qe]),$e),Ut=0;Ut<nt.length;Ut++)for(var ut=nt[Ut],mt=$e.getProviders(),Mt=0;Mt<S.a.length;Mt++){var ti=S.a[Mt];if(mt.providerSupports(ti,ut))return ti.name===st}return!1}(te,"html5");if(u.OS.tizen)return d();if(J&&qe&&_t)return be=r.e(7).then(function($e){r(116);var st=r(54).default;return E.a.controls=r(52).default,Object(P.a)(r(117).default),st}.bind(null,r)).catch(Object(x.b)(O.q+105)),x.a.html5=be,be;var be;return J&&_t?function(){var $e=r.e(5).then(function(st){var Ee=r(54).default;return E.a.controls=r(52).default,Object(P.a)(r(117).default),Ee}.bind(null,r)).catch(Object(x.b)(O.q+104));return x.a.html5=$e,$e}():J&&qe?r.e(6).then(function($e){r(116);var st=r(54).default;return E.a.controls=r(52).default,st}.bind(null,r)).catch(Object(x.b)(O.q+103)):J?r.e(4).then(function($e){var st=r(54).default;return E.a.controls=r(52).default,st}.bind(null,r)).catch(Object(x.b)(O.q+102)):d()}(Re)),a}function v(){var Re=window.IntersectionObserverEntry;return!Re||!("IntersectionObserver"in window)||!("intersectionRatio"in Re.prototype)}function d(){return function(){return v()?r.e(8).then(function(Re){return r(116)}.bind(null,r)).catch(Object(x.b)(O.q+120)):Promise.resolve()}().then(x.d)}var _=r(3),C=r(48),N=r(35),G=r(25);function q(Re,te,J){var qe=Re.attributes;qe.playlist=Object(k.a)(te),qe.feedData=J}function K(Re){return function(te){var J=te.get("playlist");return new Promise(function(qe,_t){if(typeof J!="string"){var be=te.get("feedData")||{};return q(te,J,be),qe()}var $e=new C.a;$e.on(_.eb,function(st){var Ee=st.playlist;delete st.playlist,q(te,Ee,st),qe()}),$e.on(_.w,function(st){q(te,[],{}),_t(Object(O.w)(st,O.r))}),$e.load(J)})}(Re).then(function(){if(!ee(Re)){var te=Object(k.b)(Re.get("playlist"),Re);Re.attributes.playlist=te;try{Object(k.e)(te)}catch(st){throw st.code+=O.r,st}var J=Re.getProviders(),qe=Object(k.f)(Re.get("item"),te.length),_t=J.choose(te[qe].sources[0]),be=_t.provider,$e=_t.name;return typeof be=="function"?be:x.a.html5&&$e==="html5"?x.a.html5:J.load($e).catch(function(st){throw Object(O.w)(st,O.s)})}})}function ne(Re){var te=Re.get("skin")?Re.get("skin").url:void 0;return typeof te=="string"&&!function(J){for(var qe=document.styleSheets,_t=0,be=qe.length;_t<be;_t++)if(qe[_t].href===J)return!0;return!1}(te)?new N.a(te,!0).load().catch(function(J){return J}):Promise.resolve()}function Q(Re){var te=Re.attributes,J=te.language,qe=te.base,_t=te.setupConfig,be=te.intl,$e=Object(g.b)(_t,be,J);return!Object(g.f)(J)||Object(g.d)($e)?Promise.resolve():new Promise(function(st){return Object(g.g)(qe,J).then(function(Ee){var Qe=Ee.response;if(!ee(Re)){if(!Qe)throw new O.o(null,O.h);te.localization=Object(g.a)(Qe,$e),st()}}).catch(function(Ee){st(Ee.code===O.h?Ee:Object(O.w)(Ee,O.g))})})}function ee(Re){return Re.attributes._destroyed}var Me=function(Re){var te;this.start=function(J){var qe=function($e,st){return Object(G.a)($e,st)}(Re,J),_t=Promise.all([h(Re),qe,K(Re),Promise.resolve(),ne(Re),Q(Re)]),be=new Promise(function($e,st){te=setTimeout(function(){st(new O.o(O.k,O.u))},6e4);var Ee=function(){clearTimeout(te),setTimeout($e,6e4)};_t.then(Ee).catch(Ee)});return Promise.race([_t,be]).catch(function($e){var st=function(){throw $e};return qe.then(st).catch(st)}).then(function($e){return function(st){if(!st||!st.length)return{core:null,warnings:[]};var Ee=st.reduce(function(Qe,nt){return Qe.concat(nt)},[]).filter(function(Qe){return Qe&&Qe.code});return{core:st[0],warnings:Ee}}($e)})},this.destroy=function(){clearTimeout(te),Re.set("_destroyed",!0),Re=null}},pe=r(32),W=r(23),oe=r(17),fe={removeItem:function(Re){}};try{fe=window.localStorage||fe}catch(Re){}var Z=function(){function Re(J,qe){this.namespace=J,this.items=qe}var te=Re.prototype;return te.getAllItems=function(){var J=this;return this.items.reduce(function(qe,_t){var be=fe[J.namespace+"."+_t];return be&&(qe[_t]=_t!=="captions"?Object(n.serialize)(be):JSON.parse(be)),qe},{})},te.track=function(J){var qe=this;this.items.forEach(function(_t){J.on("change:"+_t,function(be,$e){try{_t==="captions"&&($e=JSON.stringify($e)),fe[qe.namespace+"."+_t]=$e}catch(st){oe.a.debug&&console.error(st)}})})},te.clear=function(){var J=this;this.items.forEach(function(qe){fe.removeItem(J.namespace+"."+qe)})},Re}(),xe=r(43),Y=r(28),he=r(8),Ke=r(33),ht=r(44);function lt(Re){Re.src||Re.load()}function We(Re){var te=document.createElement("video");return te.className="jw-video jw-reset",te.setAttribute("tabindex","-1"),te.setAttribute("disableRemotePlayback",""),te.setAttribute("webkit-playsinline",""),te.setAttribute("playsinline",""),Re&&Object.keys(Re).forEach(function(J){te.setAttribute(J,Re[J])}),te}var Se=r(45),Le=r(37);r(51),r(53),r.d(t,"b",function(){return it});var je=function(Re){this._events={},this.modelShim=new xe.a,this.modelShim._qoeItem=new W.a,this.mediaShim={},this.setup=new Me(this.modelShim),this.currentContainer=this.originalContainer=Re,this.apiQueue=new l.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};function Ne(Re,te){te&&te.code&&(te.sourceError&&console.error(te.sourceError),console.error(O.o.logMessage(te.code)))}function Ge(Re){Re&&Re.code&&console.warn(O.o.logMessage(Re.code))}function it(Re,te){if(!document.body.contains(Re.currentContainer)){var J=document.getElementById(Re.get("id"));J&&(Re.currentContainer=J)}Re.currentContainer.parentElement&&Re.currentContainer.parentElement.replaceChild(te,Re.currentContainer),Re.currentContainer=te}Object(s.g)(je.prototype,{on:he.a.on,once:he.a.once,off:he.a.off,trigger:he.a.trigger,init:function(Re,te){var J=this,qe=this.modelShim,_t=new Z("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),be=_t&&_t.getAllItems();qe.attributes=qe.attributes||{},Object(s.g)(this.mediaShim,Y.c);var $e=Re,st=y(Object(s.g)({},Re),be);st.id=te.id,st.setupConfig=$e,Object(s.g)(qe.attributes,st,Y.d),qe.getProviders=function(){return new pe.a(st)},qe.setProvider=function(){};var Ee=function(){for(var nt=ht.c,Ut=[],ut=[],mt=0;mt<nt;mt++){var Mt=We();Ut.push(Mt),ut.push(Mt),lt(Mt)}var ti=ut.shift(),oi=ut.shift(),ci=!1;return{primed:function(){return ci},prime:function(){Ut.forEach(lt),ci=!0},played:function(){ci=!0},getPrimedElement:function(){return ut.shift()||null},getAdElement:function(){return ti},getTestElement:function(){return oi},clean:function(Lt){if(Lt.src){Lt.removeAttribute("src");try{Lt.load()}catch(It){}}},recycle:function(Lt){Lt&&!ut.some(function(It){return It===Lt})&&(this.clean(Lt),ut.push(Lt))},syncVolume:function(Lt){var It=Math.min(Math.max(0,Lt/100),1);Ut.forEach(function(Ct){Ct.volume=It})},syncMute:function(Lt){Ut.forEach(function(It){It.muted=Lt})}}}();qe.get("backgroundLoading")||(Ee=Object(Se.a)(Ee.getPrimedElement(),Ee));var Qe=this.primeUi=new Le.a(Object(Le.b)(this.originalContainer)).once("gesture",function(){Ee.prime(),J.preload(),Qe.destroy()});return qe.on("change:errorEvent",Ne),this.setup.start(te).then(function(nt){var Ut=nt.core;if(!Ut)throw Object(O.w)(null,O.t);if(J.setup){J.on(_.ub,Ge),nt.warnings.forEach(function(ti){J.trigger(_.ub,ti)});var ut=J.modelShim.clone();if(ut.error)throw ut.error;var mt=J.apiQueue.queue.slice(0);J.apiQueue.destroy(),Object(s.g)(J,Ut.prototype),J.playerSetup(ut,te,J.originalContainer,J._events,mt,Ee);var Mt=J._model;return qe.off("change:errorEvent",Ne),Mt.on("change:errorEvent",Ne),_t.track(Mt),J.updatePlaylist(Mt.get("playlist"),Mt.get("feedData")).catch(function(ti){var oi=ti.code===O.a?O.p:O.r;throw Object(O.w)(ti,oi)})}}).then(function(){J.setup&&J.playerReady()}).catch(function(nt){J.setup&&function(Ut,ut,mt){Promise.resolve().then(function(){var Mt=Object(O.x)(O.n,O.v,mt),ti=Ut._model||Ut.modelShim;Mt.message=Mt.message||ti.get("localization").errors[Mt.key],delete Mt.key;var oi=ti.get("contextual");if(!oi){var ci=Object(Ke.a)(Ut,Mt);Ke.a.cloneIcon&&ci.querySelector(".jw-icon").appendChild(Ke.a.cloneIcon("error")),it(Ut,ci)}ti.set("errorEvent",Mt),ti.set("state",_.lb),Ut.trigger(_.ib,Mt),oi&&ut.remove()})}(J,te,nt)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&it(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Re){if(this.modelShim)return Re in this.mediaShim?this.mediaShim[Re]:this.modelShim.get(Re)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Re){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Re)},getConfig:function(){return Object(s.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=je},function(e,t,r){"use strict";var s=r(0),l=r(3),o=r(4),c=r(2);function n(P){var E={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return E[P]?E[P]:P}function u(P){for(var E=[],O=0;O<Object(o.c)(P);O++){var a=P.childNodes[O];a.prefix==="jwplayer"&&Object(o.b)(a).toLowerCase()==="mediatypes"&&E.push(Object(o.d)(a))}return E}var p=function P(E,O){for(var a=[],h=0;h<Object(o.c)(E);h++){var v=E.childNodes[h];if(v.prefix==="media"){if(!Object(o.b)(v))continue;switch(Object(o.b)(v).toLowerCase()){case"content":if(Object(c.j)(v,"duration")&&(O.duration=Object(c.g)(Object(c.j)(v,"duration"))),Object(c.j)(v,"url")){O.sources||(O.sources=[]);var d={file:Object(c.j)(v,"url"),type:Object(c.j)(v,"type"),width:Object(c.j)(v,"width"),label:Object(c.j)(v,"label")},_=u(v);_.length&&(d.mediaTypes=_),O.sources.push(d)}Object(o.c)(v)>0&&(O=P(v,O));break;case"title":O.title=Object(o.d)(v);break;case"description":O.description=Object(o.d)(v);break;case"guid":O.mediaid=Object(o.d)(v);break;case"thumbnail":O.image||(O.image=Object(c.j)(v,"url"));break;case"group":P(v,O);break;case"subtitle":var C={file:Object(c.j)(v,"url"),kind:"captions"};Object(c.j)(v,"lang").length>0&&(C.label=n(Object(c.j)(v,"lang"))),a.push(C)}}}O.tracks||(O.tracks=[]);for(var N=0;N<a.length;N++)O.tracks.push(a[N]);return O},g=r(12),m=function(P,E){for(var O="default",a=[],h=[],v=E,d=0;d<P.childNodes.length;d++){var _=P.childNodes[d];if(_.prefix==="jwplayer"){var C=Object(o.b)(_);C==="source"?(delete E.sources,a.push({file:Object(c.j)(_,"file"),default:Object(c.j)(_,O),label:Object(c.j)(_,"label"),type:Object(c.j)(_,"type")})):C==="track"?(delete E.tracks,h.push({file:Object(c.j)(_,"file"),default:Object(c.j)(_,O),kind:Object(c.j)(_,"kind"),label:Object(c.j)(_,"label")})):(E[C]=Object(g.serialize)(Object(o.d)(_)),C==="file"&&E.sources&&delete E.sources)}E.file||(E.file=E.link)}if(a.length){E.sources=[];for(var N=0;N<a.length;N++){var G=a[N];G.file.length>0&&(G[O]=a[N][O]==="true",G.label||delete G.label,v.sources.push(G))}}if(h.length){E.tracks=[];for(var q=0;q<h.length;q++){var K=h[q];K.file&&K.file.length>0&&(K[O]=h[q][O]==="true",K.kind=h[q].kind.length?h[q].kind:"captions",K.label||delete K.label,v.tracks.push(K))}}return v},y=r(24);function x(P){for(var E={},O=0;O<P.childNodes.length;O++){var a=P.childNodes[O],h=Object(o.b)(a);if(h)switch(h.toLowerCase()){case"enclosure":E.file=Object(c.j)(a,"url");break;case"title":E.title=Object(o.d)(a);break;case"guid":E.mediaid=Object(o.d)(a);break;case"pubdate":E.date=Object(o.d)(a);break;case"description":E.description=Object(o.d)(a);break;case"link":E.link=Object(o.d)(a);break;case"category":E.tags?E.tags+=Object(o.d)(a):E.tags=Object(o.d)(a)}}return new y.a(m(P,p(P,E)))}var w=r(21),k=r(8),S=r(1);t.a=function(){var P=Object(s.g)(this,k.a);function E(a){try{var h,v=a.responseXML?a.responseXML.childNodes:null,d=null;if(v){for(var _=0;_<v.length&&(d=v[_]).nodeType===8;_++);if(d&&Object(o.b)(d)==="xml"&&(d=d.nextSibling),d&&Object(o.b)(d)==="rss"){var C=function(G){var q=[];q.feedData={};for(var K=0;K<Object(o.c)(G);K++){var ne=Object(o.a)(G,K);if(Object(o.b)(ne).toLowerCase()==="channel")for(var Q=0;Q<Object(o.c)(ne);Q++){var ee=Object(o.a)(ne,Q),Me=Object(o.b)(ee).toLowerCase();Me==="item"?q.push(x(ee)):Me&&(q.feedData[Me]=Object(o.d)(ee))}}return q}(d);h=Object(s.g)({playlist:C},C.feedData)}}if(!h)try{var N=JSON.parse(a.responseText);if(Array.isArray(N))h={playlist:N};else{if(!Array.isArray(N.playlist))throw Error("Playlist is not an array");h=N}}catch(G){throw new S.o(S.l,621,G)}P.trigger(l.eb,h)}catch(G){O(G)}}function O(a){a instanceof S.o&&!a.code&&(a=new S.o(S.l,0)),P.trigger(l.w,a)}this.load=function(a){Object(w.a)(a,E,function(h,v,d,_){O(_)})},this.destroy=function(){this.off()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var s=r(7);function l(o){return o.type==="hls"&&s.OS.android?o.androidhls!==!1&&!s.Browser.firefox&&parseFloat(s.OS.version.version||"0")>=4.4:null}},function(e,t,r){"use strict";var s=r(3),l=function(){},o=function(){return!1},c={name:"default"},n={supports:o,play:l,pause:l,preload:l,load:l,stop:l,volume:l,mute:l,seek:l,resize:l,remove:l,destroy:l,setVisibility:l,setFullscreen:l,getFullscreen:o,supportsFullscreen:o,getContainer:l,setContainer:l,getName:function(){return c},getQualityLevels:l,getCurrentQuality:l,setCurrentQuality:l,getAudioTracks:l,getCurrentAudioTrack:l,setCurrentAudioTrack:l,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:l,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:l,detachMedia:l,init:l,setState:function(u){this.state=u,this.trigger(s.bb,{newstate:u})},sendMediaType:function(u){var p=u[0],g=p.type,m=p.mimeType,y=g==="aac"||g==="mp3"||g==="mpeg"||m&&m.indexOf("audio/")===0;this.trigger(s.T,{mediaType:y?"audio":"video"})},getDuration:function(){return 0},trigger:l};t.a=n},function(e,t,r){"use strict";var s,l=r(46),o=r(7),c=r(6),n=[],u=[],p=[],g={},m="screen"in window&&"orientation"in window.screen,y=o.OS.android&&o.Browser.chrome,x=!1;function w(O,a){for(var h=a.length;h--;){var v=a[h];if(O.target===v.getContainer()){v.setIntersection(O);break}}}function k(){n.forEach(function(O){var a=O.model;if(!(a.get("audioMode")||a.get("isFloating")||!a.get("controls")||a.get("visibility")<.75)){var h=a.get("state"),v=Object(c.g)();!v&&h==="paused"&&O.api.getFullscreen()?O.api.setFullscreen(!1):h==="playing"&&O.api.setFullscreen(v)}})}function S(){n.forEach(function(O){O.model.set("activeTab",Object(l.a)())})}function P(O,a){var h=a.indexOf(O);h!==-1&&a.splice(h,1)}function E(O){p.forEach(function(a){a(O)})}document.addEventListener("visibilitychange",S),document.addEventListener("webkitvisibilitychange",S),y&&m&&window.screen.orientation.addEventListener("change",k),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",S),document.removeEventListener("webkitvisibilitychange",S),window.removeEventListener("scroll",E),y&&m&&window.screen.orientation.removeEventListener("change",k)}),t.a={add:function(O){n.push(O)},remove:function(O){P(O,n)},addScrollHandler:function(O){x||(x=!0,window.addEventListener("scroll",E)),p.push(O)},removeScrollHandler:function(O){var a=p.indexOf(O);a!==-1&&p.splice(a,1)},addWidget:function(O){u.push(O)},removeWidget:function(O){P(O,u)},size:function(){return n.length},observe:function(O){var a;a=window.IntersectionObserver,s||(s=new a(function(h){if(h&&h.length)for(var v=h.length;v--;){var d=h[v];w(d,n),w(d,u)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),g[O.id]||(g[O.id]=!0,s.observe(O))},unobserve:function(O){s&&g[O.id]&&(delete g[O.id],s.unobserve(O))}}},,function(e,t,r){"use strict";r.d(t,"a",function(){return g});var s=r(0),l=r(38),o=r(6),c=r(11),n=[],u=-1;function p(){Object(l.a)(u),u=Object(l.b)(function(){n.forEach(function(m){m.view.updateBounds();var y=m.view.model.get("containerWidth");m.resized=m.width!==y,m.width=y}),n.forEach(function(m){m.contractElement.scrollLeft=2*m.width}),n.forEach(function(m){Object(c.d)(m.expandChild,{width:m.width+1}),m.resized&&m.view.model.get("visibility")&&m.view.updateStyles()}),n.forEach(function(m){m.expandElement.scrollLeft=m.width+1}),n.forEach(function(m){m.resized&&m.view.checkResized()})})}var g=function(){function m(y,x,w){var k={display:"block",position:"absolute",top:0,left:0},S={width:"100%",height:"100%"},P=Object(o.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),E=P.firstChild,O=E.firstChild,a=E.nextSibling;Object(c.d)([E,a],Object(s.g)({overflow:"auto"},k,S)),Object(c.d)(P,Object(s.g)({},k,S)),this.expandElement=E,this.expandChild=O,this.contractElement=a,this.hiddenElement=P,this.element=y,this.view=x,this.model=w,this.width=0,this.resized=!1,y.firstChild?y.insertBefore(P,y.firstChild):y.appendChild(P),y.addEventListener("scroll",p,!0),n.push(this),p()}return m.prototype.destroy=function(){if(this.view){var y=n.indexOf(this);y!==-1&&n.splice(y,1),this.element.removeEventListener("scroll",p,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},m}()},,,function(e,t,r){"use strict";r.r(t);var s=setTimeout;function l(){}function o(W){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof W!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(W,this)}function c(W,oe){for(;W._state===3;)W=W._value;W._state!==0?(W._handled=!0,o._immediateFn(function(){var fe=W._state===1?oe.onFulfilled:oe.onRejected;if(fe!==null){var Z;try{Z=fe(W._value)}catch(xe){return void u(oe.promise,xe)}n(oe.promise,Z)}else(W._state===1?n:u)(oe.promise,W._value)})):W._deferreds.push(oe)}function n(W,oe){try{if(oe===W)throw new TypeError("A promise cannot be resolved with itself.");if(oe&&(typeof oe=="object"||typeof oe=="function")){var fe=oe.then;if(oe instanceof o)return W._state=3,W._value=oe,void p(W);if(typeof fe=="function")return void m((Z=fe,xe=oe,function(){Z.apply(xe,arguments)}),W)}W._state=1,W._value=oe,p(W)}catch(Y){u(W,Y)}var Z,xe}function u(W,oe){W._state=2,W._value=oe,p(W)}function p(W){W._state===2&&W._deferreds.length===0&&o._immediateFn(function(){W._handled||o._unhandledRejectionFn(W._value)});for(var oe=0,fe=W._deferreds.length;oe<fe;oe++)c(W,W._deferreds[oe]);W._deferreds=null}function g(W,oe,fe){this.onFulfilled=typeof W=="function"?W:null,this.onRejected=typeof oe=="function"?oe:null,this.promise=fe}function m(W,oe){var fe=!1;try{W(function(Z){fe||(fe=!0,n(oe,Z))},function(Z){fe||(fe=!0,u(oe,Z))})}catch(Z){if(fe)return;fe=!0,u(oe,Z)}}o.prototype.catch=function(W){return this.then(null,W)},o.prototype.then=function(W,oe){var fe=new this.constructor(l);return c(this,new g(W,oe,fe)),fe},o.prototype.finally=function(W){var oe=this.constructor;return this.then(function(fe){return oe.resolve(W()).then(function(){return fe})},function(fe){return oe.resolve(W()).then(function(){return oe.reject(fe)})})},o.all=function(W){return new o(function(oe,fe){if(!W||W.length===void 0)throw new TypeError("Promise.all accepts an array");var Z=Array.prototype.slice.call(W);if(Z.length===0)return oe([]);var xe=Z.length;function Y(Ke,ht){try{if(ht&&(typeof ht=="object"||typeof ht=="function")){var lt=ht.then;if(typeof lt=="function")return void lt.call(ht,function(We){Y(Ke,We)},fe)}Z[Ke]=ht,--xe==0&&oe(Z)}catch(We){fe(We)}}for(var he=0;he<Z.length;he++)Y(he,Z[he])})},o.resolve=function(W){return W&&typeof W=="object"&&W.constructor===o?W:new o(function(oe){oe(W)})},o.reject=function(W){return new o(function(oe,fe){fe(W)})},o.race=function(W){return new o(function(oe,fe){for(var Z=0,xe=W.length;Z<xe;Z++)W[Z].then(oe,fe)})},o._immediateFn=typeof setImmediate=="function"&&function(W){setImmediate(W)}||function(W){s(W,0)},o._unhandledRejectionFn=function(W){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",W)};var y=o;window.Promise||(window.Promise=y);var x=r(19),w=r(14),k=r(15),S=r(20),P={availableProviders:k.a,registerProvider:S.a},E=r(25),O=r(22),a=r(0),h=r(17),v=r(7),d=r(47),_=r(3),C=r(23),N=r(8),G=r(39),q=0;function K(W,oe){var fe=new d.a(oe);return fe.on(_.gb,function(Z){W._qoe.tick("ready"),Z.setupTime=W._qoe.between("setup","ready")}),fe.on("all",function(Z,xe){W.trigger(Z,xe)}),fe}function ne(W,oe){var fe=W.plugins,Z=Object.keys(fe).map(function(xe){var Y=fe[xe];return delete fe[xe],Y});oe.get("setupConfig")&&W.trigger("remove"),W.off(),oe.playerDestroy(),Z.forEach(function(xe){if(xe.destroy)try{xe.destroy()}catch(Y){}}),oe.getContainer().removeAttribute("data-jwplayer-id")}function Q(W){var oe=++q,fe=W.id||"player-"+oe,Z=new C.a,xe={},Y=K(this,W);Z.tick("init"),W.setAttribute("data-jwplayer-id",fe),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return fe}},uniqueId:{enumerable:!0,get:function(){return oe}},plugins:{enumerable:!0,get:function(){return xe}},_qoe:{enumerable:!0,get:function(){return Z}},version:{enumerable:!0,get:function(){return O.a}},Events:{enumerable:!0,get:function(){return N.a}},utils:{enumerable:!0,get:function(){return G.a}},_:{enumerable:!0,get:function(){return a.c}}}),Object(a.g)(this,{_events:{},setup:function(he){return Z.clear("ready"),Z.tick("setup"),Y&&ne(this,Y),(Y=K(this,W)).init(he,this),this.on(he.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(he){for(var Ke=w.a.length;Ke--;)if(w.a[Ke].uniqueId===he.uniqueId){w.a.splice(Ke,1);break}}(this),Y&&ne(this,Y),Object.keys(xe).forEach(function(he){delete xe[he]}),this},qoe:function(){var he=Y.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:he.getFirstFrame?he.getFirstFrame():null,player:this._qoe.dump(),item:he.dump()}},addCues:function(he){return Array.isArray(he)&&Y.addCues(he),this},getAudioTracks:function(){return Y.getAudioTracks()},getBuffer:function(){return Y.get("buffer")},getCaptions:function(){return Y.get("captions")},getCaptionsList:function(){return Y.getCaptionsList()},getConfig:function(){return Y.getConfig()},getContainer:function(){return Y.getContainer()},getControls:function(){return Y.get("controls")},getCues:function(){return Y.get("cues")},getCurrentAudioTrack:function(){return Y.getCurrentAudioTrack()},getCurrentCaptions:function(){return Y.getCurrentCaptions()},getCurrentQuality:function(){return Y.getCurrentQuality()},getCurrentTime:function(){return Y.get("currentTime")},getDuration:function(){return Y.get("duration")},getEnvironment:function(){return v},getFullscreen:function(){return Y.get("fullscreen")},getHeight:function(){return Y.getHeight()},getItemMeta:function(){return Y.get("itemMeta")||{}},getMute:function(){return Y.getMute()},getPercentViewable:function(){return Y.get("visibility")},getPip:function(){return Y.get("pip")},getPlaybackRate:function(){return Y.get("playbackRate")},getPlaylist:function(){return Y.get("playlist")},getPlaylistIndex:function(){return Y.get("item")},getPlaylistItem:function(he){if(!G.a.exists(he))return Y.get("playlistItem");var Ke=this.getPlaylist();return Ke?Ke[he]:null},getPosition:function(){return Y.get("position")},getProvider:function(){return Y.getProvider()},getQualityLevels:function(){return Y.getQualityLevels()},getSafeRegion:function(he){return he===void 0&&(he=!0),Y.getSafeRegion(he)},getState:function(){return Y.getState()},getStretching:function(){return Y.get("stretching")},getViewable:function(){return Y.get("viewable")},getVisualQuality:function(){return Y.getVisualQuality()},getVolume:function(){return Y.get("volume")},getWidth:function(){return Y.getWidth()},setCaptions:function(he){return Y.setCaptions(he),this},setConfig:function(he){return Y.setConfig(he),this},setControls:function(he){return Y.setControls(he),this},setCurrentAudioTrack:function(he){Y.setCurrentAudioTrack(he)},setCurrentCaptions:function(he){Y.setCurrentCaptions(he)},setCurrentQuality:function(he){Y.setCurrentQuality(he)},setFullscreen:function(he){return Y.setFullscreen(he),this},setAllowFullscreen:function(he){return Y.setAllowFullscreen(he),this},setMute:function(he){return Y.setMute(he),this},setPip:function(he){return Y.setPip(he),this},setPlaybackRate:function(he){return Y.setPlaybackRate(he),this},setPlaylistItem:function(he,Ke){return Y.setPlaylistItem(he,Ke),this},setCues:function(he){return Array.isArray(he)&&Y.setCues(he),this},setVolume:function(he){return Y.setVolume(he),this},load:function(he,Ke){return Y.load(he,Ke),this},play:function(he){return Y.play(he),this},pause:function(he){return Y.pause(he),this},playToggle:function(he){switch(this.getState()){case _.pb:case _.jb:return this.pause(he);default:return this.play(he)}},seek:function(he,Ke){return Y.seek(he,Ke),this},playlistItem:function(he,Ke){return Y.playlistItem(he,Ke),this},playlistNext:function(he){return Y.playlistNext(he),this},playlistPrev:function(he){return Y.playlistPrev(he),this},next:function(he){return Y.next(he),this},requestPip:function(he){return Y.requestPip(he),this},castToggle:function(){return Y.castToggle(),this},stopCasting:function(){return Y.stopCasting(),this},createInstream:function(){return Y.createInstream()},stop:function(){return Y.stop(),this},resize:function(he,Ke){return Y.resize(he,Ke),this},addButton:function(he,Ke,ht,lt,We){return Y.addButton(he,Ke,ht,lt,We),this},removeButton:function(he){return Y.removeButton(he),this},attachMedia:function(){return Y.attachMedia(),this},detachMedia:function(){return Y.detachMedia(),this},isBeforeComplete:function(){return Y.isBeforeComplete()},isBeforePlay:function(){return Y.isBeforePlay()},setPlaylistItemCallback:function(he,Ke){Y.setItemCallback(he,Ke)},removePlaylistItemCallback:function(){Y.setItemCallback(null)},getPlaylistItemPromise:function(he){return Y.getItemPromise(he)},getFloating:function(){return!!Y.get("isFloating")},setFloating:function(he){Y.setConfig({floating:{mode:he?"always":"never"}})}})}Object(a.g)(Q.prototype,{on:function(W,oe,fe){return N.c.call(this,W,oe,fe)},once:function(W,oe,fe){return N.d.call(this,W,oe,fe)},off:function(W,oe,fe){return N.b.call(this,W,oe,fe)},trigger:function(W,oe){return(oe=a.c.isObject(oe)?Object(a.g)({},oe):{}).type=W,h.a.debug?N.e.call(this,W,oe):N.f.call(this,W,oe)},getPlugin:function(W){return this.plugins[W]},addPlugin:function(W,oe){this.plugins[W]=oe,this.on("ready",oe.addToPlayer),oe.resize&&this.on("resize",oe.resizeHandler)},registerPlugin:function(W,oe,fe){Object(E.b)(W,oe,fe)},getAdBlock:function(){return!1},playAd:function(W){},pauseAd:function(W){},skipAd:function(){}}),r.d(t,"assignLibraryProperties",function(){return pe}),r.p=Object(x.loadFrom)();var ee=function(W){var oe,fe;if(W?typeof W=="string"?(oe=Me(W))||(fe=document.getElementById(W)):typeof W=="number"?oe=w.a[W]:W.nodeType&&(oe=Me((fe=W).id||fe.getAttribute("data-jwplayer-id"))):oe=w.a[0],oe)return oe;if(fe){var Z=new Q(fe);return w.a.push(Z),Z}return{registerPlugin:E.b}};function Me(W){for(var oe=0;oe<w.a.length;oe++)if(w.a[oe].id===W)return w.a[oe];return null}function pe(W){Object.defineProperties(W,{api:{get:function(){return P},set:function(){}},version:{get:function(){return O.a},set:function(){}},debug:{get:function(){return h.a.debug},set:function(oe){h.a.debug=!!oe}}})}pe(ee),t.default=ee}]).default});var cd,Or,ud=Zt(()=>{P0();cd=location.hostname==="av.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.archive.org/jw/8",{jwplayer:Or}=window});var dd,hd,pd=Zt(()=>{Op();ld();Ka();Mp();ud();dd=class e{constructor(){if(e.avplayer="#jw6",e.resizer_listening=!1,e.unplayable_timer=null,e.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!e.is_local_storage_available())return;this.selector_play_items=yi(".js-playset-items"),this.selector_playlist=yi(".js-playset-list");let t=yi(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(yi(this.selector_play_items).append('<span id="playplayset"/>'),yi("#playplayset").html(`<a
          class="stealth"
          href="#play-items"
          data-event-click-tracking="Playset|PlayAllLink"
        >
          <span class="iconochive-play" aria-hidden="true"></span>
          <span class="sr-only">play</span>
          <span class="hidden-xs-span"> Play All</span>
          <br />
        </a>`),Go("#playplayset",e.create_playlist_goto_first_item),qo("autoplay",!0)&&!qo("playset",!0)&&setTimeout(e.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,qo("playset",!0)){if([,this.id]=location.href.match(/archive\.org\/details\/([^/&?]+)/),!this.id)return;yi("#playset-xs").length||yi("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),e.skip_unplayable_item(),e.resizer()}Gi("playset ready")}static create_playlist_goto_first_item(){Gi("create_playlist_goto_first_item()");let t=[],s=yi("#also-found").length?"#also-found .item-ia":".item-ia:visible";yi(s).each((l,o)=>{let c=yi(o),{id:n}=c.data();if(n.match(/^__/))return;let u=e.truncate(c.find(".item-ttl,.collection-title a").text(),35),p=e.truncate(c.find(".byv").text(),75),{year:g}=c.data(),m=e.truncate(c.next().find(".C234 > span:first").text(),75);t.push([n,u,p.length?p:m,g])}),e.set_playset(t),e.mobile?e.play_mobile(t):location.href=`/details/${t[0][0]}?autoplay=1&playset=1`}static play_mobile(t){let r=[];for(let s of t)r.push(s[0]);location.href=`https://archive.org/services/playset.php?ids=${r.join(",")}`}show_playlist(){let t=e.get_playset();if(!t)return;let r=!1,s="";for(let o of t.list)s+=e.playlist_item(o[0],o[1],o[2],o[3]),this.id===o[0]&&(r=!0);if(!r)return;let l=`
${e.playlist_header(t)}
<div class="playset-list">
${s}
</div>
`;yi("body").addClass("playset"),yi("body").addClass(yi("#theatre-ia-wrap").length?"":" playset-hdr-only"),yi(this.selector_playlist).prepend(`<div id="playset-ia">${l}</div>`),Go("#playset-pp .js-playset-play",e.play),Go("#playset-pp .js-playset-pause",e.pause),setTimeout(()=>{this.autoscroll_playlist()},500),yi(document).ready(()=>{yi("#texty iframe").on("load",()=>{yi("#texty iframe").contents().click(e.pause)})})}static resizer(){e.resizer_listening||(e.resizer_listening=!0,yi(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(e.resizer,250)}));let t=yi("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",r=yi("#playset-ia").parent().attr("id");Gi("browser resize: ",t," -v- ",r),t!==r&&(t==="playset-xs"?yi("#playset-ia").appendTo("#playset-xs > div"):yi("#playset-ia").prependTo(`#${t}`),Gi("playset moved"))}static playlist_header(t){let r=t.src.match(/\?/)?"&":"?",s=`${t.src}${r}autoplay=1`;return`
<div class="playset-hdr">
<div>
  <a href=${s}>Playlist</a>
  ${e.glyph("beta")}
</div>
<div id="playset-pp">
  <a href="#" class="js-playset-pause">
    ${e.glyph("Pause")}
  </a>
  <a href="#" class="js-playset-play" style="display:none">
    ${e.glyph("play")}
  </a>
</div>
<div>
  <a href=${s}>
    ${e.glyph("share")}
  </a>
</div>
</div>
`}static playlist_item(t,r,s,l){return`
<div class="playset-item" data-id=${t}>
<a href="/details/${t}?autoplay=1&playset=1">
  <div class="topinblock playset-img">
    <img src="/services/img/${t}"/>
  </div><div class="topinblock">
    ${e.item_year(l)}
    <b>
      ${r}
    </b><br/>
    ${s}
  </div>
</a>
</div>`}static item_year(t){return t?`
<div style="float:right">
(${t})
</div>`:""}autoscroll_playlist(){let t=yi(`#playset-ia div[data-id="${this.id}"`).offset();if(t){let r=yi("#playset-xs:visible").length?10:yi("#topnav").height(),s=t.top-r-yi("#playset-ia .playset-hdr").height();Gi("scrolling playset to ",s),yi("#playset-ia .playset-list").scrollTop(s)}}static skip_unplayable_item(){e.unplayable_timer=setTimeout(()=>{(typeof Or=="undefined"||!yi(e.avplayer).length)&&e.goto_next_item()},3e3)}static goto_next_item(){let t=location.href.match(/\/details\/([^/&?]+)/)[1],r=e.get_playlist(),s="";for(let l of r)t===s&&(location.href=`/details/${l[0]}?autoplay=1&playset=1`),[s]=l}static onComplete(t,r){let s=t.getPlaylistIndex(),l=t.getPlaylist().length;(s+1>=l||r&&r.done)&&e.goto_next_item()}static get_playlist(){let t=e.get_playset();return typeof t.list=="undefined"?t:t.list}static get_playset(){return JSON.parse(localStorage.getItem("playset"))}static set_playset(t){let r=new Date,s={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:r.toJSON(),createdTS:Math.round(r.getTime()/1e3),list:t};localStorage.setItem("playset",JSON.stringify(s))}static pause(){if(Gi("playset pause"),typeof Or!="undefined"&&yi(e.avplayer).length){let t=Or(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()==="PLAYING"?t.pause():t.play(),yi("#playset-pp a").toggle()),!1}return e.unplayable_timer&&(clearTimeout(e.unplayable_timer),e.unplayable_timer=null,yi("#playset-pp a").toggle()),!1}static play(){if(Gi("play/resume"),typeof Or!="undefined"&&yi(e.avplayer).length){let t=Or(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()!=="PLAYING"&&t.play(),yi("#playset-pp a").toggle()),!1}return e.unplayable_timer||(e.skip_unplayable_item(),yi("#playset-pp a").toggle()),!1}static glyph(t){return`<span class="iconochive-${t}" aria-hidden="true"></span>
           <span class="sr-only">${t}</span>`}static truncate(t,r){let s=t.trim().replace(/\s+/g," ");return s.length<=r?s:`${s.substr(0,r)}..`}static is_local_storage_available(){try{return"localStorage"in window}catch(t){return!1}}};yi(()=>new dd);hd=dd});function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}function Lp(e,t){function r(l,o,c){if(!(typeof document>"u")){c=fd({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),p=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(p,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:s,remove:function(l,o){r(l,"",fd({},o,{expires:-1}))},withAttributes:function(l){return Lp(this.converter,fd({},this.attributes,l))},withConverter:function(l){return Lp(fd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Nk,Fn,Ip=Zt(()=>{Nk={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};Fn=Lp(Nk,{path:"/"});});var jl=Zt(()=>{Ip();Ip()});var jp={};Ln(jp,{default:()=>As});var Bk,Rp,Hk,Fk,zk,Uk,Vk,Wk,Dp,qk,M0,L0,I0,Gk,$0,O0,Yk,As,Bc=Zt(()=>{Bk=Object.create,Rp=Object.defineProperty,Hk=Object.getOwnPropertyDescriptor,Fk=Object.getOwnPropertyNames,zk=Object.getPrototypeOf,Uk=Object.prototype.hasOwnProperty,Vk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wk=(e,t)=>{for(var r in t)Rp(e,r,{get:t[r],enumerable:!0})},Dp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Fk(t))!Uk.call(e,l)&&l!==r&&Rp(e,l,{get:()=>t[l],enumerable:!(s=Hk(t,l))||s.enumerable});return e},qk=(e,t,r)=>(Dp(e,t,"default"),r&&Dp(r,t,"default")),M0=(e,t,r)=>(r=e!=null?Bk(zk(e)):{},Dp(t||!e||!e.__esModule?Rp(r,"default",{value:e,enumerable:!0}):r,e)),L0=Vk((e,t)=>{(function(r,s){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?s(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}:s(r)})(typeof window<"u"?window:e,function(r,s){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,p=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,x=y.toString,w=x.call(Object),k={},S=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},P=function(f){return f!=null&&f===f.window},E=r.document,O={type:!0,src:!0,nonce:!0,noModule:!0};function a(f,b,A){A=A||E;var M,H,F=A.createElement("script");if(F.text=f,b)for(M in O)H=b[M]||b.getAttribute&&b.getAttribute(M),H&&F.setAttribute(M,H);A.head.appendChild(F).parentNode.removeChild(F)}function h(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,A){return f.call(b,A,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,A=+f+(f<0?b:0);return this.pushStack(A>=0&&A<b?[this[A]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,A,M,H,F,X=arguments[0]||{},Be=1,Pe=arguments.length,ft=!1;for(typeof X=="boolean"&&(ft=X,X=arguments[Be]||{},Be++),typeof X!="object"&&!S(X)&&(X={}),Be===Pe&&(X=this,Be--);Be<Pe;Be++)if((f=arguments[Be])!=null)for(b in f)M=f[b],!(b==="__proto__"||X===M)&&(ft&&M&&(d.isPlainObject(M)||(H=Array.isArray(M)))?(A=X[b],H&&!Array.isArray(A)?F=[]:!H&&!d.isPlainObject(A)?F={}:F=A,H=!1,X[b]=d.extend(ft,F,M)):M!==void 0&&(X[b]=M));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,A;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(A=y.call(b,"constructor")&&b.constructor,typeof A=="function"&&x.call(A)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,A){a(f,{nonce:b&&b.nonce},A)},each:function(f,b){var A,M=0;if(_(f))for(A=f.length;M<A&&b.call(f[M],M,f[M])!==!1;M++);else for(M in f)if(b.call(f[M],M,f[M])===!1)break;return f},makeArray:function(f,b){var A=b||[];return f!=null&&(_(Object(f))?d.merge(A,typeof f=="string"?[f]:f):u.call(A,f)),A},inArray:function(f,b,A){return b==null?-1:p.call(b,f,A)},merge:function(f,b){for(var A=+b.length,M=0,H=f.length;M<A;M++)f[H++]=b[M];return f.length=H,f},grep:function(f,b,A){for(var M,H=[],F=0,X=f.length,Be=!A;F<X;F++)M=!b(f[F],F),M!==Be&&H.push(f[F]);return H},map:function(f,b,A){var M,H,F=0,X=[];if(_(f))for(M=f.length;F<M;F++)H=b(f[F],F,A),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,A),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function _(f){var b=!!f&&"length"in f&&f.length,A=h(f);return S(f)||P(f)?!1:A==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,A,M,H,F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L,j,U,se,me="sizzle"+1*new Date,Ce=f.document,Rt=0,vt=0,qt=Cn(),ai=Cn(),Ei=Cn(),Ii=Cn(),Oi=function(ie,Oe){return ie===Oe&&(ei=!0),0},ar={}.hasOwnProperty,Wi=[],Ri=Wi.pop,Yi=Wi.push,Qi=Wi.push,Ki=Wi.slice,gr=function(ie,Oe){for(var at=0,Wt=ie.length;at<Wt;at++)if(ie[at]===Oe)return at;return-1},Dr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Li="[\\x20\\t\\r\\n\\f]",sr="(?:\\\\[\\da-fA-F]{1,6}"+Li+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Kr="\\["+Li+"*("+sr+")(?:"+Li+"*([*^$|!~]?=)"+Li+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+sr+"))|)"+Li+"*\\]",mr=":("+sr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Kr+")*)|.*)\\)|)",Br=new RegExp(Li+"+","g"),Lr=new RegExp("^"+Li+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Li+"+$","g"),pn=new RegExp("^"+Li+"*,"+Li+"*"),Nr=new RegExp("^"+Li+"*([>+~]|"+Li+")"+Li+"*"),Ir=new RegExp(Li+"|>"),Xr=new RegExp(mr),ge=new RegExp("^"+sr+"$"),ue={ID:new RegExp("^#("+sr+")"),CLASS:new RegExp("^\\.("+sr+")"),TAG:new RegExp("^("+sr+"|[*])"),ATTR:new RegExp("^"+Kr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Li+"*(even|odd|(([+-]|)(\\d*)n|)"+Li+"*(?:([+-]|)"+Li+"*(\\d+)|))"+Li+"*\\)|)","i"),bool:new RegExp("^(?:"+Dr+")$","i"),needsContext:new RegExp("^"+Li+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Li+"*((?:-\\d)?\\d*)"+Li+"*\\)|)(?=[^-]|$)","i")},Te=/HTML$/i,Vt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,ni=/^[^{]+\{\s*\[native \w/,vi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ui=/[+~]/,Di=new RegExp("\\\\[\\da-fA-F]{1,6}"+Li+"?|\\\\([^\\r\\n\\f])","g"),Ji=function(ie,Oe){var at="0x"+ie.slice(1)-65536;return Oe||(at<0?String.fromCharCode(at+65536):String.fromCharCode(at>>10|55296,at&1023|56320))},pr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yr=function(ie,Oe){return Oe?ie==="\0"?"\uFFFD":ie.slice(0,-1)+"\\"+ie.charCodeAt(ie.length-1).toString(16)+" ":"\\"+ie},ko=function(){$t()},_a=to(function(ie){return ie.disabled===!0&&ie.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Qi.apply(Wi=Ki.call(Ce.childNodes),Ce.childNodes),Wi[Ce.childNodes.length].nodeType}catch(ie){Qi={apply:Wi.length?function(Oe,at){Yi.apply(Oe,Ki.call(at))}:function(Oe,at){for(var Wt=Oe.length,pt=0;Oe[Wt++]=at[pt++];);Oe.length=Wt-1}}}function ur(ie,Oe,at,Wt){var pt,Yt,ii,li,mi,Bi,ji,Ni=Oe&&Oe.ownerDocument,tr=Oe?Oe.nodeType:9;if(at=at||[],typeof ie!="string"||!ie||tr!==1&&tr!==9&&tr!==11)return at;if(!Wt&&($t(Oe),Oe=Oe||ot,D)){if(tr!==11&&(mi=vi.exec(ie)))if(pt=mi[1]){if(tr===9)if(ii=Oe.getElementById(pt)){if(ii.id===pt)return at.push(ii),at}else return at;else if(Ni&&(ii=Ni.getElementById(pt))&&se(Oe,ii)&&ii.id===pt)return at.push(ii),at}else{if(mi[2])return Qi.apply(at,Oe.getElementsByTagName(ie)),at;if((pt=mi[3])&&A.getElementsByClassName&&Oe.getElementsByClassName)return Qi.apply(at,Oe.getElementsByClassName(pt)),at}if(A.qsa&&!Ii[ie+" "]&&(!L||!L.test(ie))&&(tr!==1||Oe.nodeName.toLowerCase()!=="object")){if(ji=ie,Ni=Oe,tr===1&&(Ir.test(ie)||Nr.test(ie))){for(Ni=Ui.test(ie)&&Uo(Oe.parentNode)||Oe,(Ni!==Oe||!A.scope)&&((li=Oe.getAttribute("id"))?li=li.replace(pr,yr):Oe.setAttribute("id",li=me)),Bi=X(ie),Yt=Bi.length;Yt--;)Bi[Yt]=(li?"#"+li:":scope")+" "+Vo(Bi[Yt]);ji=Bi.join(",")}try{return Qi.apply(at,Ni.querySelectorAll(ji)),at}catch(Tr){Ii(ie,!0)}finally{li===me&&Oe.removeAttribute("id")}}}return Pe(ie.replace(Lr,"$1"),Oe,at,Wt)}function Cn(){var ie=[];function Oe(at,Wt){return ie.push(at+" ")>M.cacheLength&&delete Oe[ie.shift()],Oe[at+" "]=Wt}return Oe}function dn(ie){return ie[me]=!0,ie}function fn(ie){var Oe=ot.createElement("fieldset");try{return!!ie(Oe)}catch(at){return!1}finally{Oe.parentNode&&Oe.parentNode.removeChild(Oe),Oe=null}}function Fo(ie,Oe){for(var at=ie.split("|"),Wt=at.length;Wt--;)M.attrHandle[at[Wt]]=Oe}function fo(ie,Oe){var at=Oe&&ie,Wt=at&&ie.nodeType===1&&Oe.nodeType===1&&ie.sourceIndex-Oe.sourceIndex;if(Wt)return Wt;if(at){for(;at=at.nextSibling;)if(at===Oe)return-1}return ie?1:-1}function zo(ie){return function(Oe){var at=Oe.nodeName.toLowerCase();return at==="input"&&Oe.type===ie}}function ka(ie){return function(Oe){var at=Oe.nodeName.toLowerCase();return(at==="input"||at==="button")&&Oe.type===ie}}function Aa(ie){return function(Oe){return"form"in Oe?Oe.parentNode&&Oe.disabled===!1?"label"in Oe?"label"in Oe.parentNode?Oe.parentNode.disabled===ie:Oe.disabled===ie:Oe.isDisabled===ie||Oe.isDisabled!==!ie&&_a(Oe)===ie:Oe.disabled===ie:"label"in Oe?Oe.disabled===ie:!1}}function Rn(ie){return dn(function(Oe){return Oe=+Oe,dn(function(at,Wt){for(var pt,Yt=ie([],at.length,Oe),ii=Yt.length;ii--;)at[pt=Yt[ii]]&&(at[pt]=!(Wt[pt]=at[pt]))})})}function Uo(ie){return ie&&typeof ie.getElementsByTagName<"u"&&ie}A=ur.support={},F=ur.isXML=function(ie){var Oe=ie&&ie.namespaceURI,at=ie&&(ie.ownerDocument||ie).documentElement;return!Te.test(Oe||at&&at.nodeName||"HTML")},$t=ur.setDocument=function(ie){var Oe,at,Wt=ie?ie.ownerDocument||ie:Ce;return Wt==ot||Wt.nodeType!==9||!Wt.documentElement||(ot=Wt,Pi=ot.documentElement,D=!F(ot),Ce!=ot&&(at=ot.defaultView)&&at.top!==at&&(at.addEventListener?at.addEventListener("unload",ko,!1):at.attachEvent&&at.attachEvent("onunload",ko)),A.scope=fn(function(pt){return Pi.appendChild(pt).appendChild(ot.createElement("div")),typeof pt.querySelectorAll<"u"&&!pt.querySelectorAll(":scope fieldset div").length}),A.attributes=fn(function(pt){return pt.className="i",!pt.getAttribute("className")}),A.getElementsByTagName=fn(function(pt){return pt.appendChild(ot.createComment("")),!pt.getElementsByTagName("*").length}),A.getElementsByClassName=ni.test(ot.getElementsByClassName),A.getById=fn(function(pt){return Pi.appendChild(pt).id=me,!ot.getElementsByName||!ot.getElementsByName(me).length}),A.getById?(M.filter.ID=function(pt){var Yt=pt.replace(Di,Ji);return function(ii){return ii.getAttribute("id")===Yt}},M.find.ID=function(pt,Yt){if(typeof Yt.getElementById<"u"&&D){var ii=Yt.getElementById(pt);return ii?[ii]:[]}}):(M.filter.ID=function(pt){var Yt=pt.replace(Di,Ji);return function(ii){var li=typeof ii.getAttributeNode<"u"&&ii.getAttributeNode("id");return li&&li.value===Yt}},M.find.ID=function(pt,Yt){if(typeof Yt.getElementById<"u"&&D){var ii,li,mi,Bi=Yt.getElementById(pt);if(Bi){if(ii=Bi.getAttributeNode("id"),ii&&ii.value===pt)return[Bi];for(mi=Yt.getElementsByName(pt),li=0;Bi=mi[li++];)if(ii=Bi.getAttributeNode("id"),ii&&ii.value===pt)return[Bi]}return[]}}),M.find.TAG=A.getElementsByTagName?function(pt,Yt){if(typeof Yt.getElementsByTagName<"u")return Yt.getElementsByTagName(pt);if(A.qsa)return Yt.querySelectorAll(pt)}:function(pt,Yt){var ii,li=[],mi=0,Bi=Yt.getElementsByTagName(pt);if(pt==="*"){for(;ii=Bi[mi++];)ii.nodeType===1&&li.push(ii);return li}return Bi},M.find.CLASS=A.getElementsByClassName&&function(pt,Yt){if(typeof Yt.getElementsByClassName<"u"&&D)return Yt.getElementsByClassName(pt)},j=[],L=[],(A.qsa=ni.test(ot.querySelectorAll))&&(fn(function(pt){var Yt;Pi.appendChild(pt).innerHTML="<a id='"+me+"'></a><select id='"+me+"-\r\\' msallowcapture=''><option selected=''></option></select>",pt.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+Li+`*(?:''|"")`),pt.querySelectorAll("[selected]").length||L.push("\\["+Li+"*(?:value|"+Dr+")"),pt.querySelectorAll("[id~="+me+"-]").length||L.push("~="),Yt=ot.createElement("input"),Yt.setAttribute("name",""),pt.appendChild(Yt),pt.querySelectorAll("[name='']").length||L.push("\\["+Li+"*name"+Li+"*="+Li+`*(?:''|"")`),pt.querySelectorAll(":checked").length||L.push(":checked"),pt.querySelectorAll("a#"+me+"+*").length||L.push(".#.+[+~]"),pt.querySelectorAll("\\\f"),L.push("[\\r\\n\\f]")}),fn(function(pt){pt.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Yt=ot.createElement("input");Yt.setAttribute("type","hidden"),pt.appendChild(Yt).setAttribute("name","D"),pt.querySelectorAll("[name=d]").length&&L.push("name"+Li+"*[*^$|!~]?="),pt.querySelectorAll(":enabled").length!==2&&L.push(":enabled",":disabled"),Pi.appendChild(pt).disabled=!0,pt.querySelectorAll(":disabled").length!==2&&L.push(":enabled",":disabled"),pt.querySelectorAll("*,:x"),L.push(",.*:")})),(A.matchesSelector=ni.test(U=Pi.matches||Pi.webkitMatchesSelector||Pi.mozMatchesSelector||Pi.oMatchesSelector||Pi.msMatchesSelector))&&fn(function(pt){A.disconnectedMatch=U.call(pt,"*"),U.call(pt,"[s!='']:x"),j.push("!=",mr)}),L=L.length&&new RegExp(L.join("|")),j=j.length&&new RegExp(j.join("|")),Oe=ni.test(Pi.compareDocumentPosition),se=Oe||ni.test(Pi.contains)?function(pt,Yt){var ii=pt.nodeType===9?pt.documentElement:pt,li=Yt&&Yt.parentNode;return pt===li||!!(li&&li.nodeType===1&&(ii.contains?ii.contains(li):pt.compareDocumentPosition&&pt.compareDocumentPosition(li)&16))}:function(pt,Yt){if(Yt){for(;Yt=Yt.parentNode;)if(Yt===pt)return!0}return!1},Oi=Oe?function(pt,Yt){if(pt===Yt)return ei=!0,0;var ii=!pt.compareDocumentPosition-!Yt.compareDocumentPosition;return ii||(ii=(pt.ownerDocument||pt)==(Yt.ownerDocument||Yt)?pt.compareDocumentPosition(Yt):1,ii&1||!A.sortDetached&&Yt.compareDocumentPosition(pt)===ii?pt==ot||pt.ownerDocument==Ce&&se(Ce,pt)?-1:Yt==ot||Yt.ownerDocument==Ce&&se(Ce,Yt)?1:Dt?gr(Dt,pt)-gr(Dt,Yt):0:ii&4?-1:1)}:function(pt,Yt){if(pt===Yt)return ei=!0,0;var ii,li=0,mi=pt.parentNode,Bi=Yt.parentNode,ji=[pt],Ni=[Yt];if(!mi||!Bi)return pt==ot?-1:Yt==ot?1:mi?-1:Bi?1:Dt?gr(Dt,pt)-gr(Dt,Yt):0;if(mi===Bi)return fo(pt,Yt);for(ii=pt;ii=ii.parentNode;)ji.unshift(ii);for(ii=Yt;ii=ii.parentNode;)Ni.unshift(ii);for(;ji[li]===Ni[li];)li++;return li?fo(ji[li],Ni[li]):ji[li]==Ce?-1:Ni[li]==Ce?1:0}),ot},ur.matches=function(ie,Oe){return ur(ie,null,null,Oe)},ur.matchesSelector=function(ie,Oe){if($t(ie),A.matchesSelector&&D&&!Ii[Oe+" "]&&(!j||!j.test(Oe))&&(!L||!L.test(Oe)))try{var at=U.call(ie,Oe);if(at||A.disconnectedMatch||ie.document&&ie.document.nodeType!==11)return at}catch(Wt){Ii(Oe,!0)}return ur(Oe,ot,null,[ie]).length>0},ur.contains=function(ie,Oe){return(ie.ownerDocument||ie)!=ot&&$t(ie),se(ie,Oe)},ur.attr=function(ie,Oe){(ie.ownerDocument||ie)!=ot&&$t(ie);var at=M.attrHandle[Oe.toLowerCase()],Wt=at&&ar.call(M.attrHandle,Oe.toLowerCase())?at(ie,Oe,!D):void 0;return Wt!==void 0?Wt:A.attributes||!D?ie.getAttribute(Oe):(Wt=ie.getAttributeNode(Oe))&&Wt.specified?Wt.value:null},ur.escape=function(ie){return(ie+"").replace(pr,yr)},ur.error=function(ie){throw new Error("Syntax error, unrecognized expression: "+ie)},ur.uniqueSort=function(ie){var Oe,at=[],Wt=0,pt=0;if(ei=!A.detectDuplicates,Dt=!A.sortStable&&ie.slice(0),ie.sort(Oi),ei){for(;Oe=ie[pt++];)Oe===ie[pt]&&(Wt=at.push(pt));for(;Wt--;)ie.splice(at[Wt],1)}return Dt=null,ie},H=ur.getText=function(ie){var Oe,at="",Wt=0,pt=ie.nodeType;if(pt){if(pt===1||pt===9||pt===11){if(typeof ie.textContent=="string")return ie.textContent;for(ie=ie.firstChild;ie;ie=ie.nextSibling)at+=H(ie)}else if(pt===3||pt===4)return ie.nodeValue}else for(;Oe=ie[Wt++];)at+=H(Oe);return at},M=ur.selectors={cacheLength:50,createPseudo:dn,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ie){return ie[1]=ie[1].replace(Di,Ji),ie[3]=(ie[3]||ie[4]||ie[5]||"").replace(Di,Ji),ie[2]==="~="&&(ie[3]=" "+ie[3]+" "),ie.slice(0,4)},CHILD:function(ie){return ie[1]=ie[1].toLowerCase(),ie[1].slice(0,3)==="nth"?(ie[3]||ur.error(ie[0]),ie[4]=+(ie[4]?ie[5]+(ie[6]||1):2*(ie[3]==="even"||ie[3]==="odd")),ie[5]=+(ie[7]+ie[8]||ie[3]==="odd")):ie[3]&&ur.error(ie[0]),ie},PSEUDO:function(ie){var Oe,at=!ie[6]&&ie[2];return ue.CHILD.test(ie[0])?null:(ie[3]?ie[2]=ie[4]||ie[5]||"":at&&Xr.test(at)&&(Oe=X(at,!0))&&(Oe=at.indexOf(")",at.length-Oe)-at.length)&&(ie[0]=ie[0].slice(0,Oe),ie[2]=at.slice(0,Oe)),ie.slice(0,3))}},filter:{TAG:function(ie){var Oe=ie.replace(Di,Ji).toLowerCase();return ie==="*"?function(){return!0}:function(at){return at.nodeName&&at.nodeName.toLowerCase()===Oe}},CLASS:function(ie){var Oe=qt[ie+" "];return Oe||(Oe=new RegExp("(^|"+Li+")"+ie+"("+Li+"|$)"))&&qt(ie,function(at){return Oe.test(typeof at.className=="string"&&at.className||typeof at.getAttribute<"u"&&at.getAttribute("class")||"")})},ATTR:function(ie,Oe,at){return function(Wt){var pt=ur.attr(Wt,ie);return pt==null?Oe==="!=":Oe?(pt+="",Oe==="="?pt===at:Oe==="!="?pt!==at:Oe==="^="?at&&pt.indexOf(at)===0:Oe==="*="?at&&pt.indexOf(at)>-1:Oe==="$="?at&&pt.slice(-at.length)===at:Oe==="~="?(" "+pt.replace(Br," ")+" ").indexOf(at)>-1:Oe==="|="?pt===at||pt.slice(0,at.length+1)===at+"-":!1):!0}},CHILD:function(ie,Oe,at,Wt,pt){var Yt=ie.slice(0,3)!=="nth",ii=ie.slice(-4)!=="last",li=Oe==="of-type";return Wt===1&&pt===0?function(mi){return!!mi.parentNode}:function(mi,Bi,ji){var Ni,tr,Tr,Hi,qr,en,rn=Yt!==ii?"nextSibling":"previousSibling",Mr=mi.parentNode,So=li&&mi.nodeName.toLowerCase(),jn=!ji&&!li,hn=!1;if(Mr){if(Yt){for(;rn;){for(Hi=mi;Hi=Hi[rn];)if(li?Hi.nodeName.toLowerCase()===So:Hi.nodeType===1)return!1;en=rn=ie==="only"&&!en&&"nextSibling"}return!0}if(en=[ii?Mr.firstChild:Mr.lastChild],ii&&jn){for(Hi=Mr,Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),Ni=tr[ie]||[],qr=Ni[0]===Rt&&Ni[1],hn=qr&&Ni[2],Hi=qr&&Mr.childNodes[qr];Hi=++qr&&Hi&&Hi[rn]||(hn=qr=0)||en.pop();)if(Hi.nodeType===1&&++hn&&Hi===mi){tr[ie]=[Rt,qr,hn];break}}else if(jn&&(Hi=mi,Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),Ni=tr[ie]||[],qr=Ni[0]===Rt&&Ni[1],hn=qr),hn===!1)for(;(Hi=++qr&&Hi&&Hi[rn]||(hn=qr=0)||en.pop())&&!((li?Hi.nodeName.toLowerCase()===So:Hi.nodeType===1)&&++hn&&(jn&&(Tr=Hi[me]||(Hi[me]={}),tr=Tr[Hi.uniqueID]||(Tr[Hi.uniqueID]={}),tr[ie]=[Rt,hn]),Hi===mi)););return hn-=pt,hn===Wt||hn%Wt===0&&hn/Wt>=0}}},PSEUDO:function(ie,Oe){var at,Wt=M.pseudos[ie]||M.setFilters[ie.toLowerCase()]||ur.error("unsupported pseudo: "+ie);return Wt[me]?Wt(Oe):Wt.length>1?(at=[ie,ie,"",Oe],M.setFilters.hasOwnProperty(ie.toLowerCase())?dn(function(pt,Yt){for(var ii,li=Wt(pt,Oe),mi=li.length;mi--;)ii=gr(pt,li[mi]),pt[ii]=!(Yt[ii]=li[mi])}):function(pt){return Wt(pt,0,at)}):Wt}},pseudos:{not:dn(function(ie){var Oe=[],at=[],Wt=Be(ie.replace(Lr,"$1"));return Wt[me]?dn(function(pt,Yt,ii,li){for(var mi,Bi=Wt(pt,null,li,[]),ji=pt.length;ji--;)(mi=Bi[ji])&&(pt[ji]=!(Yt[ji]=mi))}):function(pt,Yt,ii){return Oe[0]=pt,Wt(Oe,null,ii,at),Oe[0]=null,!at.pop()}}),has:dn(function(ie){return function(Oe){return ur(ie,Oe).length>0}}),contains:dn(function(ie){return ie=ie.replace(Di,Ji),function(Oe){return(Oe.textContent||H(Oe)).indexOf(ie)>-1}}),lang:dn(function(ie){return ge.test(ie||"")||ur.error("unsupported lang: "+ie),ie=ie.replace(Di,Ji).toLowerCase(),function(Oe){var at;do if(at=D?Oe.lang:Oe.getAttribute("xml:lang")||Oe.getAttribute("lang"))return at=at.toLowerCase(),at===ie||at.indexOf(ie+"-")===0;while((Oe=Oe.parentNode)&&Oe.nodeType===1);return!1}}),target:function(ie){var Oe=f.location&&f.location.hash;return Oe&&Oe.slice(1)===ie.id},root:function(ie){return ie===Pi},focus:function(ie){return ie===ot.activeElement&&(!ot.hasFocus||ot.hasFocus())&&!!(ie.type||ie.href||~ie.tabIndex)},enabled:Aa(!1),disabled:Aa(!0),checked:function(ie){var Oe=ie.nodeName.toLowerCase();return Oe==="input"&&!!ie.checked||Oe==="option"&&!!ie.selected},selected:function(ie){return ie.parentNode&&ie.parentNode.selectedIndex,ie.selected===!0},empty:function(ie){for(ie=ie.firstChild;ie;ie=ie.nextSibling)if(ie.nodeType<6)return!1;return!0},parent:function(ie){return!M.pseudos.empty(ie)},header:function(ie){return bt.test(ie.nodeName)},input:function(ie){return Vt.test(ie.nodeName)},button:function(ie){var Oe=ie.nodeName.toLowerCase();return Oe==="input"&&ie.type==="button"||Oe==="button"},text:function(ie){var Oe;return ie.nodeName.toLowerCase()==="input"&&ie.type==="text"&&((Oe=ie.getAttribute("type"))==null||Oe.toLowerCase()==="text")},first:Rn(function(){return[0]}),last:Rn(function(ie,Oe){return[Oe-1]}),eq:Rn(function(ie,Oe,at){return[at<0?at+Oe:at]}),even:Rn(function(ie,Oe){for(var at=0;at<Oe;at+=2)ie.push(at);return ie}),odd:Rn(function(ie,Oe){for(var at=1;at<Oe;at+=2)ie.push(at);return ie}),lt:Rn(function(ie,Oe,at){for(var Wt=at<0?at+Oe:at>Oe?Oe:at;--Wt>=0;)ie.push(Wt);return ie}),gt:Rn(function(ie,Oe,at){for(var Wt=at<0?at+Oe:at;++Wt<Oe;)ie.push(Wt);return ie})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=zo(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=ka(b);function Sa(){}Sa.prototype=M.filters=M.pseudos,M.setFilters=new Sa,X=ur.tokenize=function(ie,Oe){var at,Wt,pt,Yt,ii,li,mi,Bi=ai[ie+" "];if(Bi)return Oe?0:Bi.slice(0);for(ii=ie,li=[],mi=M.preFilter;ii;){(!at||(Wt=pn.exec(ii)))&&(Wt&&(ii=ii.slice(Wt[0].length)||ii),li.push(pt=[])),at=!1,(Wt=Nr.exec(ii))&&(at=Wt.shift(),pt.push({value:at,type:Wt[0].replace(Lr," ")}),ii=ii.slice(at.length));for(Yt in M.filter)(Wt=ue[Yt].exec(ii))&&(!mi[Yt]||(Wt=mi[Yt](Wt)))&&(at=Wt.shift(),pt.push({value:at,type:Yt,matches:Wt}),ii=ii.slice(at.length));if(!at)break}return Oe?ii.length:ii?ur.error(ie):ai(ie,li).slice(0)};function Vo(ie){for(var Oe=0,at=ie.length,Wt="";Oe<at;Oe++)Wt+=ie[Oe].value;return Wt}function to(ie,Oe,at){var Wt=Oe.dir,pt=Oe.next,Yt=pt||Wt,ii=at&&Yt==="parentNode",li=vt++;return Oe.first?function(mi,Bi,ji){for(;mi=mi[Wt];)if(mi.nodeType===1||ii)return ie(mi,Bi,ji);return!1}:function(mi,Bi,ji){var Ni,tr,Tr,Hi=[Rt,li];if(ji){for(;mi=mi[Wt];)if((mi.nodeType===1||ii)&&ie(mi,Bi,ji))return!0}else for(;mi=mi[Wt];)if(mi.nodeType===1||ii)if(Tr=mi[me]||(mi[me]={}),tr=Tr[mi.uniqueID]||(Tr[mi.uniqueID]={}),pt&&pt===mi.nodeName.toLowerCase())mi=mi[Wt]||mi;else{if((Ni=tr[Yt])&&Ni[0]===Rt&&Ni[1]===li)return Hi[2]=Ni[2];if(tr[Yt]=Hi,Hi[2]=ie(mi,Bi,ji))return!0}return!1}}function aa(ie){return ie.length>1?function(Oe,at,Wt){for(var pt=ie.length;pt--;)if(!ie[pt](Oe,at,Wt))return!1;return!0}:ie[0]}function Tc(ie,Oe,at){for(var Wt=0,pt=Oe.length;Wt<pt;Wt++)ur(ie,Oe[Wt],at);return at}function Ao(ie,Oe,at,Wt,pt){for(var Yt,ii=[],li=0,mi=ie.length,Bi=Oe!=null;li<mi;li++)(Yt=ie[li])&&(!at||at(Yt,Wt,pt))&&(ii.push(Yt),Bi&&Oe.push(li));return ii}function In(ie,Oe,at,Wt,pt,Yt){return Wt&&!Wt[me]&&(Wt=In(Wt)),pt&&!pt[me]&&(pt=In(pt,Yt)),dn(function(ii,li,mi,Bi){var ji,Ni,tr,Tr=[],Hi=[],qr=li.length,en=ii||Tc(Oe||"*",mi.nodeType?[mi]:mi,[]),rn=ie&&(ii||!Oe)?Ao(en,Tr,ie,mi,Bi):en,Mr=at?pt||(ii?ie:qr||Wt)?[]:li:rn;if(at&&at(rn,Mr,mi,Bi),Wt)for(ji=Ao(Mr,Hi),Wt(ji,[],mi,Bi),Ni=ji.length;Ni--;)(tr=ji[Ni])&&(Mr[Hi[Ni]]=!(rn[Hi[Ni]]=tr));if(ii){if(pt||ie){if(pt){for(ji=[],Ni=Mr.length;Ni--;)(tr=Mr[Ni])&&ji.push(rn[Ni]=tr);pt(null,Mr=[],ji,Bi)}for(Ni=Mr.length;Ni--;)(tr=Mr[Ni])&&(ji=pt?gr(ii,tr):Tr[Ni])>-1&&(ii[ji]=!(li[ji]=tr))}}else Mr=Ao(Mr===li?Mr.splice(qr,Mr.length):Mr),pt?pt(null,li,Mr,Bi):Qi.apply(li,Mr)})}function Wo(ie){for(var Oe,at,Wt,pt=ie.length,Yt=M.relative[ie[0].type],ii=Yt||M.relative[" "],li=Yt?1:0,mi=to(function(Ni){return Ni===Oe},ii,!0),Bi=to(function(Ni){return gr(Oe,Ni)>-1},ii,!0),ji=[function(Ni,tr,Tr){var Hi=!Yt&&(Tr||tr!==ft)||((Oe=tr).nodeType?mi(Ni,tr,Tr):Bi(Ni,tr,Tr));return Oe=null,Hi}];li<pt;li++)if(at=M.relative[ie[li].type])ji=[to(aa(ji),at)];else{if(at=M.filter[ie[li].type].apply(null,ie[li].matches),at[me]){for(Wt=++li;Wt<pt&&!M.relative[ie[Wt].type];Wt++);return In(li>1&&aa(ji),li>1&&Vo(ie.slice(0,li-1).concat({value:ie[li-2].type===" "?"*":""})).replace(Lr,"$1"),at,li<Wt&&Wo(ie.slice(li,Wt)),Wt<pt&&Wo(ie=ie.slice(Wt)),Wt<pt&&Vo(ie))}ji.push(at)}return aa(ji)}function Tl(ie,Oe){var at=Oe.length>0,Wt=ie.length>0,pt=function(Yt,ii,li,mi,Bi){var ji,Ni,tr,Tr=0,Hi="0",qr=Yt&&[],en=[],rn=ft,Mr=Yt||Wt&&M.find.TAG("*",Bi),So=Rt+=rn==null?1:Math.random()||.1,jn=Mr.length;for(Bi&&(ft=ii==ot||ii||Bi);Hi!==jn&&(ji=Mr[Hi])!=null;Hi++){if(Wt&&ji){for(Ni=0,!ii&&ji.ownerDocument!=ot&&($t(ji),li=!D);tr=ie[Ni++];)if(tr(ji,ii||ot,li)){mi.push(ji);break}Bi&&(Rt=So)}at&&((ji=!tr&&ji)&&Tr--,Yt&&qr.push(ji))}if(Tr+=Hi,at&&Hi!==Tr){for(Ni=0;tr=Oe[Ni++];)tr(qr,en,ii,li);if(Yt){if(Tr>0)for(;Hi--;)qr[Hi]||en[Hi]||(en[Hi]=Ri.call(mi));en=Ao(en)}Qi.apply(mi,en),Bi&&!Yt&&en.length>0&&Tr+Oe.length>1&&ur.uniqueSort(mi)}return Bi&&(Rt=So,ft=rn),qr};return at?dn(pt):pt}return Be=ur.compile=function(ie,Oe){var at,Wt=[],pt=[],Yt=Ei[ie+" "];if(!Yt){for(Oe||(Oe=X(ie)),at=Oe.length;at--;)Yt=Wo(Oe[at]),Yt[me]?Wt.push(Yt):pt.push(Yt);Yt=Ei(ie,Tl(pt,Wt)),Yt.selector=ie}return Yt},Pe=ur.select=function(ie,Oe,at,Wt){var pt,Yt,ii,li,mi,Bi=typeof ie=="function"&&ie,ji=!Wt&&X(ie=Bi.selector||ie);if(at=at||[],ji.length===1){if(Yt=ji[0]=ji[0].slice(0),Yt.length>2&&(ii=Yt[0]).type==="ID"&&Oe.nodeType===9&&D&&M.relative[Yt[1].type]){if(Oe=(M.find.ID(ii.matches[0].replace(Di,Ji),Oe)||[])[0],Oe)Bi&&(Oe=Oe.parentNode);else return at;ie=ie.slice(Yt.shift().value.length)}for(pt=ue.needsContext.test(ie)?0:Yt.length;pt--&&(ii=Yt[pt],!M.relative[li=ii.type]);)if((mi=M.find[li])&&(Wt=mi(ii.matches[0].replace(Di,Ji),Ui.test(Yt[0].type)&&Uo(Oe.parentNode)||Oe))){if(Yt.splice(pt,1),ie=Wt.length&&Vo(Yt),!ie)return Qi.apply(at,Wt),at;break}}return(Bi||Be(ie,ji))(Wt,Oe,!D,at,!Oe||Ui.test(ie)&&Uo(Oe.parentNode)||Oe),at},A.sortStable=me.split("").sort(Oi).join("")===me,A.detectDuplicates=!!ei,$t(),A.sortDetached=fn(function(ie){return ie.compareDocumentPosition(ot.createElement("fieldset"))&1}),fn(function(ie){return ie.innerHTML="<a href='#'></a>",ie.firstChild.getAttribute("href")==="#"})||Fo("type|href|height|width",function(ie,Oe,at){if(!at)return ie.getAttribute(Oe,Oe.toLowerCase()==="type"?1:2)}),(!A.attributes||!fn(function(ie){return ie.innerHTML="<input/>",ie.firstChild.setAttribute("value",""),ie.firstChild.getAttribute("value")===""}))&&Fo("value",function(ie,Oe,at){if(!at&&ie.nodeName.toLowerCase()==="input")return ie.defaultValue}),fn(function(ie){return ie.getAttribute("disabled")==null})||Fo(Dr,function(ie,Oe,at){var Wt;if(!at)return ie[Oe]===!0?Oe.toLowerCase():(Wt=ie.getAttributeNode(Oe))&&Wt.specified?Wt.value:null}),ur}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,A){for(var M=[],H=A!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(A))break;M.push(f)}return M},G=function(f,b){for(var A=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&A.push(f);return A},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Q(f,b,A){return S(b)?d.grep(f,function(M,H){return!!b.call(M,H,M)!==A}):b.nodeType?d.grep(f,function(M){return M===b!==A}):typeof b!="string"?d.grep(f,function(M){return p.call(b,M)>-1!==A}):d.filter(b,f,A)}d.filter=function(f,b,A){var M=b[0];return A&&(f=":not("+f+")"),b.length===1&&M.nodeType===1?d.find.matchesSelector(M,f)?[M]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,A,M=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<M;b++)if(d.contains(H[b],this))return!0}));for(A=this.pushStack([]),b=0;b<M;b++)d.find(f,H[b],A);return M>1?d.uniqueSort(A):A},filter:function(f){return this.pushStack(Q(this,f||[],!1))},not:function(f){return this.pushStack(Q(this,f||[],!0))},is:function(f){return!!Q(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var ee,Me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,pe=d.fn.init=function(f,b,A){var M,H;if(!f)return this;if(A=A||ee,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?M=[null,f,null]:M=Me.exec(f),M&&(M[1]||!b))if(M[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(M[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),ne.test(M[1])&&d.isPlainObject(b))for(M in b)S(this[M])?this[M](b[M]):this.attr(M,b[M]);return this}else return H=E.getElementById(M[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||A).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(S(f))return A.ready!==void 0?A.ready(f):f(d)}return d.makeArray(f,this)};pe.prototype=d.fn,ee=d(E);var W=/^(?:parents|prev(?:Until|All))/,oe={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),A=b.length;return this.filter(function(){for(var M=0;M<A;M++)if(d.contains(this,b[M]))return!0})},closest:function(f,b){var A,M=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;M<H;M++)for(A=this[M];A&&A!==b;A=A.parentNode)if(A.nodeType<11&&(X?X.index(A)>-1:A.nodeType===1&&d.find.matchesSelector(A,f))){F.push(A);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?p.call(d(f),this[0]):p.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function fe(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,A){return N(f,"parentNode",A)},next:function(f){return fe(f,"nextSibling")},prev:function(f){return fe(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,A){return N(f,"nextSibling",A)},prevUntil:function(f,b,A){return N(f,"previousSibling",A)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(A,M){var H=d.map(this,b,A);return f.slice(-5)!=="Until"&&(M=A),M&&typeof M=="string"&&(H=d.filter(M,H)),this.length>1&&(oe[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function xe(f){var b={};return d.each(f.match(Z)||[],function(A,M){b[M]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?xe(f):d.extend({},f);var b,A,M,H,F=[],X=[],Be=-1,Pe=function(){for(H=H||f.once,M=b=!0;X.length;Be=-1)for(A=X.shift();++Be<F.length;)F[Be].apply(A[0],A[1])===!1&&f.stopOnFalse&&(Be=F.length,A=!1);f.memory||(A=!1),b=!1,H&&(A?F=[]:F="")},ft={add:function(){return F&&(A&&!b&&(Be=F.length-1,X.push(A)),function Dt(ei){d.each(ei,function($t,ot){S(ot)?(!f.unique||!ft.has(ot))&&F.push(ot):ot&&ot.length&&h(ot)!=="string"&&Dt(ot)})}(arguments),A&&!b&&Pe()),this},remove:function(){return d.each(arguments,function(Dt,ei){for(var $t;($t=d.inArray(ei,F,$t))>-1;)F.splice($t,1),$t<=Be&&Be--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=A="",this},disabled:function(){return!F},lock:function(){return H=X=[],!A&&!b&&(F=A=""),this},locked:function(){return!!H},fireWith:function(Dt,ei){return H||(ei=ei||[],ei=[Dt,ei.slice?ei.slice():ei],X.push(ei),b||Pe()),this},fire:function(){return ft.fireWith(this,arguments),this},fired:function(){return!!M}};return ft};function Y(f){return f}function he(f){throw f}function Ke(f,b,A,M){var H;try{f&&S(H=f.promise)?H.call(f).done(b).fail(A):f&&S(H=f.then)?H.call(f,b,A):b.apply(void 0,[f].slice(M))}catch(F){A.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],A="pending",M={state:function(){return A},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return M.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(Be,Pe){var ft=S(F[Pe[4]])&&F[Pe[4]];H[Pe[1]](function(){var Dt=ft&&ft.apply(this,arguments);Dt&&S(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Pe[0]+"With"](this,ft?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,Be){var Pe=0;function ft(Dt,ei,$t,ot){return function(){var Pi=this,D=arguments,L=function(){var U,se;if(!(Dt<Pe)){if(U=$t.apply(Pi,D),U===ei.promise())throw new TypeError("Thenable self-resolution");se=U&&(typeof U=="object"||typeof U=="function")&&U.then,S(se)?ot?se.call(U,ft(Pe,ei,Y,ot),ft(Pe,ei,he,ot)):(Pe++,se.call(U,ft(Pe,ei,Y,ot),ft(Pe,ei,he,ot),ft(Pe,ei,Y,ei.notifyWith))):($t!==Y&&(Pi=void 0,D=[U]),(ot||ei.resolveWith)(Pi,D))}},j=ot?L:function(){try{L()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Pe&&($t!==he&&(Pi=void 0,D=[U]),ei.rejectWith(Pi,D))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(ft(0,Dt,S(Be)?Be:Y,Dt.notifyWith)),b[1][3].add(ft(0,Dt,S(F)?F:Y)),b[2][3].add(ft(0,Dt,S(X)?X:he))}).promise()},promise:function(F){return F!=null?d.extend(F,M):M}},H={};return d.each(b,function(F,X){var Be=X[2],Pe=X[5];M[X[1]]=Be.add,Pe&&Be.add(function(){A=Pe},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),Be.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=Be.fireWith}),M.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,A=b,M=Array(A),H=c.call(arguments),F=d.Deferred(),X=function(Be){return function(Pe){M[Be]=this,H[Be]=arguments.length>1?c.call(arguments):Pe,--b||F.resolveWith(M,H)}};if(b<=1&&(Ke(f,F.done(X(A)).resolve,F.reject,!b),F.state()==="pending"||S(H[A]&&H[A].then)))return F.then();for(;A--;)Ke(H[A],X(A),F.reject);return F.promise()}});var ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ht.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var lt=d.Deferred();d.fn.ready=function(f){return lt.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&lt.resolveWith(E,[d]))}}),d.ready.then=lt.then;function We(){E.removeEventListener("DOMContentLoaded",We),r.removeEventListener("load",We),d.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?r.setTimeout(d.ready):(E.addEventListener("DOMContentLoaded",We),r.addEventListener("load",We));var Se=function(f,b,A,M,H,F,X){var Be=0,Pe=f.length,ft=A==null;if(h(A)==="object"){H=!0;for(Be in A)Se(f,b,Be,A[Be],!0,F,X)}else if(M!==void 0&&(H=!0,S(M)||(X=!0),ft&&(X?(b.call(f,M),b=null):(ft=b,b=function(Dt,ei,$t){return ft.call(d(Dt),$t)})),b))for(;Be<Pe;Be++)b(f[Be],A,X?M:M.call(f[Be],Be,b(f[Be],A)));return H?f:ft?b.call(f):Pe?b(f[0],A):F},Le=/^-ms-/,je=/-([a-z])/g;function Ne(f,b){return b.toUpperCase()}function Ge(f){return f.replace(Le,"ms-").replace(je,Ne)}var it=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function Re(){this.expando=d.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(f){var b=f[this.expando];return b||(b={},it(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,A){var M,H=this.cache(f);if(typeof b=="string")H[Ge(b)]=A;else for(M in b)H[Ge(M)]=b[M];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][Ge(b)]},access:function(f,b,A){return b===void 0||b&&typeof b=="string"&&A===void 0?this.get(f,b):(this.set(f,b,A),A!==void 0?A:b)},remove:function(f,b){var A,M=f[this.expando];if(M!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(Ge):(b=Ge(b),b=b in M?[b]:b.match(Z)||[]),A=b.length;A--;)delete M[b[A]];(b===void 0||d.isEmptyObject(M))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var te=new Re,J=new Re,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/[A-Z]/g;function be(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:qe.test(f)?JSON.parse(f):f}function $e(f,b,A){var M;if(A===void 0&&f.nodeType===1)if(M="data-"+b.replace(_t,"-$&").toLowerCase(),A=f.getAttribute(M),typeof A=="string"){try{A=be(A)}catch(H){}J.set(f,b,A)}else A=void 0;return A}d.extend({hasData:function(f){return J.hasData(f)||te.hasData(f)},data:function(f,b,A){return J.access(f,b,A)},removeData:function(f,b){J.remove(f,b)},_data:function(f,b,A){return te.access(f,b,A)},_removeData:function(f,b){te.remove(f,b)}}),d.fn.extend({data:function(f,b){var A,M,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=J.get(F),F.nodeType===1&&!te.get(F,"hasDataAttrs"))){for(A=X.length;A--;)X[A]&&(M=X[A].name,M.indexOf("data-")===0&&(M=Ge(M.slice(5)),$e(F,M,H[M])));te.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){J.set(this,f)}):Se(this,function(Be){var Pe;if(F&&Be===void 0)return Pe=J.get(F,f),Pe!==void 0||(Pe=$e(F,f),Pe!==void 0)?Pe:void 0;this.each(function(){J.set(this,f,Be)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){J.remove(this,f)})}}),d.extend({queue:function(f,b,A){var M;if(f)return b=(b||"fx")+"queue",M=te.get(f,b),A&&(!M||Array.isArray(A)?M=te.access(f,b,d.makeArray(A)):M.push(A)),M||[]},dequeue:function(f,b){b=b||"fx";var A=d.queue(f,b),M=A.length,H=A.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=A.shift(),M--),H&&(b==="fx"&&A.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!M&&F&&F.empty.fire()},_queueHooks:function(f,b){var A=b+"queueHooks";return te.get(f,A)||te.access(f,A,{empty:d.Callbacks("once memory").add(function(){te.remove(f,[b+"queue",A])})})}}),d.fn.extend({queue:function(f,b){var A=2;return typeof f!="string"&&(b=f,f="fx",A--),arguments.length<A?d.queue(this[0],f):b===void 0?this:this.each(function(){var M=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&M[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var A,M=1,H=d.Deferred(),F=this,X=this.length,Be=function(){--M||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)A=te.get(F[X],f+"queueHooks"),A&&A.empty&&(M++,A.empty.add(Be));return Be(),H.promise(b)}});var st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],nt=E.documentElement,Ut=function(f){return d.contains(f.ownerDocument,f)},ut={composed:!0};nt.getRootNode&&(Ut=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(ut)===f.ownerDocument});var mt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Ut(f)&&d.css(f,"display")==="none"};function Mt(f,b,A,M){var H,F,X=20,Be=M?function(){return M.cur()}:function(){return d.css(f,b,"")},Pe=Be(),ft=A&&A[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||ft!=="px"&&+Pe)&&Ee.exec(d.css(f,b));if(Dt&&Dt[3]!==ft){for(Pe=Pe/2,ft=ft||Dt[3],Dt=+Pe||1;X--;)d.style(f,b,Dt+ft),(1-F)*(1-(F=Be()/Pe||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+ft),A=A||[]}return A&&(Dt=+Dt||+Pe||0,H=A[1]?Dt+(A[1]+1)*A[2]:+A[2],M&&(M.unit=ft,M.start=Dt,M.end=H)),H}var ti={};function oi(f){var b,A=f.ownerDocument,M=f.nodeName,H=ti[M];return H||(b=A.body.appendChild(A.createElement(M)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ti[M]=H,H)}function ci(f,b){for(var A,M,H=[],F=0,X=f.length;F<X;F++)M=f[F],M.style&&(A=M.style.display,b?(A==="none"&&(H[F]=te.get(M,"display")||null,H[F]||(M.style.display="")),M.style.display===""&&mt(M)&&(H[F]=oi(M))):A!=="none"&&(H[F]="none",te.set(M,"display",A)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ci(this,!0)},hide:function(){return ci(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){mt(this)?d(this).show():d(this).hide()})}});var Lt=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ct=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=E.createDocumentFragment(),b=f.appendChild(E.createElement("div")),A=E.createElement("input");A.setAttribute("type","radio"),A.setAttribute("checked","checked"),A.setAttribute("name","t"),b.appendChild(A),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var St={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,k.option||(St.optgroup=St.option=[1,"<select multiple='multiple'>","</select>"]);function kt(f,b){var A;return typeof f.getElementsByTagName<"u"?A=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?A=f.querySelectorAll(b||"*"):A=[],b===void 0||b&&K(f,b)?d.merge([f],A):A}function I(f,b){for(var A=0,M=f.length;A<M;A++)te.set(f[A],"globalEval",!b||te.get(b[A],"globalEval"))}var Ve=/<|&#?\w+;/;function ke(f,b,A,M,H){for(var F,X,Be,Pe,ft,Dt,ei=b.createDocumentFragment(),$t=[],ot=0,Pi=f.length;ot<Pi;ot++)if(F=f[ot],F||F===0)if(h(F)==="object")d.merge($t,F.nodeType?[F]:F);else if(!Ve.test(F))$t.push(b.createTextNode(F));else{for(X=X||ei.appendChild(b.createElement("div")),Be=(It.exec(F)||["",""])[1].toLowerCase(),Pe=St[Be]||St._default,X.innerHTML=Pe[1]+d.htmlPrefilter(F)+Pe[2],Dt=Pe[0];Dt--;)X=X.lastChild;d.merge($t,X.childNodes),X=ei.firstChild,X.textContent=""}for(ei.textContent="",ot=0;F=$t[ot++];){if(M&&d.inArray(F,M)>-1){H&&H.push(F);continue}if(ft=Ut(F),X=kt(ei.appendChild(F),"script"),ft&&I(X),A)for(Dt=0;F=X[Dt++];)Ct.test(F.type||"")&&A.push(F)}return ei}var Ye=/^([^.]*)(?:\.(.+)|)/;function Ze(){return!0}function dt(){return!1}function ae(f,b){return f===Ie()==(b==="focus")}function Ie(){try{return E.activeElement}catch(f){}}function Ue(f,b,A,M,H,F){var X,Be;if(typeof b=="object"){typeof A!="string"&&(M=M||A,A=void 0);for(Be in b)Ue(f,Be,A,M,b[Be],F);return f}if(M==null&&H==null?(H=A,M=A=void 0):H==null&&(typeof A=="string"?(H=M,M=void 0):(H=M,M=A,A=void 0)),H===!1)H=dt;else if(!H)return f;return F===1&&(X=H,H=function(Pe){return d().off(Pe),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,M,A)})}d.event={global:{},add:function(f,b,A,M,H){var F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L=te.get(f);if(it(f))for(A.handler&&(F=A,A=F.handler,H=F.selector),H&&d.find.matchesSelector(nt,H),A.guid||(A.guid=d.guid++),(Pe=L.events)||(Pe=L.events=Object.create(null)),(X=L.handle)||(X=L.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],ft=b.length;ft--;)Be=Ye.exec(b[ft])||[],ot=D=Be[1],Pi=(Be[2]||"").split(".").sort(),ot&&(ei=d.event.special[ot]||{},ot=(H?ei.delegateType:ei.bindType)||ot,ei=d.event.special[ot]||{},Dt=d.extend({type:ot,origType:D,data:M,handler:A,guid:A.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:Pi.join(".")},F),($t=Pe[ot])||($t=Pe[ot]=[],$t.delegateCount=0,(!ei.setup||ei.setup.call(f,M,Pi,X)===!1)&&f.addEventListener&&f.addEventListener(ot,X)),ei.add&&(ei.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=A.guid)),H?$t.splice($t.delegateCount++,0,Dt):$t.push(Dt),d.event.global[ot]=!0)},remove:function(f,b,A,M,H){var F,X,Be,Pe,ft,Dt,ei,$t,ot,Pi,D,L=te.hasData(f)&&te.get(f);if(!(!L||!(Pe=L.events))){for(b=(b||"").match(Z)||[""],ft=b.length;ft--;){if(Be=Ye.exec(b[ft])||[],ot=D=Be[1],Pi=(Be[2]||"").split(".").sort(),!ot){for(ot in Pe)d.event.remove(f,ot+b[ft],A,M,!0);continue}for(ei=d.event.special[ot]||{},ot=(M?ei.delegateType:ei.bindType)||ot,$t=Pe[ot]||[],Be=Be[2]&&new RegExp("(^|\\.)"+Pi.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=$t.length;F--;)Dt=$t[F],(H||D===Dt.origType)&&(!A||A.guid===Dt.guid)&&(!Be||Be.test(Dt.namespace))&&(!M||M===Dt.selector||M==="**"&&Dt.selector)&&($t.splice(F,1),Dt.selector&&$t.delegateCount--,ei.remove&&ei.remove.call(f,Dt));X&&!$t.length&&((!ei.teardown||ei.teardown.call(f,Pi,L.handle)===!1)&&d.removeEvent(f,ot,L.handle),delete Pe[ot])}d.isEmptyObject(Pe)&&te.remove(f,"handle events")}},dispatch:function(f){var b,A,M,H,F,X,Be=new Array(arguments.length),Pe=d.event.fix(f),ft=(te.get(this,"events")||Object.create(null))[Pe.type]||[],Dt=d.event.special[Pe.type]||{};for(Be[0]=Pe,b=1;b<arguments.length;b++)Be[b]=arguments[b];if(Pe.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Pe)===!1)){for(X=d.event.handlers.call(this,Pe,ft),b=0;(H=X[b++])&&!Pe.isPropagationStopped();)for(Pe.currentTarget=H.elem,A=0;(F=H.handlers[A++])&&!Pe.isImmediatePropagationStopped();)(!Pe.rnamespace||F.namespace===!1||Pe.rnamespace.test(F.namespace))&&(Pe.handleObj=F,Pe.data=F.data,M=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,Be),M!==void 0&&(Pe.result=M)===!1&&(Pe.preventDefault(),Pe.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Pe),Pe.result}},handlers:function(f,b){var A,M,H,F,X,Be=[],Pe=b.delegateCount,ft=f.target;if(Pe&&ft.nodeType&&!(f.type==="click"&&f.button>=1)){for(;ft!==this;ft=ft.parentNode||this)if(ft.nodeType===1&&!(f.type==="click"&&ft.disabled===!0)){for(F=[],X={},A=0;A<Pe;A++)M=b[A],H=M.selector+" ",X[H]===void 0&&(X[H]=M.needsContext?d(H,this).index(ft)>-1:d.find(H,this,null,[ft]).length),X[H]&&F.push(M);F.length&&Be.push({elem:ft,handlers:F})}}return ft=this,Pe<b.length&&Be.push({elem:ft,handlers:b.slice(Pe)}),Be},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:S(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(A){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:A})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Lt.test(b.type)&&b.click&&K(b,"input")&&gt(b,"click",Ze),!1},trigger:function(f){var b=this||f;return Lt.test(b.type)&&b.click&&K(b,"input")&&gt(b,"click"),!0},_default:function(f){var b=f.target;return Lt.test(b.type)&&b.click&&K(b,"input")&&te.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function gt(f,b,A){if(!A){te.get(f,b)===void 0&&d.event.add(f,b,Ze);return}te.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(M){var H,F,X=te.get(this,b);if(M.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&M.stopPropagation();else if(X=c.call(arguments),te.set(this,b,X),H=A(this,b),this[b](),F=te.get(this,b),X!==F||H?te.set(this,b,!1):F={},X!==F)return M.stopImmediatePropagation(),M.preventDefault(),F&&F.value}else X.length&&(te.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),M.stopImmediatePropagation())}})}d.removeEvent=function(f,b,A){f.removeEventListener&&f.removeEventListener(b,A)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Ze:dt,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:dt,isPropagationStopped:dt,isImmediatePropagationStopped:dt,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Ze,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Ze,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Ze,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return gt(this,f,ae),!1},trigger:function(){return gt(this,f),!0},_default:function(A){return te.get(A.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(A){var M,H=this,F=A.relatedTarget,X=A.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(A.type=X.origType,M=X.handler.apply(this,arguments),A.type=b),M}}}),d.fn.extend({on:function(f,b,A,M){return Ue(this,f,b,A,M)},one:function(f,b,A,M){return Ue(this,f,b,A,M,1)},off:function(f,b,A){var M,H;if(f&&f.preventDefault&&f.handleObj)return M=f.handleObj,d(f.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(A=b,b=void 0),A===!1&&(A=dt),this.each(function(){d.event.remove(this,f,A,b)})}});var ct=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Ot(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function Bt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Xe(f,b){var A,M,H,F,X,Be,Pe;if(b.nodeType===1){if(te.hasData(f)&&(F=te.get(f),Pe=F.events,Pe)){te.remove(b,"handle events");for(H in Pe)for(A=0,M=Pe[H].length;A<M;A++)d.event.add(b,H,Pe[H][A])}J.hasData(f)&&(X=J.access(f),Be=d.extend({},X),J.set(b,Be))}}function De(f,b){var A=b.nodeName.toLowerCase();A==="input"&&Lt.test(f.type)?b.checked=f.checked:(A==="input"||A==="textarea")&&(b.defaultValue=f.defaultValue)}function Fe(f,b,A,M){b=n(b);var H,F,X,Be,Pe,ft,Dt=0,ei=f.length,$t=ei-1,ot=b[0],Pi=S(ot);if(Pi||ei>1&&typeof ot=="string"&&!k.checkClone&&Et.test(ot))return f.each(function(D){var L=f.eq(D);Pi&&(b[0]=ot.call(this,D,L.html())),Fe(L,b,A,M)});if(ei&&(H=ke(b,f[0].ownerDocument,!1,f,M),F=H.firstChild,H.childNodes.length===1&&(H=F),F||M)){for(X=d.map(kt(H,"script"),Ot),Be=X.length;Dt<ei;Dt++)Pe=H,Dt!==$t&&(Pe=d.clone(Pe,!0,!0),Be&&d.merge(X,kt(Pe,"script"))),A.call(f[Dt],Pe,Dt);if(Be)for(ft=X[X.length-1].ownerDocument,d.map(X,Bt),Dt=0;Dt<Be;Dt++)Pe=X[Dt],Ct.test(Pe.type||"")&&!te.access(Pe,"globalEval")&&d.contains(ft,Pe)&&(Pe.src&&(Pe.type||"").toLowerCase()!=="module"?d._evalUrl&&!Pe.noModule&&d._evalUrl(Pe.src,{nonce:Pe.nonce||Pe.getAttribute("nonce")},ft):a(Pe.textContent.replace(zt,""),Pe,ft))}return f}function et(f,b,A){for(var M,H=b?d.filter(b,f):f,F=0;(M=H[F])!=null;F++)!A&&M.nodeType===1&&d.cleanData(kt(M)),M.parentNode&&(A&&Ut(M)&&I(kt(M,"script")),M.parentNode.removeChild(M));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,A){var M,H,F,X,Be=f.cloneNode(!0),Pe=Ut(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=kt(Be),F=kt(f),M=0,H=F.length;M<H;M++)De(F[M],X[M]);if(b)if(A)for(F=F||kt(f),X=X||kt(Be),M=0,H=F.length;M<H;M++)Xe(F[M],X[M]);else Xe(f,Be);return X=kt(Be,"script"),X.length>0&&I(X,!Pe&&kt(f,"script")),Be},cleanData:function(f){for(var b,A,M,H=d.event.special,F=0;(A=f[F])!==void 0;F++)if(it(A)){if(b=A[te.expando]){if(b.events)for(M in b.events)H[M]?d.event.remove(A,M):d.removeEvent(A,M,b.handle);A[te.expando]=void 0}A[J.expando]&&(A[J.expando]=void 0)}}}),d.fn.extend({detach:function(f){return et(this,f,!0)},remove:function(f){return et(this,f)},text:function(f){return Se(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return Fe(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Xt(this,f);b.appendChild(f)}})},prepend:function(){return Fe(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Xt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return Fe(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return Fe(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(kt(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Se(this,function(b){var A=this[0]||{},M=0,H=this.length;if(b===void 0&&A.nodeType===1)return A.innerHTML;if(typeof b=="string"&&!ct.test(b)&&!St[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;M<H;M++)A=this[M]||{},A.nodeType===1&&(d.cleanData(kt(A,!1)),A.innerHTML=b);A=0}catch(F){}}A&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return Fe(this,arguments,function(b){var A=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(kt(this)),A&&A.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(A){for(var M,H=[],F=d(A),X=F.length-1,Be=0;Be<=X;Be++)M=Be===X?this:this.clone(!0),d(F[Be])[b](M),u.apply(H,M.get());return this.pushStack(H)}});var Pt=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),Nt=/^--/,Je=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},wt=function(f,b,A){var M,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];M=A.call(f);for(H in b)f.style[H]=F[H];return M},At=new RegExp(Qe.join("|"),"i"),Kt="[\\x20\\t\\r\\n\\f]",Jt=new RegExp("^"+Kt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Kt+"+$","g");(function(){function f(){if(ft){Pe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ft.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Pe).appendChild(ft);var Dt=r.getComputedStyle(ft);A=Dt.top!=="1%",Be=b(Dt.marginLeft)===12,ft.style.right="60%",F=b(Dt.right)===36,M=b(Dt.width)===36,ft.style.position="absolute",H=b(ft.offsetWidth/3)===12,nt.removeChild(Pe),ft=null}}function b(Dt){return Math.round(parseFloat(Dt))}var A,M,H,F,X,Be,Pe=E.createElement("div"),ft=E.createElement("div");ft.style&&(ft.style.backgroundClip="content-box",ft.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=ft.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),M},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),A},reliableMarginLeft:function(){return f(),Be},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ei,$t,ot;return X==null&&(Dt=E.createElement("table"),ei=E.createElement("tr"),$t=E.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ei.style.cssText="border:1px solid",ei.style.height="1px",$t.style.height="9px",$t.style.display="block",nt.appendChild(Dt).appendChild(ei).appendChild($t),ot=r.getComputedStyle(ei),X=parseInt(ot.height,10)+parseInt(ot.borderTopWidth,10)+parseInt(ot.borderBottomWidth,10)===ei.offsetHeight,nt.removeChild(Dt)),X}}))})();function Ai(f,b,A){var M,H,F,X,Be=Nt.test(b),Pe=f.style;return A=A||Je(f),A&&(X=A.getPropertyValue(b)||A[b],Be&&(X=X.replace(Jt,"$1")),X===""&&!Ut(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Pt.test(X)&&At.test(b)&&(M=Pe.width,H=Pe.minWidth,F=Pe.maxWidth,Pe.minWidth=Pe.maxWidth=Pe.width=X,X=A.width,Pe.width=M,Pe.minWidth=H,Pe.maxWidth=F)),X!==void 0?X+"":X}function Si(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Mi=["Webkit","Moz","ms"],Gt=E.createElement("div").style,wi={};function Ti(f){for(var b=f[0].toUpperCase()+f.slice(1),A=Mi.length;A--;)if(f=Mi[A]+b,f in Gt)return f}function Fi(f){var b=d.cssProps[f]||wi[f];return b||(f in Gt?f:wi[f]=Ti(f)||f)}var fr=/^(none|table(?!-c[ea]).+)/,Zi={position:"absolute",visibility:"hidden",display:"block"},lr={letterSpacing:"0",fontWeight:"400"};function Er(f,b,A){var M=Ee.exec(b);return M?Math.max(0,M[2]-(A||0))+(M[3]||"px"):b}function or(f,b,A,M,H,F){var X=b==="width"?1:0,Be=0,Pe=0;if(A===(M?"border":"content"))return 0;for(;X<4;X+=2)A==="margin"&&(Pe+=d.css(f,A+Qe[X],!0,H)),M?(A==="content"&&(Pe-=d.css(f,"padding"+Qe[X],!0,H)),A!=="margin"&&(Pe-=d.css(f,"border"+Qe[X]+"Width",!0,H))):(Pe+=d.css(f,"padding"+Qe[X],!0,H),A!=="padding"?Pe+=d.css(f,"border"+Qe[X]+"Width",!0,H):Be+=d.css(f,"border"+Qe[X]+"Width",!0,H));return!M&&F>=0&&(Pe+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Pe-Be-.5))||0),Pe}function vr(f,b,A){var M=Je(f),H=!k.boxSizingReliable()||A,F=H&&d.css(f,"boxSizing",!1,M)==="border-box",X=F,Be=Ai(f,b,M),Pe="offset"+b[0].toUpperCase()+b.slice(1);if(Pt.test(Be)){if(!A)return Be;Be="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||Be==="auto"||!parseFloat(Be)&&d.css(f,"display",!1,M)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,M)==="border-box",X=Pe in f,X&&(Be=f[Pe])),Be=parseFloat(Be)||0,Be+or(f,b,A||(F?"border":"content"),X,M,Be)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var A=Ai(f,"opacity");return A===""?"1":A}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,A,M){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,Be=Ge(b),Pe=Nt.test(b),ft=f.style;if(Pe||(b=Fi(Be)),X=d.cssHooks[b]||d.cssHooks[Be],A!==void 0){if(F=typeof A,F==="string"&&(H=Ee.exec(A))&&H[1]&&(A=Mt(f,b,H),F="number"),A==null||A!==A)return;F==="number"&&!Pe&&(A+=H&&H[3]||(d.cssNumber[Be]?"":"px")),!k.clearCloneStyle&&A===""&&b.indexOf("background")===0&&(ft[b]="inherit"),(!X||!("set"in X)||(A=X.set(f,A,M))!==void 0)&&(Pe?ft.setProperty(b,A):ft[b]=A)}else return X&&"get"in X&&(H=X.get(f,!1,M))!==void 0?H:ft[b]}},css:function(f,b,A,M){var H,F,X,Be=Ge(b),Pe=Nt.test(b);return Pe||(b=Fi(Be)),X=d.cssHooks[b]||d.cssHooks[Be],X&&"get"in X&&(H=X.get(f,!0,A)),H===void 0&&(H=Ai(f,b,M)),H==="normal"&&b in lr&&(H=lr[b]),A===""||A?(F=parseFloat(H),A===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(A,M,H){if(M)return fr.test(d.css(A,"display"))&&(!A.getClientRects().length||!A.getBoundingClientRect().width)?wt(A,Zi,function(){return vr(A,b,H)}):vr(A,b,H)},set:function(A,M,H){var F,X=Je(A),Be=!k.scrollboxSize()&&X.position==="absolute",Pe=Be||H,ft=Pe&&d.css(A,"boxSizing",!1,X)==="border-box",Dt=H?or(A,b,H,ft,X):0;return ft&&Be&&(Dt-=Math.ceil(A["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-or(A,b,"border",!1,X)-.5)),Dt&&(F=Ee.exec(M))&&(F[3]||"px")!=="px"&&(A.style[b]=M,M=d.css(A,b)),Er(A,M,Dt)}}}),d.cssHooks.marginLeft=Si(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(Ai(f,"marginLeft"))||f.getBoundingClientRect().left-wt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(A){for(var M=0,H={},F=typeof A=="string"?A.split(" "):[A];M<4;M++)H[f+Qe[M]+b]=F[M]||F[M-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Er)}),d.fn.extend({css:function(f,b){return Se(this,function(A,M,H){var F,X,Be={},Pe=0;if(Array.isArray(M)){for(F=Je(A),X=M.length;Pe<X;Pe++)Be[M[Pe]]=d.css(A,M[Pe],!1,F);return Be}return H!==void 0?d.style(A,M,H):d.css(A,M)},f,b,arguments.length>1)}});function _r(f,b,A,M,H){return new _r.prototype.init(f,b,A,M,H)}d.Tween=_r,_r.prototype={constructor:_r,init:function(f,b,A,M,H,F){this.elem=f,this.prop=A,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=M,this.unit=F||(d.cssNumber[A]?"":"px")},cur:function(){var f=_r.propHooks[this.prop];return f&&f.get?f.get(this):_r.propHooks._default.get(this)},run:function(f){var b,A=_r.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),A&&A.set?A.set(this):_r.propHooks._default.set(this),this}},_r.prototype.init.prototype=_r.prototype,_r.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Fi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},_r.propHooks.scrollTop=_r.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=_r.prototype.init,d.fx.step={};var Pr,Zr,sn=/^(?:toggle|show|hide)$/,$r=/queueHooks$/;function Rr(){Zr&&(E.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(Rr):r.setTimeout(Rr,d.fx.interval),d.fx.tick())}function Yr(){return r.setTimeout(function(){Pr=void 0}),Pr=Date.now()}function Wr(f,b){var A,M=0,H={height:f};for(b=b?1:0;M<4;M+=2-b)A=Qe[M],H["margin"+A]=H["padding"+A]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,A){for(var M,H=(ye.tweeners[b]||[]).concat(ye.tweeners["*"]),F=0,X=H.length;F<X;F++)if(M=H[F].call(A,b,f))return M}function ce(f,b,A){var M,H,F,X,Be,Pe,ft,Dt,ei="width"in b||"height"in b,$t=this,ot={},Pi=f.style,D=f.nodeType&&mt(f),L=te.get(f,"fxshow");A.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,Be=X.empty.fire,X.empty.fire=function(){X.unqueued||Be()}),X.unqueued++,$t.always(function(){$t.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(M in b)if(H=b[M],sn.test(H)){if(delete b[M],F=F||H==="toggle",H===(D?"hide":"show"))if(H==="show"&&L&&L[M]!==void 0)D=!0;else continue;ot[M]=L&&L[M]||d.style(f,M)}if(Pe=!d.isEmptyObject(b),!(!Pe&&d.isEmptyObject(ot))){ei&&f.nodeType===1&&(A.overflow=[Pi.overflow,Pi.overflowX,Pi.overflowY],ft=L&&L.display,ft==null&&(ft=te.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(ft?Dt=ft:(ci([f],!0),ft=f.style.display||ft,Dt=d.css(f,"display"),ci([f]))),(Dt==="inline"||Dt==="inline-block"&&ft!=null)&&d.css(f,"float")==="none"&&(Pe||($t.done(function(){Pi.display=ft}),ft==null&&(Dt=Pi.display,ft=Dt==="none"?"":Dt)),Pi.display="inline-block")),A.overflow&&(Pi.overflow="hidden",$t.always(function(){Pi.overflow=A.overflow[0],Pi.overflowX=A.overflow[1],Pi.overflowY=A.overflow[2]})),Pe=!1;for(M in ot)Pe||(L?"hidden"in L&&(D=L.hidden):L=te.access(f,"fxshow",{display:ft}),F&&(L.hidden=!D),D&&ci([f],!0),$t.done(function(){D||ci([f]),te.remove(f,"fxshow");for(M in ot)d.style(f,M,ot[M])})),Pe=ve(D?L[M]:0,M,$t),M in L||(L[M]=Pe.start,D&&(Pe.end=Pe.start,Pe.start=0))}}function B(f,b){var A,M,H,F,X;for(A in f)if(M=Ge(A),H=b[M],F=f[A],Array.isArray(F)&&(H=F[1],F=f[A]=F[0]),A!==M&&(f[M]=F,delete f[A]),X=d.cssHooks[M],X&&"expand"in X){F=X.expand(F),delete f[M];for(A in F)A in f||(f[A]=F[A],b[A]=H)}else b[M]=H}function ye(f,b,A){var M,H,F=0,X=ye.prefilters.length,Be=d.Deferred().always(function(){delete Pe.elem}),Pe=function(){if(H)return!1;for(var ei=Pr||Yr(),$t=Math.max(0,ft.startTime+ft.duration-ei),ot=$t/ft.duration||0,Pi=1-ot,D=0,L=ft.tweens.length;D<L;D++)ft.tweens[D].run(Pi);return Be.notifyWith(f,[ft,Pi,$t]),Pi<1&&L?$t:(L||Be.notifyWith(f,[ft,1,0]),Be.resolveWith(f,[ft]),!1)},ft=Be.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},A),originalProperties:b,originalOptions:A,startTime:Pr||Yr(),duration:A.duration,tweens:[],createTween:function(ei,$t){var ot=d.Tween(f,ft.opts,ei,$t,ft.opts.specialEasing[ei]||ft.opts.easing);return ft.tweens.push(ot),ot},stop:function(ei){var $t=0,ot=ei?ft.tweens.length:0;if(H)return this;for(H=!0;$t<ot;$t++)ft.tweens[$t].run(1);return ei?(Be.notifyWith(f,[ft,1,0]),Be.resolveWith(f,[ft,ei])):Be.rejectWith(f,[ft,ei]),this}}),Dt=ft.props;for(B(Dt,ft.opts.specialEasing);F<X;F++)if(M=ye.prefilters[F].call(ft,f,Dt,ft.opts),M)return S(M.stop)&&(d._queueHooks(ft.elem,ft.opts.queue).stop=M.stop.bind(M)),M;return d.map(Dt,ve,ft),S(ft.opts.start)&&ft.opts.start.call(f,ft),ft.progress(ft.opts.progress).done(ft.opts.done,ft.opts.complete).fail(ft.opts.fail).always(ft.opts.always),d.fx.timer(d.extend(Pe,{elem:f,anim:ft,queue:ft.opts.queue})),ft}d.Animation=d.extend(ye,{tweeners:{"*":[function(f,b){var A=this.createTween(f,b);return Mt(A.elem,f,Ee.exec(b),A),A}]},tweener:function(f,b){S(f)?(b=f,f=["*"]):f=f.match(Z);for(var A,M=0,H=f.length;M<H;M++)A=f[M],ye.tweeners[A]=ye.tweeners[A]||[],ye.tweeners[A].unshift(b)},prefilters:[ce],prefilter:function(f,b){b?ye.prefilters.unshift(f):ye.prefilters.push(f)}}),d.speed=function(f,b,A){var M=f&&typeof f=="object"?d.extend({},f):{complete:A||!A&&b||S(f)&&f,duration:f,easing:A&&b||b&&!S(b)&&b};return d.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in d.fx.speeds?M.duration=d.fx.speeds[M.duration]:M.duration=d.fx.speeds._default),(M.queue==null||M.queue===!0)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){S(M.old)&&M.old.call(this),M.queue&&d.dequeue(this,M.queue)},M},d.fn.extend({fadeTo:function(f,b,A,M){return this.filter(mt).css("opacity",0).show().end().animate({opacity:b},f,A,M)},animate:function(f,b,A,M){var H=d.isEmptyObject(f),F=d.speed(b,A,M),X=function(){var Be=ye(this,d.extend({},f),F);(H||te.get(this,"finish"))&&Be.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,A){var M=function(H){var F=H.stop;delete H.stop,F(A)};return typeof f!="string"&&(A=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,Be=te.get(this);if(F)Be[F]&&Be[F].stop&&M(Be[F]);else for(F in Be)Be[F]&&Be[F].stop&&$r.test(F)&&M(Be[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(A),H=!1,X.splice(F,1));(H||!A)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,A=te.get(this),M=A[f+"queue"],H=A[f+"queueHooks"],F=d.timers,X=M?M.length:0;for(A.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)M[b]&&M[b].finish&&M[b].finish.call(this);delete A.finish})}}),d.each(["toggle","show","hide"],function(f,b){var A=d.fn[b];d.fn[b]=function(M,H,F){return M==null||typeof M=="boolean"?A.apply(this,arguments):this.animate(Wr(b,!0),M,H,F)}}),d.each({slideDown:Wr("show"),slideUp:Wr("hide"),slideToggle:Wr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(A,M,H){return this.animate(b,A,M,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,A=d.timers;for(Pr=Date.now();b<A.length;b++)f=A[b],!f()&&A[b]===f&&A.splice(b--,1);A.length||d.fx.stop(),Pr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Zr||(Zr=!0,Rr())},d.fx.stop=function(){Zr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(A,M){var H=r.setTimeout(A,f);M.stop=function(){r.clearTimeout(H)}})},function(){var f=E.createElement("input"),b=E.createElement("select"),A=b.appendChild(E.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=A.selected,f=E.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var _e,Tt=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Se(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,A){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,A);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?_e:void 0)),A!==void 0){if(A===null){d.removeAttr(f,b);return}return H&&"set"in H&&(M=H.set(f,A,b))!==void 0?M:(f.setAttribute(b,A+""),A)}return H&&"get"in H&&(M=H.get(f,b))!==null?M:(M=d.find.attr(f,b),M!=null?M:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var A=f.value;return f.setAttribute("type",b),A&&(f.value=A),b}}}},removeAttr:function(f,b){var A,M=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;A=H[M++];)f.removeAttribute(A)}}),_e={set:function(f,b,A){return b===!1?d.removeAttr(f,A):f.setAttribute(A,A),A}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var A=Tt[b]||d.find.attr;Tt[b]=function(M,H,F){var X,Be,Pe=H.toLowerCase();return F||(Be=Tt[Pe],Tt[Pe]=X,X=A(M,H,F)!=null?Pe:null,Tt[Pe]=Be),X}});var Ft=/^(?:input|select|textarea|button)$/i,pi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Se(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,A){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),A!==void 0?H&&"set"in H&&(M=H.set(f,A,b))!==void 0?M:f[b]=A:H&&"get"in H&&(M=H.get(f,b))!==null?M:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):Ft.test(f.nodeName)||pi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function di(f){var b=f.match(Z)||[];return b.join(" ")}function zi(f){return f.getAttribute&&f.getAttribute("class")||""}function dr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,A,M,H,F,X;return S(f)?this.each(function(Be){d(this).addClass(f.call(this,Be,zi(this)))}):(b=dr(f),b.length?this.each(function(){if(M=zi(this),A=this.nodeType===1&&" "+di(M)+" ",A){for(F=0;F<b.length;F++)H=b[F],A.indexOf(" "+H+" ")<0&&(A+=H+" ");X=di(A),M!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,A,M,H,F,X;return S(f)?this.each(function(Be){d(this).removeClass(f.call(this,Be,zi(this)))}):arguments.length?(b=dr(f),b.length?this.each(function(){if(M=zi(this),A=this.nodeType===1&&" "+di(M)+" ",A){for(F=0;F<b.length;F++)for(H=b[F];A.indexOf(" "+H+" ")>-1;)A=A.replace(" "+H+" "," ");X=di(A),M!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var A,M,H,F,X=typeof f,Be=X==="string"||Array.isArray(f);return S(f)?this.each(function(Pe){d(this).toggleClass(f.call(this,Pe,zi(this),b),b)}):typeof b=="boolean"&&Be?b?this.addClass(f):this.removeClass(f):(A=dr(f),this.each(function(){if(Be)for(F=d(this),H=0;H<A.length;H++)M=A[H],F.hasClass(M)?F.removeClass(M):F.addClass(M);else(f===void 0||X==="boolean")&&(M=zi(this),M&&te.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||f===!1?"":te.get(this,"__className__")||""))}))},hasClass:function(f){var b,A,M=0;for(b=" "+f+" ";A=this[M++];)if(A.nodeType===1&&(" "+di(zi(A))+" ").indexOf(b)>-1)return!0;return!1}});var ir=/\r/g;d.fn.extend({val:function(f){var b,A,M,H=this[0];return arguments.length?(M=S(f),this.each(function(F){var X;this.nodeType===1&&(M?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(Be){return Be==null?"":Be+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(A=b.get(H,"value"))!==void 0?A:(A=H.value,typeof A=="string"?A.replace(ir,""):A!=null?A:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:di(d.text(f))}},select:{get:function(f){var b,A,M,H=f.options,F=f.selectedIndex,X=f.type==="select-one",Be=X?null:[],Pe=X?F+1:H.length;for(F<0?M=Pe:M=X?F:0;M<Pe;M++)if(A=H[M],(A.selected||M===F)&&!A.disabled&&(!A.parentNode.disabled||!K(A.parentNode,"optgroup"))){if(b=d(A).val(),X)return b;Be.push(b)}return Be},set:function(f,b){for(var A,M,H=f.options,F=d.makeArray(b),X=H.length;X--;)M=H[X],(M.selected=d.inArray(d.valHooks.option.get(M),F)>-1)&&(A=!0);return A||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Ur=/^(?:focusinfocus|focusoutblur)$/,le=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,A,M){var H,F,X,Be,Pe,ft,Dt,ei,$t=[A||E],ot=y.call(f,"type")?f.type:f,Pi=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ei=X=A=A||E,!(A.nodeType===3||A.nodeType===8)&&!Ur.test(ot+d.event.triggered)&&(ot.indexOf(".")>-1&&(Pi=ot.split("."),ot=Pi.shift(),Pi.sort()),Pe=ot.indexOf(":")<0&&"on"+ot,f=f[d.expando]?f:new d.Event(ot,typeof f=="object"&&f),f.isTrigger=M?2:3,f.namespace=Pi.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+Pi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=A),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[ot]||{},!(!M&&Dt.trigger&&Dt.trigger.apply(A,b)===!1))){if(!M&&!Dt.noBubble&&!P(A)){for(Be=Dt.delegateType||ot,Ur.test(Be+ot)||(F=F.parentNode);F;F=F.parentNode)$t.push(F),X=F;X===(A.ownerDocument||E)&&$t.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=$t[H++])&&!f.isPropagationStopped();)ei=F,f.type=H>1?Be:Dt.bindType||ot,ft=(te.get(F,"events")||Object.create(null))[f.type]&&te.get(F,"handle"),ft&&ft.apply(F,b),ft=Pe&&F[Pe],ft&&ft.apply&&it(F)&&(f.result=ft.apply(F,b),f.result===!1&&f.preventDefault());return f.type=ot,!M&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply($t.pop(),b)===!1)&&it(A)&&Pe&&S(A[ot])&&!P(A)&&(X=A[Pe],X&&(A[Pe]=null),d.event.triggered=ot,f.isPropagationStopped()&&ei.addEventListener(ot,le),A[ot](),f.isPropagationStopped()&&ei.removeEventListener(ot,le),d.event.triggered=void 0,X&&(A[Pe]=X)),f.result}},simulate:function(f,b,A){var M=d.extend(new d.Event,A,{type:f,isSimulated:!0});d.event.trigger(M,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var A=this[0];if(A)return d.event.trigger(f,b,A,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var A=function(M){d.event.simulate(b,M.target,d.event.fix(M))};d.event.special[b]={setup:function(){var M=this.ownerDocument||this.document||this,H=te.access(M,b);H||M.addEventListener(f,A,!0),te.access(M,b,(H||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,H=te.access(M,b)-1;H?te.access(M,b,H):(M.removeEventListener(f,A,!0),te.remove(M,b))}}});var On=r.location,yn={guid:Date.now()},An=/\?/;d.parseXML=function(f){var b,A;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(M){}return A=b&&b.getElementsByTagName("parsererror")[0],(!b||A)&&d.error("Invalid XML: "+(A?d.map(A.childNodes,function(M){return M.textContent}).join(`
`):f)),b};var bn=/\[\]$/,si=/\r?\n/g,bi=/^(?:submit|button|image|reset|file)$/i,fi=/^(?:input|select|textarea|keygen)/i;function er(f,b,A,M){var H;if(Array.isArray(b))d.each(b,function(F,X){A||bn.test(f)?M(f,X):er(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,A,M)});else if(!A&&h(b)==="object")for(H in b)er(f+"["+H+"]",b[H],A,M);else M(f,b)}d.param=function(f,b){var A,M=[],H=function(F,X){var Be=S(X)?X():X;M[M.length]=encodeURIComponent(F)+"="+encodeURIComponent(Be!=null?Be:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(A in f)er(A,f[A],b,H);return M.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&fi.test(this.nodeName)&&!bi.test(f)&&(this.checked||!Lt.test(f))}).map(function(f,b){var A=d(this).val();return A==null?null:Array.isArray(A)?d.map(A,function(M){return{name:b.name,value:M.replace(si,`\r
`)}}):{name:b.name,value:A.replace(si,`\r
`)}}).get()}});var rr=/%20/g,Sn=/#.*$/,gn=/([?&])_=[^&]*/,po=/^(.*?):[ \t]*([^\r\n]*)$/mg,so=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Va=/^(?:GET|HEAD)$/,na=/^\/\//,xo={},Mn={},Qr="*/".concat("*"),lo=E.createElement("a");lo.href=On.href;function _o(f){return function(b,A){typeof b!="string"&&(A=b,b="*");var M,H=0,F=b.toLowerCase().match(Z)||[];if(S(A))for(;M=F[H++];)M[0]==="+"?(M=M.slice(1)||"*",(f[M]=f[M]||[]).unshift(A)):(f[M]=f[M]||[]).push(A)}}function oa(f,b,A,M){var H={},F=f===Mn;function X(Be){var Pe;return H[Be]=!0,d.each(f[Be]||[],function(ft,Dt){var ei=Dt(b,A,M);if(typeof ei=="string"&&!F&&!H[ei])return b.dataTypes.unshift(ei),X(ei),!1;if(F)return!(Pe=ei)}),Pe}return X(b.dataTypes[0])||!H["*"]&&X("*")}function qn(f,b){var A,M,H=d.ajaxSettings.flatOptions||{};for(A in b)b[A]!==void 0&&((H[A]?f:M||(M={}))[A]=b[A]);return M&&d.extend(!0,f,M),f}function wa(f,b,A){for(var M,H,F,X,Be=f.contents,Pe=f.dataTypes;Pe[0]==="*";)Pe.shift(),M===void 0&&(M=f.mimeType||b.getResponseHeader("Content-Type"));if(M){for(H in Be)if(Be[H]&&Be[H].test(M)){Pe.unshift(H);break}}if(Pe[0]in A)F=Pe[0];else{for(H in A){if(!Pe[0]||f.converters[H+" "+Pe[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Pe[0]&&Pe.unshift(F),A[F]}function Wa(f,b,A,M){var H,F,X,Be,Pe,ft={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)ft[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(A[f.responseFields[F]]=b),!Pe&&M&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Pe=F,F=Dt.shift(),F){if(F==="*")F=Pe;else if(Pe!=="*"&&Pe!==F){if(X=ft[Pe+" "+F]||ft["* "+F],!X){for(H in ft)if(Be=H.split(" "),Be[1]===F&&(X=ft[Pe+" "+Be[0]]||ft["* "+Be[0]],X)){X===!0?X=ft[H]:ft[H]!==!0&&(F=Be[0],Dt.unshift(Be[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ei){return{state:"parsererror",error:X?ei:"No conversion from "+Pe+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On.href,type:"GET",isLocal:so.test(On.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?qn(qn(f,d.ajaxSettings),b):qn(d.ajaxSettings,f)},ajaxPrefilter:_o(xo),ajaxTransport:_o(Mn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var A,M,H,F,X,Be,Pe,ft,Dt,ei,$t=d.ajaxSetup({},b),ot=$t.context||$t,Pi=$t.context&&(ot.nodeType||ot.jquery)?d(ot):d.event,D=d.Deferred(),L=d.Callbacks("once memory"),j=$t.statusCode||{},U={},se={},me="canceled",Ce={readyState:0,getResponseHeader:function(vt){var qt;if(Pe){if(!F)for(F={};qt=po.exec(H);)F[qt[1].toLowerCase()+" "]=(F[qt[1].toLowerCase()+" "]||[]).concat(qt[2]);qt=F[vt.toLowerCase()+" "]}return qt==null?null:qt.join(", ")},getAllResponseHeaders:function(){return Pe?H:null},setRequestHeader:function(vt,qt){return Pe==null&&(vt=se[vt.toLowerCase()]=se[vt.toLowerCase()]||vt,U[vt]=qt),this},overrideMimeType:function(vt){return Pe==null&&($t.mimeType=vt),this},statusCode:function(vt){var qt;if(vt)if(Pe)Ce.always(vt[Ce.status]);else for(qt in vt)j[qt]=[j[qt],vt[qt]];return this},abort:function(vt){var qt=vt||me;return A&&A.abort(qt),Rt(0,qt),this}};if(D.promise(Ce),$t.url=((f||$t.url||On.href)+"").replace(na,On.protocol+"//"),$t.type=b.method||b.type||$t.method||$t.type,$t.dataTypes=($t.dataType||"*").toLowerCase().match(Z)||[""],$t.crossDomain==null){Be=E.createElement("a");try{Be.href=$t.url,Be.href=Be.href,$t.crossDomain=lo.protocol+"//"+lo.host!=Be.protocol+"//"+Be.host}catch(vt){$t.crossDomain=!0}}if($t.data&&$t.processData&&typeof $t.data!="string"&&($t.data=d.param($t.data,$t.traditional)),oa(xo,$t,b,Ce),Pe)return Ce;ft=d.event&&$t.global,ft&&d.active++===0&&d.event.trigger("ajaxStart"),$t.type=$t.type.toUpperCase(),$t.hasContent=!Va.test($t.type),M=$t.url.replace(Sn,""),$t.hasContent?$t.data&&$t.processData&&($t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&($t.data=$t.data.replace(rr,"+")):(ei=$t.url.slice(M.length),$t.data&&($t.processData||typeof $t.data=="string")&&(M+=(An.test(M)?"&":"?")+$t.data,delete $t.data),$t.cache===!1&&(M=M.replace(gn,"$1"),ei=(An.test(M)?"&":"?")+"_="+yn.guid+++ei),$t.url=M+ei),$t.ifModified&&(d.lastModified[M]&&Ce.setRequestHeader("If-Modified-Since",d.lastModified[M]),d.etag[M]&&Ce.setRequestHeader("If-None-Match",d.etag[M])),($t.data&&$t.hasContent&&$t.contentType!==!1||b.contentType)&&Ce.setRequestHeader("Content-Type",$t.contentType),Ce.setRequestHeader("Accept",$t.dataTypes[0]&&$t.accepts[$t.dataTypes[0]]?$t.accepts[$t.dataTypes[0]]+($t.dataTypes[0]!=="*"?", "+Qr+"; q=0.01":""):$t.accepts["*"]);for(Dt in $t.headers)Ce.setRequestHeader(Dt,$t.headers[Dt]);if($t.beforeSend&&($t.beforeSend.call(ot,Ce,$t)===!1||Pe))return Ce.abort();if(me="abort",L.add($t.complete),Ce.done($t.success),Ce.fail($t.error),A=oa(Mn,$t,b,Ce),!A)Rt(-1,"No Transport");else{if(Ce.readyState=1,ft&&Pi.trigger("ajaxSend",[Ce,$t]),Pe)return Ce;$t.async&&$t.timeout>0&&(X=r.setTimeout(function(){Ce.abort("timeout")},$t.timeout));try{Pe=!1,A.send(U,Rt)}catch(vt){if(Pe)throw vt;Rt(-1,vt)}}function Rt(vt,qt,ai,Ei){var Ii,Oi,ar,Wi,Ri,Yi=qt;Pe||(Pe=!0,X&&r.clearTimeout(X),A=void 0,H=Ei||"",Ce.readyState=vt>0?4:0,Ii=vt>=200&&vt<300||vt===304,ai&&(Wi=wa($t,Ce,ai)),!Ii&&d.inArray("script",$t.dataTypes)>-1&&d.inArray("json",$t.dataTypes)<0&&($t.converters["text script"]=function(){}),Wi=Wa($t,Wi,Ce,Ii),Ii?($t.ifModified&&(Ri=Ce.getResponseHeader("Last-Modified"),Ri&&(d.lastModified[M]=Ri),Ri=Ce.getResponseHeader("etag"),Ri&&(d.etag[M]=Ri)),vt===204||$t.type==="HEAD"?Yi="nocontent":vt===304?Yi="notmodified":(Yi=Wi.state,Oi=Wi.data,ar=Wi.error,Ii=!ar)):(ar=Yi,(vt||!Yi)&&(Yi="error",vt<0&&(vt=0))),Ce.status=vt,Ce.statusText=(qt||Yi)+"",Ii?D.resolveWith(ot,[Oi,Yi,Ce]):D.rejectWith(ot,[Ce,Yi,ar]),Ce.statusCode(j),j=void 0,ft&&Pi.trigger(Ii?"ajaxSuccess":"ajaxError",[Ce,$t,Ii?Oi:ar]),L.fireWith(ot,[Ce,Yi]),ft&&(Pi.trigger("ajaxComplete",[Ce,$t]),--d.active||d.event.trigger("ajaxStop")))}return Ce},getJSON:function(f,b,A){return d.get(f,b,A,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(A,M,H,F){return S(M)&&(F=F||H,H=M,M=void 0),d.ajax(d.extend({url:A,type:b,dataType:F,data:M,success:H},d.isPlainObject(A)&&A))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,A){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){d.globalEval(M,b,A)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(S(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var A=this;A.firstElementChild;)A=A.firstElementChild;return A}).append(this)),this},wrapInner:function(f){return S(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),A=b.contents();A.length?A.wrapAll(f):b.append(f)})},wrap:function(f){var b=S(f);return this.each(function(A){d(this).wrapAll(b?f.call(this,A):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var xa={0:200,1223:204},no=d.ajaxSettings.xhr();k.cors=!!no&&"withCredentials"in no,k.ajax=no=!!no,d.ajaxTransport(function(f){var b,A;if(k.cors||no&&!f.crossDomain)return{send:function(M,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(F in M)X.setRequestHeader(F,M[F]);b=function(Be){return function(){b&&(b=A=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,Be==="abort"?X.abort():Be==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(xa[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),A=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=A:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&A()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(Be){if(b)throw Be}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,A;return{send:function(M,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",A=function(F){b.remove(),A=null,F&&H(F.type==="error"?404:200,F.type)}),E.head.appendChild(b[0])},abort:function(){A&&A()}}}});var Do=[],Bo=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=Do.pop()||d.expando+"_"+yn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,A){var M,H,F,X=f.jsonp!==!1&&(Bo.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Bo.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return M=f.jsonpCallback=S(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Bo,"$1"+M):f.jsonp!==!1&&(f.url+=(An.test(f.url)?"&":"?")+f.jsonp+"="+M),f.converters["script json"]=function(){return F||d.error(M+" was not called"),F[0]},f.dataTypes[0]="json",H=r[M],r[M]=function(){F=arguments},A.always(function(){H===void 0?d(r).removeProp(M):r[M]=H,f[M]&&(f.jsonpCallback=b.jsonpCallback,Do.push(M)),F&&S(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=E.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,A){if(typeof f!="string")return[];typeof b=="boolean"&&(A=b,b=!1);var M,H,F;return b||(k.createHTMLDocument?(b=E.implementation.createHTMLDocument(""),M=b.createElement("base"),M.href=E.location.href,b.head.appendChild(M)):b=E),H=ne.exec(f),F=!A&&[],H?[b.createElement(H[1])]:(H=ke([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,A){var M,H,F,X=this,Be=f.indexOf(" ");return Be>-1&&(M=di(f.slice(Be)),f=f.slice(0,Be)),S(b)?(A=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Pe){F=arguments,X.html(M?d("<div>").append(d.parseHTML(Pe)).find(M):Pe)}).always(A&&function(Pe,ft){X.each(function(){A.apply(this,F||[Pe.responseText,ft,Pe])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,A){var M,H,F,X,Be,Pe,ft,Dt=d.css(f,"position"),ei=d(f),$t={};Dt==="static"&&(f.style.position="relative"),Be=ei.offset(),F=d.css(f,"top"),Pe=d.css(f,"left"),ft=(Dt==="absolute"||Dt==="fixed")&&(F+Pe).indexOf("auto")>-1,ft?(M=ei.position(),X=M.top,H=M.left):(X=parseFloat(F)||0,H=parseFloat(Pe)||0),S(b)&&(b=b.call(f,A,d.extend({},Be))),b.top!=null&&($t.top=b.top-Be.top+X),b.left!=null&&($t.left=b.left-Be.left+H),"using"in b?b.using.call(f,$t):ei.css($t)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,A,M=this[0];if(M)return M.getClientRects().length?(b=M.getBoundingClientRect(),A=M.ownerDocument.defaultView,{top:b.top+A.pageYOffset,left:b.left+A.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,A,M=this[0],H={top:0,left:0};if(d.css(M,"position")==="fixed")b=M.getBoundingClientRect();else{for(b=this.offset(),A=M.ownerDocument,f=M.offsetParent||A.documentElement;f&&(f===A.body||f===A.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==M&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(M,"marginTop",!0),left:b.left-H.left-d.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||nt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var A=b==="pageYOffset";d.fn[f]=function(M){return Se(this,function(H,F,X){var Be;if(P(H)?Be=H:H.nodeType===9&&(Be=H.defaultView),X===void 0)return Be?Be[b]:H[F];Be?Be.scrollTo(A?Be.pageXOffset:X,A?X:Be.pageYOffset):H[F]=X},f,M,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=Si(k.pixelPosition,function(A,M){if(M)return M=Ai(A,b),Pt.test(M)?d(A).position()[b]+"px":M})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(A,M){d.fn[M]=function(H,F){var X=arguments.length&&(A||typeof H!="boolean"),Be=A||(H===!0||F===!0?"margin":"border");return Se(this,function(Pe,ft,Dt){var ei;return P(Pe)?M.indexOf("outer")===0?Pe["inner"+f]:Pe.document.documentElement["client"+f]:Pe.nodeType===9?(ei=Pe.documentElement,Math.max(Pe.body["scroll"+f],ei["scroll"+f],Pe.body["offset"+f],ei["offset"+f],ei["client"+f])):Dt===void 0?d.css(Pe,ft,Be):d.style(Pe,ft,Dt,Be)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(A){return this.on(b,A)}}),d.fn.extend({bind:function(f,b,A){return this.on(f,null,b,A)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,A,M){return this.on(b,f,A,M)},undelegate:function(f,b,A){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",A)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(A,M){return arguments.length>0?this.on(b,null,A,M):this.trigger(b)}});var Ho=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var A,M,H;if(typeof b=="string"&&(A=f[b],b=f,f=A),!!S(f))return M=c.call(arguments,2),H=function(){return f.apply(b||this,M.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=S,d.isWindow=P,d.camelCase=Ge,d.type=h,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Ho,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var co=r.jQuery,wn=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=wn),f&&r.jQuery===d&&(r.jQuery=co),d},typeof s>"u"&&(r.jQuery=r.$=d),d})}),I0={};Wk(I0,{default:()=>As});Gk=M0(L0());qk(I0,M0(L0()));$0=Gk,{default:O0}=$0,Yk=nn($0,["default"]),As=O0!==void 0?O0:Yk;});var Np=Zt(()=>{Bc();Bc()});var we,Dn=Zt(()=>{Np();we="jQuery"in window&&"$"in window?window.$:As;window.jQuery=we;window.$=we});var _i,mo=Zt(()=>{_i=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):()=>{}});var Nl,Bp=Zt(()=>{Nl=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0});var Hp=Zt(()=>{Dn();mo();Bp();we.fn.center=function(){let t=we(this).innerHeight();_i("myheight",t),_i("mywidth",this.width()),_i("w.height",we(window).height(),"w.width",we(window).width(),"w.scrollTop",we(window).scrollTop(),"w.scrollLeft",we(window).scrollLeft());let r,s;if(Nl){let l=window.innerWidth,o=window.innerHeight;_i("vpH",o),_i("vpW",l),r=(o-t)/2+we(window).scrollTop(),s=(l-this.width())/2+we(window).scrollLeft()}else r=(we(window).height()-t)/2,s=(we(window).width()-this.width())/2;return r=Math.max(20,r),s=Math.max(20,s),this.css({position:Nl?"absolute":"fixed",display:"block",top:r,left:s}),this}});var Fp,D0=Zt(()=>{Dn();mo();Fp=class e{static params(t,r){let s={height:r,width:t,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(s).filter(l=>s[l]).reduce((l,o)=>l.concat(`${o}=${s[o]}`),[]).join(",")}static setupPopupLink(){let t="popup-link",r="popup-link-width",s="popup-link-height";_i("popup setup"),we(document.body).off("click.PopupLink").on("click.PopupLink",`[data-${t}]`,l=>{l.preventDefault();let o=we(l.currentTarget),c=o.data(r)||500,n=o.data(s)||500;window.open(l.currentTarget.href,"popup",e.params(c,n))})}};we(Fp.setupPopupLink)});var Ss,zp=Zt(()=>{Ss=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function Hc(){we(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;we(t).find(".results").each((s,l)=>{we(l).show().css({visibility:"hidden"}),r||(r=we(l).offset()),we(l).offset().top!==r.top?we(l).hide():we(l).css({visibility:"visible"})})})}var R0=Zt(()=>{Dn()});var md,j0=Zt(()=>{md=class{constructor(t,r=250,s=void 0){this.callback=t,this.threshhold=r,this.context=s,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var gd,N0=Zt(()=>{Dn();j0();gd=class{constructor(t,r,s){this.identifier=t,this.$targetElement=r,this.callback=s,this.$window=we(window),this.throttler=new md(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var B0,H0=Zt(()=>{B0=/bot|crawl|spider/i.test(navigator.userAgent)});var Bl,Up=Zt(()=>{Dn();zp();R0();N0();H0();Bl=class e{static setup(){let t=we("#js-related");if(t.length&&(Hc(),we(window).on("resize  orientationchange",s=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(Hc,250)})),!t.length||B0)return;let r=we("#also-found");this.scrollProximityHandler=new gd("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(Ss.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=we("#also-found").data("identifier"),r=we("#js-related");return e.getRelatedItems(t).then(s=>{r.html(s),Hc()}).catch(s=>{we("#playplayset").hide(),r.html(Ss.ErrorMessage({errorMessage:s.message})).show()})}static getRelatedItems(t,r){return new Promise((s,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";we.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),s(n)}).fail(()=>{l(new Error(c))})})}};we(()=>Bl.setup())});var Kk,Wp,Xk,Zk,Jk,Qk,e3,t3,Vp,i3,U0,V0,W0,r3,F0,z0,n3,Fc,qp=Zt(()=>{Kk=Object.create,Wp=Object.defineProperty,Xk=Object.getOwnPropertyDescriptor,Zk=Object.getOwnPropertyNames,Jk=Object.getPrototypeOf,Qk=Object.prototype.hasOwnProperty,e3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),t3=(e,t)=>{for(var r in t)Wp(e,r,{get:t[r],enumerable:!0})},Vp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Zk(t))!Qk.call(e,l)&&l!==r&&Wp(e,l,{get:()=>t[l],enumerable:!(s=Xk(t,l))||s.enumerable});return e},i3=(e,t,r)=>(Vp(e,t,"default"),r&&Vp(r,t,"default")),U0=(e,t,r)=>(r=e!=null?Kk(Jk(e)):{},Vp(t||!e||!e.__esModule?Wp(r,"default",{value:e,enumerable:!0}):r,e)),V0=e3((e,t)=>{(function(r,s){typeof e=="object"&&typeof t=="object"?t.exports=s():typeof define=="function"&&define.amd?define([],s):typeof e=="object"?e.ClipboardJS=s():r.ClipboardJS=s()})(e,function(){return function(){var r={686:function(o,c,n){"use strict";n.d(c,{default:function(){return fe}});var u=n(279),p=n.n(u),g=n(370),m=n.n(g),y=n(817),x=n.n(y);function w(Z){try{return document.execCommand(Z)}catch(xe){return!1}}var k=function(Z){var xe=x()(Z);return w("cut"),xe},S=k;function P(Z){var xe=document.documentElement.getAttribute("dir")==="rtl",Y=document.createElement("textarea");Y.style.fontSize="12pt",Y.style.border="0",Y.style.padding="0",Y.style.margin="0",Y.style.position="absolute",Y.style[xe?"right":"left"]="-9999px";var he=window.pageYOffset||document.documentElement.scrollTop;return Y.style.top="".concat(he,"px"),Y.setAttribute("readonly",""),Y.value=Z,Y}var E=function(Z,xe){var Y=P(Z);xe.container.appendChild(Y);var he=x()(Y);return w("copy"),Y.remove(),he},O=function(Z){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Y="";return typeof Z=="string"?Y=E(Z,xe):Z instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Z==null?void 0:Z.type)?Y=E(Z.value,xe):(Y=x()(Z),w("copy")),Y},a=O;function h(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(xe){return typeof xe}:h=function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},h(Z)}var v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=Z.action,Y=xe===void 0?"copy":xe,he=Z.container,Ke=Z.target,ht=Z.text;if(Y!=="copy"&&Y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Ke!==void 0)if(Ke&&h(Ke)==="object"&&Ke.nodeType===1){if(Y==="copy"&&Ke.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Y==="cut"&&(Ke.hasAttribute("readonly")||Ke.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ht)return a(ht,{container:he});if(Ke)return Y==="cut"?S(Ke):a(Ke,{container:he})},d=v;function _(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(xe){return typeof xe}:_=function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},_(Z)}function C(Z,xe){if(!(Z instanceof xe))throw new TypeError("Cannot call a class as a function")}function N(Z,xe){for(var Y=0;Y<xe.length;Y++){var he=xe[Y];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Z,he.key,he)}}function G(Z,xe,Y){return xe&&N(Z.prototype,xe),Y&&N(Z,Y),Z}function q(Z,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(xe&&xe.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),xe&&K(Z,xe)}function K(Z,xe){return K=Object.setPrototypeOf||function(Y,he){return Y.__proto__=he,Y},K(Z,xe)}function ne(Z){var xe=Me();return function(){var Y=pe(Z),he;if(xe){var Ke=pe(this).constructor;he=Reflect.construct(Y,arguments,Ke)}else he=Y.apply(this,arguments);return Q(this,he)}}function Q(Z,xe){return xe&&(_(xe)==="object"||typeof xe=="function")?xe:ee(Z)}function ee(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function Me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Z){return!1}}function pe(Z){return pe=Object.setPrototypeOf?Object.getPrototypeOf:function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},pe(Z)}function W(Z,xe){var Y="data-clipboard-".concat(Z);if(xe.hasAttribute(Y))return xe.getAttribute(Y)}var oe=function(Z){q(Y,Z);var xe=ne(Y);function Y(he,Ke){var ht;return C(this,Y),ht=xe.call(this),ht.resolveOptions(Ke),ht.listenClick(he),ht}return G(Y,[{key:"resolveOptions",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof he.action=="function"?he.action:this.defaultAction,this.target=typeof he.target=="function"?he.target:this.defaultTarget,this.text=typeof he.text=="function"?he.text:this.defaultText,this.container=_(he.container)==="object"?he.container:document.body}},{key:"listenClick",value:function(he){var Ke=this;this.listener=m()(he,"click",function(ht){return Ke.onClick(ht)})}},{key:"onClick",value:function(he){var Ke=he.delegateTarget||he.currentTarget,ht=this.action(Ke)||"copy",lt=d({action:ht,container:this.container,target:this.target(Ke),text:this.text(Ke)});this.emit(lt?"success":"error",{action:ht,text:lt,trigger:Ke,clearSelection:function(){Ke&&Ke.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(he){return W("action",he)}},{key:"defaultTarget",value:function(he){var Ke=W("target",he);if(Ke)return document.querySelector(Ke)}},{key:"defaultText",value:function(he){return W("text",he)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(he){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return a(he,Ke)}},{key:"cut",value:function(he){return S(he)}},{key:"isSupported",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Ke=typeof he=="string"?[he]:he,ht=!!document.queryCommandSupported;return Ke.forEach(function(lt){ht=ht&&!!document.queryCommandSupported(lt)}),ht}}]),Y}(p()),fe=oe},828:function(o){var c=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function u(p,g){for(;p&&p.nodeType!==c;){if(typeof p.matches=="function"&&p.matches(g))return p;p=p.parentNode}}o.exports=u},438:function(o,c,n){var u=n(828);function p(y,x,w,k,S){var P=m.apply(this,arguments);return y.addEventListener(w,P,S),{destroy:function(){y.removeEventListener(w,P,S)}}}function g(y,x,w,k,S){return typeof y.addEventListener=="function"?p.apply(null,arguments):typeof w=="function"?p.bind(null,document).apply(null,arguments):(typeof y=="string"&&(y=document.querySelectorAll(y)),Array.prototype.map.call(y,function(P){return p(P,x,w,k,S)}))}function m(y,x,w,k){return function(S){S.delegateTarget=u(S.target,x),S.delegateTarget&&k.call(y,S)}}o.exports=g},879:function(o,c){c.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},c.nodeList=function(n){var u=Object.prototype.toString.call(n);return n!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in n&&(n.length===0||c.node(n[0]))},c.string=function(n){return typeof n=="string"||n instanceof String},c.fn=function(n){var u=Object.prototype.toString.call(n);return u==="[object Function]"}},370:function(o,c,n){var u=n(879),p=n(438);function g(w,k,S){if(!w&&!k&&!S)throw new Error("Missing required arguments");if(!u.string(k))throw new TypeError("Second argument must be a String");if(!u.fn(S))throw new TypeError("Third argument must be a Function");if(u.node(w))return m(w,k,S);if(u.nodeList(w))return y(w,k,S);if(u.string(w))return x(w,k,S);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(w,k,S){return w.addEventListener(k,S),{destroy:function(){w.removeEventListener(k,S)}}}function y(w,k,S){return Array.prototype.forEach.call(w,function(P){P.addEventListener(k,S)}),{destroy:function(){Array.prototype.forEach.call(w,function(P){P.removeEventListener(k,S)})}}}function x(w,k,S){return p(document.body,w,k,S)}o.exports=g},817:function(o){function c(n){var u;if(n.nodeName==="SELECT")n.focus(),u=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var p=n.hasAttribute("readonly");p||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),p||n.removeAttribute("readonly"),u=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var g=window.getSelection(),m=document.createRange();m.selectNodeContents(n),g.removeAllRanges(),g.addRange(m),u=g.toString()}return u}o.exports=c},279:function(o){function c(){}c.prototype={on:function(n,u,p){var g=this.e||(this.e={});return(g[n]||(g[n]=[])).push({fn:u,ctx:p}),this},once:function(n,u,p){var g=this;function m(){g.off(n,m),u.apply(p,arguments)}return m._=u,this.on(n,m,p)},emit:function(n){var u=[].slice.call(arguments,1),p=((this.e||(this.e={}))[n]||[]).slice(),g=0,m=p.length;for(g;g<m;g++)p[g].fn.apply(p[g].ctx,u);return this},off:function(n,u){var p=this.e||(this.e={}),g=p[n],m=[];if(g&&u)for(var y=0,x=g.length;y<x;y++)g[y].fn!==u&&g[y].fn._!==u&&m.push(g[y]);return m.length?p[n]=m:delete p[n],this}},o.exports=c,o.exports.TinyEmitter=c}},s={};function l(o){if(s[o])return s[o].exports;var c=s[o]={exports:{}};return r[o](c,c.exports,l),c.exports}return function(){l.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(c,{a:c}),c}}(),function(){l.d=function(o,c){for(var n in c)l.o(c,n)&&!l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})}}(),function(){l.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)}}(),l(686)}().default})}),W0={};t3(W0,{default:()=>Fc});r3=U0(V0());i3(W0,U0(V0()));F0=r3,{default:z0}=F0,n3=nn(F0,["default"]),Fc=z0!==void 0?z0:n3;});var q0=Zt(()=>{qp();qp()});function G0(e,t){let r=e.querySelector("output");r||(r=document.createElement("output"),r.setAttribute("role","alert"),e.appendChild(r)),r.textContent="",r.textContent=t}function o3(e){let t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target",`#${e.querySelector("input").id}`),t}function a3(e){e.querySelector("input")&&(e.appendChild(o3(e)),e.setAttribute("data-copyable-text-ready",""))}function s3(){let e=new Fc("[data-copyable-text] [data-clipboard-target]");e.on("success",t=>{let r=t.trigger.parentElement,s=r.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";G0(r,s)}),e.on("error",t=>{let r=t.trigger.parentElement,s=r.getAttribute("data-copyable-text-error-message")||"Something went wrong.";G0(r,s)})}function l3(){let e=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");e.length<=0||Fc.isSupported()&&([...e].forEach(a3),s3())}var Y0=Zt(()=>{q0();Dn();we(l3)});function K0(e,t){let r=e.querySelector(t);return r?r.value:""}function c3(){_i("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(e=>{let t=e.dataset.disabilityEligibilityType;e.addEventListener("submit",r=>{let s=K0(e,".disability-eligibility-password"),l=K0(e,".disability-eligibility-token"),o={type:t,password:s,token:l},c=/\?.*login=([^&]+)/,n=location.href.match(c);n&&([,o.login]=n);let u=document.createElement("img");u.src="/images/loading.gif",e.querySelector('input[type="submit"]').parentNode.appendChild(u),we.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:o,success:g=>{if(g.status==="success"){alert("Success! Your eligibility has been verified.");return}if(g.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${g.status_code}, ${g.message}`)},error:(g,m,y)=>{alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${m}, ${y}`)},complete:()=>{u.remove()}}),r.preventDefault()})})}var X0=Zt(()=>{Dn();mo();we(()=>c3())});var u3,Z0,J0=Zt(()=>{u3=()=>{let e=window.location.search.substring(1),t={};return e.length>0&&e.split("&").forEach(r=>{let[s,l]=r.split("=");t[s]=decodeURIComponent(l)}),t},Z0=u3});function tn(e,t,r="false",s=null){if(typeof e!="string")throw new Error("first arg should be a string");we(e).on("click",s,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var vd=Zt(()=>{Dn()});var go,Q0=Zt(()=>{mo();zc();Hp();vd();Dn();go=class e{static css(){let t=document.createElement("style");t.textContent=`
#manage-ids {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
}

#manage-help > div {
  display: inline-block;
  font-weight: bold;
  font-size: 125%;
  padding-right: 10px;
}

#manage-help .btn-info {
  background-color: #777;
  border-color: #666;
}


#manage-help > p {
  text-align: center;
}

.item-ia.manage-item  .item-img {
  opacity: .8;
}

.item-ia.manage-item  .item-img:hover {
  opacity: .9;
}

.manage-check {
  position: absolute;
  right: 0;
  top: 0;
  border-style: solid;
  border-color: black;
  border-width: 2px 4px;
  background-color: black;
  border-radius: 3px;
}

#confirm-remove-items .btn {
  display: block;
  margin: 0 auto 10px;
}

.task-pending {
  opacity: .20;
}

/* Bulk remove items modal */
#confirm-remove-items .modal-content {
  padding: 1rem;
}

#confirm-remove-items h2 {
  font-size: 2.4rem;
}
`,document.getElementsByTagName("head")[0].appendChild(t)}static get Context(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}static manage_items(t){we("body").hasClass("lists")&&we(".tiles-button:visible").click();let r=we("body").hasClass("search-results-page")?e.Context.SearchResults:xr.inTab();if(![e.Context.Favorites,e.Context.Uploads,e.Context.Collections,e.Context.WebArchives,e.Context.SearchResults].includes(r)){alert("Removal feature cannot be used here");return}let s=[".item-ia.new-item"];if(r===e.Context.Uploads||r===e.Context.Collections){let l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&s.push(`.item-ia[data-id="fav-${l[1]}"]`)}if(we(s.join(", ")).toggleClass("hidden-tiles"),we(".columns-facets").toggleClass("opac30"),we(".item-ia .manage-check").length)we(".item-ia").removeClass("manage-item").unbind("click"),we(".columns-items .co-top-row > div").toggle(),we(".item-ia .manage-check, #manage-help").remove(),we(".item-ia").off("contextmenu");else{if(we("#manage-help").length&&!we(".item-ia .hov").length){we(".item-ia").removeClass("manage-item").unbind("click"),we(".columns-items .co-top-row > div").toggle(),we(".item-ia .manage-check, #manage-help").remove(),we(".item-ia").off("contextmenu");return}let l;switch(r){case e.Context.Favorites:l="Select items to un-favorite";break;case e.Context.SearchResults:l="Select items";break;default:l="Select items to remove"}we(".columns-items .co-top-row").prepend(`
<div id="manage-help" style="display:none">
  <div>
    ${l}
  </div>
  <div class="topinblock">
    <button id="manage-cancel" class="btn btn-small btn-info">
      Cancel
    </button>
    <button id="manage-remove" class="btn btn-small btn-danger">
      Remove selected items
    </button>
    ${t&&r===e.Context.SearchResults?`
      <button id="manage-item-mgr" class="btn btn-small btn-warning">
        Item Manager the items
      </button>
      `:""}
  </div>
    ${t?`
    <p class="topinblock">
      <a id="manage-toggle-all" href="#">
        Toggle</br>all
      </a>
    </p>
    `:""}
</div>`),we("#manage-cancel").bind("click",e.manage_items),we("#manage-remove").bind("click",()=>e.remove_items_modal(r)),we("#manage-item-mgr").bind("click",e.to_item_manager),we("#manage-toggle-all").bind("click",e.toggle_checkboxes),we(".columns-items .co-top-row > div").toggle(),we(".item-ia.task-pending").bind("click",e.tile_clicked),we(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)").addClass("manage-item").bind("click",e.tile_clicked).append(e.checkbox(r===e.Context.SearchResults?"include item for item management":"remove this item from list")),we(".item-ia").on("contextmenu",c=>{let n=we(c.target).find("a:first").attr("href")||we(c.target).parents("a").attr("href");_i("right-click",n),window.open(n,"_blank")})}}static remove_favorite_item(t){let r=we(t),s=r.data("id"),l=r.data("fav-collection");if(!s||!l)return;let o=location.protocol.concat("//",location.host,"/details/",l).concat(`?remove_item=${encodeURIComponent(s)}&kind=favorite`);e.toggle_favorite_icon(r,!1),e.update_favorite_count(!1),we.get(o)}static checkbox(t){return`
<div class="manage-check">
  <input
    type="checkbox"
    alt="${t}"
    title="${t}"/>
</div>`}static tile_clicked(t){let r=we(t.target);if(r.attr("type")==="checkbox")return!0;t.stopPropagation(),t.preventDefault();let s=r.parents(".item-ia").find(".manage-check input");return s.prop("checked",!s.prop("checked")),!1}static toggle_checkboxes(){return we(".manage-check input").prop("checked",(t,r)=>!r),!1}static remove_items_modal(t){let r="";we(".item-ia[data-id]:has(:checked)").each((o,c)=>{let n=we(c),u=n.find(".C2 a").text().trim();r+=`
        <div>
          <div class="pull-right">
            ${n.find(".pubdate > :first").text()}
          </div>
          <div>
            ${u.length?u:"[untitled]"}
          </div>
          <hr/>
        </div>
      `});let s=r===""?"No items selected":"Are you sure you want to remove these items?",l;if(r==="")r=`
        <div class="alert alert-danger">
          Please select some items using checkboxes from the prior screen to remove.
        </div>`;else{switch(t){case e.Context.Favorites:l="confirmed_remove_favorites";break;case e.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}r+=`
        <button class="btn btn-small btn-danger ${l}">
          Remove items
        </button>`}xr.modal_add(e.modalID,{title:s,body:r,headerClass:""}).modal("show"),tn(`.${l}`,()=>{e[l]()})}static checked_ids(){return we(".item-ia[data-id]:has(:checked)").toArray().reduce((t,r)=>{let{id:s}=we(r).data();return t.concat(t?",":"",s)},"")}static checked_ids_json(){let t=we(".item-ia[data-id]:has(:checked)").toArray().map(r=>we(r).data().id);return JSON.stringify(t)}static to_item_manager(){let t=e.checked_ids();if(_i("to_item_manager:",t),t!==""){let r=we(`
        <form id="manage-ids" method="POST" action="/manage/">
          <input type="text" name="identifier" value="${t}"/>
        </form>`);we("body").append(r),r.submit()}return!1}static confirmed_remove_web_archives(){let t={action:"delete",identifiers:e.checked_ids_json()};we.ajax({type:"POST",url:"/services/web-archives/service.php",data:t,error:(r,s,l)=>{alert("Unable to complete the request. Our servers might be busy. Please try again later."),we(e.modalID).modal("hide")},success:e.update_tiles})}static confirmed_dark_items(){let t={identifier:e.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":`from ${location.pathname}`};we.post("/manage/",t,e.update_tiles)}static confirmed_remove_favorites(){let t=e.checked_ids(),r=location.href.replace(/#.*$/,"").concat(`?kind=favorite&remove_item=${encodeURIComponent(t)}`);return we.get(r,e.update_tiles),!1}static update_tiles(){we(".item-ia[data-id]:has(:checked)").remove(),xr.tiler(),we(e.modalID).modal("hide")}static decorate_pendings(t){t.length&&(_i("pending",t),t.forEach(r=>we(`.item-ia[data-id=${r}]`).addClass("task-pending")))}static toggle_list_status(t){return we(t).hasClass("favorited")?e.remove_favorite_item(t,!0):xr.modal_go(t,{favorite:1}),!1}static toggle_favorite_icon(t,r=!0){let s=we(t).find("span.icon-label");t.length&&(t.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),r?(t.addClass("favorited"),t.attr({"data-original-title":"Unfavorite"}),s.text("Unfavorite")):(t.removeClass("favorited"),t.attr({"data-original-title":"Favorite"}),s.text("Favorite")))}static update_favorite_count(t=!0){let r=we(".favorite-count"),s=r.find(".item-stats-summary__label"),l=r.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",r.append(l),s=document.createElement("span"),s.className="item-stats-summary__label",r.append(s));let o=Number(we(l).text().trim().replace(/,/g,""));t?o+=1:o-=1,we(s).text(o===1?" Favorite":" Favorites"),we(l).text(o.toLocaleString())}};we(()=>{if(window.location.hostname==="web.archive.org")return;go.modalID="#confirm-remove-items",go.css(),we("body").hasClass("manage")&&go.manage_items(1);let e=we(".js-manage-toggle_list_status");e.length&&e.bind("click",t=>{t.preventDefault(),go.toggle_list_status(e[0])}),tn(".js-search-bar-manage",t=>go.manage_items(1)),tn(".js-manage-share_button",t=>xr.modal_go(t.currentTarget,{ignore_lnk:1,shown:xr.embed_codes_adjust}))});window.Manage=go});var ey,ty=Zt(()=>{ey={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss(e){e.preventDefault();let t=e.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(t.getAttribute("data-campaign")),t.remove()},readStorage(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage(e){let t=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify([...t,e]))},bindEvents(){document.querySelectorAll(`${this.selector} [data-action=${this.action}]`).forEach(e=>{e.addEventListener("submit",t=>(this.dismiss(t),!1))})},checkVisibility(){let e=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(t=>{t.classList.toggle("visible",!e.includes(t.getAttribute("data-campaign")))})},isLocalStorageAvailable(){try{return Object.keys(localStorage).length>=0}catch(e){return!1}},init(){this.bindEvents(),this.checkVisibility()}}});function Uc(e,t){let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let s=0;s<r.length;s++)if(r[s].slice(0,r[s].indexOf("="))===e){let l=r[s].slice(r[s].indexOf("=")+1);return l.length>0?unescape(l):""}return""}var Gp=Zt(()=>{});function Yo(e){let t=`${e}`.split("."),r=t[0],s=t.length>1?`.${t[1]}`:"",l=/(\d+)(\d{3})/;for(;l.test(r);)r=r.replace(l,"$1,$2");return r+s}var Yp=Zt(()=>{});var iy,ry=Zt(()=>{jl();Dn();zc();iy=({$form:e,url:t,selector:r,element:s,conf:l})=>{let o={success(c){Fn.get("logged-in-user")!==void 0?(we(r).on("hidden.bs.modal",()=>{we(r).remove(),xr.modal_go(s,an(jr({},l),{postLogin:!0}))}),we(document.body).removeClass("blurry"),we(r).modal("hide")):c.status!=="ok"&&(c.status==="bad_login"&&we(".reset-password").hide(),we(".password-error").html(c.message))},error(c){let n=c.responseJSON;we(".reset-password").hide(),n?we(".password-error").html(n.message):we(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};e.on("submit",()=>{let c={},{success:n,error:u}=o;return e.find("input").each((p,g)=>{we(g).attr("name").length&&(c[we(g).attr("name")]=we(g).val())}),c.submit_by_js="true",e.find(".alert").remove(),we.ajax(t,{type:"POST",data:c,success:n,error:u}),!1})}});var Vc,ny=Zt(()=>{Dn();Yp();zp();Vc=class e{static RegionsTable({caption:t="Regions",captionClass:r="",counts:s=[]}){return`
      <table class="stats-table">
        <caption class="${r}">${t}</caption>

        <thead>
          <tr>
            <th scope="col">Region</th>
            <th scope="col">Country</th>
            <th class="stats-table__numeric-column" scope="col">Views</th>
          </tr>
        </thead>

        <tbody>
          ${s.map(l=>`
            <tr key="${l.state.code}_${l.country.code}_${l.count}">
              <td>${l.state.formattedName}</td>
              <td>${l.country.formattedName}</td>
              <td class="stats-table__numeric-column">${l.formattedCount}</td>
            </tr>`).join("")}
        </tbody>
      </table>`}static setUpTopRegionsTable(){let t=we(".js-top-regions-table"),r=t.find(".js-top-regions-message"),s=r.text();if(!t||!r)return;r.html(Ss.LoadingMessage({message:"loading data"}));let l={uaKinds:["non_robot","unrecognized"]};t.data("days")&&(l.days=parseInt(t.data("days"),10)),t.data("limit")&&(l.limit=parseInt(t.data("limit"),10)),e.StatsApiClient.getGeoCounts(t.data("identifier"),l).then(o=>{t.html(e.RegionsTable({caption:t.data("caption"),captionClass:t.data("captionClass"),counts:o}))},()=>{r.text(s)})}};(function(){function t(n){return n.charAt(0).toUpperCase()+n.slice(1)}class r{constructor({code:u,name:p}){this.code=u,this.name=p}get formattedName(){return t(this.name)}}class s{constructor({count:u,country:p,state:g}){this.count=parseInt(u,10),this.country=p,this.state=g}get formattedCount(){return Yo(this.count)}}function l(n){return new s({count:n.sum_count_value,country:new r({code:n.geo_country,name:n.country}),state:new r({code:n.geo_state,name:n.state})})}function o(n,{uaKinds:u=["robot","non_robot","unrecognized"]}={}){if(!n.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function p(m){return u.indexOf(m)!==-1}let g={};for(let m=0;m<n.counts_geo.length;m++){let y=n.counts_geo[m];if(p(y.ua_kind)&&y.country!=="unknown"){let x=`${y.geo_country}_${y.geo_state}`;g[x]?g[x].count+=y.sum_count_value:g[x]=l(y)}}return Object.keys(g).map(m=>g[m])}let c="https://be-api.us.archive.org/views/v1";Vc.StatsApiClient=class{static getGeoCounts(u,{days:p=30,limit:g=100,uaKinds:m=["robot","non_robot","unrecognized"]}={}){let y=`${c}/detail/collection/${u}/${p}`;return we.get(y).then(x=>{try{return o(x,{uaKinds:m}).sort((w,k)=>w.count<k.count?1:-1).slice(0,g)}catch(w){return we.Deferred().reject(w)}})}}})()});var d3,Xp,h3,p3,f3,m3,g3,v3,Kp,y3,sy,ly,cy,b3,oy,ay,w3,Zp,Jp=Zt(()=>{d3=Object.create,Xp=Object.defineProperty,h3=Object.getOwnPropertyDescriptor,p3=Object.getOwnPropertyNames,f3=Object.getPrototypeOf,m3=Object.prototype.hasOwnProperty,g3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),v3=(e,t)=>{for(var r in t)Xp(e,r,{get:t[r],enumerable:!0})},Kp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of p3(t))!m3.call(e,l)&&l!==r&&Xp(e,l,{get:()=>t[l],enumerable:!(s=h3(t,l))||s.enumerable});return e},y3=(e,t,r)=>(Kp(e,t,"default"),r&&Kp(r,t,"default")),sy=(e,t,r)=>(r=e!=null?d3(f3(e)):{},Kp(t||!e||!e.__esModule?Xp(r,"default",{value:e,enumerable:!0}):r,e)),ly=g3(()=>{(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(a,h){var v,d,_,C=a.nodeName.toLowerCase();return C==="area"?(v=a.parentNode,d=v.name,a.href&&d&&v.nodeName.toLowerCase()==="map"?(_=e("img[usemap='#"+d+"']")[0],!!_&&r(_)):!1):(/input|select|textarea|button|object/.test(C)?!a.disabled:C==="a"&&a.href||h)&&r(a)}function r(a){return e.expr.filters.visible(a)&&!e(a).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}function s(a){for(var h,v;a.length&&a[0]!==document;){if(h=a.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(v=parseInt(a.css("zIndex"),10),!isNaN(v)&&v!==0))return v;a=a.parent()}return 0}function l(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(a){var h="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(h,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(h,"mouseover",c)}function c(){e.datepicker._isDisabledDatepicker(P.inline?P.dpDiv.parent()[0]:P.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function n(a,h){e.extend(a,h);for(var v in h)h[v]==null&&(a[v]=h[v]);return a}function u(a){return function(){var h=this.element.val();a.apply(this,arguments),this._refresh(),h!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(a){var h=this.css("position"),v=h==="absolute",d=a?/(auto|scroll|hidden)/:/(auto|scroll)/,_=this.parents().filter(function(){var C=e(this);return v&&C.css("position")==="static"?!1:d.test(C.css("overflow")+C.css("overflow-y")+C.css("overflow-x"))}).eq(0);return h!=="fixed"&&_.length?_:e(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(a){return function(h){return!!e.data(h,a)}}):function(a,h,v){return!!e.data(a,v[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var h=e.attr(a,"tabindex"),v=isNaN(h);return(v||h>=0)&&t(a,!v)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(a,h){function v(N,G,q,K){return e.each(d,function(){G-=parseFloat(e.css(N,"padding"+this))||0,q&&(G-=parseFloat(e.css(N,"border"+this+"Width"))||0),K&&(G-=parseFloat(e.css(N,"margin"+this))||0)}),G}var d=h==="Width"?["Left","Right"]:["Top","Bottom"],_=h.toLowerCase(),C={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+h]=function(N){return N===void 0?C["inner"+h].call(this):this.each(function(){e(this).css(_,v(this,N)+"px")})},e.fn["outer"+h]=function(N,G){return typeof N!="number"?C["outer"+h].call(this,N):this.each(function(){e(this).css(_,v(this,N,!0,G)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(a){return function(h){return arguments.length?a.call(this,e.camelCase(h)):a.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(a){return function(h,v){return typeof h=="number"?this.each(function(){var d=this;setTimeout(function(){e(d).focus(),v&&v.call(d)},h)}):a.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(h){h.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==void 0)return this.css("zIndex",a);if(this.length)for(var h,v,d=e(this[0]);d.length&&d[0]!==document;){if(h=d.css("position"),(h==="absolute"||h==="relative"||h==="fixed")&&(v=parseInt(d.css("zIndex"),10),!isNaN(v)&&v!==0))return v;d=d.parent()}return 0}}),e.ui.plugin={add:function(a,h,v){var d,_=e.ui[a].prototype;for(d in v)_.plugins[d]=_.plugins[d]||[],_.plugins[d].push([h,v[d]])},call:function(a,h,v,d){var _,C=a.plugins[h];if(C&&(d||a.element[0].parentNode&&a.element[0].parentNode.nodeType!==11))for(_=0;C.length>_;_++)a.options[C[_][0]]&&C[_][1].apply(a.element,v)}};var p=0,g=Array.prototype.slice;e.cleanData=function(a){return function(h){var v,d,_;for(_=0;(d=h[_])!=null;_++)try{v=e._data(d,"events"),v&&v.remove&&e(d).triggerHandler("remove")}catch(C){}a(h)}}(e.cleanData),e.widget=function(a,h,v){var d,_,C,N,G={},q=a.split(".")[0];return a=a.split(".")[1],d=q+"-"+a,v||(v=h,h=e.Widget),e.expr[":"][d.toLowerCase()]=function(K){return!!e.data(K,d)},e[q]=e[q]||{},_=e[q][a],C=e[q][a]=function(K,ne){return this._createWidget?(arguments.length&&this._createWidget(K,ne),void 0):new C(K,ne)},e.extend(C,_,{version:v.version,_proto:e.extend({},v),_childConstructors:[]}),N=new h,N.options=e.widget.extend({},N.options),e.each(v,function(K,ne){return e.isFunction(ne)?(G[K]=function(){var Q=function(){return h.prototype[K].apply(this,arguments)},ee=function(Me){return h.prototype[K].apply(this,Me)};return function(){var Me,pe=this._super,W=this._superApply;return this._super=Q,this._superApply=ee,Me=ne.apply(this,arguments),this._super=pe,this._superApply=W,Me}}(),void 0):(G[K]=ne,void 0)}),C.prototype=e.widget.extend(N,{widgetEventPrefix:_&&N.widgetEventPrefix||a},G,{constructor:C,namespace:q,widgetName:a,widgetFullName:d}),_?(e.each(_._childConstructors,function(K,ne){var Q=ne.prototype;e.widget(Q.namespace+"."+Q.widgetName,C,ne._proto)}),delete _._childConstructors):h._childConstructors.push(C),e.widget.bridge(a,C),C},e.widget.extend=function(a){for(var h,v,d=g.call(arguments,1),_=0,C=d.length;C>_;_++)for(h in d[_])v=d[_][h],d[_].hasOwnProperty(h)&&v!==void 0&&(a[h]=e.isPlainObject(v)?e.isPlainObject(a[h])?e.widget.extend({},a[h],v):e.widget.extend({},v):v);return a},e.widget.bridge=function(a,h){var v=h.prototype.widgetFullName||a;e.fn[a]=function(d){var _=typeof d=="string",C=g.call(arguments,1),N=this;return d=!_&&C.length?e.widget.extend.apply(null,[d].concat(C)):d,_?this.each(function(){var G,q=e.data(this,v);return d==="instance"?(N=q,!1):q?e.isFunction(q[d])&&d.charAt(0)!=="_"?(G=q[d].apply(q,C),G!==q&&G!==void 0?(N=G&&G.jquery?N.pushStack(G.get()):G,!1):void 0):e.error("no such method '"+d+"' for "+a+" widget instance"):e.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'")}):this.each(function(){var G=e.data(this,v);G?(G.option(d||{}),G._init&&G._init()):e.data(this,v,new h(d,this))}),N}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,h){h=e(h||this.defaultElement||this)[0],this.element=e(h),this.uuid=p++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=e(),this.hoverable=e(),this.focusable=e(),h!==this&&(e.data(h,this.widgetFullName,this),this._on(!0,this.element,{remove:function(v){v.target===h&&this.destroy()}}),this.document=e(h.style?h.ownerDocument:h.document||h),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(a,h){var v,d,_,C=a;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof a=="string")if(C={},v=a.split("."),a=v.shift(),v.length){for(d=C[a]=e.widget.extend({},this.options[a]),_=0;v.length-1>_;_++)d[v[_]]=d[v[_]]||{},d=d[v[_]];if(a=v.pop(),arguments.length===1)return d[a]===void 0?null:d[a];d[a]=h}else{if(arguments.length===1)return this.options[a]===void 0?null:this.options[a];C[a]=h}return this._setOptions(C),this},_setOptions:function(a){var h;for(h in a)this._setOption(h,a[h]);return this},_setOption:function(a,h){return this.options[a]=h,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!h),h&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,h,v){var d,_=this;typeof a!="boolean"&&(v=h,h=a,a=!1),v?(h=d=e(h),this.bindings=this.bindings.add(h)):(v=h,h=this.element,d=this.widget()),e.each(v,function(C,N){function G(){return a||_.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?(typeof N=="string"?_[N]:N).apply(_,arguments):void 0}typeof N!="string"&&(G.guid=N.guid=N.guid||G.guid||e.guid++);var q=C.match(/^([\w:-]*)\s*(.*)$/),K=q[1]+_.eventNamespace,ne=q[2];ne?d.delegate(ne,K,G):h.bind(K,G)})},_off:function(a,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(h).undelegate(h)},_delay:function(a,h){function v(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(v,h||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(h){e(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){e(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(h){e(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){e(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,h,v){var d,_,C=this.options[a];if(v=v||{},h=e.Event(h),h.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),h.target=this.element[0],_=h.originalEvent)for(d in _)d in h||(h[d]=_[d]);return this.element.trigger(h,v),!(e.isFunction(C)&&C.apply(this.element[0],[h].concat(v))===!1||h.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(a,h){e.Widget.prototype["_"+a]=function(v,d,_){typeof d=="string"&&(d={effect:d});var C,N=d?d===!0||typeof d=="number"?h:d.effect||h:a;d=d||{},typeof d=="number"&&(d={duration:d}),C=!e.isEmptyObject(d),d.complete=_,d.delay&&v.delay(d.delay),C&&e.effects&&e.effects.effect[N]?v[a](d):N!==a&&v[N]?v[N](d.duration,d.easing,_):v.queue(function(G){e(this)[a](),_&&_.call(v[0]),G()})}}),e.widget;var m=!1;e(document).mouseup(function(){m=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(h){return a._mouseDown(h)}).bind("click."+this.widgetName,function(h){return e.data(h.target,a.widgetName+".preventClickEvent")===!0?(e.removeData(h.target,a.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!m){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var h=this,v=a.which===1,d=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;return v&&!d&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(e.data(a.target,this.widgetName+".preventClickEvent")===!0&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(_){return h._mouseMove(_)},this._mouseUpDelegate=function(_){return h._mouseUp(_)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(a){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button?this._mouseUp(a):a.which?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),m=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function a(pe,W,oe){return[parseFloat(pe[0])*(ee.test(pe[0])?W/100:1),parseFloat(pe[1])*(ee.test(pe[1])?oe/100:1)]}function h(pe,W){return parseInt(e.css(pe,W),10)||0}function v(pe){var W=pe[0];return W.nodeType===9?{width:pe.width(),height:pe.height(),offset:{top:0,left:0}}:e.isWindow(W)?{width:pe.width(),height:pe.height(),offset:{top:pe.scrollTop(),left:pe.scrollLeft()}}:W.preventDefault?{width:0,height:0,offset:{top:W.pageY,left:W.pageX}}:{width:pe.outerWidth(),height:pe.outerHeight(),offset:pe.offset()}}e.ui=e.ui||{};var d,_,C=Math.max,N=Math.abs,G=Math.round,q=/left|center|right/,K=/top|center|bottom/,ne=/[\+\-]\d+(\.[\d]+)?%?/,Q=/^\w+/,ee=/%$/,Me=e.fn.position;e.position={scrollbarWidth:function(){if(d!==void 0)return d;var pe,W,oe=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),fe=oe.children()[0];return e("body").append(oe),pe=fe.offsetWidth,oe.css("overflow","scroll"),W=fe.offsetWidth,pe===W&&(W=oe[0].clientWidth),oe.remove(),d=pe-W},getScrollInfo:function(pe){var W=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-x"),oe=pe.isWindow||pe.isDocument?"":pe.element.css("overflow-y"),fe=W==="scroll"||W==="auto"&&pe.width<pe.element[0].scrollWidth,Z=oe==="scroll"||oe==="auto"&&pe.height<pe.element[0].scrollHeight;return{width:Z?e.position.scrollbarWidth():0,height:fe?e.position.scrollbarWidth():0}},getWithinInfo:function(pe){var W=e(pe||window),oe=e.isWindow(W[0]),fe=!!W[0]&&W[0].nodeType===9;return{element:W,isWindow:oe,isDocument:fe,offset:W.offset()||{left:0,top:0},scrollLeft:W.scrollLeft(),scrollTop:W.scrollTop(),width:oe||fe?W.width():W.outerWidth(),height:oe||fe?W.height():W.outerHeight()}}},e.fn.position=function(pe){if(!pe||!pe.of)return Me.apply(this,arguments);pe=e.extend({},pe);var W,oe,fe,Z,xe,Y,he=e(pe.of),Ke=e.position.getWithinInfo(pe.within),ht=e.position.getScrollInfo(Ke),lt=(pe.collision||"flip").split(" "),We={};return Y=v(he),he[0].preventDefault&&(pe.at="left top"),oe=Y.width,fe=Y.height,Z=Y.offset,xe=e.extend({},Z),e.each(["my","at"],function(){var Se,Le,je=(pe[this]||"").split(" ");je.length===1&&(je=q.test(je[0])?je.concat(["center"]):K.test(je[0])?["center"].concat(je):["center","center"]),je[0]=q.test(je[0])?je[0]:"center",je[1]=K.test(je[1])?je[1]:"center",Se=ne.exec(je[0]),Le=ne.exec(je[1]),We[this]=[Se?Se[0]:0,Le?Le[0]:0],pe[this]=[Q.exec(je[0])[0],Q.exec(je[1])[0]]}),lt.length===1&&(lt[1]=lt[0]),pe.at[0]==="right"?xe.left+=oe:pe.at[0]==="center"&&(xe.left+=oe/2),pe.at[1]==="bottom"?xe.top+=fe:pe.at[1]==="center"&&(xe.top+=fe/2),W=a(We.at,oe,fe),xe.left+=W[0],xe.top+=W[1],this.each(function(){var Se,Le,je=e(this),Ne=je.outerWidth(),Ge=je.outerHeight(),it=h(this,"marginLeft"),Re=h(this,"marginTop"),te=Ne+it+h(this,"marginRight")+ht.width,J=Ge+Re+h(this,"marginBottom")+ht.height,qe=e.extend({},xe),_t=a(We.my,je.outerWidth(),je.outerHeight());pe.my[0]==="right"?qe.left-=Ne:pe.my[0]==="center"&&(qe.left-=Ne/2),pe.my[1]==="bottom"?qe.top-=Ge:pe.my[1]==="center"&&(qe.top-=Ge/2),qe.left+=_t[0],qe.top+=_t[1],_||(qe.left=G(qe.left),qe.top=G(qe.top)),Se={marginLeft:it,marginTop:Re},e.each(["left","top"],function(be,$e){e.ui.position[lt[be]]&&e.ui.position[lt[be]][$e](qe,{targetWidth:oe,targetHeight:fe,elemWidth:Ne,elemHeight:Ge,collisionPosition:Se,collisionWidth:te,collisionHeight:J,offset:[W[0]+_t[0],W[1]+_t[1]],my:pe.my,at:pe.at,within:Ke,elem:je})}),pe.using&&(Le=function(be){var $e=Z.left-qe.left,st=$e+oe-Ne,Ee=Z.top-qe.top,Qe=Ee+fe-Ge,nt={target:{element:he,left:Z.left,top:Z.top,width:oe,height:fe},element:{element:je,left:qe.left,top:qe.top,width:Ne,height:Ge},horizontal:0>st?"left":$e>0?"right":"center",vertical:0>Qe?"top":Ee>0?"bottom":"middle"};Ne>oe&&oe>N($e+st)&&(nt.horizontal="center"),Ge>fe&&fe>N(Ee+Qe)&&(nt.vertical="middle"),nt.important=C(N($e),N(st))>C(N(Ee),N(Qe))?"horizontal":"vertical",pe.using.call(this,be,nt)}),je.offset(e.extend(qe,{using:Le}))})},e.ui.position={fit:{left:function(pe,W){var oe,fe=W.within,Z=fe.isWindow?fe.scrollLeft:fe.offset.left,xe=fe.width,Y=pe.left-W.collisionPosition.marginLeft,he=Z-Y,Ke=Y+W.collisionWidth-xe-Z;W.collisionWidth>xe?he>0&&0>=Ke?(oe=pe.left+he+W.collisionWidth-xe-Z,pe.left+=he-oe):pe.left=Ke>0&&0>=he?Z:he>Ke?Z+xe-W.collisionWidth:Z:he>0?pe.left+=he:Ke>0?pe.left-=Ke:pe.left=C(pe.left-Y,pe.left)},top:function(pe,W){var oe,fe=W.within,Z=fe.isWindow?fe.scrollTop:fe.offset.top,xe=W.within.height,Y=pe.top-W.collisionPosition.marginTop,he=Z-Y,Ke=Y+W.collisionHeight-xe-Z;W.collisionHeight>xe?he>0&&0>=Ke?(oe=pe.top+he+W.collisionHeight-xe-Z,pe.top+=he-oe):pe.top=Ke>0&&0>=he?Z:he>Ke?Z+xe-W.collisionHeight:Z:he>0?pe.top+=he:Ke>0?pe.top-=Ke:pe.top=C(pe.top-Y,pe.top)}},flip:{left:function(pe,W){var oe,fe,Z=W.within,xe=Z.offset.left+Z.scrollLeft,Y=Z.width,he=Z.isWindow?Z.scrollLeft:Z.offset.left,Ke=pe.left-W.collisionPosition.marginLeft,ht=Ke-he,lt=Ke+W.collisionWidth-Y-he,We=W.my[0]==="left"?-W.elemWidth:W.my[0]==="right"?W.elemWidth:0,Se=W.at[0]==="left"?W.targetWidth:W.at[0]==="right"?-W.targetWidth:0,Le=-2*W.offset[0];0>ht?(oe=pe.left+We+Se+Le+W.collisionWidth-Y-xe,(0>oe||N(ht)>oe)&&(pe.left+=We+Se+Le)):lt>0&&(fe=pe.left-W.collisionPosition.marginLeft+We+Se+Le-he,(fe>0||lt>N(fe))&&(pe.left+=We+Se+Le))},top:function(pe,W){var oe,fe,Z=W.within,xe=Z.offset.top+Z.scrollTop,Y=Z.height,he=Z.isWindow?Z.scrollTop:Z.offset.top,Ke=pe.top-W.collisionPosition.marginTop,ht=Ke-he,lt=Ke+W.collisionHeight-Y-he,We=W.my[1]==="top",Se=We?-W.elemHeight:W.my[1]==="bottom"?W.elemHeight:0,Le=W.at[1]==="top"?W.targetHeight:W.at[1]==="bottom"?-W.targetHeight:0,je=-2*W.offset[1];0>ht?(fe=pe.top+Se+Le+je+W.collisionHeight-Y-xe,pe.top+Se+Le+je>ht&&(0>fe||N(ht)>fe)&&(pe.top+=Se+Le+je)):lt>0&&(oe=pe.top-W.collisionPosition.marginTop+Se+Le+je-he,pe.top+Se+Le+je>lt&&(oe>0||lt>N(oe))&&(pe.top+=Se+Le+je))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var pe,W,oe,fe,Z,xe=document.getElementsByTagName("body")[0],Y=document.createElement("div");pe=document.createElement(xe?"div":"body"),oe={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},xe&&e.extend(oe,{position:"absolute",left:"-1000px",top:"-1000px"});for(Z in oe)pe.style[Z]=oe[Z];pe.appendChild(Y),W=xe||document.documentElement,W.insertBefore(pe,W.firstChild),Y.style.cssText="position: absolute; left: 10.7432222px;",fe=e(Y).offset().left,_=fe>10&&11>fe,pe.innerHTML="",W.removeChild(pe)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&a.active!=null||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var a=this.options.icons;a&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,h){return a==="active"?(this._activate(h),void 0):(a==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(h)),this._super(a,h),a!=="collapsible"||h||this.options.active!==!1||this._activate(0),a==="icons"&&(this._destroyIcons(),h&&this._createIcons()),a==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)),void 0)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var h=e.ui.keyCode,v=this.headers.length,d=this.headers.index(a.target),_=!1;switch(a.keyCode){case h.RIGHT:case h.DOWN:_=this.headers[(d+1)%v];break;case h.LEFT:case h.UP:_=this.headers[(d-1+v)%v];break;case h.SPACE:case h.ENTER:this._eventHandler(a);break;case h.HOME:_=this.headers[0];break;case h.END:_=this.headers[v-1]}_&&(e(a.target).attr("tabIndex",-1),e(_).attr("tabIndex",0),_.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===e.ui.keyCode.UP&&a.ctrlKey&&e(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=e()):a.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=e()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var a,h=this.options,v=h.heightStyle,d=this.element.parent();this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var _=e(this),C=_.uniqueId().attr("id"),N=_.next(),G=N.uniqueId().attr("id");_.attr("aria-controls",G),N.attr("aria-labelledby",C)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(h.event),v==="fill"?(a=d.height(),this.element.siblings(":visible").each(function(){var _=e(this),C=_.css("position");C!=="absolute"&&C!=="fixed"&&(a-=_.outerHeight(!0))}),this.headers.each(function(){a-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,a-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):v==="auto"&&(a=0,this.headers.next().each(function(){a=Math.max(a,e(this).css("height","").height())}).height(a))},_activate:function(a){var h=this._findActive(a)[0];h!==this.active[0]&&(h=h||this.active[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(a){return typeof a=="number"?this.headers.eq(a):e()},_setupEvents:function(a){var h={keydown:"_keydown"};a&&e.each(a.split(" "),function(v,d){h[d]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,h),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(a){var h=this.options,v=this.active,d=e(a.currentTarget),_=d[0]===v[0],C=_&&h.collapsible,N=C?e():d.next(),G=v.next(),q={oldHeader:v,oldPanel:G,newHeader:C?e():d,newPanel:N};a.preventDefault(),_&&!h.collapsible||this._trigger("beforeActivate",a,q)===!1||(h.active=C?!1:this.headers.index(d),this.active=_?e():d,this._toggle(q),v.removeClass("ui-accordion-header-active ui-state-active"),h.icons&&v.children(".ui-accordion-header-icon").removeClass(h.icons.activeHeader).addClass(h.icons.header),_||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),h.icons&&d.children(".ui-accordion-header-icon").removeClass(h.icons.header).addClass(h.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var h=a.newPanel,v=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=h,this.prevHide=v,this.options.animate?this._animate(h,v,a):(v.hide(),h.show(),this._toggleComplete(a)),v.attr({"aria-hidden":"true"}),v.prev().attr("aria-selected","false"),h.length&&v.length?v.prev().attr({tabIndex:-1,"aria-expanded":"false"}):h.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),h.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,h,v){var d,_,C,N=this,G=0,q=a.length&&(!h.length||a.index()<h.index()),K=this.options.animate||{},ne=q&&K.down||K,Q=function(){N._toggleComplete(v)};return typeof ne=="number"&&(C=ne),typeof ne=="string"&&(_=ne),_=_||ne.easing||K.easing,C=C||ne.duration||K.duration,h.length?a.length?(d=a.show().outerHeight(),h.animate(this.hideProps,{duration:C,easing:_,step:function(ee,Me){Me.now=Math.round(ee)}}),a.hide().animate(this.showProps,{duration:C,easing:_,complete:Q,step:function(ee,Me){Me.now=Math.round(ee),Me.prop!=="height"?G+=Me.now:N.options.heightStyle!=="content"&&(Me.now=Math.round(d-h.outerHeight()-G),G=0)}}),void 0):h.animate(this.hideProps,C,_,Q):a.animate(this.showProps,C,_,Q)},_toggleComplete:function(a){var h=a.oldPanel;h.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),h.length&&(h.parent()[0].className=h.parent()[0].className),this._trigger("activate",null,a)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var h=e(a.target);!this.mouseHandled&&h.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),h.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var h=e(a.currentTarget);h.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(a,h)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,h){var v=this.active||this.element.find(this.options.items).eq(0);h||this.focus(a,v)},blur:function(a){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=e(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){function h(q){return q.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var v,d,_,C,N,G=!0;switch(a.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(a);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case e.ui.keyCode.HOME:this._move("first","first",a);break;case e.ui.keyCode.END:this._move("last","last",a);break;case e.ui.keyCode.UP:this.previous(a);break;case e.ui.keyCode.DOWN:this.next(a);break;case e.ui.keyCode.LEFT:this.collapse(a);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(a);break;case e.ui.keyCode.ESCAPE:this.collapse(a);break;default:G=!1,d=this.previousFilter||"",_=String.fromCharCode(a.keyCode),C=!1,clearTimeout(this.filterTimer),_===d?C=!0:_=d+_,N=RegExp("^"+h(_),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())}),v=C&&v.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):v,v.length||(_=String.fromCharCode(a.keyCode),N=RegExp("^"+h(_),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())})),v.length?(this.focus(a,v),v.length>1?(this.previousFilter=_,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}G&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var a,h,v=this,d=this.options.icons.submenu,_=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),_.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var C=e(this),N=C.parent(),G=e("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);N.attr("aria-haspopup","true").prepend(G),C.attr("aria-labelledby",N.attr("id"))}),a=_.add(this.element),h=a.find(this.options.items),h.not(".ui-menu-item").each(function(){var C=e(this);v._isDivider(C)&&C.addClass("ui-widget-content ui-menu-divider")}),h.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),h.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,h){a==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(h.submenu),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(a,h)},focus:function(a,h){var v,d;this.blur(a,a&&a.type==="focus"),this._scrollIntoView(h),this.active=h.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&a.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),v=h.children(".ui-menu"),v.length&&a&&/^mouse/.test(a.type)&&this._startOpening(v),this.activeMenu=h.parent(),this._trigger("focus",a,{item:h})},_scrollIntoView:function(a){var h,v,d,_,C,N;this._hasScroll()&&(h=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-h-v,_=this.activeMenu.scrollTop(),C=this.activeMenu.height(),N=a.outerHeight(),0>d?this.activeMenu.scrollTop(_+d):d+N>C&&this.activeMenu.scrollTop(_+d-C+N))},blur:function(a,h){h||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),a.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var h=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(h)},collapseAll:function(a,h){clearTimeout(this.timer),this.timer=this._delay(function(){var v=h?this.element:e(a&&a.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(a),this.activeMenu=v},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!e(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var h=this.active&&this.active.parent().closest(".ui-menu-item",this.element);h&&h.length&&(this._close(),this.focus(a,h))},expand:function(a){var h=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();h&&h.length&&(this._open(h.parent()),this._delay(function(){this.focus(a,h)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,h,v){var d;this.active&&(d=a==="first"||a==="last"?this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[h]()),this.focus(v,d)},nextPage:function(a){var h,v,d;return this.active?(this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return h=e(this),0>h.offset().top-v-d}),this.focus(a,h)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var h,v,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return h=e(this),h.offset().top-v+d>0}),this.focus(a,h)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||e(a.target).closest(".ui-menu-item");var h={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,h)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,h,v,d=this.element[0].nodeName.toLowerCase(),_=d==="textarea",C=d==="input";this.isMultiLine=_?!0:C?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[_||C?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(N){if(this.element.prop("readOnly"))return a=!0,v=!0,h=!0,void 0;a=!1,v=!1,h=!1;var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:a=!0,this._move("previousPage",N);break;case G.PAGE_DOWN:a=!0,this._move("nextPage",N);break;case G.UP:a=!0,this._keyEvent("previous",N);break;case G.DOWN:a=!0,this._keyEvent("next",N);break;case G.ENTER:this.menu.active&&(a=!0,N.preventDefault(),this.menu.select(N));break;case G.TAB:this.menu.active&&this.menu.select(N);break;case G.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(N),N.preventDefault());break;default:h=!0,this._searchTimeout(N)}},keypress:function(N){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&N.preventDefault(),void 0;if(!h){var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:this._move("previousPage",N);break;case G.PAGE_DOWN:this._move("nextPage",N);break;case G.UP:this._keyEvent("previous",N);break;case G.DOWN:this._keyEvent("next",N)}}},input:function(N){return v?(v=!1,N.preventDefault(),void 0):(this._searchTimeout(N),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(N){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(N),this._change(N),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(N){N.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var G=this.menu.element[0];e(N.target).closest(".ui-menu-item").length||this._delay(function(){var q=this;this.document.one("mousedown",function(K){K.target===q.element[0]||K.target===G||e.contains(G,K.target)||q.close()})})},menufocus:function(N,G){var q,K;return this.isNewMenu&&(this.isNewMenu=!1,N.originalEvent&&/^mouse/.test(N.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(N.target).trigger(N.originalEvent)}),void 0):(K=G.item.data("ui-autocomplete-item"),this._trigger("focus",N,{item:K})!==!1&&N.originalEvent&&/^key/.test(N.originalEvent.type)&&this._value(K.value),q=G.item.attr("aria-label")||K.value,q&&e.trim(q).length&&(this.liveRegion.children().hide(),e("<div>").text(q).appendTo(this.liveRegion)),void 0)},menuselect:function(N,G){var q=G.item.data("ui-autocomplete-item"),K=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=K,this._delay(function(){this.previous=K,this.selectedItem=q})),this._trigger("select",N,{item:q})!==!1&&this._value(q.value),this.term=this._value(),this.close(N),this.selectedItem=q}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,h){this._super(a,h),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this._appendTo()),a==="disabled"&&h&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?e(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,h,v=this;e.isArray(this.options.source)?(a=this.options.source,this.source=function(d,_){_(e.ui.autocomplete.filter(a,d.term))}):typeof this.options.source=="string"?(h=this.options.source,this.source=function(d,_){v.xhr&&v.xhr.abort(),v.xhr=e.ajax({url:h,data:d,dataType:"json",success:function(C){_(C)},error:function(){_([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var h=this.term===this._value(),v=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!h||h&&!v&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,h){return a=a!=null?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(h):this._trigger("search",h)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return e.proxy(function(h){a===this.requestIndex&&this.__response(h),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:e.map(a,function(h){return typeof h=="string"?{label:h,value:h}:e.extend({},h,{label:h.label||h.value,value:h.value||h.label})})},_suggest:function(a){var h=this.menu.element.empty();this._renderMenu(h,a),this.isNewMenu=!0,this.menu.refresh(),h.show(),this._resizeMenu(),h.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,h){var v=this;e.each(h,function(d,_){v._renderItemData(a,_)})},_renderItemData:function(a,h){return this._renderItem(a,h).data("ui-autocomplete-item",h)},_renderItem:function(a,h){return e("<li>").text(h.label).appendTo(a)},_move:function(a,h){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](h),void 0):(this.search(null,h),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,h){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,h),h.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,h){var v=RegExp(e.ui.autocomplete.escapeRegex(h),"i");return e.grep(a,function(d){return v.test(d.label||d.value||d)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var h;this._superApply(arguments),this.options.disabled||this.cancelSearch||(h=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(h).appendTo(this.liveRegion))}}),e.ui.autocomplete;var y,x="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var a=e(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},S=function(a){var h=a.name,v=a.form,d=e([]);return h&&(h=h.replace(/'/g,"\\'"),d=v?e(v).find("[name='"+h+"'][type=radio]"):e("[name='"+h+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})),d};e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,h=this.options,v=this.type==="checkbox"||this.type==="radio",d=v?"":"ui-state-active";h.label===null&&(h.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(x).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||this===y&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(_){h.disabled&&(_.preventDefault(),_.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),v&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var _=a.element[0];S(_).not(_).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(e(this).addClass("ui-state-active"),y=this,a.document.one("mouseup",function(){y=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(_){return h.disabled?!1:((_.keyCode===e.ui.keyCode.SPACE||_.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(_){_.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,h,v;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(h),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(h),this.buttonElement.length||(this.buttonElement=a.find(h))),this.element.addClass("ui-helper-hidden-accessible"),v=this.element.is(":checked"),v&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",v)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(x+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,h){return this._super(a,h),a==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),h&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?S(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var a=this.buttonElement.removeClass(w),h=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),v=this.options.icons,d=v.primary&&v.secondary,_=[];v.primary||v.secondary?(this.options.text&&_.push("ui-button-text-icon"+(d?"s":v.primary?"-primary":"-secondary")),v.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+v.primary+"'></span>"),v.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+v.secondary+"'></span>"),this.options.text||(_.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",e.trim(h)))):_.push("ui-button-text-only"),a.addClass(_.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,h){a==="disabled"&&this.buttons.button("option",a,h),this._super(a,h)},refresh:function(){var a=this.element.css("direction")==="rtl",h=this.element.find(this.options.items),v=h.filter(":ui-button");h.not(":ui-button").button(),v.button("refresh"),this.buttons=h.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.1"}});var P;e.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return n(this._defaults,a||{}),this},_attachDatepicker:function(a,h){var v,d,_;v=a.nodeName.toLowerCase(),d=v==="div"||v==="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid),_=this._newInst(e(a),d),_.settings=e.extend({},h||{}),v==="input"?this._connectDatepicker(a,_):d&&this._inlineDatepicker(a,_)},_newInst:function(a,h){var v=a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:v,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:h,dpDiv:h?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,h){var v=e(a);h.append=e([]),h.trigger=e([]),v.hasClass(this.markerClassName)||(this._attachments(v,h),v.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(h),e.data(a,"datepicker",h),h.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,h){var v,d,_,C=this._get(h,"appendText"),N=this._get(h,"isRTL");h.append&&h.append.remove(),C&&(h.append=e("<span class='"+this._appendClass+"'>"+C+"</span>"),a[N?"before":"after"](h.append)),a.unbind("focus",this._showDatepicker),h.trigger&&h.trigger.remove(),v=this._get(h,"showOn"),(v==="focus"||v==="both")&&a.focus(this._showDatepicker),(v==="button"||v==="both")&&(d=this._get(h,"buttonText"),_=this._get(h,"buttonImage"),h.trigger=e(this._get(h,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:_,alt:d,title:d}):e("<button type='button'></button>").addClass(this._triggerClass).html(_?e("<img/>").attr({src:_,alt:d,title:d}):d)),a[N?"before":"after"](h.trigger),h.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===a[0]?e.datepicker._hideDatepicker():(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==a[0]&&e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(a[0])),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var h,v,d,_,C=new Date(2009,11,20),N=this._get(a,"dateFormat");N.match(/[DM]/)&&(h=function(G){for(v=0,d=0,_=0;G.length>_;_++)G[_].length>v&&(v=G[_].length,d=_);return d},C.setMonth(h(this._get(a,N.match(/MM/)?"monthNames":"monthNamesShort"))),C.setDate(h(this._get(a,N.match(/DD/)?"dayNames":"dayNamesShort"))+20-C.getDay())),a.input.attr("size",this._formatDate(a,C).length)}},_inlineDatepicker:function(a,h){var v=e(a);v.hasClass(this.markerClassName)||(v.addClass(this.markerClassName).append(h.dpDiv),e.data(a,"datepicker",h),this._setDate(h,this._getDefaultDate(h),!0),this._updateDatepicker(h),this._updateAlternate(h),h.settings.disabled&&this._disableDatepicker(a),h.dpDiv.css("display","block"))},_dialogDatepicker:function(a,h,v,d,_){var C,N,G,q,K,ne=this._dialogInst;return ne||(this.uuid+=1,C="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+C+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),ne=this._dialogInst=this._newInst(this._dialogInput,!1),ne.settings={},e.data(this._dialogInput[0],"datepicker",ne)),n(ne.settings,d||{}),h=h&&h.constructor===Date?this._formatDate(ne,h):h,this._dialogInput.val(h),this._pos=_?_.length?_:[_.pageX,_.pageY]:null,this._pos||(N=document.documentElement.clientWidth,G=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,K=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[N/2-100+q,G/2-150+K]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),ne.settings.onSelect=v,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",ne),this},_destroyDatepicker:function(a){var h,v=e(a),d=e.data(a,"datepicker");v.hasClass(this.markerClassName)&&(h=a.nodeName.toLowerCase(),e.removeData(a,"datepicker"),h==="input"?(d.append.remove(),d.trigger.remove(),v.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(h==="div"||h==="span")&&v.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var h,v,d=e(a),_=e.data(a,"datepicker");d.hasClass(this.markerClassName)&&(h=a.nodeName.toLowerCase(),h==="input"?(a.disabled=!1,_.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(h==="div"||h==="span")&&(v=d.children("."+this._inlineClass),v.children().removeClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===a?null:C}))},_disableDatepicker:function(a){var h,v,d=e(a),_=e.data(a,"datepicker");d.hasClass(this.markerClassName)&&(h=a.nodeName.toLowerCase(),h==="input"?(a.disabled=!0,_.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(h==="div"||h==="span")&&(v=d.children("."+this._inlineClass),v.children().addClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===a?null:C}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var h=0;this._disabledInputs.length>h;h++)if(this._disabledInputs[h]===a)return!0;return!1},_getInst:function(a){try{return e.data(a,"datepicker")}catch(h){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,h,v){var d,_,C,N,G=this._getInst(a);return arguments.length===2&&typeof h=="string"?h==="defaults"?e.extend({},e.datepicker._defaults):G?h==="all"?e.extend({},G.settings):this._get(G,h):null:(d=h||{},typeof h=="string"&&(d={},d[h]=v),G&&(this._curInst===G&&this._hideDatepicker(),_=this._getDateDatepicker(a,!0),C=this._getMinMaxDate(G,"min"),N=this._getMinMaxDate(G,"max"),n(G.settings,d),C!==null&&d.dateFormat!==void 0&&d.minDate===void 0&&(G.settings.minDate=this._formatDate(G,C)),N!==null&&d.dateFormat!==void 0&&d.maxDate===void 0&&(G.settings.maxDate=this._formatDate(G,N)),"disabled"in d&&(d.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(e(a),G),this._autoSize(G),this._setDate(G,_),this._updateAlternate(G),this._updateDatepicker(G)),void 0)},_changeDatepicker:function(a,h,v){this._optionDatepicker(a,h,v)},_refreshDatepicker:function(a){var h=this._getInst(a);h&&this._updateDatepicker(h)},_setDateDatepicker:function(a,h){var v=this._getInst(a);v&&(this._setDate(v,h),this._updateDatepicker(v),this._updateAlternate(v))},_getDateDatepicker:function(a,h){var v=this._getInst(a);return v&&!v.inline&&this._setDateFromField(v,h),v?this._getDate(v):null},_doKeyDown:function(a){var h,v,d,_=e.datepicker._getInst(a.target),C=!0,N=_.dpDiv.is(".ui-datepicker-rtl");if(_._keyEvent=!0,e.datepicker._datepickerShowing)switch(a.keyCode){case 9:e.datepicker._hideDatepicker(),C=!1;break;case 13:return d=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",_.dpDiv),d[0]&&e.datepicker._selectDay(a.target,_.selectedMonth,_.selectedYear,d[0]),h=e.datepicker._get(_,"onSelect"),h?(v=e.datepicker._formatDate(_),h.apply(_.input?_.input[0]:null,[v,_])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(a.target,a.ctrlKey?-e.datepicker._get(_,"stepBigMonths"):-e.datepicker._get(_,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(a.target,a.ctrlKey?+e.datepicker._get(_,"stepBigMonths"):+e.datepicker._get(_,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&e.datepicker._clearDate(a.target),C=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&e.datepicker._gotoToday(a.target),C=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,N?1:-1,"D"),C=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&e.datepicker._adjustDate(a.target,a.ctrlKey?-e.datepicker._get(_,"stepBigMonths"):-e.datepicker._get(_,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,-7,"D"),C=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,N?-1:1,"D"),C=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&e.datepicker._adjustDate(a.target,a.ctrlKey?+e.datepicker._get(_,"stepBigMonths"):+e.datepicker._get(_,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,7,"D"),C=a.ctrlKey||a.metaKey;break;default:C=!1}else a.keyCode===36&&a.ctrlKey?e.datepicker._showDatepicker(this):C=!1;C&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var h,v,d=e.datepicker._getInst(a.target);return e.datepicker._get(d,"constrainInput")?(h=e.datepicker._possibleChars(e.datepicker._get(d,"dateFormat")),v=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">v||!h||h.indexOf(v)>-1):void 0},_doKeyUp:function(a){var h,v=e.datepicker._getInst(a.target);if(v.input.val()!==v.lastVal)try{h=e.datepicker.parseDate(e.datepicker._get(v,"dateFormat"),v.input?v.input.val():null,e.datepicker._getFormatConfig(v)),h&&(e.datepicker._setDateFromField(v),e.datepicker._updateAlternate(v),e.datepicker._updateDatepicker(v))}catch(d){}return!0},_showDatepicker:function(a){if(a=a.target||a,a.nodeName.toLowerCase()!=="input"&&(a=e("input",a.parentNode)[0]),!e.datepicker._isDisabledDatepicker(a)&&e.datepicker._lastInput!==a){var h,v,d,_,C,N,G;h=e.datepicker._getInst(a),e.datepicker._curInst&&e.datepicker._curInst!==h&&(e.datepicker._curInst.dpDiv.stop(!0,!0),h&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),v=e.datepicker._get(h,"beforeShow"),d=v?v.apply(a,[a,h]):{},d!==!1&&(n(h.settings,d),h.lastVal=null,e.datepicker._lastInput=a,e.datepicker._setDateFromField(h),e.datepicker._inDialog&&(a.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(a),e.datepicker._pos[1]+=a.offsetHeight),_=!1,e(a).parents().each(function(){return _|=e(this).css("position")==="fixed",!_}),C={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,h.dpDiv.empty(),h.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(h),C=e.datepicker._checkOffset(h,C,_),h.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":_?"fixed":"absolute",display:"none",left:C.left+"px",top:C.top+"px"}),h.inline||(N=e.datepicker._get(h,"showAnim"),G=e.datepicker._get(h,"duration"),h.dpDiv.css("z-index",s(e(a))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[N]?h.dpDiv.show(N,e.datepicker._get(h,"showOptions"),G):h.dpDiv[N||"show"](N?G:null),e.datepicker._shouldFocusInput(h)&&h.input.focus(),e.datepicker._curInst=h))}},_updateDatepicker:function(a){this.maxRows=4,P=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var h,v=this._getNumberOfMonths(a),d=v[1],_=17,C=a.dpDiv.find("."+this._dayOverClass+" a");C.length>0&&c.apply(C.get(0)),a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),d>1&&a.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",_*d+"em"),a.dpDiv[(v[0]!==1||v[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(a)&&a.input.focus(),a.yearshtml&&(h=a.yearshtml,setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,h,v){var d=a.dpDiv.outerWidth(),_=a.dpDiv.outerHeight(),C=a.input?a.input.outerWidth():0,N=a.input?a.input.outerHeight():0,G=document.documentElement.clientWidth+(v?0:e(document).scrollLeft()),q=document.documentElement.clientHeight+(v?0:e(document).scrollTop());return h.left-=this._get(a,"isRTL")?d-C:0,h.left-=v&&h.left===a.input.offset().left?e(document).scrollLeft():0,h.top-=v&&h.top===a.input.offset().top+N?e(document).scrollTop():0,h.left-=Math.min(h.left,h.left+d>G&&G>d?Math.abs(h.left+d-G):0),h.top-=Math.min(h.top,h.top+_>q&&q>_?Math.abs(_+N):0),h},_findPos:function(a){for(var h,v=this._getInst(a),d=this._get(v,"isRTL");a&&(a.type==="hidden"||a.nodeType!==1||e.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];return h=e(a).offset(),[h.left,h.top]},_hideDatepicker:function(a){var h,v,d,_,C=this._curInst;!C||a&&C!==e.data(a,"datepicker")||this._datepickerShowing&&(h=this._get(C,"showAnim"),v=this._get(C,"duration"),d=function(){e.datepicker._tidyDialog(C)},e.effects&&(e.effects.effect[h]||e.effects[h])?C.dpDiv.hide(h,e.datepicker._get(C,"showOptions"),v,d):C.dpDiv[h==="slideDown"?"slideUp":h==="fadeIn"?"fadeOut":"hide"](h?v:null,d),h||d(),this._datepickerShowing=!1,_=this._get(C,"onClose"),_&&_.apply(C.input?C.input[0]:null,[C.input?C.input.val():"",C]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(e.datepicker._curInst){var h=e(a.target),v=e.datepicker._getInst(h[0]);(h[0].id!==e.datepicker._mainDivId&&h.parents("#"+e.datepicker._mainDivId).length===0&&!h.hasClass(e.datepicker.markerClassName)&&!h.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||h.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==v)&&e.datepicker._hideDatepicker()}},_adjustDate:function(a,h,v){var d=e(a),_=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(_,h+(v==="M"?this._get(_,"showCurrentAtPos"):0),v),this._updateDatepicker(_))},_gotoToday:function(a){var h,v=e(a),d=this._getInst(v[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(h=new Date,d.selectedDay=h.getDate(),d.drawMonth=d.selectedMonth=h.getMonth(),d.drawYear=d.selectedYear=h.getFullYear()),this._notifyChange(d),this._adjustDate(v)},_selectMonthYear:function(a,h,v){var d=e(a),_=this._getInst(d[0]);_["selected"+(v==="M"?"Month":"Year")]=_["draw"+(v==="M"?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10),this._notifyChange(_),this._adjustDate(d)},_selectDay:function(a,h,v,d){var _,C=e(a);e(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(C[0])||(_=this._getInst(C[0]),_.selectedDay=_.currentDay=e("a",d).html(),_.selectedMonth=_.currentMonth=h,_.selectedYear=_.currentYear=v,this._selectDate(a,this._formatDate(_,_.currentDay,_.currentMonth,_.currentYear)))},_clearDate:function(a){var h=e(a);this._selectDate(h,"")},_selectDate:function(a,h){var v,d=e(a),_=this._getInst(d[0]);h=h!=null?h:this._formatDate(_),_.input&&_.input.val(h),this._updateAlternate(_),v=this._get(_,"onSelect"),v?v.apply(_.input?_.input[0]:null,[h,_]):_.input&&_.input.trigger("change"),_.inline?this._updateDatepicker(_):(this._hideDatepicker(),this._lastInput=_.input[0],typeof _.input[0]!="object"&&_.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var h,v,d,_=this._get(a,"altField");_&&(h=this._get(a,"altFormat")||this._get(a,"dateFormat"),v=this._getDate(a),d=this.formatDate(h,v,this._getFormatConfig(a)),e(_).each(function(){e(this).val(d)}))},noWeekends:function(a){var h=a.getDay();return[h>0&&6>h,""]},iso8601Week:function(a){var h,v=new Date(a.getTime());return v.setDate(v.getDate()+4-(v.getDay()||7)),h=v.getTime(),v.setMonth(0),v.setDate(1),Math.floor(Math.round((h-v)/864e5)/7)+1},parseDate:function(a,h,v){if(a==null||h==null)throw"Invalid arguments";if(h=typeof h=="object"?""+h:h+"",h==="")return null;var d,_,C,N,G=0,q=(v?v.shortYearCutoff:null)||this._defaults.shortYearCutoff,K=typeof q!="string"?q:new Date().getFullYear()%100+parseInt(q,10),ne=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,Q=(v?v.dayNames:null)||this._defaults.dayNames,ee=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,Me=(v?v.monthNames:null)||this._defaults.monthNames,pe=-1,W=-1,oe=-1,fe=-1,Z=!1,xe=function(ht){var lt=a.length>d+1&&a.charAt(d+1)===ht;return lt&&d++,lt},Y=function(ht){var lt=xe(ht),We=ht==="@"?14:ht==="!"?20:ht==="y"&&lt?4:ht==="o"?3:2,Se=ht==="y"?We:1,Le=RegExp("^\\d{"+Se+","+We+"}"),je=h.substring(G).match(Le);if(!je)throw"Missing number at position "+G;return G+=je[0].length,parseInt(je[0],10)},he=function(ht,lt,We){var Se=-1,Le=e.map(xe(ht)?We:lt,function(je,Ne){return[[Ne,je]]}).sort(function(je,Ne){return-(je[1].length-Ne[1].length)});if(e.each(Le,function(je,Ne){var Ge=Ne[1];return h.substr(G,Ge.length).toLowerCase()===Ge.toLowerCase()?(Se=Ne[0],G+=Ge.length,!1):void 0}),Se!==-1)return Se+1;throw"Unknown name at position "+G},Ke=function(){if(h.charAt(G)!==a.charAt(d))throw"Unexpected literal at position "+G;G++};for(d=0;a.length>d;d++)if(Z)a.charAt(d)!=="'"||xe("'")?Ke():Z=!1;else switch(a.charAt(d)){case"d":oe=Y("d");break;case"D":he("D",ne,Q);break;case"o":fe=Y("o");break;case"m":W=Y("m");break;case"M":W=he("M",ee,Me);break;case"y":pe=Y("y");break;case"@":N=new Date(Y("@")),pe=N.getFullYear(),W=N.getMonth()+1,oe=N.getDate();break;case"!":N=new Date((Y("!")-this._ticksTo1970)/1e4),pe=N.getFullYear(),W=N.getMonth()+1,oe=N.getDate();break;case"'":xe("'")?Ke():Z=!0;break;default:Ke()}if(h.length>G&&(C=h.substr(G),!/^\s+/.test(C)))throw"Extra/unparsed characters found in date: "+C;if(pe===-1?pe=new Date().getFullYear():100>pe&&(pe+=new Date().getFullYear()-new Date().getFullYear()%100+(K>=pe?0:-100)),fe>-1)for(W=1,oe=fe;_=this._getDaysInMonth(pe,W-1),!(_>=oe);)W++,oe-=_;if(N=this._daylightSavingAdjust(new Date(pe,W-1,oe)),N.getFullYear()!==pe||N.getMonth()+1!==W||N.getDate()!==oe)throw"Invalid date";return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,h,v){if(!h)return"";var d,_=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,C=(v?v.dayNames:null)||this._defaults.dayNames,N=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,G=(v?v.monthNames:null)||this._defaults.monthNames,q=function(Me){var pe=a.length>d+1&&a.charAt(d+1)===Me;return pe&&d++,pe},K=function(Me,pe,W){var oe=""+pe;if(q(Me))for(;W>oe.length;)oe="0"+oe;return oe},ne=function(Me,pe,W,oe){return q(Me)?oe[pe]:W[pe]},Q="",ee=!1;if(h)for(d=0;a.length>d;d++)if(ee)a.charAt(d)!=="'"||q("'")?Q+=a.charAt(d):ee=!1;else switch(a.charAt(d)){case"d":Q+=K("d",h.getDate(),2);break;case"D":Q+=ne("D",h.getDay(),_,C);break;case"o":Q+=K("o",Math.round((new Date(h.getFullYear(),h.getMonth(),h.getDate()).getTime()-new Date(h.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Q+=K("m",h.getMonth()+1,2);break;case"M":Q+=ne("M",h.getMonth(),N,G);break;case"y":Q+=q("y")?h.getFullYear():(10>h.getYear()%100?"0":"")+h.getYear()%100;break;case"@":Q+=h.getTime();break;case"!":Q+=1e4*h.getTime()+this._ticksTo1970;break;case"'":q("'")?Q+="'":ee=!0;break;default:Q+=a.charAt(d)}return Q},_possibleChars:function(a){var h,v="",d=!1,_=function(C){var N=a.length>h+1&&a.charAt(h+1)===C;return N&&h++,N};for(h=0;a.length>h;h++)if(d)a.charAt(h)!=="'"||_("'")?v+=a.charAt(h):d=!1;else switch(a.charAt(h)){case"d":case"m":case"y":case"@":v+="0123456789";break;case"D":case"M":return null;case"'":_("'")?v+="'":d=!0;break;default:v+=a.charAt(h)}return v},_get:function(a,h){return a.settings[h]!==void 0?a.settings[h]:this._defaults[h]},_setDateFromField:function(a,h){if(a.input.val()!==a.lastVal){var v=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,_=this._getDefaultDate(a),C=_,N=this._getFormatConfig(a);try{C=this.parseDate(v,d,N)||_}catch(G){d=h?"":d}a.selectedDay=C.getDate(),a.drawMonth=a.selectedMonth=C.getMonth(),a.drawYear=a.selectedYear=C.getFullYear(),a.currentDay=d?C.getDate():0,a.currentMonth=d?C.getMonth():0,a.currentYear=d?C.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,h,v){var d=function(N){var G=new Date;return G.setDate(G.getDate()+N),G},_=function(N){try{return e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),N,e.datepicker._getFormatConfig(a))}catch(Me){}for(var G=(N.toLowerCase().match(/^c/)?e.datepicker._getDate(a):null)||new Date,q=G.getFullYear(),K=G.getMonth(),ne=G.getDate(),Q=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ee=Q.exec(N);ee;){switch(ee[2]||"d"){case"d":case"D":ne+=parseInt(ee[1],10);break;case"w":case"W":ne+=7*parseInt(ee[1],10);break;case"m":case"M":K+=parseInt(ee[1],10),ne=Math.min(ne,e.datepicker._getDaysInMonth(q,K));break;case"y":case"Y":q+=parseInt(ee[1],10),ne=Math.min(ne,e.datepicker._getDaysInMonth(q,K))}ee=Q.exec(N)}return new Date(q,K,ne)},C=h==null||h===""?v:typeof h=="string"?_(h):typeof h=="number"?isNaN(h)?v:d(h):new Date(h.getTime());return C=C&&""+C=="Invalid Date"?v:C,C&&(C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0)),this._daylightSavingAdjust(C)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,h,v){var d=!h,_=a.selectedMonth,C=a.selectedYear,N=this._restrictMinMax(a,this._determineDate(a,h,new Date));a.selectedDay=a.currentDay=N.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=N.getMonth(),a.drawYear=a.selectedYear=a.currentYear=N.getFullYear(),_===a.selectedMonth&&C===a.selectedYear||v||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var h=!a.currentYear||a.input&&a.input.val()===""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return h},_attachHandlers:function(a){var h=this._get(a,"stepMonths"),v="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var d={prev:function(){e.datepicker._adjustDate(v,-h,"M")},next:function(){e.datepicker._adjustDate(v,+h,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(v)},selectDay:function(){return e.datepicker._selectDay(v,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(v,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(v,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),d[this.getAttribute("data-handler")])})},_generateHTML:function(a){var h,v,d,_,C,N,G,q,K,ne,Q,ee,Me,pe,W,oe,fe,Z,xe,Y,he,Ke,ht,lt,We,Se,Le,je,Ne,Ge,it,Re,te,J,qe,_t,be,$e,st,Ee=new Date,Qe=this._daylightSavingAdjust(new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate())),nt=this._get(a,"isRTL"),Ut=this._get(a,"showButtonPanel"),ut=this._get(a,"hideIfNoPrevNext"),mt=this._get(a,"navigationAsDateFormat"),Mt=this._getNumberOfMonths(a),ti=this._get(a,"showCurrentAtPos"),oi=this._get(a,"stepMonths"),ci=Mt[0]!==1||Mt[1]!==1,Lt=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),It=this._getMinMaxDate(a,"min"),Ct=this._getMinMaxDate(a,"max"),St=a.drawMonth-ti,kt=a.drawYear;if(0>St&&(St+=12,kt--),Ct)for(h=this._daylightSavingAdjust(new Date(Ct.getFullYear(),Ct.getMonth()-Mt[0]*Mt[1]+1,Ct.getDate())),h=It&&It>h?It:h;this._daylightSavingAdjust(new Date(kt,St,1))>h;)St--,0>St&&(St=11,kt--);for(a.drawMonth=St,a.drawYear=kt,v=this._get(a,"prevText"),v=mt?this.formatDate(v,this._daylightSavingAdjust(new Date(kt,St-oi,1)),this._getFormatConfig(a)):v,d=this._canAdjustMonth(a,-1,kt,St)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"e":"w")+"'>"+v+"</span></a>":ut?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"e":"w")+"'>"+v+"</span></a>",_=this._get(a,"nextText"),_=mt?this.formatDate(_,this._daylightSavingAdjust(new Date(kt,St+oi,1)),this._getFormatConfig(a)):_,C=this._canAdjustMonth(a,1,kt,St)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"w":"e")+"'>"+_+"</span></a>":ut?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(nt?"w":"e")+"'>"+_+"</span></a>",N=this._get(a,"currentText"),G=this._get(a,"gotoCurrent")&&a.currentDay?Lt:Qe,N=mt?this.formatDate(N,G,this._getFormatConfig(a)):N,q=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",K=Ut?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(nt?q:"")+(this._isInRange(a,G)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+N+"</button>":"")+(nt?"":q)+"</div>":"",ne=parseInt(this._get(a,"firstDay"),10),ne=isNaN(ne)?0:ne,Q=this._get(a,"showWeek"),ee=this._get(a,"dayNames"),Me=this._get(a,"dayNamesMin"),pe=this._get(a,"monthNames"),W=this._get(a,"monthNamesShort"),oe=this._get(a,"beforeShowDay"),fe=this._get(a,"showOtherMonths"),Z=this._get(a,"selectOtherMonths"),xe=this._getDefaultDate(a),Y="",Ke=0;Mt[0]>Ke;Ke++){for(ht="",this.maxRows=4,lt=0;Mt[1]>lt;lt++){if(We=this._daylightSavingAdjust(new Date(kt,St,a.selectedDay)),Se=" ui-corner-all",Le="",ci){if(Le+="<div class='ui-datepicker-group",Mt[1]>1)switch(lt){case 0:Le+=" ui-datepicker-group-first",Se=" ui-corner-"+(nt?"right":"left");break;case Mt[1]-1:Le+=" ui-datepicker-group-last",Se=" ui-corner-"+(nt?"left":"right");break;default:Le+=" ui-datepicker-group-middle",Se=""}Le+="'>"}for(Le+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Se+"'>"+(/all|left/.test(Se)&&Ke===0?nt?C:d:"")+(/all|right/.test(Se)&&Ke===0?nt?d:C:"")+this._generateMonthYearHeader(a,St,kt,It,Ct,Ke>0||lt>0,pe,W)+"</div><table class='ui-datepicker-calendar'><thead><tr>",je=Q?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",he=0;7>he;he++)Ne=(he+ne)%7,je+="<th scope='col'"+((he+ne+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ee[Ne]+"'>"+Me[Ne]+"</span></th>";for(Le+=je+"</tr></thead><tbody>",Ge=this._getDaysInMonth(kt,St),kt===a.selectedYear&&St===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,Ge)),it=(this._getFirstDayOfMonth(kt,St)-ne+7)%7,Re=Math.ceil((it+Ge)/7),te=ci&&this.maxRows>Re?this.maxRows:Re,this.maxRows=te,J=this._daylightSavingAdjust(new Date(kt,St,1-it)),qe=0;te>qe;qe++){for(Le+="<tr>",_t=Q?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(J)+"</td>":"",he=0;7>he;he++)be=oe?oe.apply(a.input?a.input[0]:null,[J]):[!0,""],$e=J.getMonth()!==St,st=$e&&!Z||!be[0]||It&&It>J||Ct&&J>Ct,_t+="<td class='"+((he+ne+6)%7>=5?" ui-datepicker-week-end":"")+($e?" ui-datepicker-other-month":"")+(J.getTime()===We.getTime()&&St===a.selectedMonth&&a._keyEvent||xe.getTime()===J.getTime()&&xe.getTime()===We.getTime()?" "+this._dayOverClass:"")+(st?" "+this._unselectableClass+" ui-state-disabled":"")+($e&&!fe?"":" "+be[1]+(J.getTime()===Lt.getTime()?" "+this._currentClass:"")+(J.getTime()===Qe.getTime()?" ui-datepicker-today":""))+"'"+($e&&!fe||!be[2]?"":" title='"+be[2].replace(/'/g,"&#39;")+"'")+(st?"":" data-handler='selectDay' data-event='click' data-month='"+J.getMonth()+"' data-year='"+J.getFullYear()+"'")+">"+($e&&!fe?"&#xa0;":st?"<span class='ui-state-default'>"+J.getDate()+"</span>":"<a class='ui-state-default"+(J.getTime()===Qe.getTime()?" ui-state-highlight":"")+(J.getTime()===Lt.getTime()?" ui-state-active":"")+($e?" ui-priority-secondary":"")+"' href='#'>"+J.getDate()+"</a>")+"</td>",J.setDate(J.getDate()+1),J=this._daylightSavingAdjust(J);Le+=_t+"</tr>"}St++,St>11&&(St=0,kt++),Le+="</tbody></table>"+(ci?"</div>"+(Mt[0]>0&&lt===Mt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),ht+=Le}Y+=ht}return Y+=K,a._keyEvent=!1,Y},_generateMonthYearHeader:function(a,h,v,d,_,C,N,G){var q,K,ne,Q,ee,Me,pe,W,oe=this._get(a,"changeMonth"),fe=this._get(a,"changeYear"),Z=this._get(a,"showMonthAfterYear"),xe="<div class='ui-datepicker-title'>",Y="";if(C||!oe)Y+="<span class='ui-datepicker-month'>"+N[h]+"</span>";else{for(q=d&&d.getFullYear()===v,K=_&&_.getFullYear()===v,Y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",ne=0;12>ne;ne++)(!q||ne>=d.getMonth())&&(!K||_.getMonth()>=ne)&&(Y+="<option value='"+ne+"'"+(ne===h?" selected='selected'":"")+">"+G[ne]+"</option>");Y+="</select>"}if(Z||(xe+=Y+(!C&&oe&&fe?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",C||!fe)xe+="<span class='ui-datepicker-year'>"+v+"</span>";else{for(Q=this._get(a,"yearRange").split(":"),ee=new Date().getFullYear(),Me=function(he){var Ke=he.match(/c[+\-].*/)?v+parseInt(he.substring(1),10):he.match(/[+\-].*/)?ee+parseInt(he,10):parseInt(he,10);return isNaN(Ke)?ee:Ke},pe=Me(Q[0]),W=Math.max(pe,Me(Q[1]||"")),pe=d?Math.max(pe,d.getFullYear()):pe,W=_?Math.min(W,_.getFullYear()):W,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";W>=pe;pe++)a.yearshtml+="<option value='"+pe+"'"+(pe===v?" selected='selected'":"")+">"+pe+"</option>";a.yearshtml+="</select>",xe+=a.yearshtml,a.yearshtml=null}return xe+=this._get(a,"yearSuffix"),Z&&(xe+=(!C&&oe&&fe?"":"&#xa0;")+Y),xe+="</div>"},_adjustInstDate:function(a,h,v){var d=a.drawYear+(v==="Y"?h:0),_=a.drawMonth+(v==="M"?h:0),C=Math.min(a.selectedDay,this._getDaysInMonth(d,_))+(v==="D"?h:0),N=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,_,C)));a.selectedDay=N.getDate(),a.drawMonth=a.selectedMonth=N.getMonth(),a.drawYear=a.selectedYear=N.getFullYear(),(v==="M"||v==="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,h){var v=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),_=v&&v>h?v:h;return d&&_>d?d:_},_notifyChange:function(a){var h=this._get(a,"onChangeMonthYear");h&&h.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var h=this._get(a,"numberOfMonths");return h==null?[1,1]:typeof h=="number"?[1,h]:h},_getMinMaxDate:function(a,h){return this._determineDate(a,this._get(a,h+"Date"),null)},_getDaysInMonth:function(a,h){return 32-this._daylightSavingAdjust(new Date(a,h,32)).getDate()},_getFirstDayOfMonth:function(a,h){return new Date(a,h,1).getDay()},_canAdjustMonth:function(a,h,v,d){var _=this._getNumberOfMonths(a),C=this._daylightSavingAdjust(new Date(v,d+(0>h?h:_[0]*_[1]),1));return 0>h&&C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth())),this._isInRange(a,C)},_isInRange:function(a,h){var v,d,_=this._getMinMaxDate(a,"min"),C=this._getMinMaxDate(a,"max"),N=null,G=null,q=this._get(a,"yearRange");return q&&(v=q.split(":"),d=new Date().getFullYear(),N=parseInt(v[0],10),G=parseInt(v[1],10),v[0].match(/[+\-].*/)&&(N+=d),v[1].match(/[+\-].*/)&&(G+=d)),(!_||h.getTime()>=_.getTime())&&(!C||h.getTime()<=C.getTime())&&(!N||h.getFullYear()>=N)&&(!G||G>=h.getFullYear())},_getFormatConfig:function(a){var h=this._get(a,"shortYearCutoff");return h=typeof h!="string"?h:new Date().getFullYear()%100+parseInt(h,10),{shortYearCutoff:h,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,h,v,d){h||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var _=h?typeof h=="object"?h:this._daylightSavingAdjust(new Date(d,v,h)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),_,this._getFormatConfig(a))}}),e.fn.datepicker=function(a){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var h=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!=="isDisabled"&&a!=="getDate"&&a!=="widget"?a==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this[0]].concat(h)):this.each(function(){typeof a=="string"?e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this].concat(h)):e.datepicker._attachDatepicker(this,a)}):e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this[0]].concat(h))},e.datepicker=new l,e.datepicker.initialized=!1,e.datepicker.uuid=new Date().getTime(),e.datepicker.version="1.11.1",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,h){this._super(a,h),a==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(a){var h=this.document[0],v=this.options;try{h.activeElement&&h.activeElement.nodeName.toLowerCase()!=="body"&&e(h.activeElement).blur()}catch(d){}return this.helper||v.disabled||e(a.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(a),this.handle?(e(v.iframeFix===!0?"iframe":v.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var h=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!h.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,h){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!h){var v=this._uiHash();if(this._trigger("drag",a,v)===!1)return this._mouseUp({}),!1;this.position=v.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var h=this,v=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(v=e.ui.ddmanager.drop(this,a)),this.dropped&&(v=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!v||this.options.revert==="valid"&&v||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,v)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){h._trigger("stop",a)!==!1&&h._clear()}):this._trigger("stop",a)!==!1&&this._clear(),!1},_mouseUp:function(a){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,a),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!e(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(a){var h=this.options,v=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[a])):h.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return v.parents("body").length||v.appendTo(h.appendTo==="parent"?this.element[0].parentNode:h.appendTo),v[0]===this.element[0]||/(fixed|absolute)/.test(v.css("position"))||v.css("position","absolute"),v},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),e.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),h=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==h&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var a=this.element.position(),h=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(h?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(h?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,h,v,d=this.options,_=this.document[0];return this.relativeContainer=null,d.containment?d.containment==="window"?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment==="document"?(this.containment=[0,0,e(_).width()-this.helperProportions.width-this.margins.left,(e(_).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):(d.containment==="parent"&&(d.containment=this.helper[0].parentNode),h=e(d.containment),v=h[0],v&&(a=h.css("overflow")!=="hidden",this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(a?Math.max(v.scrollWidth,v.offsetWidth):v.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(v.scrollHeight,v.offsetHeight):v.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=h),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,h){h||(h=this.position);var v=a==="absolute"?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:h.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.offset.scroll.top:d?0:this.offset.scroll.top)*v,left:h.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.offset.scroll.left:d?0:this.offset.scroll.left)*v}},_generatePosition:function(a,h){var v,d,_,C,N=this.options,G=this._isRootNode(this.scrollParent[0]),q=a.pageX,K=a.pageY;return G&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),h&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),v=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):v=this.containment,a.pageX-this.offset.click.left<v[0]&&(q=v[0]+this.offset.click.left),a.pageY-this.offset.click.top<v[1]&&(K=v[1]+this.offset.click.top),a.pageX-this.offset.click.left>v[2]&&(q=v[2]+this.offset.click.left),a.pageY-this.offset.click.top>v[3]&&(K=v[3]+this.offset.click.top)),N.grid&&(_=N.grid[1]?this.originalPageY+Math.round((K-this.originalPageY)/N.grid[1])*N.grid[1]:this.originalPageY,K=v?_-this.offset.click.top>=v[1]||_-this.offset.click.top>v[3]?_:_-this.offset.click.top>=v[1]?_-N.grid[1]:_+N.grid[1]:_,C=N.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/N.grid[0])*N.grid[0]:this.originalPageX,q=v?C-this.offset.click.left>=v[0]||C-this.offset.click.left>v[2]?C:C-this.offset.click.left>=v[0]?C-N.grid[0]:C+N.grid[0]:C),N.axis==="y"&&(q=this.originalPageX),N.axis==="x"&&(K=this.originalPageY)),{top:K-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:G?0:this.offset.scroll.top),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:G?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(a,h,v){return v=v||this._uiHash(),e.ui.plugin.call(this,a,[h,v,this],!0),a==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,a,h,v)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(a,h,v){var d=v.options,_=e.extend({},h,{item:v.element});v.sortables=[],e(d.connectToSortable).each(function(){var C=e(this).sortable("instance");C&&!C.options.disabled&&(v.sortables.push({instance:C,shouldRevert:C.options.revert}),C.refreshPositions(),C._trigger("activate",a,_))})},stop:function(a,h,v){var d=e.extend({},h,{item:v.element});e.each(v.sortables,function(){this.instance.isOver?(this.instance.isOver=0,v.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,v.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,d))})},drag:function(a,h,v){var d=this;e.each(v.sortables,function(){var _=!1,C=this;this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(_=!0,e.each(v.sortables,function(){return this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this!==C&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(C.instance.element[0],this.instance.element[0])&&(_=!1),_})),_?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=v.offset.click.top,this.instance.offset.click.left=v.offset.click.left,this.instance.offset.parent.left-=v.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=v.offset.parent.top-this.instance.offset.parent.top,v._trigger("toSortable",a),v.dropped=this.instance.element,v.currentItem=v.element,this.instance.fromOutside=v),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),v._trigger("fromSortable",a),v.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(a,h,v){var d=e("body"),_=v.options;d.css("cursor")&&(_._cursor=d.css("cursor")),d.css("cursor",_.cursor)},stop:function(a,h,v){var d=v.options;d._cursor&&e("body").css("cursor",d._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(a,h,v){var d=e(h.helper),_=v.options;d.css("opacity")&&(_._opacity=d.css("opacity")),d.css("opacity",_.opacity)},stop:function(a,h,v){var d=v.options;d._opacity&&e(h.helper).css("opacity",d._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(a,h,v){v.scrollParentNotHidden||(v.scrollParentNotHidden=v.helper.scrollParent(!1)),v.scrollParentNotHidden[0]!==v.document[0]&&v.scrollParentNotHidden[0].tagName!=="HTML"&&(v.overflowOffset=v.scrollParentNotHidden.offset())},drag:function(a,h,v){var d=v.options,_=!1,C=v.scrollParentNotHidden[0],N=v.document[0];C!==N&&C.tagName!=="HTML"?(d.axis&&d.axis==="x"||(v.overflowOffset.top+C.offsetHeight-a.pageY<d.scrollSensitivity?C.scrollTop=_=C.scrollTop+d.scrollSpeed:a.pageY-v.overflowOffset.top<d.scrollSensitivity&&(C.scrollTop=_=C.scrollTop-d.scrollSpeed)),d.axis&&d.axis==="y"||(v.overflowOffset.left+C.offsetWidth-a.pageX<d.scrollSensitivity?C.scrollLeft=_=C.scrollLeft+d.scrollSpeed:a.pageX-v.overflowOffset.left<d.scrollSensitivity&&(C.scrollLeft=_=C.scrollLeft-d.scrollSpeed))):(d.axis&&d.axis==="x"||(a.pageY-e(N).scrollTop()<d.scrollSensitivity?_=e(N).scrollTop(e(N).scrollTop()-d.scrollSpeed):e(window).height()-(a.pageY-e(N).scrollTop())<d.scrollSensitivity&&(_=e(N).scrollTop(e(N).scrollTop()+d.scrollSpeed))),d.axis&&d.axis==="y"||(a.pageX-e(N).scrollLeft()<d.scrollSensitivity?_=e(N).scrollLeft(e(N).scrollLeft()-d.scrollSpeed):e(window).width()-(a.pageX-e(N).scrollLeft())<d.scrollSensitivity&&(_=e(N).scrollLeft(e(N).scrollLeft()+d.scrollSpeed)))),_!==!1&&e.ui.ddmanager&&!d.dropBehaviour&&e.ui.ddmanager.prepareOffsets(v,a)}}),e.ui.plugin.add("draggable","snap",{start:function(a,h,v){var d=v.options;v.snapElements=[],e(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var _=e(this),C=_.offset();this!==v.element[0]&&v.snapElements.push({item:this,width:_.outerWidth(),height:_.outerHeight(),top:C.top,left:C.left})})},drag:function(a,h,v){var d,_,C,N,G,q,K,ne,Q,ee,Me=v.options,pe=Me.snapTolerance,W=h.offset.left,oe=W+v.helperProportions.width,fe=h.offset.top,Z=fe+v.helperProportions.height;for(Q=v.snapElements.length-1;Q>=0;Q--)G=v.snapElements[Q].left,q=G+v.snapElements[Q].width,K=v.snapElements[Q].top,ne=K+v.snapElements[Q].height,G-pe>oe||W>q+pe||K-pe>Z||fe>ne+pe||!e.contains(v.snapElements[Q].item.ownerDocument,v.snapElements[Q].item)?(v.snapElements[Q].snapping&&v.options.snap.release&&v.options.snap.release.call(v.element,a,e.extend(v._uiHash(),{snapItem:v.snapElements[Q].item})),v.snapElements[Q].snapping=!1):(Me.snapMode!=="inner"&&(d=pe>=Math.abs(K-Z),_=pe>=Math.abs(ne-fe),C=pe>=Math.abs(G-oe),N=pe>=Math.abs(q-W),d&&(h.position.top=v._convertPositionTo("relative",{top:K-v.helperProportions.height,left:0}).top-v.margins.top),_&&(h.position.top=v._convertPositionTo("relative",{top:ne,left:0}).top-v.margins.top),C&&(h.position.left=v._convertPositionTo("relative",{top:0,left:G-v.helperProportions.width}).left-v.margins.left),N&&(h.position.left=v._convertPositionTo("relative",{top:0,left:q}).left-v.margins.left)),ee=d||_||C||N,Me.snapMode!=="outer"&&(d=pe>=Math.abs(K-fe),_=pe>=Math.abs(ne-Z),C=pe>=Math.abs(G-W),N=pe>=Math.abs(q-oe),d&&(h.position.top=v._convertPositionTo("relative",{top:K,left:0}).top-v.margins.top),_&&(h.position.top=v._convertPositionTo("relative",{top:ne-v.helperProportions.height,left:0}).top-v.margins.top),C&&(h.position.left=v._convertPositionTo("relative",{top:0,left:G}).left-v.margins.left),N&&(h.position.left=v._convertPositionTo("relative",{top:0,left:q-v.helperProportions.width}).left-v.margins.left)),!v.snapElements[Q].snapping&&(d||_||C||N||ee)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,a,e.extend(v._uiHash(),{snapItem:v.snapElements[Q].item})),v.snapElements[Q].snapping=d||_||C||N||ee)}}),e.ui.plugin.add("draggable","stack",{start:function(a,h,v){var d,_=v.options,C=e.makeArray(e(_.stack)).sort(function(N,G){return(parseInt(e(N).css("zIndex"),10)||0)-(parseInt(e(G).css("zIndex"),10)||0)});C.length&&(d=parseInt(e(C[0]).css("zIndex"),10)||0,e(C).each(function(N){e(this).css("zIndex",d+N)}),this.css("zIndex",d+C.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(a,h,v){var d=e(h.helper),_=v.options;d.css("zIndex")&&(_._zIndex=d.css("zIndex")),d.css("zIndex",_.zIndex)},stop:function(a,h,v){var d=v.options;d._zIndex&&e(h.helper).css("zIndex",d._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,h){if(e(a).css("overflow")==="hidden")return!1;var v=h&&h==="left"?"scrollLeft":"scrollTop",d=!1;return a[v]>0?!0:(a[v]=1,d=a[v]>0,a[v]=0,d)},_create:function(){var a,h,v,d,_,C=this,N=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!N.aspectRatio,aspectRatio:N.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:N.helper||N.ghost||N.animate?N.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=N.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},h=0;a.length>h;h++)v=e.trim(a[h]),_="ui-resizable-"+v,d=e("<div class='ui-resizable-handle "+_+"'></div>"),d.css({zIndex:N.zIndex}),v==="se"&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[v]=".ui-resizable-"+v,this.element.append(d);this._renderAxis=function(G){var q,K,ne,Q;G=G||this.element;for(q in this.handles)this.handles[q].constructor===String&&(this.handles[q]=this.element.children(this.handles[q]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(K=e(this.handles[q],this.element),Q=/sw|ne|nw|se|n|s/.test(q)?K.outerHeight():K.outerWidth(),ne=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),G.css(ne,Q),this._proportionallyResize()),e(this.handles[q]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){C.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),C.axis=d&&d[1]?d[1]:"se")}),N.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){N.disabled||(e(this).removeClass("ui-resizable-autohide"),C._handles.show())}).mouseleave(function(){N.disabled||C.resizing||(e(this).addClass("ui-resizable-autohide"),C._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,h=function(v){e(v).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(h(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),h(this.originalElement),this},_mouseCapture:function(a){var h,v,d=!1;for(h in this.handles)v=e(this.handles[h])[0],(v===a.target||e.contains(v,a.target))&&(d=!0);return!this.options.disabled&&d},_mouseStart:function(a){var h,v,d,_=this.options,C=this.element;return this.resizing=!0,this._renderProxy(),h=this._num(this.helper.css("left")),v=this._num(this.helper.css("top")),_.containment&&(h+=e(_.containment).scrollLeft()||0,v+=e(_.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:v},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:C.width(),height:C.height()},this.originalSize=this._helper?{width:C.outerWidth(),height:C.outerHeight()}:{width:C.width(),height:C.height()},this.sizeDiff={width:C.outerWidth()-C.width(),height:C.outerHeight()-C.height()},this.originalPosition={left:h,top:v},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio=typeof _.aspectRatio=="number"?_.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",d==="auto"?this.axis+"-resize":d),C.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var h,v,d=this.originalMousePosition,_=this.axis,C=a.pageX-d.left||0,N=a.pageY-d.top||0,G=this._change[_];return this._updatePrevProperties(),G&&(h=G.apply(this,[a,C,N]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(h=this._updateRatio(h,a)),h=this._respectSize(h,a),this._updateCache(h),this._propagate("resize",a),v=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(v)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges())),!1},_mouseStop:function(a){this.resizing=!1;var h,v,d,_,C,N,G,q=this.options,K=this;return this._helper&&(h=this._proportionallyResizeElements,v=h.length&&/textarea/i.test(h[0].nodeName),d=v&&this._hasScroll(h[0],"left")?0:K.sizeDiff.height,_=v?0:K.sizeDiff.width,C={width:K.helper.width()-_,height:K.helper.height()-d},N=parseInt(K.element.css("left"),10)+(K.position.left-K.originalPosition.left)||null,G=parseInt(K.element.css("top"),10)+(K.position.top-K.originalPosition.top)||null,q.animate||this.element.css(e.extend(C,{top:G,left:N})),K.helper.height(K.size.height),K.helper.width(K.size.width),this._helper&&!q.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var h,v,d,_,C,N=this.options;C={minWidth:this._isNumber(N.minWidth)?N.minWidth:0,maxWidth:this._isNumber(N.maxWidth)?N.maxWidth:1/0,minHeight:this._isNumber(N.minHeight)?N.minHeight:0,maxHeight:this._isNumber(N.maxHeight)?N.maxHeight:1/0},(this._aspectRatio||a)&&(h=C.minHeight*this.aspectRatio,d=C.minWidth/this.aspectRatio,v=C.maxHeight*this.aspectRatio,_=C.maxWidth/this.aspectRatio,h>C.minWidth&&(C.minWidth=h),d>C.minHeight&&(C.minHeight=d),C.maxWidth>v&&(C.maxWidth=v),C.maxHeight>_&&(C.maxHeight=_)),this._vBoundaries=C},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var h=this.position,v=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),d==="sw"&&(a.left=h.left+(v.width-a.width),a.top=null),d==="nw"&&(a.top=h.top+(v.height-a.height),a.left=h.left+(v.width-a.width)),a},_respectSize:function(a){var h=this._vBoundaries,v=this.axis,d=this._isNumber(a.width)&&h.maxWidth&&h.maxWidth<a.width,_=this._isNumber(a.height)&&h.maxHeight&&h.maxHeight<a.height,C=this._isNumber(a.width)&&h.minWidth&&h.minWidth>a.width,N=this._isNumber(a.height)&&h.minHeight&&h.minHeight>a.height,G=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,K=/sw|nw|w/.test(v),ne=/nw|ne|n/.test(v);return C&&(a.width=h.minWidth),N&&(a.height=h.minHeight),d&&(a.width=h.maxWidth),_&&(a.height=h.maxHeight),C&&K&&(a.left=G-h.minWidth),d&&K&&(a.left=G-h.maxWidth),N&&ne&&(a.top=q-h.minHeight),_&&ne&&(a.top=q-h.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var h=0,v=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],_=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>h;h++)v[h]=parseInt(d[h],10)||0,v[h]+=parseInt(_[h],10)||0;return{height:v[0]+v[2],width:v[1]+v[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,h=0,v=this.helper||this.element;this._proportionallyResizeElements.length>h;h++)a=this._proportionallyResizeElements[h],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:v.height()-this.outerDimensions.height||0,width:v.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.element,h=this.options;this.elementOffset=a.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,h){return{width:this.originalSize.width+h}},w:function(a,h){var v=this.originalSize,d=this.originalPosition;return{left:d.left+h,width:v.width-h}},n:function(a,h,v){var d=this.originalSize,_=this.originalPosition;return{top:_.top+v,height:d.height-v}},s:function(a,h,v){return{height:this.originalSize.height+v}},se:function(a,h,v){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,h,v]))},sw:function(a,h,v){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,h,v]))},ne:function(a,h,v){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,h,v]))},nw:function(a,h,v){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,h,v]))}},_propagate:function(a,h){e.ui.plugin.call(this,a,[h,this.ui()]),a!=="resize"&&this._trigger(a,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(a){var h=e(this).resizable("instance"),v=h.options,d=h._proportionallyResizeElements,_=d.length&&/textarea/i.test(d[0].nodeName),C=_&&h._hasScroll(d[0],"left")?0:h.sizeDiff.height,N=_?0:h.sizeDiff.width,G={width:h.size.width-N,height:h.size.height-C},q=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,K=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(e.extend(G,K&&q?{top:K,left:q}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var ne={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:ne.width,height:ne.height}),h._updateCache(ne),h._propagate("resize",a)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var a,h,v,d,_,C,N,G=e(this).resizable("instance"),q=G.options,K=G.element,ne=q.containment,Q=ne instanceof e?ne.get(0):/parent/.test(ne)?K.parent().get(0):ne;Q&&(G.containerElement=e(Q),/document/.test(ne)||ne===document?(G.containerOffset={left:0,top:0},G.containerPosition={left:0,top:0},G.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(a=e(Q),h=[],e(["Top","Right","Left","Bottom"]).each(function(ee,Me){h[ee]=G._num(a.css("padding"+Me))}),G.containerOffset=a.offset(),G.containerPosition=a.position(),G.containerSize={height:a.innerHeight()-h[3],width:a.innerWidth()-h[1]},v=G.containerOffset,d=G.containerSize.height,_=G.containerSize.width,C=G._hasScroll(Q,"left")?Q.scrollWidth:_,N=G._hasScroll(Q)?Q.scrollHeight:d,G.parentData={element:Q,left:v.left,top:v.top,width:C,height:N}))},resize:function(a){var h,v,d,_,C=e(this).resizable("instance"),N=C.options,G=C.containerOffset,q=C.position,K=C._aspectRatio||a.shiftKey,ne={top:0,left:0},Q=C.containerElement,ee=!0;Q[0]!==document&&/static/.test(Q.css("position"))&&(ne=G),q.left<(C._helper?G.left:0)&&(C.size.width=C.size.width+(C._helper?C.position.left-G.left:C.position.left-ne.left),K&&(C.size.height=C.size.width/C.aspectRatio,ee=!1),C.position.left=N.helper?G.left:0),q.top<(C._helper?G.top:0)&&(C.size.height=C.size.height+(C._helper?C.position.top-G.top:C.position.top),K&&(C.size.width=C.size.height*C.aspectRatio,ee=!1),C.position.top=C._helper?G.top:0),d=C.containerElement.get(0)===C.element.parent().get(0),_=/relative|absolute/.test(C.containerElement.css("position")),d&&_?(C.offset.left=C.parentData.left+C.position.left,C.offset.top=C.parentData.top+C.position.top):(C.offset.left=C.element.offset().left,C.offset.top=C.element.offset().top),h=Math.abs(C.sizeDiff.width+(C._helper?C.offset.left-ne.left:C.offset.left-G.left)),v=Math.abs(C.sizeDiff.height+(C._helper?C.offset.top-ne.top:C.offset.top-G.top)),h+C.size.width>=C.parentData.width&&(C.size.width=C.parentData.width-h,K&&(C.size.height=C.size.width/C.aspectRatio,ee=!1)),v+C.size.height>=C.parentData.height&&(C.size.height=C.parentData.height-v,K&&(C.size.width=C.size.height*C.aspectRatio,ee=!1)),ee||(C.position.left=C.prevPosition.left,C.position.top=C.prevPosition.top,C.size.width=C.prevSize.width,C.size.height=C.prevSize.height)},stop:function(){var a=e(this).resizable("instance"),h=a.options,v=a.containerOffset,d=a.containerPosition,_=a.containerElement,C=e(a.helper),N=C.offset(),G=C.outerWidth()-a.sizeDiff.width,q=C.outerHeight()-a.sizeDiff.height;a._helper&&!h.animate&&/relative/.test(_.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q}),a._helper&&!h.animate&&/static/.test(_.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var a=e(this).resizable("instance"),h=a.options,v=function(d){e(d).each(function(){var _=e(this);_.data("ui-resizable-alsoresize",{width:parseInt(_.width(),10),height:parseInt(_.height(),10),left:parseInt(_.css("left"),10),top:parseInt(_.css("top"),10)})})};typeof h.alsoResize!="object"||h.alsoResize.parentNode?v(h.alsoResize):h.alsoResize.length?(h.alsoResize=h.alsoResize[0],v(h.alsoResize)):e.each(h.alsoResize,function(d){v(d)})},resize:function(a,h){var v=e(this).resizable("instance"),d=v.options,_=v.originalSize,C=v.originalPosition,N={height:v.size.height-_.height||0,width:v.size.width-_.width||0,top:v.position.top-C.top||0,left:v.position.left-C.left||0},G=function(q,K){e(q).each(function(){var ne=e(this),Q=e(this).data("ui-resizable-alsoresize"),ee={},Me=K&&K.length?K:ne.parents(h.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(Me,function(pe,W){var oe=(Q[W]||0)+(N[W]||0);oe&&oe>=0&&(ee[W]=oe||null)}),ne.css(ee)})};typeof d.alsoResize!="object"||d.alsoResize.nodeType?G(d.alsoResize):e.each(d.alsoResize,function(q,K){G(q,K)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var a=e(this).resizable("instance"),h=a.options,v=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:v.height,width:v.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){var a=e(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=e(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var a,h=e(this).resizable("instance"),v=h.options,d=h.size,_=h.originalSize,C=h.originalPosition,N=h.axis,G=typeof v.grid=="number"?[v.grid,v.grid]:v.grid,q=G[0]||1,K=G[1]||1,ne=Math.round((d.width-_.width)/q)*q,Q=Math.round((d.height-_.height)/K)*K,ee=_.width+ne,Me=_.height+Q,pe=v.maxWidth&&ee>v.maxWidth,W=v.maxHeight&&Me>v.maxHeight,oe=v.minWidth&&v.minWidth>ee,fe=v.minHeight&&v.minHeight>Me;v.grid=G,oe&&(ee+=q),fe&&(Me+=K),pe&&(ee-=q),W&&(Me-=K),/^(se|s|e)$/.test(N)?(h.size.width=ee,h.size.height=Me):/^(ne)$/.test(N)?(h.size.width=ee,h.size.height=Me,h.position.top=C.top-Q):/^(sw)$/.test(N)?(h.size.width=ee,h.size.height=Me,h.position.left=C.left-ne):((0>=Me-K||0>=ee-q)&&(a=h._getPaddingPlusBorderDimensions(this)),Me-K>0?(h.size.height=Me,h.position.top=C.top-Q):(Me=K-a.height,h.size.height=Me,h.position.top=C.top+_.height-Me),ee-q>0?(h.size.width=ee,h.position.left=C.left-ne):(ee=K-a.height,h.size.width=ee,h.position.left=C.left+_.width-ee))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var h=e(this).css(a).offset().top;0>h&&e(this).css("top",a.top-h)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?e(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,h=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=h.parent.children().eq(h.index),a.length&&a[0]!==this.element[0]?a.before(this.element):h.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(a){var h,v=this;if(this._isOpen&&this._trigger("beforeClose",a)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{h=this.document[0].activeElement,h&&h.nodeName.toLowerCase()!=="body"&&e(h).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){v._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,h){var v=!1,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),_=Math.max.apply(null,d);return _>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",_+1),v=!0),v&&!h&&this._trigger("focus",a),v},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(a){function h(){var v=this.document[0].activeElement,d=this.uiDialog[0]===v||e.contains(this.uiDialog[0],v);d||this._focusTabbable()}a.preventDefault(),h.call(this),this._delay(h)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===e.ui.keyCode.ESCAPE)return a.preventDefault(),this.close(a),void 0;if(a.keyCode===e.ui.keyCode.TAB&&!a.isDefaultPrevented()){var h=this.uiDialog.find(":tabbable"),v=h.filter(":first"),d=h.filter(":last");a.target!==d[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==v[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){d.focus()}),a.preventDefault()):(this._delay(function(){v.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(h){e(h.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(h){h.preventDefault(),this.close(h)}}),a=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var a=this,h=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(h)||e.isArray(h)&&!h.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(h,function(v,d){var _,C;d=e.isFunction(d)?{click:d,text:v}:d,d=e.extend({type:"button"},d),_=d.click,d.click=function(){_.apply(a.element[0],arguments)},C={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,e("<button></button>",d).button(C).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function a(d){return{position:d.position,offset:d.offset}}var h=this,v=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,_){e(this).addClass("ui-dialog-dragging"),h._blockFrames(),h._trigger("dragStart",d,a(_))},drag:function(d,_){h._trigger("drag",d,a(_))},stop:function(d,_){var C=_.offset.left-h.document.scrollLeft(),N=_.offset.top-h.document.scrollTop();v.position={my:"left top",at:"left"+(C>=0?"+":"")+C+" top"+(N>=0?"+":"")+N,of:h.window},e(this).removeClass("ui-dialog-dragging"),h._unblockFrames(),h._trigger("dragStop",d,a(_))}})},_makeResizable:function(){function a(N){return{originalPosition:N.originalPosition,originalSize:N.originalSize,position:N.position,size:N.size}}var h=this,v=this.options,d=v.resizable,_=this.uiDialog.css("position"),C=typeof d=="string"?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:v.maxWidth,maxHeight:v.maxHeight,minWidth:v.minWidth,minHeight:this._minHeight(),handles:C,start:function(N,G){e(this).addClass("ui-dialog-resizing"),h._blockFrames(),h._trigger("resizeStart",N,a(G))},resize:function(N,G){h._trigger("resize",N,a(G))},stop:function(N,G){var q=h.uiDialog.offset(),K=q.left-h.document.scrollLeft(),ne=q.top-h.document.scrollTop();v.height=h.uiDialog.height(),v.width=h.uiDialog.width(),v.position={my:"left top",at:"left"+(K>=0?"+":"")+K+" top"+(ne>=0?"+":"")+ne,of:h.window},e(this).removeClass("ui-dialog-resizing"),h._unblockFrames(),h._trigger("resizeStop",N,a(G))}}).css("position",_)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=e(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),h=e.inArray(this,a);h!==-1&&a.splice(h,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(a){var h=this,v=!1,d={};e.each(a,function(_,C){h._setOption(_,C),_ in h.sizeRelatedOptions&&(v=!0),_ in h.resizableRelatedOptions&&(d[_]=C)}),v&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,h){var v,d,_=this.uiDialog;a==="dialogClass"&&_.removeClass(this.options.dialogClass).addClass(h),a!=="disabled"&&(this._super(a,h),a==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),a==="buttons"&&this._createButtons(),a==="closeText"&&this.uiDialogTitlebarClose.button({label:""+h}),a==="draggable"&&(v=_.is(":data(ui-draggable)"),v&&!h&&_.draggable("destroy"),!v&&h&&this._makeDraggable()),a==="position"&&this._position(),a==="resizable"&&(d=_.is(":data(ui-resizable)"),d&&!h&&_.resizable("destroy"),d&&typeof h=="string"&&_.resizable("option","handles",h),d||h===!1||this._makeResizable()),a==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,h,v,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),h=Math.max(0,d.minHeight-a),v=typeof d.maxHeight=="number"?Math.max(0,d.maxHeight-a):"none",d.height==="auto"?this.element.css({minHeight:h,maxHeight:v,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=e(this);return e("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return e(a.target).closest(".ui-dialog").length?!0:!!e(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(h){a||this._allowInteraction(h)||(h.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,h=this.options,v=h.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(v)?v:function(d){return d.is(v)},this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a||(a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(h.scope),h.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){e.ui.ddmanager.droppables[a]=e.ui.ddmanager.droppables[a]||[],e.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var h=0;a.length>h;h++)a[h]===this&&a.splice(h,1)},_destroy:function(){var a=e.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,h){if(a==="accept")this.accept=e.isFunction(h)?h:function(d){return d.is(h)};else if(a==="scope"){var v=e.ui.ddmanager.droppables[this.options.scope];this._splice(v),this._addToManager(h)}this._super(a,h)},_activate:function(a){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),h&&this._trigger("activate",a,this.ui(h))},_deactivate:function(a){var h=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),h&&this._trigger("deactivate",a,this.ui(h))},_over:function(a){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(h)))},_out:function(a){var h=e.ui.ddmanager.current;h&&(h.currentItem||h.element)[0]!==this.element[0]&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(h)))},_drop:function(a,h){var v=h||e.ui.ddmanager.current,d=!1;return v&&(v.currentItem||v.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var _=e(this).droppable("instance");return _.options.greedy&&!_.options.disabled&&_.options.scope===v.options.scope&&_.accept.call(_.element[0],v.currentItem||v.element)&&e.ui.intersect(v,e.extend(_,{offset:_.element.offset()}),_.options.tolerance,a)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],v.currentItem||v.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(v)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),e.ui.intersect=function(){function a(h,v,d){return h>=v&&v+d>h}return function(h,v,d,_){if(!v.offset)return!1;var C=(h.positionAbs||h.position.absolute).left,N=(h.positionAbs||h.position.absolute).top,G=C+h.helperProportions.width,q=N+h.helperProportions.height,K=v.offset.left,ne=v.offset.top,Q=K+v.proportions().width,ee=ne+v.proportions().height;switch(d){case"fit":return C>=K&&Q>=G&&N>=ne&&ee>=q;case"intersect":return C+h.helperProportions.width/2>K&&Q>G-h.helperProportions.width/2&&N+h.helperProportions.height/2>ne&&ee>q-h.helperProportions.height/2;case"pointer":return a(_.pageY,ne,v.proportions().height)&&a(_.pageX,K,v.proportions().width);case"touch":return(N>=ne&&ee>=N||q>=ne&&ee>=q||ne>N&&q>ee)&&(C>=K&&Q>=C||G>=K&&Q>=G||K>C&&G>Q);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(a,h){var v,d,_=e.ui.ddmanager.droppables[a.options.scope]||[],C=h?h.type:null,N=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();e:for(v=0;_.length>v;v++)if(!(_[v].options.disabled||a&&!_[v].accept.call(_[v].element[0],a.currentItem||a.element))){for(d=0;N.length>d;d++)if(N[d]===_[v].element[0]){_[v].proportions().height=0;continue e}_[v].visible=_[v].element.css("display")!=="none",_[v].visible&&(C==="mousedown"&&_[v]._activate.call(_[v],h),_[v].offset=_[v].element.offset(),_[v].proportions({width:_[v].element[0].offsetWidth,height:_[v].element[0].offsetHeight}))}},drop:function(a,h){var v=!1;return e.each((e.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(a,this,this.options.tolerance,h)&&(v=this._drop.call(this,h)||v),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,h)))}),v},dragStart:function(a,h){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||e.ui.ddmanager.prepareOffsets(a,h)})},drag:function(a,h){a.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(a,h),e.each(e.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var v,d,_,C=e.ui.intersect(a,this,this.options.tolerance,h),N=!C&&this.isover?"isout":C&&!this.isover?"isover":null;N&&(this.options.greedy&&(d=this.options.scope,_=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===d}),_.length&&(v=e(_[0]).droppable("instance"),v.greedyChild=N==="isover")),v&&N==="isover"&&(v.isover=!1,v.isout=!0,v._out.call(v,h)),this[N]=!0,this[N==="isout"?"isover":"isout"]=!1,this[N==="isover"?"_over":"_out"].call(this,h),v&&N==="isout"&&(v.isout=!1,v.isover=!0,v._over.call(v,h)))}})},dragStop:function(a,h){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||e.ui.ddmanager.prepareOffsets(a,h)}},e.ui.droppable;var E="ui-effects-",O=e;e.effects={effect:{}},function(a,h){function v(W,oe,fe){var Z=Q[oe.type]||{};return W==null?fe||!oe.def?null:oe.def:(W=Z.floor?~~W:parseFloat(W),isNaN(W)?oe.def:Z.mod?(W+Z.mod)%Z.mod:0>W?0:W>Z.max?Z.max:W)}function d(W){var oe=K(),fe=oe._rgba=[];return W=W.toLowerCase(),pe(q,function(Z,xe){var Y,he=xe.re.exec(W),Ke=he&&xe.parse(he),ht=xe.space||"rgba";return Ke?(Y=oe[ht](Ke),oe[ne[ht].cache]=Y[ne[ht].cache],fe=oe._rgba=Y._rgba,!1):h}),fe.length?(fe.join()==="0,0,0,0"&&a.extend(fe,C.transparent),oe):C[W]}function _(W,oe,fe){return fe=(fe+1)%1,1>6*fe?W+6*(oe-W)*fe:1>2*fe?oe:2>3*fe?W+6*(oe-W)*(2/3-fe):W}var C,N="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",G=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[W[1],W[2],W[3],W[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[2.55*W[1],2.55*W[2],2.55*W[3],W[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(W){return[parseInt(W[1],16),parseInt(W[2],16),parseInt(W[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(W){return[parseInt(W[1]+W[1],16),parseInt(W[2]+W[2],16),parseInt(W[3]+W[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(W){return[W[1],W[2]/100,W[3]/100,W[4]]}}],K=a.Color=function(W,oe,fe,Z){return new a.Color.fn.parse(W,oe,fe,Z)},ne={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},Q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},ee=K.support={},Me=a("<p>")[0],pe=a.each;Me.style.cssText="background-color:rgba(1,1,1,.5)",ee.rgba=Me.style.backgroundColor.indexOf("rgba")>-1,pe(ne,function(W,oe){oe.cache="_"+W,oe.props.alpha={idx:3,type:"percent",def:1}}),K.fn=a.extend(K.prototype,{parse:function(W,oe,fe,Z){if(W===h)return this._rgba=[null,null,null,null],this;(W.jquery||W.nodeType)&&(W=a(W).css(oe),oe=h);var xe=this,Y=a.type(W),he=this._rgba=[];return oe!==h&&(W=[W,oe,fe,Z],Y="array"),Y==="string"?this.parse(d(W)||C._default):Y==="array"?(pe(ne.rgba.props,function(Ke,ht){he[ht.idx]=v(W[ht.idx],ht)}),this):Y==="object"?(W instanceof K?pe(ne,function(Ke,ht){W[ht.cache]&&(xe[ht.cache]=W[ht.cache].slice())}):pe(ne,function(Ke,ht){var lt=ht.cache;pe(ht.props,function(We,Se){if(!xe[lt]&&ht.to){if(We==="alpha"||W[We]==null)return;xe[lt]=ht.to(xe._rgba)}xe[lt][Se.idx]=v(W[We],Se,!0)}),xe[lt]&&0>a.inArray(null,xe[lt].slice(0,3))&&(xe[lt][3]=1,ht.from&&(xe._rgba=ht.from(xe[lt])))}),this):h},is:function(W){var oe=K(W),fe=!0,Z=this;return pe(ne,function(xe,Y){var he,Ke=oe[Y.cache];return Ke&&(he=Z[Y.cache]||Y.to&&Y.to(Z._rgba)||[],pe(Y.props,function(ht,lt){return Ke[lt.idx]!=null?fe=Ke[lt.idx]===he[lt.idx]:h})),fe}),fe},_space:function(){var W=[],oe=this;return pe(ne,function(fe,Z){oe[Z.cache]&&W.push(fe)}),W.pop()},transition:function(W,oe){var fe=K(W),Z=fe._space(),xe=ne[Z],Y=this.alpha()===0?K("transparent"):this,he=Y[xe.cache]||xe.to(Y._rgba),Ke=he.slice();return fe=fe[xe.cache],pe(xe.props,function(ht,lt){var We=lt.idx,Se=he[We],Le=fe[We],je=Q[lt.type]||{};Le!==null&&(Se===null?Ke[We]=Le:(je.mod&&(Le-Se>je.mod/2?Se+=je.mod:Se-Le>je.mod/2&&(Se-=je.mod)),Ke[We]=v((Le-Se)*oe+Se,lt)))}),this[Z](Ke)},blend:function(W){if(this._rgba[3]===1)return this;var oe=this._rgba.slice(),fe=oe.pop(),Z=K(W)._rgba;return K(a.map(oe,function(xe,Y){return(1-fe)*Z[Y]+fe*xe}))},toRgbaString:function(){var W="rgba(",oe=a.map(this._rgba,function(fe,Z){return fe!=null?fe:Z>2?1:0});return oe[3]===1&&(oe.pop(),W="rgb("),W+oe.join()+")"},toHslaString:function(){var W="hsla(",oe=a.map(this.hsla(),function(fe,Z){return fe==null&&(fe=Z>2?1:0),Z&&3>Z&&(fe=Math.round(100*fe)+"%"),fe});return oe[3]===1&&(oe.pop(),W="hsl("),W+oe.join()+")"},toHexString:function(W){var oe=this._rgba.slice(),fe=oe.pop();return W&&oe.push(~~(255*fe)),"#"+a.map(oe,function(Z){return Z=(Z||0).toString(16),Z.length===1?"0"+Z:Z}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),K.fn.parse.prototype=K.fn,ne.hsla.to=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var oe,fe,Z=W[0]/255,xe=W[1]/255,Y=W[2]/255,he=W[3],Ke=Math.max(Z,xe,Y),ht=Math.min(Z,xe,Y),lt=Ke-ht,We=Ke+ht,Se=.5*We;return oe=ht===Ke?0:Z===Ke?60*(xe-Y)/lt+360:xe===Ke?60*(Y-Z)/lt+120:60*(Z-xe)/lt+240,fe=lt===0?0:.5>=Se?lt/We:lt/(2-We),[Math.round(oe)%360,fe,Se,he!=null?he:1]},ne.hsla.from=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var oe=W[0]/360,fe=W[1],Z=W[2],xe=W[3],Y=.5>=Z?Z*(1+fe):Z+fe-Z*fe,he=2*Z-Y;return[Math.round(255*_(he,Y,oe+1/3)),Math.round(255*_(he,Y,oe)),Math.round(255*_(he,Y,oe-1/3)),xe]},pe(ne,function(W,oe){var fe=oe.props,Z=oe.cache,xe=oe.to,Y=oe.from;K.fn[W]=function(he){if(xe&&!this[Z]&&(this[Z]=xe(this._rgba)),he===h)return this[Z].slice();var Ke,ht=a.type(he),lt=ht==="array"||ht==="object"?he:arguments,We=this[Z].slice();return pe(fe,function(Se,Le){var je=lt[ht==="object"?Se:Le.idx];je==null&&(je=We[Le.idx]),We[Le.idx]=v(je,Le)}),Y?(Ke=K(Y(We)),Ke[Z]=We,Ke):K(We)},pe(fe,function(he,Ke){K.fn[he]||(K.fn[he]=function(ht){var lt,We=a.type(ht),Se=he==="alpha"?this._hsla?"hsla":"rgba":W,Le=this[Se](),je=Le[Ke.idx];return We==="undefined"?je:(We==="function"&&(ht=ht.call(this,je),We=a.type(ht)),ht==null&&Ke.empty?this:(We==="string"&&(lt=G.exec(ht),lt&&(ht=je+parseFloat(lt[2])*(lt[1]==="+"?1:-1))),Le[Ke.idx]=ht,this[Se](Le)))})})}),K.hook=function(W){var oe=W.split(" ");pe(oe,function(fe,Z){a.cssHooks[Z]={set:function(xe,Y){var he,Ke,ht="";if(Y!=="transparent"&&(a.type(Y)!=="string"||(he=d(Y)))){if(Y=K(he||Y),!ee.rgba&&Y._rgba[3]!==1){for(Ke=Z==="backgroundColor"?xe.parentNode:xe;(ht===""||ht==="transparent")&&Ke&&Ke.style;)try{ht=a.css(Ke,"backgroundColor"),Ke=Ke.parentNode}catch(lt){}Y=Y.blend(ht&&ht!=="transparent"?ht:"_default")}Y=Y.toRgbaString()}try{xe.style[Z]=Y}catch(lt){}}},a.fx.step[Z]=function(xe){xe.colorInit||(xe.start=K(xe.elem,Z),xe.end=K(xe.end),xe.colorInit=!0),a.cssHooks[Z].set(xe.elem,xe.start.transition(xe.end,xe.pos))}})},K.hook(N),a.cssHooks.borderColor={expand:function(W){var oe={};return pe(["Top","Right","Bottom","Left"],function(fe,Z){oe["border"+Z+"Color"]=W}),oe}},C=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(O),function(){function a(_){var C,N,G=_.ownerDocument.defaultView?_.ownerDocument.defaultView.getComputedStyle(_,null):_.currentStyle,q={};if(G&&G.length&&G[0]&&G[G[0]])for(N=G.length;N--;)C=G[N],typeof G[C]=="string"&&(q[e.camelCase(C)]=G[C]);else for(C in G)typeof G[C]=="string"&&(q[C]=G[C]);return q}function h(_,C){var N,G,q={};for(N in C)G=C[N],_[N]!==G&&(d[N]||(e.fx.step[N]||!isNaN(parseFloat(G)))&&(q[N]=G));return q}var v=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,C){e.fx.step[C]=function(N){(N.end!=="none"&&!N.setAttr||N.pos===1&&!N.setAttr)&&(O.style(N.elem,C,N.end),N.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(_){return this.add(_==null?this.prevObject:this.prevObject.filter(_))}),e.effects.animateClass=function(_,C,N,G){var q=e.speed(C,N,G);return this.queue(function(){var K,ne=e(this),Q=ne.attr("class")||"",ee=q.children?ne.find("*").addBack():ne;ee=ee.map(function(){var Me=e(this);return{el:Me,start:a(this)}}),K=function(){e.each(v,function(Me,pe){_[pe]&&ne[pe+"Class"](_[pe])})},K(),ee=ee.map(function(){return this.end=a(this.el[0]),this.diff=h(this.start,this.end),this}),ne.attr("class",Q),ee=ee.map(function(){var Me=this,pe=e.Deferred(),W=e.extend({},q,{queue:!1,complete:function(){pe.resolve(Me)}});return this.el.animate(this.diff,W),pe.promise()}),e.when.apply(e,ee.get()).done(function(){K(),e.each(arguments,function(){var Me=this.el;e.each(this.diff,function(pe){Me.css(pe,"")})}),q.complete.call(ne[0])})})},e.fn.extend({addClass:function(_){return function(C,N,G,q){return N?e.effects.animateClass.call(this,{add:C},N,G,q):_.apply(this,arguments)}}(e.fn.addClass),removeClass:function(_){return function(C,N,G,q){return arguments.length>1?e.effects.animateClass.call(this,{remove:C},N,G,q):_.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(_){return function(C,N,G,q,K){return typeof N=="boolean"||N===void 0?G?e.effects.animateClass.call(this,N?{add:C}:{remove:C},G,q,K):_.apply(this,arguments):e.effects.animateClass.call(this,{toggle:C},N,G,q)}}(e.fn.toggleClass),switchClass:function(_,C,N,G,q){return e.effects.animateClass.call(this,{add:C,remove:_},N,G,q)}})}(),function(){function a(v,d,_,C){return e.isPlainObject(v)&&(d=v,v=v.effect),v={effect:v},d==null&&(d={}),e.isFunction(d)&&(C=d,_=null,d={}),(typeof d=="number"||e.fx.speeds[d])&&(C=_,_=d,d={}),e.isFunction(_)&&(C=_,_=null),d&&e.extend(v,d),_=_||d.duration,v.duration=e.fx.off?0:typeof _=="number"?_:_ in e.fx.speeds?e.fx.speeds[_]:e.fx.speeds._default,v.complete=C||d.complete,v}function h(v){return!v||typeof v=="number"||e.fx.speeds[v]?!0:typeof v!="string"||e.effects.effect[v]?e.isFunction(v)?!0:!(typeof v!="object"||v.effect):!0}e.extend(e.effects,{version:"1.11.1",save:function(v,d){for(var _=0;d.length>_;_++)d[_]!==null&&v.data(E+d[_],v[0].style[d[_]])},restore:function(v,d){var _,C;for(C=0;d.length>C;C++)d[C]!==null&&(_=v.data(E+d[C]),_===void 0&&(_=""),v.css(d[C],_))},setMode:function(v,d){return d==="toggle"&&(d=v.is(":hidden")?"show":"hide"),d},getBaseline:function(v,d){var _,C;switch(v[0]){case"top":_=0;break;case"middle":_=.5;break;case"bottom":_=1;break;default:_=v[0]/d.height}switch(v[1]){case"left":C=0;break;case"center":C=.5;break;case"right":C=1;break;default:C=v[1]/d.width}return{x:C,y:_}},createWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent();var d={width:v.outerWidth(!0),height:v.outerHeight(!0),float:v.css("float")},_=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),C={width:v.width(),height:v.height()},N=document.activeElement;try{N.id}catch(G){N=document.body}return v.wrap(_),(v[0]===N||e.contains(v[0],N))&&e(N).focus(),_=v.parent(),v.css("position")==="static"?(_.css({position:"relative"}),v.css({position:"relative"})):(e.extend(d,{position:v.css("position"),zIndex:v.css("z-index")}),e.each(["top","left","bottom","right"],function(G,q){d[q]=v.css(q),isNaN(parseInt(d[q],10))&&(d[q]="auto")}),v.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),v.css(C),_.css(d).show()},removeWrapper:function(v){var d=document.activeElement;return v.parent().is(".ui-effects-wrapper")&&(v.parent().replaceWith(v),(v[0]===d||e.contains(v[0],d))&&e(d).focus()),v},setTransition:function(v,d,_,C){return C=C||{},e.each(d,function(N,G){var q=v.cssUnit(G);q[0]>0&&(C[G]=q[0]*_+q[1])}),C}}),e.fn.extend({effect:function(){function v(G){function q(){e.isFunction(ne)&&ne.call(K[0]),e.isFunction(G)&&G()}var K=e(this),ne=d.complete,Q=d.mode;(K.is(":hidden")?Q==="hide":Q==="show")?(K[Q](),q()):N.call(K[0],d,q)}var d=a.apply(this,arguments),_=d.mode,C=d.queue,N=e.effects.effect[d.effect];return e.fx.off||!N?_?this[_](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):C===!1?this.each(v):this.queue(C||"fx",v)},show:function(v){return function(d){if(h(d))return v.apply(this,arguments);var _=a.apply(this,arguments);return _.mode="show",this.effect.call(this,_)}}(e.fn.show),hide:function(v){return function(d){if(h(d))return v.apply(this,arguments);var _=a.apply(this,arguments);return _.mode="hide",this.effect.call(this,_)}}(e.fn.hide),toggle:function(v){return function(d){if(h(d)||typeof d=="boolean")return v.apply(this,arguments);var _=a.apply(this,arguments);return _.mode="toggle",this.effect.call(this,_)}}(e.fn.toggle),cssUnit:function(v){var d=this.css(v),_=[];return e.each(["em","px","%","pt"],function(C,N){d.indexOf(N)>0&&(_=[parseFloat(d),N])}),_}})}(),function(){var a={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(h,v){a[v]=function(d){return Math.pow(d,h+2)}}),e.extend(a,{Sine:function(h){return 1-Math.cos(h*Math.PI/2)},Circ:function(h){return 1-Math.sqrt(1-h*h)},Elastic:function(h){return h===0||h===1?h:-Math.pow(2,8*(h-1))*Math.sin((80*(h-1)-7.5)*Math.PI/15)},Back:function(h){return h*h*(3*h-2)},Bounce:function(h){for(var v,d=4;((v=Math.pow(2,--d))-1)/11>h;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*v-2)/22-h,2)}}),e.each(a,function(h,v){e.easing["easeIn"+h]=v,e.easing["easeOut"+h]=function(d){return 1-v(1-d)},e.easing["easeInOut"+h]=function(d){return .5>d?v(2*d)/2:1-v(-2*d+2)/2}})}(),e.effects,e.effects.effect.blind=function(a,h){var v,d,_,C=e(this),N=/up|down|vertical/,G=/up|left|vertical|horizontal/,q=["position","top","bottom","left","right","height","width"],K=e.effects.setMode(C,a.mode||"hide"),ne=a.direction||"up",Q=N.test(ne),ee=Q?"height":"width",Me=Q?"top":"left",pe=G.test(ne),W={},oe=K==="show";C.parent().is(".ui-effects-wrapper")?e.effects.save(C.parent(),q):e.effects.save(C,q),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=v[ee](),_=parseFloat(v.css(Me))||0,W[ee]=oe?d:0,pe||(C.css(Q?"bottom":"right",0).css(Q?"top":"left","auto").css({position:"absolute"}),W[Me]=oe?_:d+_),oe&&(v.css(ee,0),pe||v.css(Me,_+d)),v.animate(W,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){K==="hide"&&C.hide(),e.effects.restore(C,q),e.effects.removeWrapper(C),h()}})},e.effects.effect.bounce=function(a,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,a.mode||"effect"),q=G==="hide",K=G==="show",ne=a.direction||"up",Q=a.distance,ee=a.times||5,Me=2*ee+(K||q?1:0),pe=a.duration/Me,W=a.easing,oe=ne==="up"||ne==="down"?"top":"left",fe=ne==="up"||ne==="left",Z=C.queue(),xe=Z.length;for((K||q)&&N.push("opacity"),e.effects.save(C,N),C.show(),e.effects.createWrapper(C),Q||(Q=C[oe==="top"?"outerHeight":"outerWidth"]()/3),K&&(_={opacity:1},_[oe]=0,C.css("opacity",0).css(oe,fe?2*-Q:2*Q).animate(_,pe,W)),q&&(Q/=Math.pow(2,ee-1)),_={},_[oe]=0,v=0;ee>v;v++)d={},d[oe]=(fe?"-=":"+=")+Q,C.animate(d,pe,W).animate(_,pe,W),Q=q?2*Q:Q/2;q&&(d={opacity:0},d[oe]=(fe?"-=":"+=")+Q,C.animate(d,pe,W)),C.queue(function(){q&&C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),h()}),xe>1&&Z.splice.apply(Z,[1,0].concat(Z.splice(xe,Me+1))),C.dequeue()},e.effects.effect.clip=function(a,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,a.mode||"hide"),q=G==="show",K=a.direction||"vertical",ne=K==="vertical",Q=ne?"height":"width",ee=ne?"top":"left",Me={};e.effects.save(C,N),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=C[0].tagName==="IMG"?v:C,_=d[Q](),q&&(d.css(Q,0),d.css(ee,_/2)),Me[Q]=q?_:0,Me[ee]=q?0:_/2,d.animate(Me,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){q||C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),h()}})},e.effects.effect.drop=function(a,h){var v,d=e(this),_=["position","top","bottom","left","right","opacity","height","width"],C=e.effects.setMode(d,a.mode||"hide"),N=C==="show",G=a.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left"?"pos":"neg",ne={opacity:N?1:0};e.effects.save(d,_),d.show(),e.effects.createWrapper(d),v=a.distance||d[q==="top"?"outerHeight":"outerWidth"](!0)/2,N&&d.css("opacity",0).css(q,K==="pos"?-v:v),ne[q]=(N?K==="pos"?"+=":"-=":K==="pos"?"-=":"+=")+v,d.animate(ne,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}})},e.effects.effect.explode=function(a,h){function v(){Z.push(this),Z.length===ne*Q&&d()}function d(){ee.css({visibility:"visible"}),e(Z).remove(),pe||ee.hide(),h()}var _,C,N,G,q,K,ne=a.pieces?Math.round(Math.sqrt(a.pieces)):3,Q=ne,ee=e(this),Me=e.effects.setMode(ee,a.mode||"hide"),pe=Me==="show",W=ee.show().css("visibility","hidden").offset(),oe=Math.ceil(ee.outerWidth()/Q),fe=Math.ceil(ee.outerHeight()/ne),Z=[];for(_=0;ne>_;_++)for(G=W.top+_*fe,K=_-(ne-1)/2,C=0;Q>C;C++)N=W.left+C*oe,q=C-(Q-1)/2,ee.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-C*oe,top:-_*fe}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:oe,height:fe,left:N+(pe?q*oe:0),top:G+(pe?K*fe:0),opacity:pe?0:1}).animate({left:N+(pe?0:q*oe),top:G+(pe?0:K*fe),opacity:pe?1:0},a.duration||500,a.easing,v)},e.effects.effect.fade=function(a,h){var v=e(this),d=e.effects.setMode(v,a.mode||"toggle");v.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.easing,complete:h})},e.effects.effect.fold=function(a,h){var v,d,_=e(this),C=["position","top","bottom","left","right","height","width"],N=e.effects.setMode(_,a.mode||"hide"),G=N==="show",q=N==="hide",K=a.size||15,ne=/([0-9]+)%/.exec(K),Q=!!a.horizFirst,ee=G!==Q,Me=ee?["width","height"]:["height","width"],pe=a.duration/2,W={},oe={};e.effects.save(_,C),_.show(),v=e.effects.createWrapper(_).css({overflow:"hidden"}),d=ee?[v.width(),v.height()]:[v.height(),v.width()],ne&&(K=parseInt(ne[1],10)/100*d[q?0:1]),G&&v.css(Q?{height:0,width:K}:{height:K,width:0}),W[Me[0]]=G?d[0]:K,oe[Me[1]]=G?d[1]:0,v.animate(W,pe,a.easing).animate(oe,pe,a.easing,function(){q&&_.hide(),e.effects.restore(_,C),e.effects.removeWrapper(_),h()})},e.effects.effect.highlight=function(a,h){var v=e(this),d=["backgroundImage","backgroundColor","opacity"],_=e.effects.setMode(v,a.mode||"show"),C={backgroundColor:v.css("backgroundColor")};_==="hide"&&(C.opacity=0),e.effects.save(v,d),v.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(C,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){_==="hide"&&v.hide(),e.effects.restore(v,d),h()}})},e.effects.effect.size=function(a,h){var v,d,_,C=e(this),N=["position","top","bottom","left","right","width","height","overflow","opacity"],G=["position","top","bottom","left","right","overflow","opacity"],q=["width","height","overflow"],K=["fontSize"],ne=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],Q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],ee=e.effects.setMode(C,a.mode||"effect"),Me=a.restore||ee!=="effect",pe=a.scale||"both",W=a.origin||["middle","center"],oe=C.css("position"),fe=Me?N:G,Z={height:0,width:0,outerHeight:0,outerWidth:0};ee==="show"&&C.show(),v={height:C.height(),width:C.width(),outerHeight:C.outerHeight(),outerWidth:C.outerWidth()},a.mode==="toggle"&&ee==="show"?(C.from=a.to||Z,C.to=a.from||v):(C.from=a.from||(ee==="show"?Z:v),C.to=a.to||(ee==="hide"?Z:v)),_={from:{y:C.from.height/v.height,x:C.from.width/v.width},to:{y:C.to.height/v.height,x:C.to.width/v.width}},(pe==="box"||pe==="both")&&(_.from.y!==_.to.y&&(fe=fe.concat(ne),C.from=e.effects.setTransition(C,ne,_.from.y,C.from),C.to=e.effects.setTransition(C,ne,_.to.y,C.to)),_.from.x!==_.to.x&&(fe=fe.concat(Q),C.from=e.effects.setTransition(C,Q,_.from.x,C.from),C.to=e.effects.setTransition(C,Q,_.to.x,C.to))),(pe==="content"||pe==="both")&&_.from.y!==_.to.y&&(fe=fe.concat(K).concat(q),C.from=e.effects.setTransition(C,K,_.from.y,C.from),C.to=e.effects.setTransition(C,K,_.to.y,C.to)),e.effects.save(C,fe),C.show(),e.effects.createWrapper(C),C.css("overflow","hidden").css(C.from),W&&(d=e.effects.getBaseline(W,v),C.from.top=(v.outerHeight-C.outerHeight())*d.y,C.from.left=(v.outerWidth-C.outerWidth())*d.x,C.to.top=(v.outerHeight-C.to.outerHeight)*d.y,C.to.left=(v.outerWidth-C.to.outerWidth)*d.x),C.css(C.from),(pe==="content"||pe==="both")&&(ne=ne.concat(["marginTop","marginBottom"]).concat(K),Q=Q.concat(["marginLeft","marginRight"]),q=N.concat(ne).concat(Q),C.find("*[width]").each(function(){var xe=e(this),Y={height:xe.height(),width:xe.width(),outerHeight:xe.outerHeight(),outerWidth:xe.outerWidth()};Me&&e.effects.save(xe,q),xe.from={height:Y.height*_.from.y,width:Y.width*_.from.x,outerHeight:Y.outerHeight*_.from.y,outerWidth:Y.outerWidth*_.from.x},xe.to={height:Y.height*_.to.y,width:Y.width*_.to.x,outerHeight:Y.height*_.to.y,outerWidth:Y.width*_.to.x},_.from.y!==_.to.y&&(xe.from=e.effects.setTransition(xe,ne,_.from.y,xe.from),xe.to=e.effects.setTransition(xe,ne,_.to.y,xe.to)),_.from.x!==_.to.x&&(xe.from=e.effects.setTransition(xe,Q,_.from.x,xe.from),xe.to=e.effects.setTransition(xe,Q,_.to.x,xe.to)),xe.css(xe.from),xe.animate(xe.to,a.duration,a.easing,function(){Me&&e.effects.restore(xe,q)})})),C.animate(C.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C.to.opacity===0&&C.css("opacity",C.from.opacity),ee==="hide"&&C.hide(),e.effects.restore(C,fe),Me||(oe==="static"?C.css({position:"relative",top:C.to.top,left:C.to.left}):e.each(["top","left"],function(xe,Y){C.css(Y,function(he,Ke){var ht=parseInt(Ke,10),lt=xe?C.to.left:C.to.top;return Ke==="auto"?lt+"px":ht+lt+"px"})})),e.effects.removeWrapper(C),h()}})},e.effects.effect.scale=function(a,h){var v=e(this),d=e.extend(!0,{},a),_=e.effects.setMode(v,a.mode||"effect"),C=parseInt(a.percent,10)||(parseInt(a.percent,10)===0||_==="hide"?0:100),N=a.direction||"both",G=a.origin,q={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()},K={y:N!=="horizontal"?C/100:1,x:N!=="vertical"?C/100:1};d.effect="size",d.queue=!1,d.complete=h,_!=="effect"&&(d.origin=G||["middle","center"],d.restore=!0),d.from=a.from||(_==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:q),d.to={height:q.height*K.y,width:q.width*K.x,outerHeight:q.outerHeight*K.y,outerWidth:q.outerWidth*K.x},d.fade&&(_==="show"&&(d.from.opacity=0,d.to.opacity=1),_==="hide"&&(d.from.opacity=1,d.to.opacity=0)),v.effect(d)},e.effects.effect.puff=function(a,h){var v=e(this),d=e.effects.setMode(v,a.mode||"hide"),_=d==="hide",C=parseInt(a.percent,10)||150,N=C/100,G={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};e.extend(a,{effect:"scale",queue:!1,fade:!0,mode:d,complete:h,percent:_?C:100,from:_?G:{height:G.height*N,width:G.width*N,outerHeight:G.outerHeight*N,outerWidth:G.outerWidth*N}}),v.effect(a)},e.effects.effect.pulsate=function(a,h){var v,d=e(this),_=e.effects.setMode(d,a.mode||"show"),C=_==="show",N=_==="hide",G=C||_==="hide",q=2*(a.times||5)+(G?1:0),K=a.duration/q,ne=0,Q=d.queue(),ee=Q.length;for((C||!d.is(":visible"))&&(d.css("opacity",0).show(),ne=1),v=1;q>v;v++)d.animate({opacity:ne},K,a.easing),ne=1-ne;d.animate({opacity:ne},K,a.easing),d.queue(function(){N&&d.hide(),h()}),ee>1&&Q.splice.apply(Q,[1,0].concat(Q.splice(ee,q+1))),d.dequeue()},e.effects.effect.shake=function(a,h){var v,d=e(this),_=["position","top","bottom","left","right","height","width"],C=e.effects.setMode(d,a.mode||"effect"),N=a.direction||"left",G=a.distance||20,q=a.times||3,K=2*q+1,ne=Math.round(a.duration/K),Q=N==="up"||N==="down"?"top":"left",ee=N==="up"||N==="left",Me={},pe={},W={},oe=d.queue(),fe=oe.length;for(e.effects.save(d,_),d.show(),e.effects.createWrapper(d),Me[Q]=(ee?"-=":"+=")+G,pe[Q]=(ee?"+=":"-=")+2*G,W[Q]=(ee?"-=":"+=")+2*G,d.animate(Me,ne,a.easing),v=1;q>v;v++)d.animate(pe,ne,a.easing).animate(W,ne,a.easing);d.animate(pe,ne,a.easing).animate(Me,ne/2,a.easing).queue(function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}),fe>1&&oe.splice.apply(oe,[1,0].concat(oe.splice(fe,K+1))),d.dequeue()},e.effects.effect.slide=function(a,h){var v,d=e(this),_=["position","top","bottom","left","right","width","height"],C=e.effects.setMode(d,a.mode||"show"),N=C==="show",G=a.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left",ne={};e.effects.save(d,_),d.show(),v=a.distance||d[q==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(d).css({overflow:"hidden"}),N&&d.css(q,K?isNaN(v)?"-"+v:-v:v),ne[q]=(N?K?"+=":"-=":K?"-=":"+=")+v,d.animate(ne,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,_),e.effects.removeWrapper(d),h()}})},e.effects.effect.transfer=function(a,h){var v=e(this),d=e(a.to),_=d.css("position")==="fixed",C=e("body"),N=_?C.scrollTop():0,G=_?C.scrollLeft():0,q=d.offset(),K={top:q.top-N,left:q.left-G,height:d.innerHeight(),width:d.innerWidth()},ne=v.offset(),Q=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:ne.top-N,left:ne.left-G,height:v.innerHeight(),width:v.innerWidth(),position:_?"fixed":"absolute"}).animate(K,a.duration,a.easing,function(){Q.remove(),h()})},e.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===void 0?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return a===void 0&&(a=this.options.value),this.indeterminate=a===!1,typeof a!="number"&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var h=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(h),this._refreshValue()},_setOption:function(a,h){a==="max"&&(h=Math.max(this.min,h)),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h).attr("aria-disabled",h),this._super(a,h)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,h=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(h.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),a===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,h=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){a=e(h.options.filter,h.element[0]),a.addClass("ui-selectee"),a.each(function(){var v=e(this),d=v.offset();e.data(this,"selectable-item",{element:this,$element:v,left:d.left,top:d.top,right:d.left+v.outerWidth(),bottom:d.top+v.outerHeight(),startselected:!1,selected:v.hasClass("ui-selected"),selecting:v.hasClass("ui-selecting"),unselecting:v.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var h=this,v=this.options;this.opos=[a.pageX,a.pageY],this.options.disabled||(this.selectees=e(v.filter,this.element[0]),this._trigger("start",a),e(v.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),v.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=e.data(this,"selectable-item");d.startselected=!0,a.metaKey||a.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,h._trigger("unselecting",a,{unselecting:d.element}))}),e(a.target).parents().addBack().each(function(){var d,_=e.data(this,"selectable-item");return _?(d=!a.metaKey&&!a.ctrlKey||!_.$element.hasClass("ui-selected"),_.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),_.unselecting=!d,_.selecting=d,_.selected=d,d?h._trigger("selecting",a,{selecting:_.element}):h._trigger("unselecting",a,{unselecting:_.element}),!1):void 0}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var h,v=this,d=this.options,_=this.opos[0],C=this.opos[1],N=a.pageX,G=a.pageY;return _>N&&(h=N,N=_,_=h),C>G&&(h=G,G=C,C=h),this.helper.css({left:_,top:C,width:N-_,height:G-C}),this.selectees.each(function(){var q=e.data(this,"selectable-item"),K=!1;q&&q.element!==v.element[0]&&(d.tolerance==="touch"?K=!(q.left>N||_>q.right||q.top>G||C>q.bottom):d.tolerance==="fit"&&(K=q.left>_&&N>q.right&&q.top>C&&G>q.bottom),K?(q.selected&&(q.$element.removeClass("ui-selected"),q.selected=!1),q.unselecting&&(q.$element.removeClass("ui-unselecting"),q.unselecting=!1),q.selecting||(q.$element.addClass("ui-selecting"),q.selecting=!0,v._trigger("selecting",a,{selecting:q.element}))):(q.selecting&&((a.metaKey||a.ctrlKey)&&q.startselected?(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.$element.addClass("ui-selected"),q.selected=!0):(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.startselected&&(q.$element.addClass("ui-unselecting"),q.unselecting=!0),v._trigger("unselecting",a,{unselecting:q.element}))),q.selected&&(a.metaKey||a.ctrlKey||q.startselected||(q.$element.removeClass("ui-selected"),q.selected=!1,q.$element.addClass("ui-unselecting"),q.unselecting=!0,v._trigger("unselecting",a,{unselecting:q.element})))))}),!1}},_mouseStop:function(a){var h=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-unselecting"),v.unselecting=!1,v.startselected=!1,h._trigger("unselected",a,{unselected:v.element})}),e(".ui-selecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-selecting").addClass("ui-selected"),v.selecting=!1,v.selected=!0,v.startselected=!0,h._trigger("selected",a,{selected:v.element})}),this._trigger("stop",a),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this,h=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(v){this.button.focus(),v.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:h||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(h,v){h.preventDefault(),a._select(v.item.data("ui-selectmenu-item"),h)},focus:function(h,v){var d=v.item.data("ui-selectmenu-item");a.focusIndex!=null&&d.index!==a.focusIndex&&(a._trigger("focus",h,{item:d}),a.isOpen||a._select(d,h)),a.focusIndex=d.index,a.button.attr("aria-activedescendant",a.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,h=this.element.find("option");h.length&&(this._parseOptions(h),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,h){var v=this,d="";e.each(h,function(_,C){C.optgroup!==d&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(C.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:C.optgroup}).appendTo(a),d=C.optgroup),v._renderItemData(a,C)})},_renderItemData:function(a,h){return this._renderItem(a,h).data("ui-selectmenu-item",h)},_renderItem:function(a,h){var v=e("<li>");return h.disabled&&v.addClass("ui-state-disabled"),this._setText(v,h.label),v.appendTo(a)},_setText:function(a,h){h?a.text(h):a.html("&#160;")},_move:function(a,h){var v,d,_=".ui-menu-item";this.isOpen?v=this.menuItems.eq(this.focusIndex):(v=this.menuItems.eq(this.element[0].selectedIndex),_+=":not(.ui-state-disabled)"),d=a==="first"||a==="last"?v[a==="first"?"prevAll":"nextAll"](_).eq(-1):v[a+"All"](_).eq(0),d.length&&this.menuInstance.focus(h,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_documentClick:{mousedown:function(a){this.isOpen&&(e(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(a){a.preventDefault()},click:"_toggle",keydown:function(a){var h=!0;switch(a.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(a),h=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case e.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case e.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case e.ui.keyCode.LEFT:this._move("prev",a);break;case e.ui.keyCode.RIGHT:this._move("next",a);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",a);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),h=!1}h&&a.preventDefault()}},_selectFocusedItem:function(a){var h=this.menuItems.eq(this.focusIndex);h.hasClass("ui-state-disabled")||this._select(h.data("ui-selectmenu-item"),a)},_select:function(a,h){var v=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",h,{item:a}),a.index!==v&&this._trigger("change",h,{item:a}),this.close(h)},_setAria:function(a){var h=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":h,"aria-activedescendant":h}),this.menu.attr("aria-activedescendant",h)},_setOption:function(a,h){a==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(h.button),this._super(a,h),a==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),a==="disabled"&&(this.menuInstance.option("disabled",h),this.button.toggleClass("ui-state-disabled",h).attr("aria-disabled",h),this.element.prop("disabled",h),h?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),a==="width"&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?e(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var h=[];a.each(function(v,d){var _=e(d),C=_.parent("optgroup");h.push({element:_,index:v,value:_.attr("value"),label:_.text(),optgroup:C.attr("label")||"",disabled:C.prop("disabled")||_.prop("disabled")})}),this.items=h},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,h,v=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),_="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",C=[];for(h=v.values&&v.values.length||1,d.length>h&&(d.slice(h).remove(),d=d.slice(0,h)),a=d.length;h>a;a++)C.push(_);this.handles=d.add(e(C.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(N){e(this).data("ui-slider-handle-index",N)})},_createRange:function(){var a=this.options,h="";a.range?(a.range===!0&&(a.values?a.values.length&&a.values.length!==2?a.values=[a.values[0],a.values[0]]:e.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),h="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(h+(a.range==="min"||a.range==="max"?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(a){var h,v,d,_,C,N,G,q,K=this,ne=this.options;return ne.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),h={x:a.pageX,y:a.pageY},v=this._normValueFromMouse(h),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(Q){var ee=Math.abs(v-K.values(Q));(d>ee||d===ee&&(Q===K._lastChangedValue||K.values(Q)===ne.min))&&(d=ee,_=e(this),C=Q)}),N=this._start(a,C),N===!1?!1:(this._mouseSliding=!0,this._handleIndex=C,_.addClass("ui-state-active").focus(),G=_.offset(),q=!e(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=q?{left:0,top:0}:{left:a.pageX-G.left-_.width()/2,top:a.pageY-G.top-_.height()/2-(parseInt(_.css("borderTopWidth"),10)||0)-(parseInt(_.css("borderBottomWidth"),10)||0)+(parseInt(_.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,C,v),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var h={x:a.pageX,y:a.pageY},v=this._normValueFromMouse(h);return this._slide(a,this._handleIndex,v),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var h,v,d,_,C;return this.orientation==="horizontal"?(h=this.elementSize.width,v=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,v=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=v/h,d>1&&(d=1),0>d&&(d=0),this.orientation==="vertical"&&(d=1-d),_=this._valueMax()-this._valueMin(),C=this._valueMin()+d*_,this._trimAlignValue(C)},_start:function(a,h){var v={handle:this.handles[h],value:this.value()};return this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._trigger("start",a,v)},_slide:function(a,h,v){var d,_,C;this.options.values&&this.options.values.length?(d=this.values(h?0:1),this.options.values.length===2&&this.options.range===!0&&(h===0&&v>d||h===1&&d>v)&&(v=d),v!==this.values(h)&&(_=this.values(),_[h]=v,C=this._trigger("slide",a,{handle:this.handles[h],value:v,values:_}),d=this.values(h?0:1),C!==!1&&this.values(h,v))):v!==this.value()&&(C=this._trigger("slide",a,{handle:this.handles[h],value:v}),C!==!1&&this.value(v))},_stop:function(a,h){var v={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._trigger("stop",a,v)},_change:function(a,h){if(!this._keySliding&&!this._mouseSliding){var v={handle:this.handles[h],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(h),v.values=this.values()),this._lastChangedValue=h,this._trigger("change",a,v)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,h){var v,d,_;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(h),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(v=this.options.values,d=arguments[0],_=0;v.length>_;_+=1)v[_]=this._trimAlignValue(d[_]),this._change(null,_);this._refreshValue()},_setOption:function(a,h){var v,d=0;switch(a==="range"&&this.options.range===!0&&(h==="min"?(this.options.value=this._values(0),this.options.values=null):h==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(d=this.options.values.length),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!h),this._super(a,h),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(h==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=0;d>v;v+=1)this._change(null,v);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var h,v,d;if(arguments.length)return h=this.options.values[a],h=this._trimAlignValue(h);if(this.options.values&&this.options.values.length){for(v=this.options.values.slice(),d=0;v.length>d;d+=1)v[d]=this._trimAlignValue(v[d]);return v}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var h=this.options.step>0?this.options.step:1,v=(a-this._valueMin())%h,d=a-v;return 2*Math.abs(v)>=h&&(d+=v>0?h:-h),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a,h,v,d,_,C=this.options.range,N=this.options,G=this,q=this._animateOff?!1:N.animate,K={};this.options.values&&this.options.values.length?this.handles.each(function(ne){h=100*((G.values(ne)-G._valueMin())/(G._valueMax()-G._valueMin())),K[G.orientation==="horizontal"?"left":"bottom"]=h+"%",e(this).stop(1,1)[q?"animate":"css"](K,N.animate),G.options.range===!0&&(G.orientation==="horizontal"?(ne===0&&G.range.stop(1,1)[q?"animate":"css"]({left:h+"%"},N.animate),ne===1&&G.range[q?"animate":"css"]({width:h-a+"%"},{queue:!1,duration:N.animate})):(ne===0&&G.range.stop(1,1)[q?"animate":"css"]({bottom:h+"%"},N.animate),ne===1&&G.range[q?"animate":"css"]({height:h-a+"%"},{queue:!1,duration:N.animate}))),a=h}):(v=this.value(),d=this._valueMin(),_=this._valueMax(),h=_!==d?100*((v-d)/(_-d)):0,K[this.orientation==="horizontal"?"left":"bottom"]=h+"%",this.handle.stop(1,1)[q?"animate":"css"](K,N.animate),C==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:h+"%"},N.animate),C==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-h+"%"},{queue:!1,duration:N.animate}),C==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:h+"%"},N.animate),C==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-h+"%"},{queue:!1,duration:N.animate}))},_handleEvents:{keydown:function(a){var h,v,d,_,C=e(a.target).data("ui-slider-handle-index");switch(a.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(a.target).addClass("ui-state-active"),h=this._start(a,C),h===!1))return}switch(_=this.options.step,v=d=this.options.values&&this.options.values.length?this.values(C):this.value(),a.keyCode){case e.ui.keyCode.HOME:d=this._valueMin();break;case e.ui.keyCode.END:d=this._valueMax();break;case e.ui.keyCode.PAGE_UP:d=this._trimAlignValue(v+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(v-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(v===this._valueMax())return;d=this._trimAlignValue(v+_);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(v===this._valueMin())return;d=this._trimAlignValue(v-_)}this._slide(a,C,d)},keyup:function(a){var h=e(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,h),this._change(a,h),e(a.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,h,v){return a>=h&&h+v>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,h){this._super(a,h),a==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,h){var v=null,d=!1,_=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(a),e(a.target).parents().each(function(){return e.data(this,_.widgetName+"-item")===_?(v=e(this),!1):void 0}),e.data(a.target,_.widgetName+"-item")===_&&(v=e(a.target)),v&&(!this.options.handle||h||(e(this.options.handle,v).find("*").addBack().each(function(){this===a.target&&(d=!0)}),d))?(this.currentItem=v,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(a,h,v){var d,_,C=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,C.cursorAt&&this._adjustOffsetFromHelper(C.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),C.containment&&this._setContainment(),C.cursor&&C.cursor!=="auto"&&(_=this.document.find("body"),this.storedCursor=_.css("cursor"),_.css("cursor",C.cursor),this.storedStylesheet=e("<style>*{ cursor: "+C.cursor+" !important; }</style>").appendTo(_)),C.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",C.opacity)),C.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",C.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!v)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var h,v,d,_,C=this.options,N=!1;for(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<C.scrollSensitivity?this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop+C.scrollSpeed:a.pageY-this.overflowOffset.top<C.scrollSensitivity&&(this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop-C.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<C.scrollSensitivity?this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft+C.scrollSpeed:a.pageX-this.overflowOffset.left<C.scrollSensitivity&&(this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft-C.scrollSpeed)):(a.pageY-e(document).scrollTop()<C.scrollSensitivity?N=e(document).scrollTop(e(document).scrollTop()-C.scrollSpeed):e(window).height()-(a.pageY-e(document).scrollTop())<C.scrollSensitivity&&(N=e(document).scrollTop(e(document).scrollTop()+C.scrollSpeed)),a.pageX-e(document).scrollLeft()<C.scrollSensitivity?N=e(document).scrollLeft(e(document).scrollLeft()-C.scrollSpeed):e(window).width()-(a.pageX-e(document).scrollLeft())<C.scrollSensitivity&&(N=e(document).scrollLeft(e(document).scrollLeft()+C.scrollSpeed))),N!==!1&&e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),h=this.items.length-1;h>=0;h--)if(v=this.items[h],d=v.item[0],_=this._intersectsWithPointer(v),_&&v.instance===this.currentContainer&&d!==this.currentItem[0]&&this.placeholder[_===1?"next":"prev"]()[0]!==d&&!e.contains(this.placeholder[0],d)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],d):!0)){if(this.direction=_===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(v))break;this._rearrange(a,v),this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),e.ui.ddmanager&&e.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,h){if(a){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,a),this.options.revert){var v=this,d=this.placeholder.offset(),_=this.options.axis,C={};_&&_!=="x"||(C.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),_&&_!=="y"||(C.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(C,parseInt(this.options.revert,10)||500,function(){v._clear(a)})}else this._clear(a,h);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var h=this._getItemsAsjQuery(a&&a.connected),v=[];return a=a||{},e(h).each(function(){var d=(e(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);d&&v.push((a.key||d[1]+"[]")+"="+(a.key&&a.expression?d[1]:d[2]))}),!v.length&&a.key&&v.push(a.key+"="),v.join("&")},toArray:function(a){var h=this._getItemsAsjQuery(a&&a.connected),v=[];return a=a||{},h.each(function(){v.push(e(a.item||this).attr(a.attribute||"id")||"")}),v},_intersectsWith:function(a){var h=this.positionAbs.left,v=h+this.helperProportions.width,d=this.positionAbs.top,_=d+this.helperProportions.height,C=a.left,N=C+a.width,G=a.top,q=G+a.height,K=this.offset.click.top,ne=this.offset.click.left,Q=this.options.axis==="x"||d+K>G&&q>d+K,ee=this.options.axis==="y"||h+ne>C&&N>h+ne,Me=Q&&ee;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?Me:h+this.helperProportions.width/2>C&&N>v-this.helperProportions.width/2&&d+this.helperProportions.height/2>G&&q>_-this.helperProportions.height/2},_intersectsWithPointer:function(a){var h=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),v=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=h&&v,_=this._getDragVerticalDirection(),C=this._getDragHorizontalDirection();return d?this.floating?C&&C==="right"||_==="down"?2:1:_&&(_==="down"?2:1):!1},_intersectsWithSides:function(a){var h=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),v=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),_=this._getDragHorizontalDirection();return this.floating&&_?_==="right"&&v||_==="left"&&!v:d&&(d==="down"&&h||d==="up"&&!h)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function h(){N.push(this)}var v,d,_,C,N=[],G=[],q=this._connectWith();if(q&&a)for(v=q.length-1;v>=0;v--)for(_=e(q[v]),d=_.length-1;d>=0;d--)C=e.data(_[d],this.widgetFullName),C&&C!==this&&!C.options.disabled&&G.push([e.isFunction(C.options.items)?C.options.items.call(C.element):e(C.options.items,C.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),C]);for(G.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),v=G.length-1;v>=0;v--)G[v][0].each(h);return e(N)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(h){for(var v=0;a.length>v;v++)if(a[v]===h.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var h,v,d,_,C,N,G,q,K=this.items,ne=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):e(this.options.items,this.element),this]],Q=this._connectWith();if(Q&&this.ready)for(h=Q.length-1;h>=0;h--)for(d=e(Q[h]),v=d.length-1;v>=0;v--)_=e.data(d[v],this.widgetFullName),_&&_!==this&&!_.options.disabled&&(ne.push([e.isFunction(_.options.items)?_.options.items.call(_.element[0],a,{item:this.currentItem}):e(_.options.items,_.element),_]),this.containers.push(_));for(h=ne.length-1;h>=0;h--)for(C=ne[h][1],N=ne[h][0],v=0,q=N.length;q>v;v++)G=e(N[v]),G.data(this.widgetName+"-item",C),K.push({item:G,instance:C,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var h,v,d,_;for(h=this.items.length-1;h>=0;h--)v=this.items[h],v.instance!==this.currentContainer&&this.currentContainer&&v.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?e(this.options.toleranceElement,v.item):v.item,a||(v.width=d.outerWidth(),v.height=d.outerHeight()),_=d.offset(),v.left=_.left,v.top=_.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(h=this.containers.length-1;h>=0;h--)_=this.containers[h].element.offset(),this.containers[h].containerCache.left=_.left,this.containers[h].containerCache.top=_.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var h,v=a.options;v.placeholder&&v.placeholder.constructor!==String||(h=v.placeholder,v.placeholder={element:function(){var d=a.currentItem[0].nodeName.toLowerCase(),_=e("<"+d+">",a.document[0]).addClass(h||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return d==="tr"?a.currentItem.children().each(function(){e("<td>&#160;</td>",a.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(_)}):d==="img"&&_.attr("src",a.currentItem.attr("src")),h||_.css("visibility","hidden"),_},update:function(d,_){(!h||v.forcePlaceholderSize)&&(_.height()||_.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),_.width()||_.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}),a.placeholder=e(v.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),v.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var h,v,d,_,C,N,G,q,K,ne,Q=null,ee=null;for(h=this.containers.length-1;h>=0;h--)if(!e.contains(this.currentItem[0],this.containers[h].element[0]))if(this._intersectsWith(this.containers[h].containerCache)){if(Q&&e.contains(this.containers[h].element[0],Q.element[0]))continue;Q=this.containers[h],ee=h}else this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",a,this._uiHash(this)),this.containers[h].containerCache.over=0);if(Q)if(this.containers.length===1)this.containers[ee].containerCache.over||(this.containers[ee]._trigger("over",a,this._uiHash(this)),this.containers[ee].containerCache.over=1);else{for(d=1e4,_=null,K=Q.floating||this._isFloating(this.currentItem),C=K?"left":"top",N=K?"width":"height",ne=K?"clientX":"clientY",v=this.items.length-1;v>=0;v--)e.contains(this.containers[ee].element[0],this.items[v].item[0])&&this.items[v].item[0]!==this.currentItem[0]&&(G=this.items[v].item.offset()[C],q=!1,a[ne]-G>this.items[v][N]/2&&(q=!0),d>Math.abs(a[ne]-G)&&(d=Math.abs(a[ne]-G),_=this.items[v],this.direction=q?"up":"down"));if(!_&&!this.options.dropOnEmpty||this.currentContainer===this.containers[ee])return;_?this._rearrange(a,_,null,!0):this._rearrange(a,null,this.containers[ee].element,!0),this._trigger("change",a,this._uiHash()),this.containers[ee]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[ee],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[ee]._trigger("over",a,this._uiHash(this)),this.containers[ee].containerCache.over=1}},_createHelper:function(a){var h=this.options,v=e.isFunction(h.helper)?e(h.helper.apply(this.element[0],[a,this.currentItem])):h.helper==="clone"?this.currentItem.clone():this.currentItem;return v.parents("body").length||e(h.appendTo!=="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(v[0]),v[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!v[0].style.width||h.forceHelperSize)&&v.width(this.currentItem.width()),(!v[0].style.height||h.forceHelperSize)&&v.height(this.currentItem.height()),v},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),e.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,h,v,d=this.options;d.containment==="parent"&&(d.containment=this.helper[0].parentNode),(d.containment==="document"||d.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(d.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(d.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(a=e(d.containment)[0],h=e(d.containment).offset(),v=e(a).css("overflow")!=="hidden",this.containment=[h.left+(parseInt(e(a).css("borderLeftWidth"),10)||0)+(parseInt(e(a).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(e(a).css("borderTopWidth"),10)||0)+(parseInt(e(a).css("paddingTop"),10)||0)-this.margins.top,h.left+(v?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(e(a).css("borderLeftWidth"),10)||0)-(parseInt(e(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(v?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(e(a).css("borderTopWidth"),10)||0)-(parseInt(e(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,h){h||(h=this.position);var v=a==="absolute"?1:-1,d=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,_=/(html|body)/i.test(d[0].tagName);return{top:h.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():_?0:d.scrollTop())*v,left:h.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():_?0:d.scrollLeft())*v}},_generatePosition:function(a){var h,v,d=this.options,_=a.pageX,C=a.pageY,N=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,G=/(html|body)/i.test(N[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(_=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(C=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(_=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(C=this.containment[3]+this.offset.click.top)),d.grid&&(h=this.originalPageY+Math.round((C-this.originalPageY)/d.grid[1])*d.grid[1],C=this.containment?h-this.offset.click.top>=this.containment[1]&&h-this.offset.click.top<=this.containment[3]?h:h-this.offset.click.top>=this.containment[1]?h-d.grid[1]:h+d.grid[1]:h,v=this.originalPageX+Math.round((_-this.originalPageX)/d.grid[0])*d.grid[0],_=this.containment?v-this.offset.click.left>=this.containment[0]&&v-this.offset.click.left<=this.containment[2]?v:v-this.offset.click.left>=this.containment[0]?v-d.grid[0]:v+d.grid[0]:v)),{top:C-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():G?0:N.scrollTop()),left:_-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():G?0:N.scrollLeft())}},_rearrange:function(a,h,v,d){v?v[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var _=this.counter;this._delay(function(){_===this.counter&&this.refreshPositions(!d)})},_clear:function(a,h){function v(C,N,G){return function(q){G._trigger(C,q,N._uiHash(N))}}this.reverting=!1;var d,_=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)(this._storedCSS[d]==="auto"||this._storedCSS[d]==="static")&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!h&&_.push(function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||_.push(function(C){this._trigger("update",C,this._uiHash())}),this!==this.currentContainer&&(h||(_.push(function(C){this._trigger("remove",C,this._uiHash())}),_.push(function(C){return function(N){C._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),_.push(function(C){return function(N){C._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)h||_.push(v("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(_.push(v("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",a,this._uiHash()),d=0;_.length>d;d++)_[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(d=0;_.length>d;d++)_[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var h=a||this;return{helper:h.helper,placeholder:h.placeholder||e([]),position:h.position,originalPosition:h.originalPosition,offset:h.positionAbs,item:h.currentItem,sender:a?a.element:null}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},h=this.element;return e.each(["min","max","step"],function(v,d){var _=h.attr(d);_!==void 0&&_.length&&(a[d]=_)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,h){if(h){if(!this.spinning&&!this._start(a))return!1;this._spin((h>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function h(){var d=this.element[0]===this.document[0].activeElement;d||(this.element.focus(),this.previous=v,this._delay(function(){this.previous=v}))}var v;v=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),h.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,h.call(this)}),this._start(a)!==!1&&this._repeat(null,e(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return e(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:(this._repeat(null,e(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(a){var h=this.options,v=e.ui.keyCode;switch(a.keyCode){case v.UP:return this._repeat(null,1,a),!0;case v.DOWN:return this._repeat(null,-1,a),!0;case v.PAGE_UP:return this._repeat(null,h.page,a),!0;case v.PAGE_DOWN:return this._repeat(null,-h.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,h,v){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,h,v)},a),this._spin(h*this.options.step,v)},_spin:function(a,h){var v=this.value()||0;this.counter||(this.counter=1),v=this._adjustValue(v+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",h,{value:v})===!1||(this._value(v),this.counter++)},_increment:function(a){var h=this.options.incremental;return h?e.isFunction(h)?h(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return this.options.min!==null&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var h=""+a,v=h.indexOf(".");return v===-1?0:h.length-v-1},_adjustValue:function(a){var h,v,d=this.options;return h=d.min!==null?d.min:0,v=a-h,v=Math.round(v/d.step)*d.step,a=h+v,a=parseFloat(a.toFixed(this._precision())),d.max!==null&&a>d.max?d.max:d.min!==null&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,h){if(a==="culture"||a==="numberFormat"){var v=this._parse(this.element.val());return this.options[a]=h,this.element.val(this._format(v)),void 0}(a==="max"||a==="min"||a==="step")&&typeof h=="string"&&(h=this._parse(h)),a==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(h.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(h.down)),this._super(a,h),a==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!h),this.element.prop("disabled",!!h),this.buttons.button(h?"disable":"enable"))},_setOptions:u(function(a){this._super(a)}),_parse:function(a){return typeof a=="string"&&a!==""&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),a===""||isNaN(a)?null:a},_format:function(a){return a===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return a===null?!1:a===this._adjustValue(a)},_value:function(a,h){var v;a!==""&&(v=this._parse(a),v!==null&&(h||(v=this._adjustValue(v)),a=this._format(v))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:u(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:u(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:u(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:u(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(u(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(h){var v,d;h=h.cloneNode(!1),v=h.href.replace(a,""),d=location.href.replace(a,"");try{v=decodeURIComponent(v)}catch(_){}try{d=decodeURIComponent(d)}catch(_){}return h.hash.length>1&&v===d}}(),_create:function(){var a=this,h=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible),this._processTabs(),h.active=this._initialActive(),e.isArray(h.disabled)&&(h.disabled=e.unique(h.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(v){return a.tabs.index(v)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(h.active):e(),this._refresh(),this.active.length&&this.load(h.active)},_initialActive:function(){var a=this.options.active,h=this.options.collapsible,v=location.hash.substring(1);return a===null&&(v&&this.tabs.each(function(d,_){return e(_).attr("aria-controls")===v?(a=d,!1):void 0}),a===null&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(a===null||a===-1)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),a===-1&&(a=h?!1:0)),!h&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(a){var h=e(this.document[0].activeElement).closest("li"),v=this.tabs.index(h),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:v++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:d=!1,v--;break;case e.ui.keyCode.END:v=this.anchors.length-1;break;case e.ui.keyCode.HOME:v=0;break;case e.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),this._activate(v),void 0;case e.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),this._activate(v===this.options.active?!1:v),void 0;default:return}a.preventDefault(),clearTimeout(this.activating),v=this._focusNextTab(v,d),a.ctrlKey||(h.attr("aria-selected","false"),this.tabs.eq(v).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",v)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===e.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,h){function v(){return a>d&&(a=0),0>a&&(a=d),a}for(var d=this.tabs.length-1;e.inArray(v(),this.options.disabled)!==-1;)a=h?a+1:a-1;return a},_focusNextTab:function(a,h){return a=this._findNextTab(a,h),this.tabs.eq(a).focus(),a},_setOption:function(a,h){return a==="active"?(this._activate(h),void 0):a==="disabled"?(this._setupDisabled(h),void 0):(this._super(a,h),a==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",h),h||this.options.active!==!1||this._activate(0)),a==="event"&&this._setupEvents(h),a==="heightStyle"&&this._setupHeightStyle(h),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,h=this.tablist.children(":has(a[href])");a.disabled=e.map(h.filter(".ui-state-disabled"),function(v){return h.index(v)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(h){e(this).is(".ui-state-disabled")&&h.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(h,v){var d,_,C,N=e(v).uniqueId().attr("id"),G=e(v).closest("li"),q=G.attr("aria-controls");a._isLocal(v)?(d=v.hash,C=d.substring(1),_=a.element.find(a._sanitizeSelector(d))):(C=G.attr("aria-controls")||e({}).uniqueId()[0].id,d="#"+C,_=a.element.find(d),_.length||(_=a._createPanel(C),_.insertAfter(a.panels[h-1]||a.tablist)),_.attr("aria-live","polite")),_.length&&(a.panels=a.panels.add(_)),q&&G.data("ui-tabs-aria-controls",q),G.attr({"aria-controls":C,"aria-labelledby":N}),_.attr("aria-labelledby",N)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return e("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){e.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var h,v=0;h=this.tabs[v];v++)a===!0||e.inArray(v,a)!==-1?e(h).addClass("ui-state-disabled").attr("aria-disabled","true"):e(h).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var h={};a&&e.each(a.split(" "),function(v,d){h[d]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(v){v.preventDefault()}}),this._on(this.anchors,h),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var h,v=this.element.parent();a==="fill"?(h=v.height(),h-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var d=e(this),_=d.css("position");_!=="absolute"&&_!=="fixed"&&(h-=d.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){h-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,h-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):a==="auto"&&(h=0,this.panels.each(function(){h=Math.max(h,e(this).height("").height())}).height(h))},_eventHandler:function(a){var h=this.options,v=this.active,d=e(a.currentTarget),_=d.closest("li"),C=_[0]===v[0],N=C&&h.collapsible,G=N?e():this._getPanelForTab(_),q=v.length?this._getPanelForTab(v):e(),K={oldTab:v,oldPanel:q,newTab:N?e():_,newPanel:G};a.preventDefault(),_.hasClass("ui-state-disabled")||_.hasClass("ui-tabs-loading")||this.running||C&&!h.collapsible||this._trigger("beforeActivate",a,K)===!1||(h.active=N?!1:this.tabs.index(_),this.active=C?e():_,this.xhr&&this.xhr.abort(),q.length||G.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),G.length&&this.load(this.tabs.index(_),a),this._toggle(a,K))},_toggle:function(a,h){function v(){_.running=!1,_._trigger("activate",a,h)}function d(){h.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),C.length&&_.options.show?_._show(C,_.options.show,v):(C.show(),v())}var _=this,C=h.newPanel,N=h.oldPanel;this.running=!0,N.length&&this.options.hide?this._hide(N,this.options.hide,function(){h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(h.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),N.hide(),d()),N.attr("aria-hidden","true"),h.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),C.length&&N.length?h.oldTab.attr("tabIndex",-1):C.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),C.attr("aria-hidden","false"),h.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){var h,v=this._findActive(a);v[0]!==this.active[0]&&(v.length||(v=this.active),h=v.find(".ui-tabs-anchor")[0],this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop}))},_findActive:function(a){return a===!1?e():this.tabs.eq(a)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=e(this),h=a.data("ui-tabs-aria-controls");h?a.attr("aria-controls",h).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(a){var h=this.options.disabled;h!==!1&&(a===void 0?h=!1:(a=this._getIndex(a),h=e.isArray(h)?e.map(h,function(v){return v!==a?v:null}):e.map(this.tabs,function(v,d){return d!==a?d:null})),this._setupDisabled(h))},disable:function(a){var h=this.options.disabled;if(h!==!0){if(a===void 0)h=!0;else{if(a=this._getIndex(a),e.inArray(a,h)!==-1)return;h=e.isArray(h)?e.merge([a],h).sort():[a]}this._setupDisabled(h)}},load:function(a,h){a=this._getIndex(a);var v=this,d=this.tabs.eq(a),_=d.find(".ui-tabs-anchor"),C=this._getPanelForTab(d),N={tab:d,panel:C};this._isLocal(_[0])||(this.xhr=e.ajax(this._ajaxSettings(_,h,N)),this.xhr&&this.xhr.statusText!=="canceled"&&(d.addClass("ui-tabs-loading"),C.attr("aria-busy","true"),this.xhr.success(function(G){setTimeout(function(){C.html(G),v._trigger("load",h,N)},1)}).complete(function(G,q){setTimeout(function(){q==="abort"&&v.panels.stop(!1,!0),d.removeClass("ui-tabs-loading"),C.removeAttr("aria-busy"),G===v.xhr&&delete v.xhr},1)})))},_ajaxSettings:function(a,h,v){var d=this;return{url:a.attr("href"),beforeSend:function(_,C){return d._trigger("beforeLoad",h,e.extend({jqXHR:_,ajaxSettings:C},v))}}},_getPanelForTab:function(a){var h=e(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var a=e(this).attr("title")||"";return e("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,h){var v=(a.attr("aria-describedby")||"").split(/\s+/);v.push(h),a.data("ui-tooltip-id",h).attr("aria-describedby",e.trim(v.join(" ")))},_removeDescribedBy:function(a){var h=a.data("ui-tooltip-id"),v=(a.attr("aria-describedby")||"").split(/\s+/),d=e.inArray(h,v);d!==-1&&v.splice(d,1),a.removeData("ui-tooltip-id"),v=e.trim(v.join(" ")),v?a.attr("aria-describedby",v):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(a,h){var v=this;return a==="disabled"?(this[h?"_disable":"_enable"](),this.options[a]=h,void 0):(this._super(a,h),a==="content"&&e.each(this.tooltips,function(d,_){v._updateContent(_)}),void 0)},_disable:function(){var a=this;e.each(this.tooltips,function(h,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],a.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var h=e(this);h.is("[title]")&&h.data("ui-tooltip-title",h.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=e(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var h=this,v=e(a?a.target:this.element).closest(this.options.items);v.length&&!v.data("ui-tooltip-id")&&(v.attr("title")&&v.data("ui-tooltip-title",v.attr("title")),v.data("ui-tooltip-open",!0),a&&a.type==="mouseover"&&v.parents().each(function(){var d,_=e(this);_.data("ui-tooltip-open")&&(d=e.Event("blur"),d.target=d.currentTarget=this,h.close(d,!0)),_.attr("title")&&(_.uniqueId(),h.parents[this.id]={element:this,title:_.attr("title")},_.attr("title",""))}),this._updateContent(v,a))},_updateContent:function(a,h){var v,d=this.options.content,_=this,C=h?h.type:null;return typeof d=="string"?this._open(h,a,d):(v=d.call(a[0],function(N){a.data("ui-tooltip-open")&&_._delay(function(){h&&(h.type=C),this._open(h,a,N)})}),v&&this._open(h,a,v),void 0)},_open:function(a,h,v){function d(K){q.of=K,_.is(":hidden")||_.position(q)}var _,C,N,G,q=e.extend({},this.options.position);if(v){if(_=this._find(h),_.length)return _.find(".ui-tooltip-content").html(v),void 0;h.is("[title]")&&(a&&a.type==="mouseover"?h.attr("title",""):h.removeAttr("title")),_=this._tooltip(h),this._addDescribedBy(h,_.attr("id")),_.find(".ui-tooltip-content").html(v),this.liveRegion.children().hide(),v.clone?(G=v.clone(),G.removeAttr("id").find("[id]").removeAttr("id")):G=v,e("<div>").html(G).appendTo(this.liveRegion),this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:d}),d(a)):_.position(e.extend({of:h},this.options.position)),this.hiding=!1,this.closing=!1,_.hide(),this._show(_,this.options.show),this.options.show&&this.options.show.delay&&(N=this.delayedShow=setInterval(function(){_.is(":visible")&&(d(q.of),clearInterval(N))},e.fx.interval)),this._trigger("open",a,{tooltip:_}),C={keyup:function(K){if(K.keyCode===e.ui.keyCode.ESCAPE){var ne=e.Event(K);ne.currentTarget=h[0],this.close(ne,!0)}}},h[0]!==this.element[0]&&(C.remove=function(){this._removeTooltip(_)}),a&&a.type!=="mouseover"||(C.mouseleave="close"),a&&a.type!=="focusin"||(C.focusout="close"),this._on(!0,h,C)}},close:function(a){var h=this,v=e(a?a.currentTarget:this.element),d=this._find(v);this.closing||(clearInterval(this.delayedShow),v.data("ui-tooltip-title")&&!v.attr("title")&&v.attr("title",v.data("ui-tooltip-title")),this._removeDescribedBy(v),this.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){h._removeTooltip(e(this)),this.hiding=!1,this.closing=!1}),v.removeData("ui-tooltip-open"),this._off(v,"mouseleave focusout keyup"),v[0]!==this.element[0]&&this._off(v,"remove"),this._off(this.document,"mousemove"),a&&a.type==="mouseleave"&&e.each(this.parents,function(_,C){e(C.element).attr("title",C.title),delete h.parents[_]}),this.closing=!0,this._trigger("close",a,{tooltip:d}),this.hiding||(this.closing=!1))},_tooltip:function(a){var h=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),v=h.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[v]=a,h},_find:function(a){var h=a.data("ui-tooltip-id");return h?e("#"+h):e()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;e.each(this.tooltips,function(h,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],a.close(d,!0),e("#"+h).remove(),v.data("ui-tooltip-title")&&(v.attr("title")||v.attr("title",v.data("ui-tooltip-title")),v.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),cy={};v3(cy,{default:()=>Zp});b3=sy(ly());y3(cy,sy(ly()));oy=b3,{default:ay}=oy,w3=nn(oy,["default"]),Zp=ay!==void 0?ay:w3;});var Qp={};Ln(Qp,{default:()=>Zp});var ef=Zt(()=>{Jp();Jp()});var Wc,uy=Zt(()=>{Dn();mo();Wc=class{static setup(){we(".js-search-bar").each(function(){let r=we(this),s=r.data("autocompleteFormat");s!=="off"&&Promise.resolve().then(()=>(ef(),Qp)).then(()=>{let l={minLength:3,source:function(c,n){we.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:c.term,limit:15},dataType:"json",success:n,error:function(p,g,m){_i(`${g}: ${m}`),n([])}})},open:function(){let c=we(this).autocomplete("widget"),n=c.offset();n.left<0&&(c.width(c.width()-n.left),c.offset({top:n.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};s==="inline"?(l.appendTo=r.data("autocompleteAppendTo"),l.position={using:we.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",s==="right"&&(l.position={my:"right top",at:"right bottom"})),r.autocomplete(l)})})}}});var dy=Zt(()=>{Dn();we(()=>{let e=we(".search-form--inside");if(!e)return;let t=n=>n?encodeURIComponent(n.trim()).replace(/%20/g,"+"):"",r=(n,u,p)=>{p&&n.append(u,p)},s=(n,u,p)=>p?`${n?"&":""}${u}=${p}`:"",l=e.find(".searchlist").val(),o=e.find('[name="sin"]:checked').val(),c=new URLSearchParams(window.location.search.substring(1));e.submit(n=>{n.preventDefault();let u=e.find(".searchlist").val(),p=e.find('[name="sin"]:checked').val(),g=new URLSearchParams;r(g,"query",u),r(g,"sin",p);let m=g.toString();if(l===u&&o===p)for(let w of c.getAll("and[]"))m+=s(m,"and[]",t(w));let y=c.get("sort");m+=s(m,"sort",t(y)),m&&(m=`?${m}`);let x=window.location;window.location=`${x.origin}${x.pathname}${m}`})})});function hy(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");we(e).on("change",s=>{let l=t(s);return r==="callback"&&l?l:r==="default"?!0:(s&&s.preventDefault&&s.preventDefault(),s&&s.stopPropagation&&s.stopPropagation(),!1)})}var py=Zt(()=>{Dn()});function fy(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");we(e).on("submit",s=>{let l=t(s);return r==="callback"&&l?l:r==="default"?!0:(s&&s.preventDefault&&s.preventDefault(),s&&s.stopPropagation&&s.stopPropagation(),!1)})}var my=Zt(()=>{Dn()});function gy(e,t=100,r=!1){let s;return function(){let o=this,c=arguments;function n(){r||e.apply(o,...c),s=null}s?clearTimeout(s):r&&e.apply(o,...c),s=setTimeout(n,t)}}var vy=Zt(()=>{});function Cs(e,t){Object.keys(t).forEach(r=>{let s=r;tf&&r.search("animation")>-1&&(s=tf+r[0].toUpperCase()+r.substr(1)),e.style[s]=t[r]})}function wy(e){Cs(e,{display:"block"})}function xy(e){Cs(e,{display:"none"})}function x3(){let e=document.body,t=document.documentElement,r;return window.innerHeight?r=window.innerHeight:t&&t.clientHeight?r=t.clientHeight:e&&(r=e.clientHeight),r||0}function _3(){let e=document.body,t=document.documentElement,r;return window.innerWidth?r=window.innerWidth:t&&t.clientWidth?r=t.clientWidth:e&&(r=e.clientWidth),r||0}function k3(e,t){return t||(t=document.createElement("style"),document.body.appendChild(t)),t.textContent=e,t}function yd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function A3(e){return e===document.body}function Co(e,t){e.classList.add(t)}function yy(e,t){e.classList.remove(t)}function by(e,t){return e+Math.floor(Math.random()*(t-e))}function rf(e,t,r,s,l){return s+(l-s)*(e-t)/(r-t)}function _y(e,t,r){return Math.floor(rf(e,0,nf,t,r))}var tf,S3,nf,C3,E3,T3,qc,of=Zt(()=>{tf="";typeof window<"u"&&(tf=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit");S3=typeof document<"u"&&"onanimationend"in document;nf=20;C3=class{constructor(e){this.size=0,this.sizeInner=0;let t=this.elem=document.createElement("div"),r=this.elemInner=document.createElement("div");this.update(e),Co(t,"snowflake"),Co(r,"snowflake__inner"),Co(t,"snowflake_animation"),S3?(Co(t,"snowflake_animation-end"),t.onanimationend=s=>{s.target===t&&(this.updateLeft(),this.reflow())}):Co(t,"snowflake_animation-infinity"),e.types&&Co(r,"snowflake__inner_type_"+by(0,e.types)),e.wind&&Co(r,"snowflake__inner_wind"),e.rotation&&Co(r,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),t.appendChild(r)}getLeft(){return Math.random()*99+"%"}updateLeft(){this.elem&&Cs(this.elem,{left:this.getLeft()})}update(e){if(!this.elem||!this.elemInner)return;let t=e.minSize===e.maxSize;this.sizeInner=t?0:by(0,nf),this.size=_y(this.sizeInner,e.minSize,e.maxSize);let r=this.getAnimationProps(e),s={animationName:`snowflake_gid_${e.gid}_y`,animationDelay:r.animationDelay,animationDuration:r.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};t||(s.opacity=String(rf(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),Cs(this.elem,s);let l=`snowflake_gid_${e.gid}_x_${this.sizeInner}`;Cs(this.elemInner,{animationName:l,animationDelay:Math.random()*4+"s"})}reflow(){this.elem&&(xy(this.elem),this.elem.offsetHeight,wy(this.elem))}resize(e){if(!this.elem)return;let t=this.getAnimationProps(e);Cs(this.elem,{animationDuration:t.animationDuration})}appendTo(e){this.elem&&e.appendChild(this.elem)}destroy(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}getAnimationProps(e){let t=e.containerHeight/50/e.speed,r=t/3;return{animationDelay:Math.random()*t+"s",animationDuration:rf(this.size,e.minSize,e.maxSize,t,r)+"s"}}},E3='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',T3=`.snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E")}`,qc=class Xa{constructor(t){this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=()=>{this.params.autoResize&&this.resize()},this.handleOrientationChange=()=>{this.resize()},this.params=this.setParams(t),this.isBody=A3(this.params.container),Xa.gid++,this.gid=Xa.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}start(){yy(this.container,"snowflakes_paused")}stop(){Co(this.container,"snowflakes_paused")}show(){yy(this.container,"snowflakes_hidden")}hide(){Co(this.container,"snowflakes_hidden")}resize(){let t=this.width(),r=this.height();if(r===this.containerSize.height)return;this.containerSize.width=t,this.containerSize.height=r;let s=this.getFlakeParams();this.flakes.forEach(l=>l.resize(s)),!this.isBody&&(xy(this.container),this.updateAnimationStyle(),wy(this.container))}destroy(){this.destroyed||(this.destroyed=!0,Xa.instanceCounter&&Xa.instanceCounter--,this.removeStyles(),yd(this.container),this.flakes.forEach(t=>t.destroy()),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}appendContainer(){let t=document.createElement("div");return Co(t,"snowflakes"),Co(t,`snowflakes_gid_${this.gid}`),this.isBody&&Co(t,"snowflakes_body"),Cs(t,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(t),t}appendStyles(){Xa.instanceCounter||(this.mainStyleNode=this.injectStyle(E3)),Xa.instanceCounter++,this.imagesStyleNode=this.injectStyle(T3.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}injectStyle(t,r){return k3(t.replace(/_gid_value/g,`_gid_${this.gid}`),r)}getFlakeParams(){let t=this.height(),r=this.params;return{containerHeight:t,gid:this.gid,count:r.count,speed:r.speed,rotation:r.rotation,minOpacity:r.minOpacity,maxOpacity:r.maxOpacity,minSize:r.minSize,maxSize:r.maxSize,types:r.types,wind:r.wind}}appendFlakes(){let t=this.getFlakeParams();this.flakes=[];for(let r=0;r<this.params.count;r++)this.flakes.push(new C3(t));this.flakes.sort((r,s)=>r.size-s.size).forEach(r=>{r.appendTo(this.container)})}setParams(t){let r=t||{},s={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(o=>{s[o]=typeof r[o]>"u"?l[o]:r[o]}),s}getAnimationStyle(){let t="0px",r=this.params.maxSize*Math.sqrt(2),s=this.isBody?`calc(100vh + ${r}px)`:`${this.height()+r}px`,l=this.gid,o=`@-webkit-keyframes snowflake_gid_${l}_y{from{-webkit-transform:translateY(${t})}to{-webkit-transform:translateY(${s});}}
@keyframes snowflake_gid_${l}_y{from{transform:translateY(${t})}to{transform:translateY(${s});}}`;for(let c=0;c<=nf;c++){let n=_y(c,this.params.minSize,this.params.maxSize)+"px";o+=`@-webkit-keyframes snowflake_gid_${l}_x_${c}{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(${n});}}
@keyframes snowflake_gid_${l}_x_${c}{from{transform:translateX(0px)}to{transform:translateX(${n})}}`}return o}updateAnimationStyle(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}removeStyles(){Xa.instanceCounter||(yd(this.mainStyleNode),delete this.mainStyleNode),yd(this.imagesStyleNode),delete this.imagesStyleNode,yd(this.animationStyleNode),delete this.animationStyleNode}width(){return this.params.width||(this.isBody?_3():this.params.container.offsetWidth)}height(){return this.params.height||(this.isBody?x3():this.params.container.offsetHeight+this.params.maxSize)}};qc.instanceCounter=0;qc.gid=0;});var ky=Zt(()=>{of();of()});function la(e,t){var r=this;if(!(r instanceof la))return new la(e,t);var s=Object.assign({},P3,t),l=af(s.precision),o=bd(e,s);r.intValue=o,r.value=o/l,s.increment=s.increment||1/l,s.useVedic?s.groups=M3:s.groups=O3,this.s=s,this.p=l}function bd(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=0,l=t.decimal,o=t.errorOnInvalid,c=t.precision,n=t.fromCents,u=af(c),p=typeof e=="number",g=e instanceof la;if(g&&n)return e.intValue;if(p||g)s=g?e.value:e;else if(typeof e=="string"){var m=new RegExp("[^-\\d"+l+"]","g"),y=new RegExp("\\"+l,"g");s=e.replace(/\((.*)\)/,"-$1").replace(m,"").replace(y,"."),s=s||0}else{if(o)throw Error("Invalid Input");s=0}return n||(s*=u,s=s.toFixed(4)),r?Ay(s):s}function L3(e,t){var r=t.pattern,s=t.negativePattern,l=t.symbol,o=t.separator,c=t.decimal,n=t.groups,u=(""+e).replace(/^-/,"").split("."),p=u[0],g=u[1];return(e.value>=0?r:s).replace("!",l).replace("#",p.replace(n,"$1"+o)+(g?c+g:""))}var P3,Ay,af,$3,O3,M3,sf,lf=Zt(()=>{P3={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:L3,fromCents:!1},Ay=function(e){return Math.round(e)},af=function(e){return Math.pow(10,e)},$3=function(e,t){return Ay(e/t)*t},O3=/(\d)(?=(\d{3})+\b)/g,M3=/(\d)(?=(\d\d)+\d\b)/g;la.prototype={add:function(e){var t=this.intValue,r=this.s,s=this.p;return la((t+=bd(e,r))/(r.fromCents?1:s),r)},subtract:function(e){var t=this.intValue,r=this.s,s=this.p;return la((t-=bd(e,r))/(r.fromCents?1:s),r)},multiply:function(e){var t=this.intValue,r=this.s;return la((t*=e)/(r.fromCents?1:af(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return la(t/=bd(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,s=this.s,l=[],o=Math[t>=0?"floor":"ceil"](t/e),c=Math.abs(t-o*e),n=s.fromCents?1:r;e!==0;e--){var u=la(o/n,s);c-- >0&&(u=u[t>=0?"add":"subtract"](1/n)),l.push(u)}return l},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return $3(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};sf=la;});var Sy,wd,Ko,Cy,Ey,uf=Zt(()=>{(function(e){e.CreditCard="Credit Card",e.PayPal="PayPal",e.GooglePay="Google Pay",e.Venmo="Venmo",e.ApplePay="Apple Pay"})(Sy||(Sy={}));wd=class cf{get feeAmountCovered(){return this.coverFees?this.fee:0}get fee(){return cf.calculateFeeAmount(this.amount)}get total(){return cf.calculateTotal(this.amount,this.coverFees)}static calculateTotal(t,r){let s=r?this.calculateFeeAmount(t):0,l=t+s;return isNaN(l)?0:this.roundAmount(l)}static calculateFeeAmount(t){let r=t*.02+.49;return isNaN(r)?0:this.roundAmount(r)}static roundAmount(t){return Math.round(t*100)/100}constructor(t){this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}};(function(e){e.OneTime="one-time",e.Monthly="monthly",e.Upsell="up_sell"})(Ko||(Ko={}));Cy=[5,10,25,50,100,500,1e3],Ey=new wd({donationType:Ko.OneTime,amount:10,coverFees:!1})});var Ty,df=Zt(()=>{Ty=class{keydown(e){var t,r;let s=e.key;if(e.metaKey)return;switch(s){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}let l=e.target,o=l.value,c=o.slice(0,(t=l.selectionStart)!==null&&t!==void 0?t:0),n=o.slice((r=l.selectionEnd)!==null&&r!==void 0?r:0),u=`${c}${s}${n}`,p=/^[0-9]+(\.[0-9]{0,2})?$/g;u.match(p)||e.preventDefault()}}});var Hl,Gc,hf=Zt(()=>{wr();ki();Vr();(function(e){e.HideBadge="hidebadge",e.ShowBadge="showbadge",e.HideBadgeLeaveSpacing="hidebadgeleavespacing"})(Hl||(Hl={}));Gc=class extends hi{constructor(){super(...arguments),this.sectionBadge="0",this.badgeMode=Hl.ShowBadge}render(){return tt`
      <div class="container ${this.badgeMode}">
        <div class="badge-container">
          <div class="badge">${this.sectionBadge}</div>
        </div>
        <div class="content-container">
          ${this.headline?tt` <div class="title">${this.headline}</div> `:""}
          <div class="content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}static get styles(){let e=yt`var(--formSectionBadgeTransition, 0.25s ease-out)`,t=yt`var(--formSectionBadgeMargin, 1rem)`,r=yt`var(--formSectionBadgeBackgroundColor, #333)`,s=yt`var(--formSectionBadgeRadius, 1.2rem)`,l=yt`calc(${s} * 2)`,o=yt`var(--formSectionBadgeFontSize, 1.8rem)`,c=yt`var(--formSectionBadgeFontWeight, bold)`,n=yt`var(--formSectionBadgeFontColor, #fff)`,u=yt`var(--formSectionTitleFontSize, 1.8rem)`,p=yt`var(--formSectionTitleFontWeight, bold)`,g=yt`var(--formSectionContentBackgroundColor, transparent)`,m=yt`var(--formSectionTextColor, #333)`,y=yt`calc(${s} * 2)`;return yt`
      :host {
        display: block;
        background-color: ${g};
        color: ${m};
      }
      .container {
        position: relative;
        padding: 0.5rem;
      }

      .content-container {
        position: relative;
        left: calc(${l} + ${t});
        width: calc(100% - (${l} + ${t}));
        transition: ${e};
        z-index: 1;
      }

      .hidebadge .content-container {
        left: 0;
        width: 100%;
      }

      .hidebadge .badge-container {
        display: none;
      }

      .hidebadgeleavespacing .badge {
        display: none;
      }

      .badge-container {
        position: absolute;
        width: ${l};
      }

      .badge {
        background-color: ${r};
        color: ${n};
        width: ${l};
        height: ${l};
        border-radius: ${s};
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: ${c};
        font-size: ${o};
      }

      .title {
        line-height: ${y};
        margin-bottom: 0.5rem;
        font-size: ${u};
        font-weight: ${p};
      }
    `}};de([ri({type:String})],Gc.prototype,"sectionBadge",void 0);de([ri({type:String})],Gc.prototype,"headline",void 0);de([ri({type:String})],Gc.prototype,"badgeMode",void 0);Gc=de([cr("donation-form-section")],Gc)});var Yc,ca,Ro,Es,xd,ho,Py=Zt(()=>{wr();ki();Vr();lf();uf();df();hf();(function(e){e.HideNumbers="hidenumbers",e.ShowNumbers="shownumbers"})(Yc||(Yc={}));(function(e){e.DonationType="donationType",e.Amount="amount"})(ca||(ca={}));(function(e){e.ValidDonationAmount="valid_donation_amount",e.InvalidDonationAmount="invalid_donation_amount",e.DonationTooHigh="donation_too_high",e.DonationTooLow="donation_too_low"})(Ro||(Ro={}));(function(e){e.Button="button",e.Checkbox="checkbox",e.Hide="hide"})(Es||(Es={}));(function(e){e.SingleLine="single-line",e.MultiLine="multi-line"})(xd||(xd={}));ho=class extends hi{constructor(){super(...arguments),this.donationInfo=Ey,this.stepNumberMode=Yc.ShowNumbers,this.amountOptions=Cy,this.amountSelectionLayout=xd.MultiLine,this.frequencySelectionMode=Es.Button,this.customAmountMode="display",this.customFeesCheckboxMode="display",this.amountTitleDisplayMode="default",this.customAmountSelected=!1,this.currencyValidator=new Ty}render(){let e=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return tt`
      ${this.frequencySelectionMode===Es.Button?this.frequencyButtonsTemplate:$i}

      <donation-form-section
        sectionBadge="${this.amountSelectionSectionNumber}"
        headline=${e}
        badgeMode=${this.formSectionNumberMode}
      >
        ${this.amountTitleDisplayMode==="slot"?tt`<slot name="edit-donation-amount-title"></slot>`:$i}
        <ul class="amount-selector">
          ${this.presetAmountsTemplate}
          ${this.customAmountMode==="display"?tt`<li class="custom-amount">${this.customAmountTemplate}</li>`:$i}
        </ul>

        <div class="errors">${this.error}</div>

        ${this.customFeesCheckboxMode==="display"?tt` <div class="checkbox-options">
              ${this.customFeesCheckboxTemplate}
              ${this.frequencySelectionMode===Es.Checkbox?this.frequencyCheckboxTemplate:$i}
            </div>`:$i}
      </donation-form-section>
    `}updated(e){e.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),e.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),e.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),e.has("donationInfo")&&this.updateSelectedDonationInfo(),e.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new wd({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}get frequencyButtonsTemplate(){return tt`
      <donation-form-section
        sectionBadge="1"
        headline="Choose a frequency"
        badgeMode=${this.formSectionNumberMode}
      >
        <ul class="frequency-selector">
          ${this.frequencyTemplate}
        </ul>
      </donation-form-section>
    `}get frequencyCheckboxTemplate(){return tt`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="make-this-monthly"
          @input=${this.monthlyCheckboxChecked}
          .checked=${this.donationInfo.donationType===Ko.Monthly}
          tabindex="0"
        />
        <label for="make-this-monthly"> Make this monthly </label>
      </div>
    `}get customFeesCheckboxTemplate(){return tt`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="cover-fees"
          @input=${this.coverFeesChecked}
          .checked=${this.donationInfo.coverFees}
          tabindex="0"
        />
        <label for="cover-fees"> ${this.coverFeesTextTemplate} </label>
      </div>
    `}get amountSelectionSectionNumber(){return this.frequencySelectionMode===Es.Button?2:1}get formSectionNumberMode(){switch(this.stepNumberMode){case Yc.ShowNumbers:return Hl.ShowBadge;case Yc.HideNumbers:return Hl.HideBadge}}setupAmountColumnsLayoutConfig(){let e=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Es.Hide,t=this.amountOptions.length,r=5,s=3;switch(t){case 7:r=5,s=3;break;case 6:r=4,s=2;break;case 5:r=4,s=3;break;case 4:if(e){r=4,s=0;break}r=3,s=2;break;case 3:r=2,s=1;break}this.amountSelectionLayout===xd.SingleLine&&(r=t+3,s=3),this.style.setProperty("--paymentSelectorAmountColumnCount",`${r}`),this.style.setProperty("--paymentSelectorCustomAmountColSpan",`${s}`)}updateSelectedDonationInfo(){var e,t;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){let r=(e=this.shadowRoot)===null||e===void 0?void 0:e.querySelector(`input[type="radio"][name="${ca.Amount}"][value="${this.donationInfo.amount}"]`);r.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((t=this.shadowRoot)===null||t===void 0?void 0:t.activeElement)!==this.customAmountInput){this.customAmountInput.value=`${this.donationInfo.amount}`;let r=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(r)}}get coverFeesTextTemplate(){let e=sf(this.donationInfo.fee,{symbol:"$"}).format();return tt` I'll generously add ${e} to cover fees. `}formatShortenedAmount(e){let t=e%1===0?0:2;return sf(e,{symbol:"$",precision:t}).format()}get frequencyTemplate(){return tt`
      <li>
        ${this.getRadioButton({group:ca.DonationType,value:Ko.OneTime,displayText:"One time",checked:this.donationInfo.donationType===Ko.OneTime})}
      </li>

      <li>
        ${this.getRadioButton({group:ca.DonationType,value:Ko.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===Ko.Monthly})}
      </li>
    `}get presetAmountsTemplate(){return tt`
      ${this.amountOptions.map(e=>{let t=!this.customAmountSelected&&e===this.donationInfo.amount,r=this.formatShortenedAmount(e);return tt`
          <li>
            ${this.getRadioButton({group:ca.Amount,value:`${e}`,displayText:`${r}`,checked:t})}
          </li>
        `})}
    `}getRadioButton(e){let t=`${e.group}-${e.value}-option`;return tt`
      <div class="selection-button">
        <input
          type="radio"
          name=${e.group}
          value=${e.value}
          id=${t}
          tabindex="0"
          .checked=${e.checked}
          @change=${this.radioSelected}
          @click=${r=>{e.group===ca.Amount&&parseFloat(e.value)===this.donationInfo.amount&&(console.log("SAME VALUE"),this.radioSelected(r))}}
        />
        <label for=${t}> ${e.displayText} </label>
      </div>
    `}get customAmountTemplate(){let e=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return tt`
      <div class="selection-button">
        <input
          type="radio"
          name=${ca.Amount}
          value="custom"
          id="custom-amount-button"
          tabindex="0"
          @change=${this.customRadioSelected}
        />

        <label for="custom-amount-button">
          <span class="custom-amount-text">Custom: $</span
          ><input
            type="text"
            id="custom-amount-input"
            tabindex="-1"
            value=${e}
            @input=${this.customAmountChanged}
            @keydown=${this.currencyValidator.keydown}
            @focus=${this.customAmountFocused}
          />
        </label>
      </div>
    `}customRadioSelected(){this.customAmountInput.focus()}customAmountFocused(e){let t=e.target;this.customAmountSelected=!0,this.handleCustomAmountInput(t.value)}coverFeesChecked(e){let t=e.target.checked;this.updateDonationInfo({coverFees:t})}customAmountChanged(e){let t=e.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(t)}handleCustomAmountInput(e){let t=parseFloat(e);isNaN(t)?this.dispatchEditDonationError(Ro.InvalidDonationAmount):this.amountChanged(t)}handleDonationInfoStatus(e){switch(e){case Ro.ValidDonationAmount:this.error=void 0;break;case Ro.DonationTooHigh:this.error=tt`
          To make a donation of $10,000 or more, please contact our philanthropy
          department at
          <a href="mailto:donations@archive.org">donations@archive.org</a>
        `,this.dispatchEditDonationError(e);break;case Ro.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=tt` Please select an amount (minimum $1) `),this.dispatchEditDonationError(e);break;case Ro.InvalidDonationAmount:this.error=tt` Please enter a valid donation amount `,this.dispatchEditDonationError(e);break}}amountChanged(e){let t=this.getDonationInfoStatus(e);this.handleDonationInfoStatus(t),t===Ro.ValidDonationAmount&&this.updateDonationInfo({amount:e})}getDonationInfoStatus(e){return isNaN(e)?Ro.InvalidDonationAmount:e>=1e4?Ro.DonationTooHigh:e<1?Ro.DonationTooLow:Ro.ValidDonationAmount}radioSelected(e){let t=e.target,r=t.name,{value:s}=t;switch(r){case ca.Amount:this.presetAmountChanged(parseFloat(s));break;case ca.DonationType:this.updateDonationInfo({donationType:s});break;default:break}}monthlyCheckboxChecked(e){let t=e.target.checked?Ko.Monthly:Ko.OneTime;this.updateDonationInfo({donationType:t})}dispatchEditDonationError(e){let t=new CustomEvent("editDonationError",{detail:{error:e}});this.dispatchEvent(t)}presetAmountChanged(e){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:e})}updateDonationInfo(e){var t,r,s;let l=new wd({donationType:(t=e.donationType)!==null&&t!==void 0?t:this.donationInfo.donationType,amount:(r=e.amount)!==null&&r!==void 0?r:this.donationInfo.amount,coverFees:(s=e.coverFees)!==null&&s!==void 0?s:this.donationInfo.coverFees});this.donationInfo=l;let o=new CustomEvent("donationInfoChanged",{detail:{donationInfo:l}});this.dispatchEvent(o)}static get styles(){let e=yt`var(--paymentButtonBorderColor, #333)`,t=yt`var(--paymentButtonGridGap, 1rem)`,r=yt`var(--paymentButtonFontSize, 1.6rem)`,s=yt`var(--paymentButtonFontColor, #000)`,l=yt`var(--paymentButtonSelectedFontColor, #000)`,o=yt`var(--paymentButtonSelectedColor, #f9bf3b)`,c=yt`var(--paymentButtonFocusedOutlineColor, #7fb3f9)`,n=yt`var(--paymentButtonColor, #fff)`,u=yt`var(--coverFeesFontSize, 1.2rem)`,p=yt`var(--coverFeesFontWeight, bold)`,g=yt`var(--customAmountWidth, 4rem)`,m=yt`var(--inputFieldFontColor, #333)`,y=yt`var(--inputBorder, 1px solid #d9d9d9)`,x=yt`var(--paymentSelectorAmountColumnCount, 5)`,w=yt`var(--paymentSelectorCustomAmountColSpan, 3)`;return yt`
      :host {
        --formSectionContentBackgroundColor: var(
          --editFormBgColor,
          transparent
        );
        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);
        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);
        --formSectionTextColor: var(--editFormTextColor, #333);
      }
      .errors {
        color: red;
        font-size: 1.4rem;
        margin-top: 0.5rem;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        grid-gap: ${t};
      }

      li {
        margin: 0;
        padding: 0;
        display: inline-block;
      }

      .frequency-selector {
        grid-template-columns: repeat(2, 1fr);
      }

      .amount-selector {
        grid-template-columns: repeat(${x}, 1fr);
      }

      .custom-amount {
        grid-column: span ${w};
      }

      .selection-button {
        height: 3rem;
      }

      .selection-button label {
        padding: 0 0.3rem;
        display: flex;
        cursor: pointer;
        text-align: center;
        font-size: ${r};
        font-weight: bold;
        border: 1px solid ${e};
        border-radius: 5px;
        background-color: #ccc;
        height: 100%;
        justify-content: center;
        align-items: center;
      }

      label[for='custom-amount-button'] {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .custom-amount-text {
        white-space: nowrap;
        margin-right: 0.5rem;
      }

      input[type='radio'] {
        opacity: 0;
        width: 0;
        height: 0;
        position: absolute;
      }

      input[type='radio'] + label {
        color: ${s};
        background-color: ${n};
      }

      input[type='radio']:checked + label {
        color: ${l};
        background-color: ${o};
      }

      input[type='radio']:focus + label {
        outline: 2px solid ${c};
      }

      .checkbox-options {
        margin-top: 1rem;
      }

      .checkbox-option-container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .checkbox-option-container input {
        width: 2rem;
      }

      .checkbox-option-container label {
        font-size: ${u};
        font-weight: ${p};
        flex: 1;
      }

      #custom-amount-input {
        width: ${g};
        font-size: 1.6rem;
        font-weight: bold;
        color: ${m};
        padding: 0.1rem;
        border: ${y};
        appearance: none;
        -moz-appearance: none;
        -webkit-appearance: none;
      }
    `}};de([ri({type:Object})],ho.prototype,"donationInfo",void 0);de([ri({type:String})],ho.prototype,"stepNumberMode",void 0);de([ri({type:Number})],ho.prototype,"defaultSelectedAmount",void 0);de([ri({type:Array})],ho.prototype,"amountOptions",void 0);de([ri({type:String})],ho.prototype,"amountSelectionLayout",void 0);de([ri({type:String,reflect:!0})],ho.prototype,"frequencySelectionMode",void 0);de([ri({type:String,reflect:!0})],ho.prototype,"customAmountMode",void 0);de([ri({type:String,reflect:!0})],ho.prototype,"customFeesCheckboxMode",void 0);de([ri({type:String,reflect:!0})],ho.prototype,"amountTitleDisplayMode",void 0);de([ri({type:Object})],ho.prototype,"error",void 0);de([ri({type:Boolean})],ho.prototype,"customAmountSelected",void 0);de([ln("#custom-amount-button")],ho.prototype,"customAmountButton",void 0);de([ln("#custom-amount-input")],ho.prototype,"customAmountInput",void 0);ho=de([cr("donation-form-edit-donation")],ho)});var $y=Zt(()=>{wr();ki();Vr();lf();uf();df();hf();Py()});var Eo,Oy=Zt(()=>{wr();ki();Vr();Eo=class extends hi{constructor(){super(...arguments),this.goalMessageMode="amount",this.goalNearMessage="We\u2019ve almost reached our goal!",this.goalReachedMessage="We've reached our goal!",this.goalAmount=75e5,this.currentAmountMode="on",this.currentAmount=0,this.thermometerValueWidth=0,this.thermometerFillWidth=0}render(){return tt`
      <div
        class="container"
        role="progressbar"
        aria-valuemin="0"
        aria-valuemax="${this.goalAmount}"
        aria-valuenow="${this.currentAmount}"
        aria-valuetext="${this.currentAmountDisplayValue}"
      >
        <div class="thermometer-message-container">
          <div class="thermometer-container">
            <div
              class="thermometer-background ${this.thermometerValuePosition}"
            >
              <div
                class="thermometer-fill"
                style="width: ${this.percentComplete}%"
              >
                ${this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:$i}
              </div>
              ${this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:$i}
            </div>
          </div>
          ${this.goalMessageMode!=="off"?tt` <div class="donate-goal">${this.currentGoalMessage}</div> `:$i}
        </div>
      </div>
    `}get thermometerValueTemplate(){return this.currentAmountMode==="off"?tt`${$i}`:tt`
          <div class="thermometer-value">${this.currentAmountDisplayValue}</div>
        `}get thermometerValuePosition(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}updated(e){if(e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t),this.setupResizeObserver(this.resizeObserver)}e.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}disconnectedCallback(){this.disconnectResizeObserver(this.resizeObserver)}handleResize(e){var t;switch(e.target){case((t=this.shadowRoot)===null||t===void 0?void 0:t.host):this.style.setProperty("--bannerThermometerHeight",e.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=e.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=e.contentRect.width;break}}setupResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.addObserver({handler:this,target:this.shadowRoot.host}),e.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(e))}disconnectResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.removeObserver({handler:this,target:this.shadowRoot.host}),e.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(e))}observeCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.addObserver({handler:this,target:this.thermometerValue}))}unobserveCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.removeObserver({handler:this,target:this.thermometerValue}))}get goalMessage(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}get currentAmountDisplayValue(){return this.formatNumber(this.currentAmount)}get goalAmountDisplayValue(){return this.formatNumber(this.goalAmount)}formatNumber(e){if(e===0)return"$0";let t="MM",r=e/1e6,s=r<10,l=0;return s?l=Math.round((r+Number.EPSILON)*10)/10:l=Math.round(r),`$${l}${t}`}get currentGoalMessage(){switch(this.goalMessageMode){case"amount":return`${this.goalAmountDisplayValue} goal`;case"message":return this.goalMessage;case"off":return""}}get percentComplete(){return Math.min(this.currentAmount/this.goalAmount*100,100)}static get styles(){let e=yt`var(--bannerThermometerHeight, 20px)`,t=yt`var(--bannerThermometerCurrentValueLeftColor, #fff)`,r=yt`var(--bannerThermometerProgressColor, #23765D)`,s=yt`var(--bannerThermometerCurrentValueRightColor, ${r})`,l=yt`var(--bannerThermometerBackgroundColor, #B8F5E2)`,o=yt`var(--bannerThermometerBorder, 1px solid ${r})`,c=yt`var(--bannerThermometerBorderRadius, calc(${e} / 2))`,n=yt`var(--bannerThermometerGoalMessagePadding, 0 10px)`,u=yt`var(--bannerThermometerGoalValueColor, #2c2c2c)`;return yt`
      :host {
        display: block;
      }

      .container {
        height: 100%;
      }

      .thermometer-message-container {
        height: 100%;
        display: flex;
        align-items: center;
      }

      .thermometer-container {
        height: 100%;
        flex: 1;
      }

      .thermometer-background {
        background-color: ${l};
        padding: 0;
        height: 100%;
        border-radius: ${c};
        border: ${o};
        overflow: hidden;
        display: flex;
        align-items: center;
      }

      .thermometer-fill {
        background-color: ${r};
        text-align: right;
        height: 100%;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .thermometer-value {
        font-weight: bold;
      }

      .value-left .thermometer-value {
        color: ${t};
        padding: 0 0.5rem 0 1rem;
      }

      .value-right .thermometer-value {
        color: ${s};
        padding: 0 1rem 0 0.5rem;
      }

      .donate-goal {
        text-align: left;
        padding: ${n};
        text-transform: uppercase;
        font-weight: bold;
        color: ${u};
      }
    `}};de([ri({type:String})],Eo.prototype,"goalMessageMode",void 0);de([ri({type:String})],Eo.prototype,"goalNearMessage",void 0);de([ri({type:String})],Eo.prototype,"goalReachedMessage",void 0);de([ri({type:Number})],Eo.prototype,"goalAmount",void 0);de([ri({type:String})],Eo.prototype,"currentAmountMode",void 0);de([ri({type:Number})],Eo.prototype,"currentAmount",void 0);de([ri({type:Object})],Eo.prototype,"resizeObserver",void 0);de([ln(".thermometer-value")],Eo.prototype,"thermometerValue",void 0);de([ln(".thermometer-fill")],Eo.prototype,"thermometerFill",void 0);de([uo()],Eo.prototype,"thermometerValueWidth",void 0);de([uo()],Eo.prototype,"thermometerFillWidth",void 0);Eo=de([cr("donation-banner-thermometer")],Eo)});var My=Zt(()=>{wr();ki();Vr();Oy()});var Ts,I3,D3,Ly,R3,Xc,Ps,j3,zy,gf,Uy,Iy,N3,Kc,_d,Dy,B3,H3,ua,Fl,Ry,Vy,Wy,F3,qy,z3,jy,U3,pf,Gy,V3,W3,q3,Sd,G3,Y3,K3,Ny,By,ff,X3,mf,Hy,Z3,J3,Q3,kd,Fy,Ad,Yy,Ky=Zt(()=>{Ts=[],I3=function(){return Ts.some(function(e){return e.activeTargets.length>0})},D3=function(){return Ts.some(function(e){return e.skippedTargets.length>0})},Ly="ResizeObserver loop completed with undelivered notifications.",R3=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Ly}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Ly),window.dispatchEvent(e)};(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Xc||(Xc={}));Ps=function(e){return Object.freeze(e)},j3=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Ps(this)}return e}(),zy=function(){function e(t,r,s,l){return this.x=t,this.y=r,this.width=s,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ps(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,s=t.y,l=t.top,o=t.right,c=t.bottom,n=t.left,u=t.width,p=t.height;return{x:r,y:s,top:l,right:o,bottom:c,left:n,width:u,height:p}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),gf=function(e){return e instanceof SVGElement&&"getBBox"in e},Uy=function(e){if(gf(e)){var t=e.getBBox(),r=t.width,s=t.height;return!r&&!s}var l=e,o=l.offsetWidth,c=l.offsetHeight;return!(o||c||e.getClientRects().length)},Iy=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},N3=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Kc=typeof window<"u"?window:{},_d=new WeakMap,Dy=/auto|scroll/,B3=/^tb|vertical/,H3=/msie|trident/i.test(Kc.navigator&&Kc.navigator.userAgent),ua=function(e){return parseFloat(e||"0")},Fl=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new j3((r?t:e)||0,(r?e:t)||0)},Ry=Ps({devicePixelContentBoxSize:Fl(),borderBoxSize:Fl(),contentBoxSize:Fl(),contentRect:new zy(0,0,0,0)}),Vy=function(e,t){if(t===void 0&&(t=!1),_d.has(e)&&!t)return _d.get(e);if(Uy(e))return _d.set(e,Ry),Ry;var r=getComputedStyle(e),s=gf(e)&&e.ownerSVGElement&&e.getBBox(),l=!H3&&r.boxSizing==="border-box",o=B3.test(r.writingMode||""),c=!s&&Dy.test(r.overflowY||""),n=!s&&Dy.test(r.overflowX||""),u=s?0:ua(r.paddingTop),p=s?0:ua(r.paddingRight),g=s?0:ua(r.paddingBottom),m=s?0:ua(r.paddingLeft),y=s?0:ua(r.borderTopWidth),x=s?0:ua(r.borderRightWidth),w=s?0:ua(r.borderBottomWidth),k=s?0:ua(r.borderLeftWidth),S=m+p,P=u+g,E=k+x,O=y+w,a=n?e.offsetHeight-O-e.clientHeight:0,h=c?e.offsetWidth-E-e.clientWidth:0,v=l?S+E:0,d=l?P+O:0,_=s?s.width:ua(r.width)-v-h,C=s?s.height:ua(r.height)-d-a,N=_+S+h+E,G=C+P+a+O,q=Ps({devicePixelContentBoxSize:Fl(Math.round(_*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Fl(N,G,o),contentBoxSize:Fl(_,C,o),contentRect:new zy(m,u,_,C)});return _d.set(e,q),q},Wy=function(e,t,r){var s=Vy(e,r),l=s.borderBoxSize,o=s.contentBoxSize,c=s.devicePixelContentBoxSize;switch(t){case Xc.DEVICE_PIXEL_CONTENT_BOX:return c;case Xc.BORDER_BOX:return l;default:return o}},F3=function(){function e(t){var r=Vy(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Ps([r.borderBoxSize]),this.contentBoxSize=Ps([r.contentBoxSize]),this.devicePixelContentBoxSize=Ps([r.devicePixelContentBoxSize])}return e}(),qy=function(e){if(Uy(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},z3=function(){var e=1/0,t=[];Ts.forEach(function(o){if(o.activeTargets.length!==0){var c=[];o.activeTargets.forEach(function(n){var u=new F3(n.target),p=qy(n.target);c.push(u),n.lastReportedSize=Wy(n.target,n.observedBox),p<e&&(e=p)}),t.push(function(){o.callback.call(o.observer,c,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,s=t;r<s.length;r++){var l=s[r];l()}return e},jy=function(e){Ts.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(qy(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))})})},U3=function(){var e=0;for(jy(e);I3();)e=z3(),jy(e);return D3()&&R3(),e>0},Gy=[],V3=function(){return Gy.splice(0).forEach(function(e){return e()})},W3=function(e){if(!pf){var t=0,r=document.createTextNode(""),s={characterData:!0};new MutationObserver(function(){return V3()}).observe(r,s),pf=function(){r.textContent="".concat(t?t--:t++)}}Gy.push(e),pf()},q3=function(e){W3(function(){requestAnimationFrame(e)})},Sd=0,G3=function(){return!!Sd},Y3=250,K3={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ny=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],By=function(e){return e===void 0&&(e=0),Date.now()+e},ff=!1,X3=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Y3),!ff){ff=!0;var s=By(t);q3(function(){var l=!1;try{l=U3()}finally{if(ff=!1,t=s-By(),!G3())return;l?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,K3)};document.body?r():Kc.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ny.forEach(function(r){return Kc.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Ny.forEach(function(r){return Kc.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),mf=new X3,Hy=function(e){!Sd&&e>0&&mf.start(),Sd+=e,!Sd&&mf.stop()},Z3=function(e){return!gf(e)&&!N3(e)&&getComputedStyle(e).display==="inline"},J3=function(){function e(t,r){this.target=t,this.observedBox=r||Xc.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Wy(this.target,this.observedBox,!0);return Z3(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Q3=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),kd=new WeakMap,Fy=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Ad=function(){function e(){}return e.connect=function(t,r){var s=new Q3(t,r);kd.set(t,s)},e.observe=function(t,r,s){var l=kd.get(t),o=l.observationTargets.length===0;Fy(l.observationTargets,r)<0&&(o&&Ts.push(l),l.observationTargets.push(new J3(r,s&&s.box)),Hy(1),mf.schedule())},e.unobserve=function(t,r){var s=kd.get(t),l=Fy(s.observationTargets,r),o=s.observationTargets.length===1;l>=0&&(o&&Ts.splice(Ts.indexOf(s),1),s.observationTargets.splice(l,1),Hy(-1))},e.disconnect=function(t){var r=this,s=kd.get(t);s.observationTargets.slice().forEach(function(l){return r.unobserve(t,l.target)}),s.activeTargets.splice(0,s.activeTargets.length)},e}(),Yy=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ad.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Iy(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ad.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Iy(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ad.unobserve(this,t)},e.prototype.disconnect=function(){Ad.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()});var Xy=Zt(()=>{Ky()});var e4,Zy=Zt(()=>{Xy();e4=window.ResizeObserver||Yy;window.ResizeObserver=e4});var To,$s=Zt(()=>{To=class{constructor(){this.resizeObserver=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{for(let t of e){let r=this.resizeHandlers.get(t.target);r==null||r.forEach(s=>{s.handleResize(t)})}})}),this.resizeHandlers=new Map}shutdown(){this.resizeHandlers.forEach((e,t)=>{this.resizeObserver.unobserve(t)}),this.resizeHandlers.clear()}addObserver(e){var t;let r=(t=this.resizeHandlers.get(e.target))!==null&&t!==void 0?t:new Set;r.add(e.handler),this.resizeHandlers.set(e.target,r),this.resizeObserver.observe(e.target,e.options)}removeObserver(e){let t=this.resizeHandlers.get(e.target);t&&(t.delete(e.handler),t.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}});var Jy=Zt(()=>{$s()});var Cd=Zt(()=>{Zy();Jy();window.SharedResizeObserver=To});var Ed,Xo,vf=Zt(()=>{Dn();mo();Ed=class e{static get_banner_height(){return we("#donate_banner").outerHeight()}static postMessage(t,r=0){_i("postin",{event:t,incomingValue:r});let s=e.get_banner_height(),l=e.preventResizeEventResponse?e.calculateBannerWithReminderForm():0,o=Math.max(l,r);window.parent.postMessage(JSON.stringify({event:t,value:o,bannerHeight:s}),"*"),t==="close modal"&&e.adjust_height()}static openReminderForm(){e.preventResizeEventResponse=!0,e.postMessage("set height"),window.scrollTo(0,0)}static closeReminderForm(){e.preventResizeEventResponse=!1,e.postMessage("close modal"),window.scrollTo(0,0)}static onSubmitReminderForm(t=0){e.preventResizeEventResponse=!1,e.postMessage("set cookie",t)}static calculateBannerWithReminderForm(){let t=document.querySelector(".js-donate-banner"),r=document.querySelector(".js-donate-form"),s=document.querySelector(".js-donate-later-dropdown"),l=15,o=t.offsetHeight,c=s.offsetHeight,n=r.offsetHeight+r.offsetTop,u=o-n;return o-u+c+l}static adjust_height(t){let r=t!=null?t:e.get_banner_height();e.postMessage("set height",r),_i({banner_height:r}),this.currentBannerHeight=r}static init(){_i("donato tornado"),we(window).on("resize  orientationchange",()=>{e.fixBannerHeightIfNeeded(),clearTimeout(e.adjust_height_throttler),e.adjust_height_throttler=setTimeout(e.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=e.get_banner_height(),e.adjust_height()}static fixBannerHeightIfNeeded(){if(window.innerWidth===this.currentWindowWidth){let t=e.get_banner_height();t!==this.currentBannerHeight&&(_i("Performing banner height correction: current, new",this.currentBannerHeight,t),e.adjust_height(t))}else this.currentWindowWidth=window.innerWidth}};Ed.preventResizeEventResponse=!1;Xo=Ed});var Os,yf=Zt(()=>{Os=class{constructor(t){this.analyticsBackend=t||window.archive_analytics}send_event(t,r,s,l){this.analyticsBackend&&this.analyticsBackend.send_event(t,r,s,l)}send_event_no_sampling(t,r,s,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(t,r,s,l)}}});var t4,Td,Pd,Qy=Zt(()=>{vf();t4=27,Td="RemindForm",Pd=class e{constructor(t,r,s){this.$form=t,this.$trigger=r,this.setDonationCookie=s||$.noop}static validateDonorEmail(t){return/.+@.+\..+/.test(t)}static validateNameField(t){return!/[<>&:?'"]/.test(t)}setup(){let t=$("#donate_dropdown"),r=$("#close_donate_dropdown"),s=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on(`click.${Td}`,l=>{t.hasClass("is-open")||t.addClass("is-open"),this.$form.find("input").filter((o,c)=>!c.value).eq(0).focus(),Xo.openReminderForm(),l.preventDefault()}),r.on(`click.${Td}`,()=>{t.removeClass("is-open"),Xo.closeReminderForm(),this.$trigger.focus()}),$(window).on(`keydown.${Td}`,l=>{t.hasClass("is-open")&&l.keyCode===t4&&r.click()}),this.$form.on(`submit.${Td}`,l=>{if(l.preventDefault(),!e.validateDonorEmail(this.$form.find("[name=email]").val())){this.$form.find(".error-email").show();return}["first_name","last_name"].forEach(c=>{e.validateNameField(this.$form.find(`[name='${c}']`).val())||this.$form.find(`[name='${c}']`).val("")});let o=this.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling(`DonateBanner${o}`,"MaybeLaterFormSubmit",window.location.pathname),this.sendForm(s)})}sendForm(t){let r=$("#donate_reminder_success").addClass("hidden"),s=(l,o)=>`<h2>${l}</h2><p>${o}</p>`;$.ajax({type:"post",url:`${t}/donate/remindDonate.php`,data:this.$form.serialize(),success:()=>{this.$form.addClass("hidden"),r.html(s("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");let l=90;this.setDonationCookie(l),Xo.onSubmitReminderForm(l)},error:()=>{r.html(s("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}});var bf,eb=Zt(()=>{jl();ky();$y();My();Cd();Dn();vf();yf();Qy();console==null||console.log("donation-banner loaded",{version:"1.1.1"});bf=class e{addCloseSupport(){let t=function(){Xo.postMessage("hide banner",42),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(42)},r=document.getElementById("donate-close-button");r&&r.addEventListener("click",t.bind(this))}initialize(){if(!this.bannerElement)return;this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),Xo.init(),new Pd(we("#donate_reminder_form"),we("#donate_later"),this.setDonationCookie).setup(),this.logEvent("Viewed")}setDonationCookie(t){e.setDonationCookie(t),Xo.postMessage("set cookie",t)}get bannerElement(){return document.querySelector("#donate_banner")}get donationFormElement(){return document.querySelector("donation-form-edit-donation")}get bannerThermometerElement(){return document.querySelector("donation-banner-thermometer")}get minimalDonateButtonElement(){return document.querySelector("#minimal-donate-button")}get donationOrigin(){let t=this.bannerElement,r=t.dataset.exp,s=t.dataset.variant,l;try{l=window.parent.innerWidth}catch(n){l=Xo.currentWindowWidth}let o=l<768?"Mobile":"Desktop",c=`DonateBanner-${r}-${s}-${o}`;return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:o,currentWindowWidth:l,origin:c}),c}static setDonationCookie(t){let r=parseInt(t,10);if(!r)return;let s={path:"/",expires:r,domain:".archive.org"};Fn.set("donation","x",s),Fn.set("donation","x",we.extend(s,{domain:".openlibrary.org"}))}setupSnow(){if(this.bannerElement.dataset.snowfall!=="on")return;new qc({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15}).start()}setupMinimalDonateButton(){let t=this.minimalDonateButtonElement;t&&t.addEventListener("click",()=>{this.logEvent("MinimalDonateButtonClicked"),Xo.postMessage("set cookie",30),window.top.location=this.baseDonatePageUrl})}get baseDonatePageUrl(){let t=this.bannerElement,r=t.dataset.baseurl,s=t.dataset.donationsourcedata,l=t.dataset.variantdollaramounts,o=t.dataset.variantamountlayout,c=t.dataset.variantfrequencymode,n=t.dataset.bannertemplate,{platform:u}=t.dataset,p=new URLSearchParams;return this.donationOrigin&&p.set("origin",this.donationOrigin),s&&p.set("referer",s),l&&p.set("dollarAmounts",l),o&&p.set("amountLayout",o),c&&p.set("frequencyMode",c),u&&p.set("platform",u),n&&p.set("bannerTemplate",n),`${r}/donate?${p.toString()}`}setupDonationForm(){let t=this.donationFormElement;if(!t)return;let{donationInfo:r}=t;if(this.bannerElement.classList.contains("formdesign-psa")){let o=document.querySelector("#psa-cta");if(console.log("PSA Donation Banner CTA: ",o),!o)return;o.addEventListener("click",c=>{let n=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:n}),window.top.location=n});return}t.addEventListener("donationInfoChanged",o=>{this.donationInfoError=!1,r=o.detail.donationInfo;let c=this.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",jr({isMinimalBanner:c},r)),c){let n=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:n}),window.top.location=n}}),t.addEventListener("editDonationError",o=>{this.donationInfoError=!0});let l=document.querySelector("#continue-button");l&&l.addEventListener("click",()=>{if(this.donationInfoError)return;this.logEvent("ContinueClicked");let o=this.bannerElement.dataset,c=o.selectedtextcolor?`&selectedTextColor=${encodeURIComponent(o.selectedtextcolor)}`:"",n=o.selectedfillcolor?`&selectedFillColor=${encodeURIComponent(o.selectedfillcolor)}`:"";o.donatepageselectedfillcolor&&(n=`&selectedFillColor=${encodeURIComponent(o.donatepageselectedfillcolor)}`),o.donatepageselectedtextcolor&&(c=`&selectedTextColor=${encodeURIComponent(o.donatepageselectedtextcolor)}`);let u=o.formtextcolor?`&formTextColor=${encodeURIComponent(o.formtextcolor)}`:"",p=`${this.baseDonatePageUrl}&amt=${r.amount}&contrib_type=${r.donationType}&coverFees=${r.coverFees}${c}${n}${u}`;Xo.postMessage("set cookie",30),window.top.location=p})}setupThermometer(){let t=this.bannerThermometerElement;if(!t)return;let r=new To;t.resizeObserver=r}logEvent(t,r=!1){let s=new Os,l=this.bannerElement,o=l.dataset.debugmode==="true",{platform:c}=l.dataset,n=o?"DonateBannerDebug":"DonateBanner";r||t==="Viewed"&&(c==="ia"||c==="wb")?s.send_event(n,t,this.donationOrigin):s.send_event_no_sampling(n,t,this.donationOrigin)}};document.addEventListener("DOMContentLoaded",()=>{new bf().initialize()})});var i4,xf,r4,n4,o4,a4,Po,s4,wf,l4,rb,c4,u4,d4,h4,p4,f4,m4,g4,v4,y4,b4,w4,nb,ob,x4,tb,ib,_4,_f,kf=Zt(()=>{i4=Object.create,xf=Object.defineProperty,r4=Object.getOwnPropertyDescriptor,n4=Object.getOwnPropertyNames,o4=Object.getPrototypeOf,a4=Object.prototype.hasOwnProperty,Po=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s4=(e,t)=>{for(var r in t)xf(e,r,{get:t[r],enumerable:!0})},wf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of n4(t))!a4.call(e,l)&&l!==r&&xf(e,l,{get:()=>t[l],enumerable:!(s=r4(t,l))||s.enumerable});return e},l4=(e,t,r)=>(wf(e,t,"default"),r&&wf(r,t,"default")),rb=(e,t,r)=>(r=e!=null?i4(o4(e)):{},wf(t||!e||!e.__esModule?xf(r,"default",{value:e,enumerable:!0}):r,e)),c4=Po(()=>{+function(e){"use strict";function t(){var r=document.createElement("bootstrap"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var l in s)if(r.style[l]!==void 0)return{end:s[l]};return!1}e.fn.emulateTransitionEnd=function(r){var s=!1,l=this;e(this).one("bsTransitionEnd",function(){s=!0});var o=function(){s||e(l).trigger(e.support.transition.end)};return setTimeout(o,r),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(r){if(e(r.target).is(this))return r.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),u4=Po(()=>{+function(e){"use strict";var t='[data-dismiss="alert"]',r=function(o){e(o).on("click",t,this.close)};r.VERSION="3.4.1",r.TRANSITION_DURATION=150,r.prototype.close=function(o){var c=e(this),n=c.attr("data-target");n||(n=c.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),n=n==="#"?[]:n;var u=e(document).find(n);if(o&&o.preventDefault(),u.length||(u=c.closest(".alert")),u.trigger(o=e.Event("close.bs.alert")),o.isDefaultPrevented())return;u.removeClass("in");function p(){u.detach().trigger("closed.bs.alert").remove()}e.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",p).emulateTransitionEnd(r.TRANSITION_DURATION):p()};function s(o){return this.each(function(){var c=e(this),n=c.data("bs.alert");n||c.data("bs.alert",n=new r(this)),typeof o=="string"&&n[o].call(c)})}var l=e.fn.alert;e.fn.alert=s,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=l,this},e(document).on("click.bs.alert.data-api",t,r.prototype.close)}(jQuery)}),d4=Po(()=>{+function(e){"use strict";var t=function(l,o){this.$element=e(l),this.options=e.extend({},t.DEFAULTS,o),this.isLoading=!1};t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(l){var o="disabled",c=this.$element,n=c.is("input")?"val":"html",u=c.data();l+="Text",u.resetText==null&&c.data("resetText",c[n]()),setTimeout(e.proxy(function(){c[n](u[l]==null?this.options[l]:u[l]),l=="loadingText"?(this.isLoading=!0,c.addClass(o).attr(o,o).prop(o,!0)):this.isLoading&&(this.isLoading=!1,c.removeClass(o).removeAttr(o).prop(o,!1))},this),0)},t.prototype.toggle=function(){var l=!0,o=this.$element.closest('[data-toggle="buttons"]');if(o.length){var c=this.$element.find("input");c.prop("type")=="radio"?(c.prop("checked")&&(l=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):c.prop("type")=="checkbox"&&(c.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),l&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.button"),n=typeof l=="object"&&l;c||o.data("bs.button",c=new t(this,n)),l=="toggle"?c.toggle():l&&c.setState(l)})}var s=e.fn.button;e.fn.button=r,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=s,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var o=e(l.target).closest(".btn");r.call(o,"toggle"),e(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){e(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),h4=Po(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(o){if(!/input|textarea/i.test(o.target.tagName)){switch(o.which){case 37:this.prev();break;case 39:this.next();break;default:return}o.preventDefault()}},t.prototype.cycle=function(o){return o||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(o){return this.$items=o.parent().children(".item"),this.$items.index(o||this.$active)},t.prototype.getItemForDirection=function(o,c){var n=this.getItemIndex(c),u=o=="prev"&&n===0||o=="next"&&n==this.$items.length-1;if(u&&!this.options.wrap)return c;var p=o=="prev"?-1:1,g=(n+p)%this.$items.length;return this.$items.eq(g)},t.prototype.to=function(o){var c=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(o>this.$items.length-1||o<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(o)}):n==o?this.pause().cycle():this.slide(o>n?"next":"prev",this.$items.eq(o))},t.prototype.pause=function(o){return o||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(o,c){var n=this.$element.find(".item.active"),u=c||this.getItemForDirection(o,n),p=this.interval,g=o=="next"?"left":"right",m=this;if(u.hasClass("active"))return this.sliding=!1;var y=u[0],x=e.Event("slide.bs.carousel",{relatedTarget:y,direction:g});if(this.$element.trigger(x),!x.isDefaultPrevented()){if(this.sliding=!0,p&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=e(this.$indicators.children()[this.getItemIndex(u)]);w&&w.addClass("active")}var k=e.Event("slid.bs.carousel",{relatedTarget:y,direction:g});return e.support.transition&&this.$element.hasClass("slide")?(u.addClass(o),typeof u=="object"&&u.length&&u[0].offsetWidth,n.addClass(g),u.addClass(g),n.one("bsTransitionEnd",function(){u.removeClass([o,g].join(" ")).addClass("active"),n.removeClass(["active",g].join(" ")),m.sliding=!1,setTimeout(function(){m.$element.trigger(k)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(k)),p&&this.cycle(),this}};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.carousel"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o),p=typeof o=="string"?o:u.slide;n||c.data("bs.carousel",n=new t(this,u)),typeof o=="number"?n.to(o):p?n[p]():u.interval&&n.pause().cycle()})}var s=e.fn.carousel;e.fn.carousel=r,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=s,this};var l=function(o){var c=e(this),n=c.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var u=c.attr("data-target")||n,p=e(document).find(u);if(p.hasClass("carousel")){var g=e.extend({},p.data(),c.data()),m=c.attr("data-slide-to");m&&(g.interval=!1),r.call(p,g),m&&p.data("bs.carousel").to(m),o.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var o=e(this);r.call(o,o.data())})})}(jQuery)}),p4=Po(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,c),this.$trigger=e('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var o=this.$element.hasClass("width");return o?"width":"height"},t.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var o,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(c&&c.length&&(o=c.data("bs.collapse"),o&&o.transitioning))){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){c&&c.length&&(s.call(c,"hide"),o||c.data("bs.collapse",null));var u=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var p=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return p.call(this);var g=e.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",e.proxy(p,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][g])}}}},t.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[c](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(o,c){var n=e(c);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(o,c){var n=o.hasClass("in");o.attr("aria-expanded",n),c.toggleClass("collapsed",!n).attr("aria-expanded",n)};function r(o){var c,n=o.attr("data-target")||(c=o.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function s(o){return this.each(function(){var c=e(this),n=c.data("bs.collapse"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o);!n&&u.toggle&&/show|hide/.test(o)&&(u.toggle=!1),n||c.data("bs.collapse",n=new t(this,u)),typeof o=="string"&&n[o]()})}var l=e.fn.collapse;e.fn.collapse=s,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=l,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var c=e(this);c.attr("data-target")||o.preventDefault();var n=r(c),u=n.data("bs.collapse"),p=u?"toggle":c.data();s.call(n,p)})}(jQuery)}),f4=Po(()=>{+function(e){"use strict";var t=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(u){e(u).on("click.bs.dropdown",this.toggle)};s.VERSION="3.4.1";function l(u){var p=u.attr("data-target");p||(p=u.attr("href"),p=p&&/#[A-Za-z]/.test(p)&&p.replace(/.*(?=#[^\s]*$)/,""));var g=p!=="#"?e(document).find(p):null;return g&&g.length?g:u.parent()}function o(u){u&&u.which===3||(e(t).remove(),e(r).each(function(){var p=e(this),g=l(p),m={relatedTarget:this};g.hasClass("open")&&(u&&u.type=="click"&&/input|textarea/i.test(u.target.tagName)&&e.contains(g[0],u.target)||(g.trigger(u=e.Event("hide.bs.dropdown",m)),!u.isDefaultPrevented()&&(p.attr("aria-expanded","false"),g.removeClass("open").trigger(e.Event("hidden.bs.dropdown",m)))))}))}s.prototype.toggle=function(u){var p=e(this);if(!p.is(".disabled, :disabled")){var g=l(p),m=g.hasClass("open");if(o(),!m){"ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var y={relatedTarget:this};if(g.trigger(u=e.Event("show.bs.dropdown",y)),u.isDefaultPrevented())return;p.trigger("focus").attr("aria-expanded","true"),g.toggleClass("open").trigger(e.Event("shown.bs.dropdown",y))}return!1}},s.prototype.keydown=function(u){if(!(!/(38|40|27|32)/.test(u.which)||/input|textarea/i.test(u.target.tagName))){var p=e(this);if(u.preventDefault(),u.stopPropagation(),!p.is(".disabled, :disabled")){var g=l(p),m=g.hasClass("open");if(!m&&u.which!=27||m&&u.which==27)return u.which==27&&g.find(r).trigger("focus"),p.trigger("click");var y=" li:not(.disabled):visible a",x=g.find(".dropdown-menu"+y);if(x.length){var w=x.index(u.target);u.which==38&&w>0&&w--,u.which==40&&w<x.length-1&&w++,~w||(w=0),x.eq(w).trigger("focus")}}}};function c(u){return this.each(function(){var p=e(this),g=p.data("bs.dropdown");g||p.data("bs.dropdown",g=new s(this)),typeof u=="string"&&g[u].call(p)})}var n=e.fn.dropdown;e.fn.dropdown=c,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(u){u.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)}),m4=Po(()=>{+function(e){"use strict";var t=function(l,o){this.options=o,this.$body=e(document.body),this.$element=e(l),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},t.prototype.show=function(l){var o=this,c=e.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(c),!(this.isShown||c.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(n){e(n.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var u=e.Event("shown.bs.modal",{relatedTarget:l});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):o.$element.trigger("focus").trigger(u)}))},t.prototype.hide=function(l){l&&l.preventDefault(),l=e.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(l){var o=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&c;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+c).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(p){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}p.target===p.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;n?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var u=function(){o.removeBackdrop(),l&&l()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()}else l&&l()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var o=document.documentElement.getBoundingClientRect();l=o.right-Math.abs(o.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+o),e(this.fixedContent).each(function(c,n){var u=n.style.paddingRight,p=e(n).css("padding-right");e(n).data("padding-right",u).css("padding-right",parseFloat(p)+o+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(l,o){var c=e(o).data("padding-right");e(o).removeData("padding-right"),o.style.paddingRight=c||""})},t.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var o=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),o};function r(l,o){return this.each(function(){var c=e(this),n=c.data("bs.modal"),u=e.extend({},t.DEFAULTS,c.data(),typeof l=="object"&&l);n||c.data("bs.modal",n=new t(this,u)),typeof l=="string"?n[l](o):u.show&&n.show(o)})}var s=e.fn.modal;e.fn.modal=r,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=s,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var o=e(this),c=o.attr("href"),n=o.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,""),u=e(document).find(n),p=u.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(c)&&c},u.data(),o.data());o.is("a")&&l.preventDefault(),u.one("show.bs.modal",function(g){g.isDefaultPrevented()||u.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),r.call(u,p,this)})}(jQuery)}),g4=Po(()=>{+function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^aria-[\w-]*$/i,l={"*":["class","dir","id","lang","role",s],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function n(y,x){var w=y.nodeName.toLowerCase();if(e.inArray(w,x)!==-1)return e.inArray(w,r)!==-1?!!(y.nodeValue.match(o)||y.nodeValue.match(c)):!0;for(var k=e(x).filter(function(E,O){return O instanceof RegExp}),S=0,P=k.length;S<P;S++)if(w.match(k[S]))return!0;return!1}function u(y,x,w){if(y.length===0)return y;if(w&&typeof w=="function")return w(y);if(!document.implementation||!document.implementation.createHTMLDocument)return y;var k=document.implementation.createHTMLDocument("sanitization");k.body.innerHTML=y;for(var S=e.map(x,function(N,G){return G}),P=e(k.body).find("*"),E=0,O=P.length;E<O;E++){var a=P[E],h=a.nodeName.toLowerCase();if(e.inArray(h,S)===-1){a.parentNode.removeChild(a);continue}for(var v=e.map(a.attributes,function(N){return N}),d=[].concat(x["*"]||[],x[h]||[]),_=0,C=v.length;_<C;_++)n(v[_],d)||a.removeAttribute(v[_].nodeName)}return k.body.innerHTML}var p=function(y,x){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",y,x)};p.VERSION="3.4.1",p.TRANSITION_DURATION=150,p.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:l},p.prototype.init=function(y,x,w){if(this.enabled=!0,this.type=y,this.$element=e(x),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var k=this.options.trigger.split(" "),S=k.length;S--;){var P=k[S];if(P=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(P!="manual"){var E=P=="hover"?"mouseenter":"focusin",O=P=="hover"?"mouseleave":"focusout";this.$element.on(E+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(O+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},p.prototype.getDefaults=function(){return p.DEFAULTS},p.prototype.getOptions=function(y){var x=this.$element.data();for(var w in x)x.hasOwnProperty(w)&&e.inArray(w,t)!==-1&&delete x[w];return y=e.extend({},this.getDefaults(),x,y),y.delay&&typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),y.sanitize&&(y.template=u(y.template,y.whiteList,y.sanitizeFn)),y},p.prototype.getDelegateOptions=function(){var y={},x=this.getDefaults();return this._options&&e.each(this._options,function(w,k){x[w]!=k&&(y[w]=k)}),y},p.prototype.enter=function(y){var x=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x)),y instanceof e.Event&&(x.inState[y.type=="focusin"?"focus":"hover"]=!0),x.tip().hasClass("in")||x.hoverState=="in"){x.hoverState="in";return}if(clearTimeout(x.timeout),x.hoverState="in",!x.options.delay||!x.options.delay.show)return x.show();x.timeout=setTimeout(function(){x.hoverState=="in"&&x.show()},x.options.delay.show)},p.prototype.isInStateTrue=function(){for(var y in this.inState)if(this.inState[y])return!0;return!1},p.prototype.leave=function(y){var x=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x)),y instanceof e.Event&&(x.inState[y.type=="focusout"?"focus":"hover"]=!1),!x.isInStateTrue()){if(clearTimeout(x.timeout),x.hoverState="out",!x.options.delay||!x.options.delay.hide)return x.hide();x.timeout=setTimeout(function(){x.hoverState=="out"&&x.hide()},x.options.delay.hide)}},p.prototype.show=function(){var y=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(y);var x=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(y.isDefaultPrevented()||!x)return;var w=this,k=this.tip(),S=this.getUID(this.type);this.setContent(),k.attr("id",S),this.$element.attr("aria-describedby",S),this.options.animation&&k.addClass("fade");var P=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement,E=/\s?auto?\s?/i,O=E.test(P);O&&(P=P.replace(E,"")||"top"),k.detach().css({top:0,left:0,display:"block"}).addClass(P).data("bs."+this.type,this),this.options.container?k.appendTo(e(document).find(this.options.container)):k.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var a=this.getPosition(),h=k[0].offsetWidth,v=k[0].offsetHeight;if(O){var d=P,_=this.getPosition(this.$viewport);P=P=="bottom"&&a.bottom+v>_.bottom?"top":P=="top"&&a.top-v<_.top?"bottom":P=="right"&&a.right+h>_.width?"left":P=="left"&&a.left-h<_.left?"right":P,k.removeClass(d).addClass(P)}var C=this.getCalculatedOffset(P,a,h,v);this.applyPlacement(C,P);var N=function(){var G=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,G=="out"&&w.leave(w)};e.support.transition&&this.$tip.hasClass("fade")?k.one("bsTransitionEnd",N).emulateTransitionEnd(p.TRANSITION_DURATION):N()}},p.prototype.applyPlacement=function(y,x){var w=this.tip(),k=w[0].offsetWidth,S=w[0].offsetHeight,P=parseInt(w.css("margin-top"),10),E=parseInt(w.css("margin-left"),10);isNaN(P)&&(P=0),isNaN(E)&&(E=0),y.top+=P,y.left+=E,e.offset.setOffset(w[0],e.extend({using:function(C){w.css({top:Math.round(C.top),left:Math.round(C.left)})}},y),0),w.addClass("in");var O=w[0].offsetWidth,a=w[0].offsetHeight;x=="top"&&a!=S&&(y.top=y.top+S-a);var h=this.getViewportAdjustedDelta(x,y,O,a);h.left?y.left+=h.left:y.top+=h.top;var v=/top|bottom/.test(x),d=v?h.left*2-k+O:h.top*2-S+a,_=v?"offsetWidth":"offsetHeight";w.offset(y),this.replaceArrow(d,w[0][_],v)},p.prototype.replaceArrow=function(y,x,w){this.arrow().css(w?"left":"top",50*(1-y/x)+"%").css(w?"top":"left","")},p.prototype.setContent=function(){var y=this.tip(),x=this.getTitle();this.options.html?(this.options.sanitize&&(x=u(x,this.options.whiteList,this.options.sanitizeFn)),y.find(".tooltip-inner").html(x)):y.find(".tooltip-inner").text(x),y.removeClass("fade in top bottom left right")},p.prototype.hide=function(y){var x=this,w=e(this.$tip),k=e.Event("hide.bs."+this.type);function S(){x.hoverState!="in"&&w.detach(),x.$element&&x.$element.removeAttr("aria-describedby").trigger("hidden.bs."+x.type),y&&y()}if(this.$element.trigger(k),!k.isDefaultPrevented())return w.removeClass("in"),e.support.transition&&w.hasClass("fade")?w.one("bsTransitionEnd",S).emulateTransitionEnd(p.TRANSITION_DURATION):S(),this.hoverState=null,this},p.prototype.fixTitle=function(){var y=this.$element;(y.attr("title")||typeof y.attr("data-original-title")!="string")&&y.attr("data-original-title",y.attr("title")||"").attr("title","")},p.prototype.hasContent=function(){return this.getTitle()},p.prototype.getPosition=function(y){y=y||this.$element;var x=y[0],w=x.tagName=="BODY",k=x.getBoundingClientRect();k.width==null&&(k=e.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var S=window.SVGElement&&x instanceof window.SVGElement,P=w?{top:0,left:0}:S?null:y.offset(),E={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:y.scrollTop()},O=w?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},k,E,O,P)},p.prototype.getCalculatedOffset=function(y,x,w,k){return y=="bottom"?{top:x.top+x.height,left:x.left+x.width/2-w/2}:y=="top"?{top:x.top-k,left:x.left+x.width/2-w/2}:y=="left"?{top:x.top+x.height/2-k/2,left:x.left-w}:{top:x.top+x.height/2-k/2,left:x.left+x.width}},p.prototype.getViewportAdjustedDelta=function(y,x,w,k){var S={top:0,left:0};if(!this.$viewport)return S;var P=this.options.viewport&&this.options.viewport.padding||0,E=this.getPosition(this.$viewport);if(/right|left/.test(y)){var O=x.top-P-E.scroll,a=x.top+P-E.scroll+k;O<E.top?S.top=E.top-O:a>E.top+E.height&&(S.top=E.top+E.height-a)}else{var h=x.left-P,v=x.left+P+w;h<E.left?S.left=E.left-h:v>E.right&&(S.left=E.left+E.width-v)}return S},p.prototype.getTitle=function(){var y,x=this.$element,w=this.options;return y=x.attr("data-original-title")||(typeof w.title=="function"?w.title.call(x[0]):w.title),y},p.prototype.getUID=function(y){do y+=~~(Math.random()*1e6);while(document.getElementById(y));return y},p.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},p.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},p.prototype.enable=function(){this.enabled=!0},p.prototype.disable=function(){this.enabled=!1},p.prototype.toggleEnabled=function(){this.enabled=!this.enabled},p.prototype.toggle=function(y){var x=this;y&&(x=e(y.currentTarget).data("bs."+this.type),x||(x=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,x))),y?(x.inState.click=!x.inState.click,x.isInStateTrue()?x.enter(x):x.leave(x)):x.tip().hasClass("in")?x.leave(x):x.enter(x)},p.prototype.destroy=function(){var y=this;clearTimeout(this.timeout),this.hide(function(){y.$element.off("."+y.type).removeData("bs."+y.type),y.$tip&&y.$tip.detach(),y.$tip=null,y.$arrow=null,y.$viewport=null,y.$element=null})},p.prototype.sanitizeHtml=function(y){return u(y,this.options.whiteList,this.options.sanitizeFn)};function g(y){return this.each(function(){var x=e(this),w=x.data("bs.tooltip"),k=typeof y=="object"&&y;!w&&/destroy|hide/.test(y)||(w||x.data("bs.tooltip",w=new p(this,k)),typeof y=="string"&&w[y]())})}var m=e.fn.tooltip;e.fn.tooltip=g,e.fn.tooltip.Constructor=p,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=m,this}}(jQuery)}),v4=Po(()=>{+function(e){"use strict";var t=function(l,o){this.init("popover",l,o)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var l=this.tip(),o=this.getTitle(),c=this.getContent();if(this.options.html){var n=typeof c;this.options.sanitize&&(o=this.sanitizeHtml(o),n==="string"&&(c=this.sanitizeHtml(c))),l.find(".popover-title").html(o),l.find(".popover-content").children().detach().end()[n==="string"?"html":"append"](c)}else l.find(".popover-title").text(o),l.find(".popover-content").children().detach().end().text(c);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var l=this.$element,o=this.options;return l.attr("data-content")||(typeof o.content=="function"?o.content.call(l[0]):o.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.popover"),n=typeof l=="object"&&l;!c&&/destroy|hide/.test(l)||(c||o.data("bs.popover",c=new t(this,n)),typeof l=="string"&&c[l]())})}var s=e.fn.popover;e.fn.popover=r,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=s,this}}(jQuery)}),y4=Po(()=>{+function(e){"use strict";function t(l,o){this.$body=e(document.body),this.$scrollElement=e(l).is(document.body)?e(window):e(l),this.options=e.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var l=this,o="offset",c=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",c=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var n=e(this),u=n.data("target")||n.attr("href"),p=/^#./.test(u)&&e(u);return p&&p.length&&p.is(":visible")&&[[p[o]().top+c,u]]||null}).sort(function(n,u){return n[0]-u[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},t.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),c=this.options.offset+o-this.$scrollElement.height(),n=this.offsets,u=this.targets,p=this.activeTarget,g;if(this.scrollHeight!=o&&this.refresh(),l>=c)return p!=(g=u[u.length-1])&&this.activate(g);if(p&&l<n[0])return this.activeTarget=null,this.clear();for(g=n.length;g--;)p!=u[g]&&l>=n[g]&&(n[g+1]===void 0||l<n[g+1])&&this.activate(u[g])},t.prototype.activate=function(l){this.activeTarget=l,this.clear();var o=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',c=e(o).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.scrollspy"),n=typeof l=="object"&&l;c||o.data("bs.scrollspy",c=new t(this,n)),typeof l=="string"&&c[l]()})}var s=e.fn.scrollspy;e.fn.scrollspy=r,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=s,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var l=e(this);r.call(l,l.data())})})}(jQuery)}),b4=Po(()=>{+function(e){"use strict";var t=function(o){this.element=e(o)};t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var o=this.element,c=o.closest("ul:not(.dropdown-menu)"),n=o.data("target");if(n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!o.parent("li").hasClass("active")){var u=c.find(".active:last a"),p=e.Event("hide.bs.tab",{relatedTarget:o[0]}),g=e.Event("show.bs.tab",{relatedTarget:u[0]});if(u.trigger(p),o.trigger(g),!(g.isDefaultPrevented()||p.isDefaultPrevented())){var m=e(document).find(n);this.activate(o.closest("li"),c),this.activate(m,m.parent(),function(){u.trigger({type:"hidden.bs.tab",relatedTarget:o[0]}),o.trigger({type:"shown.bs.tab",relatedTarget:u[0]})})}}},t.prototype.activate=function(o,c,n){var u=c.find("> .active"),p=n&&e.support.transition&&(u.length&&u.hasClass("fade")||!!c.find("> .fade").length);function g(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),p?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}u.length&&p?u.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g(),u.removeClass("in")};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.tab");n||c.data("bs.tab",n=new t(this)),typeof o=="string"&&n[o]()})}var s=e.fn.tab;e.fn.tab=r,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=s,this};var l=function(o){o.preventDefault(),r.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),w4=Po(()=>{+function(e){"use strict";var t=function(l,o){this.options=e.extend({},t.DEFAULTS,o);var c=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=c.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(l,o,c,n){var u=this.$target.scrollTop(),p=this.$element.offset(),g=this.$target.height();if(c!=null&&this.affixed=="top")return u<c?"top":!1;if(this.affixed=="bottom")return c!=null?u+this.unpin<=p.top?!1:"bottom":u+g<=l-n?!1:"bottom";var m=this.affixed==null,y=m?u:p.top,x=m?g:o;return c!=null&&u<=c?"top":n!=null&&y+x>=l-n?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var l=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-l},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),o=this.options.offset,c=o.top,n=o.bottom,u=Math.max(e(document).height(),e(document.body).height());typeof o!="object"&&(n=c=o),typeof c=="function"&&(c=o.top(this.$element)),typeof n=="function"&&(n=o.bottom(this.$element));var p=this.getState(u,l,c,n);if(this.affixed!=p){this.unpin!=null&&this.$element.css("top","");var g="affix"+(p?"-"+p:""),m=e.Event(g+".bs.affix");if(this.$element.trigger(m),m.isDefaultPrevented())return;this.affixed=p,this.unpin=p=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}p=="bottom"&&this.$element.offset({top:u-l-n})}};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.affix"),n=typeof l=="object"&&l;c||o.data("bs.affix",c=new t(this,n)),typeof l=="string"&&c[l]()})}var s=e.fn.affix;e.fn.affix=r,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=s,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var l=e(this),o=l.data();o.offset=o.offset||{},o.offsetBottom!=null&&(o.offset.bottom=o.offsetBottom),o.offsetTop!=null&&(o.offset.top=o.offsetTop),r.call(l,o)})})}(jQuery)}),nb=Po(()=>{c4(),u4(),d4(),h4(),p4(),f4(),m4(),g4(),v4(),y4(),b4(),w4()}),ob={};s4(ob,{default:()=>_f});x4=rb(nb());l4(ob,rb(nb()));tb=x4,{default:ib}=tb,_4=nn(tb,["default"]),_f=ib!==void 0?ib:_4});var Af={};Ln(Af,{default:()=>_f});var Sf=Zt(()=>{kf();kf()});var k4,Ef,A4,S4,C4,E4,T4,P4,Cf,$4,lb,cb,ub,O4,ab,sb,M4,Tf,Pf=Zt(()=>{k4=Object.create,Ef=Object.defineProperty,A4=Object.getOwnPropertyDescriptor,S4=Object.getOwnPropertyNames,C4=Object.getPrototypeOf,E4=Object.prototype.hasOwnProperty,T4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),P4=(e,t)=>{for(var r in t)Ef(e,r,{get:t[r],enumerable:!0})},Cf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of S4(t))!E4.call(e,l)&&l!==r&&Ef(e,l,{get:()=>t[l],enumerable:!(s=A4(t,l))||s.enumerable});return e},$4=(e,t,r)=>(Cf(e,t,"default"),r&&Cf(r,t,"default")),lb=(e,t,r)=>(r=e!=null?k4(C4(e)):{},Cf(t||!e||!e.__esModule?Ef(r,"default",{value:e,enumerable:!0}):r,e)),cb=T4(()=>{(function(e){e.color={},e.color.make=function(r,s,l,o){var c={};return c.r=r||0,c.g=s||0,c.b=l||0,c.a=o!=null?o:1,c.add=function(n,u){for(var p=0;p<n.length;++p)c[n.charAt(p)]+=u;return c.normalize()},c.scale=function(n,u){for(var p=0;p<n.length;++p)c[n.charAt(p)]*=u;return c.normalize()},c.toString=function(){return c.a>=1?"rgb("+[c.r,c.g,c.b].join(",")+")":"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"},c.normalize=function(){function n(u,p,g){return p<u?u:p>g?g:p}return c.r=n(0,parseInt(c.r),255),c.g=n(0,parseInt(c.g),255),c.b=n(0,parseInt(c.b),255),c.a=n(0,c.a,1),c},c.clone=function(){return e.color.make(c.r,c.b,c.g,c.a)},c.normalize()},e.color.extract=function(r,s){var l;do{if(l=r.css(s).toLowerCase(),l!=""&&l!="transparent")break;r=r.parent()}while(r.length&&!e.nodeName(r.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),e.color.parse(l)},e.color.parse=function(r){var s,l=e.color.make;if(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return l(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10));if(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4]));if(s=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return l(parseFloat(s[1])*2.55,parseFloat(s[2])*2.55,parseFloat(s[3])*2.55);if(s=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseFloat(s[1])*2.55,parseFloat(s[2])*2.55,parseFloat(s[3])*2.55,parseFloat(s[4]));if(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return l(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16));if(s=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return l(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16));var o=e.trim(r).toLowerCase();return o=="transparent"?l(255,255,255,0):(s=t[o]||[0,0,0],l(s[0],s[1],s[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function r(o,c){var n=c.children("."+o)[0];if(n==null&&(n=document.createElement("canvas"),n.className=o,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!n.getContext))if(window.G_vmlCanvasManager)n=window.G_vmlCanvasManager.initElement(n);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=n;var u=this.context=n.getContext("2d"),p=window.devicePixelRatio||1,g=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=p/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}r.prototype.resize=function(o,c){if(o<=0||c<=0)throw new Error("Invalid dimensions for plot, width = "+o+", height = "+c);var n=this.element,u=this.context,p=this.pixelRatio;this.width!=o&&(n.width=o*p,n.style.width=o+"px",this.width=o),this.height!=c&&(n.height=c*p,n.style.height=c+"px",this.height=c),u.restore(),u.save(),u.scale(p,p)},r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){var o=this._textCache;for(var c in o)if(t.call(o,c)){var n=this.getTextLayer(c),u=o[c];n.hide();for(var p in u)if(t.call(u,p)){var g=u[p];for(var m in g)if(t.call(g,m)){for(var y=g[m].positions,x=0,w;w=y[x];x++)w.active?w.rendered||(n.append(w.element),w.rendered=!0):(y.splice(x--,1),w.rendered&&w.element.detach());y.length==0&&delete g[m]}}n.show()}},r.prototype.getTextLayer=function(o){var c=this.text[o];return c==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[o]=e("<div></div>").addClass(o).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},r.prototype.getTextInfo=function(o,c,n,u,p){var g,m,y,x;if(c=""+c,typeof n=="object"?g=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:g=n,m=this._textCache[o],m==null&&(m=this._textCache[o]={}),y=m[g],y==null&&(y=m[g]={}),x=y[c],x==null){var w=e("<div></div>").html(c).css({position:"absolute","max-width":p,top:-9999}).appendTo(this.getTextLayer(o));typeof n=="object"?w.css({font:g,color:n.color}):typeof n=="string"&&w.addClass(n),x=y[c]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return x},r.prototype.addText=function(o,c,n,u,p,g,m,y,x){var w=this.getTextInfo(o,u,p,g,m),k=w.positions;y=="center"?c-=w.width/2:y=="right"&&(c-=w.width),x=="middle"?n-=w.height/2:x=="bottom"&&(n-=w.height);for(var S=0,P;P=k[S];S++)if(P.x==c&&P.y==n){P.active=!0;return}P={active:!0,rendered:!1,element:k.length?w.element.clone():w.element,x:c,y:n},k.push(P),P.element.css({top:Math.round(n),left:Math.round(c),"text-align":y})},r.prototype.removeText=function(o,c,n,u,p,g){if(u==null){var m=this._textCache[o];if(m!=null){for(var y in m)if(t.call(m,y)){var x=m[y];for(var w in x)if(t.call(x,w))for(var k=x[w].positions,S=0,P;P=k[S];S++)P.active=!1}}}else for(var k=this.getTextInfo(o,u,p,g).positions,S=0,P;P=k[S];S++)P.x==c&&P.y==n&&(P.active=!1)};function s(o,c,n,u){var p=[],g={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},m=null,y=null,x=null,w=null,k=null,S=[],P=[],E={left:0,right:0,top:0,bottom:0},O=0,a=0,h={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},v=this;v.setData=N,v.setupGrid=ht,v.draw=je,v.getPlaceholder=function(){return o},v.getCanvas=function(){return m.element},v.getPlotOffset=function(){return E},v.width=function(){return O},v.height=function(){return a},v.offset=function(){var I=x.offset();return I.left+=E.left,I.top+=E.top,I},v.getData=function(){return p},v.getAxes=function(){var I={},Ve;return e.each(S.concat(P),function(ke,Ye){Ye&&(I[Ye.direction+(Ye.n!=1?Ye.n:"")+"axis"]=Ye)}),I},v.getXAxes=function(){return S},v.getYAxes=function(){return P},v.c2p=ne,v.p2c=Q,v.getOptions=function(){return g},v.highlight=ci,v.unhighlight=Lt,v.triggerRedrawOverlay=ti,v.pointOffset=function(I){return{left:parseInt(S[q(I,"x")-1].p2c(+I.x)+E.left,10),top:parseInt(P[q(I,"y")-1].p2c(+I.y)+E.top,10)}},v.shutdown=fe,v.destroy=function(){fe(),o.removeData("plot").empty(),p=[],g=null,m=null,y=null,x=null,w=null,k=null,S=[],P=[],h=null,Ee=[],v=null},v.resize=function(){var I=o.width(),Ve=o.height();m.resize(I,Ve),y.resize(I,Ve)},v.hooks=h,_(v),C(n),W(),N(c),ht(),je(),oe();function d(I,Ve){Ve=[v].concat(Ve);for(var ke=0;ke<I.length;++ke)I[ke].apply(this,Ve)}function _(){for(var I={Canvas:r},Ve=0;Ve<u.length;++Ve){var ke=u[Ve];ke.init(v,I),ke.options&&e.extend(!0,g,ke.options)}}function C(I){e.extend(!0,g,I),I&&I.colors&&(g.colors=I.colors),g.xaxis.color==null&&(g.xaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.yaxis.color==null&&(g.yaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.xaxis.tickColor==null&&(g.xaxis.tickColor=g.grid.tickColor||g.xaxis.color),g.yaxis.tickColor==null&&(g.yaxis.tickColor=g.grid.tickColor||g.yaxis.color),g.grid.borderColor==null&&(g.grid.borderColor=g.grid.color),g.grid.tickColor==null&&(g.grid.tickColor=e.color.parse(g.grid.color).scale("a",.22).toString());var Ve,ke,Ye,Ze=o.css("font-size"),dt=Ze?+Ze.replace("px",""):13,ae={style:o.css("font-style"),size:Math.round(.8*dt),variant:o.css("font-variant"),weight:o.css("font-weight"),family:o.css("font-family")};for(Ye=g.xaxes.length||1,Ve=0;Ve<Ye;++Ve)ke=g.xaxes[Ve],ke&&!ke.tickColor&&(ke.tickColor=ke.color),ke=e.extend(!0,{},g.xaxis,ke),g.xaxes[Ve]=ke,ke.font&&(ke.font=e.extend({},ae,ke.font),ke.font.color||(ke.font.color=ke.color),ke.font.lineHeight||(ke.font.lineHeight=Math.round(ke.font.size*1.15)));for(Ye=g.yaxes.length||1,Ve=0;Ve<Ye;++Ve)ke=g.yaxes[Ve],ke&&!ke.tickColor&&(ke.tickColor=ke.color),ke=e.extend(!0,{},g.yaxis,ke),g.yaxes[Ve]=ke,ke.font&&(ke.font=e.extend({},ae,ke.font),ke.font.color||(ke.font.color=ke.color),ke.font.lineHeight||(ke.font.lineHeight=Math.round(ke.font.size*1.15)));for(g.xaxis.noTicks&&g.xaxis.ticks==null&&(g.xaxis.ticks=g.xaxis.noTicks),g.yaxis.noTicks&&g.yaxis.ticks==null&&(g.yaxis.ticks=g.yaxis.noTicks),g.x2axis&&(g.xaxes[1]=e.extend(!0,{},g.xaxis,g.x2axis),g.xaxes[1].position="top",g.x2axis.min==null&&(g.xaxes[1].min=null),g.x2axis.max==null&&(g.xaxes[1].max=null)),g.y2axis&&(g.yaxes[1]=e.extend(!0,{},g.yaxis,g.y2axis),g.yaxes[1].position="right",g.y2axis.min==null&&(g.yaxes[1].min=null),g.y2axis.max==null&&(g.yaxes[1].max=null)),g.grid.coloredAreas&&(g.grid.markings=g.grid.coloredAreas),g.grid.coloredAreasColor&&(g.grid.markingsColor=g.grid.coloredAreasColor),g.lines&&e.extend(!0,g.series.lines,g.lines),g.points&&e.extend(!0,g.series.points,g.points),g.bars&&e.extend(!0,g.series.bars,g.bars),g.shadowSize!=null&&(g.series.shadowSize=g.shadowSize),g.highlightColor!=null&&(g.series.highlightColor=g.highlightColor),Ve=0;Ve<g.xaxes.length;++Ve)ee(S,Ve+1).options=g.xaxes[Ve];for(Ve=0;Ve<g.yaxes.length;++Ve)ee(P,Ve+1).options=g.yaxes[Ve];for(var Ie in h)g.hooks[Ie]&&g.hooks[Ie].length&&(h[Ie]=h[Ie].concat(g.hooks[Ie]));d(h.processOptions,[g])}function N(I){p=G(I),Me(),pe()}function G(I){for(var Ve=[],ke=0;ke<I.length;++ke){var Ye=e.extend(!0,{},g.series);I[ke].data!=null?(Ye.data=I[ke].data,delete I[ke].data,e.extend(!0,Ye,I[ke]),I[ke].data=Ye.data):Ye.data=I[ke],Ve.push(Ye)}return Ve}function q(I,Ve){var ke=I[Ve+"axis"];return typeof ke=="object"&&(ke=ke.n),typeof ke!="number"&&(ke=1),ke}function K(){return e.grep(S.concat(P),function(I){return I})}function ne(I){var Ve={},ke,Ye;for(ke=0;ke<S.length;++ke)Ye=S[ke],Ye&&Ye.used&&(Ve["x"+Ye.n]=Ye.c2p(I.left));for(ke=0;ke<P.length;++ke)Ye=P[ke],Ye&&Ye.used&&(Ve["y"+Ye.n]=Ye.c2p(I.top));return Ve.x1!==void 0&&(Ve.x=Ve.x1),Ve.y1!==void 0&&(Ve.y=Ve.y1),Ve}function Q(I){var Ve={},ke,Ye,Ze;for(ke=0;ke<S.length;++ke)if(Ye=S[ke],Ye&&Ye.used&&(Ze="x"+Ye.n,I[Ze]==null&&Ye.n==1&&(Ze="x"),I[Ze]!=null)){Ve.left=Ye.p2c(I[Ze]);break}for(ke=0;ke<P.length;++ke)if(Ye=P[ke],Ye&&Ye.used&&(Ze="y"+Ye.n,I[Ze]==null&&Ye.n==1&&(Ze="y"),I[Ze]!=null)){Ve.top=Ye.p2c(I[Ze]);break}return Ve}function ee(I,Ve){return I[Ve-1]||(I[Ve-1]={n:Ve,direction:I==S?"x":"y",options:e.extend(!0,{},I==S?g.xaxis:g.yaxis)}),I[Ve-1]}function Me(){var I=p.length,Ve=-1,ke;for(ke=0;ke<p.length;++ke){var Ye=p[ke].color;Ye!=null&&(I--,typeof Ye=="number"&&Ye>Ve&&(Ve=Ye))}I<=Ve&&(I=Ve+1);var Ze,dt=[],ae=g.colors,Ie=ae.length,Ue=0;for(ke=0;ke<I;ke++)Ze=e.color.parse(ae[ke%Ie]||"#666"),ke%Ie==0&&ke&&(Ue>=0?Ue<.5?Ue=-Ue-.2:Ue=0:Ue=-Ue),dt[ke]=Ze.scale("rgb",1+Ue);var gt=0,ct;for(ke=0;ke<p.length;++ke){if(ct=p[ke],ct.color==null?(ct.color=dt[gt].toString(),++gt):typeof ct.color=="number"&&(ct.color=dt[ct.color].toString()),ct.lines.show==null){var Et,zt=!0;for(Et in ct)if(ct[Et]&&ct[Et].show){zt=!1;break}zt&&(ct.lines.show=!0)}ct.lines.zero==null&&(ct.lines.zero=!!ct.lines.fill),ct.xaxis=ee(S,q(ct,"x")),ct.yaxis=ee(P,q(ct,"y"))}}function pe(){var I=Number.POSITIVE_INFINITY,Ve=Number.NEGATIVE_INFINITY,ke=Number.MAX_VALUE,Ye,Ze,dt,ae,Ie,Ue,gt,ct,Et,zt,Xt,Ot,Bt,Xe,De,Fe;function et(Si,Mi,Gt){Mi<Si.datamin&&Mi!=-ke&&(Si.datamin=Mi),Gt>Si.datamax&&Gt!=ke&&(Si.datamax=Gt)}for(e.each(K(),function(Si,Mi){Mi.datamin=I,Mi.datamax=Ve,Mi.used=!1}),Ye=0;Ye<p.length;++Ye)Ue=p[Ye],Ue.datapoints={points:[]},d(h.processRawData,[Ue,Ue.data,Ue.datapoints]);for(Ye=0;Ye<p.length;++Ye){if(Ue=p[Ye],De=Ue.data,Fe=Ue.datapoints.format,!Fe){if(Fe=[],Fe.push({x:!0,number:!0,required:!0}),Fe.push({y:!0,number:!0,required:!0}),Ue.bars.show||Ue.lines.show&&Ue.lines.fill){var Pt=!!(Ue.bars.show&&Ue.bars.zero||Ue.lines.show&&Ue.lines.zero);Fe.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Pt}),Ue.bars.horizontal&&(delete Fe[Fe.length-1].y,Fe[Fe.length-1].x=!0)}Ue.datapoints.format=Fe}if(Ue.datapoints.pointsize==null){Ue.datapoints.pointsize=Fe.length,ct=Ue.datapoints.pointsize,gt=Ue.datapoints.points;var Nt=Ue.lines.show&&Ue.lines.steps;for(Ue.xaxis.used=Ue.yaxis.used=!0,Ze=dt=0;Ze<De.length;++Ze,dt+=ct){Xe=De[Ze];var Je=Xe==null;if(!Je)for(ae=0;ae<ct;++ae)Ot=Xe[ae],Bt=Fe[ae],Bt&&(Bt.number&&Ot!=null&&(Ot=+Ot,isNaN(Ot)?Ot=null:Ot==1/0?Ot=ke:Ot==-1/0&&(Ot=-ke)),Ot==null&&(Bt.required&&(Je=!0),Bt.defaultValue!=null&&(Ot=Bt.defaultValue))),gt[dt+ae]=Ot;if(Je)for(ae=0;ae<ct;++ae)Ot=gt[dt+ae],Ot!=null&&(Bt=Fe[ae],Bt.autoscale!==!1&&(Bt.x&&et(Ue.xaxis,Ot,Ot),Bt.y&&et(Ue.yaxis,Ot,Ot))),gt[dt+ae]=null;else if(Nt&&dt>0&&gt[dt-ct]!=null&&gt[dt-ct]!=gt[dt]&&gt[dt-ct+1]!=gt[dt+1]){for(ae=0;ae<ct;++ae)gt[dt+ct+ae]=gt[dt+ae];gt[dt+1]=gt[dt-ct+1],dt+=ct}}}}for(Ye=0;Ye<p.length;++Ye)Ue=p[Ye],d(h.processDatapoints,[Ue,Ue.datapoints]);for(Ye=0;Ye<p.length;++Ye){Ue=p[Ye],gt=Ue.datapoints.points,ct=Ue.datapoints.pointsize,Fe=Ue.datapoints.format;var wt=I,At=I,Kt=Ve,Jt=Ve;for(Ze=0;Ze<gt.length;Ze+=ct)if(gt[Ze]!=null)for(ae=0;ae<ct;++ae)Ot=gt[Ze+ae],Bt=Fe[ae],!(!Bt||Bt.autoscale===!1||Ot==ke||Ot==-ke)&&(Bt.x&&(Ot<wt&&(wt=Ot),Ot>Kt&&(Kt=Ot)),Bt.y&&(Ot<At&&(At=Ot),Ot>Jt&&(Jt=Ot)));if(Ue.bars.show){var Ai;switch(Ue.bars.align){case"left":Ai=0;break;case"right":Ai=-Ue.bars.barWidth;break;default:Ai=-Ue.bars.barWidth/2}Ue.bars.horizontal?(At+=Ai,Jt+=Ai+Ue.bars.barWidth):(wt+=Ai,Kt+=Ai+Ue.bars.barWidth)}et(Ue.xaxis,wt,Kt),et(Ue.yaxis,At,Jt)}e.each(K(),function(Si,Mi){Mi.datamin==I&&(Mi.datamin=null),Mi.datamax==Ve&&(Mi.datamax=null)})}function W(){o.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),o.css("position")=="static"&&o.css("position","relative"),m=new r("flot-base",o),y=new r("flot-overlay",o),w=m.context,k=y.context,x=e(y.element).unbind();var I=o.data("plot");I&&(I.shutdown(),y.clear()),o.data("plot",v)}function oe(){g.grid.hoverable&&(x.mousemove(Ut),x.bind("mouseleave",ut)),g.grid.clickable&&x.click(mt),d(h.bindEvents,[x])}function fe(){Qe&&clearTimeout(Qe),x.unbind("mousemove",Ut),x.unbind("mouseleave",ut),x.unbind("click",mt),d(h.shutdown,[x])}function Z(I){function Ve(ae){return ae}var ke,Ye,Ze=I.options.transform||Ve,dt=I.options.inverseTransform;I.direction=="x"?(ke=I.scale=O/Math.abs(Ze(I.max)-Ze(I.min)),Ye=Math.min(Ze(I.max),Ze(I.min))):(ke=I.scale=a/Math.abs(Ze(I.max)-Ze(I.min)),ke=-ke,Ye=Math.max(Ze(I.max),Ze(I.min))),Ze==Ve?I.p2c=function(ae){return(ae-Ye)*ke}:I.p2c=function(ae){return(Ze(ae)-Ye)*ke},dt?I.c2p=function(ae){return dt(Ye+ae/ke)}:I.c2p=function(ae){return Ye+ae/ke}}function xe(I){for(var Ve=I.options,ke=I.ticks||[],Ye=Ve.labelWidth||0,Ze=Ve.labelHeight||0,dt=Ye||(I.direction=="x"?Math.floor(m.width/(ke.length||1)):null),ae=I.direction+"Axis "+I.direction+I.n+"Axis",Ie="flot-"+I.direction+"-axis flot-"+I.direction+I.n+"-axis "+ae,Ue=Ve.font||"flot-tick-label tickLabel",gt=0;gt<ke.length;++gt){var ct=ke[gt];if(ct.label){var Et=m.getTextInfo(Ie,ct.label,Ue,null,dt);Ye=Math.max(Ye,Et.width),Ze=Math.max(Ze,Et.height)}}I.labelWidth=Ve.labelWidth||Ye,I.labelHeight=Ve.labelHeight||Ze}function Y(I){var Ve=I.labelWidth,ke=I.labelHeight,Ye=I.options.position,Ze=I.direction==="x",dt=I.options.tickLength,ae=g.grid.axisMargin,Ie=g.grid.labelMargin,Ue=!0,gt=!0,ct=!0,Et=!1;e.each(Ze?S:P,function(zt,Xt){Xt&&(Xt.show||Xt.reserveSpace)&&(Xt===I?Et=!0:Xt.options.position===Ye&&(Et?gt=!1:Ue=!1),Et||(ct=!1))}),gt&&(ae=0),dt==null&&(dt=ct?"full":5),isNaN(+dt)||(Ie+=+dt),Ze?(ke+=Ie,Ye=="bottom"?(E.bottom+=ke+ae,I.box={top:m.height-E.bottom,height:ke}):(I.box={top:E.top+ae,height:ke},E.top+=ke+ae)):(Ve+=Ie,Ye=="left"?(I.box={left:E.left+ae,width:Ve},E.left+=Ve+ae):(E.right+=Ve+ae,I.box={left:m.width-E.right,width:Ve})),I.position=Ye,I.tickLength=dt,I.box.padding=Ie,I.innermost=Ue}function he(I){I.direction=="x"?(I.box.left=E.left-I.labelWidth/2,I.box.width=m.width-E.left-E.right+I.labelWidth):(I.box.top=E.top-I.labelHeight/2,I.box.height=m.height-E.bottom-E.top+I.labelHeight)}function Ke(){var I=g.grid.minBorderMargin,Ve,ke;if(I==null)for(I=0,ke=0;ke<p.length;++ke)I=Math.max(I,2*(p[ke].points.radius+p[ke].points.lineWidth/2));var Ye={left:I,right:I,top:I,bottom:I};e.each(K(),function(Ze,dt){dt.reserveSpace&&dt.ticks&&dt.ticks.length&&(dt.direction==="x"?(Ye.left=Math.max(Ye.left,dt.labelWidth/2),Ye.right=Math.max(Ye.right,dt.labelWidth/2)):(Ye.bottom=Math.max(Ye.bottom,dt.labelHeight/2),Ye.top=Math.max(Ye.top,dt.labelHeight/2)))}),E.left=Math.ceil(Math.max(Ye.left,E.left)),E.right=Math.ceil(Math.max(Ye.right,E.right)),E.top=Math.ceil(Math.max(Ye.top,E.top)),E.bottom=Math.ceil(Math.max(Ye.bottom,E.bottom))}function ht(){var I,Ve=K(),ke=g.grid.show;for(var Ye in E){var Ze=g.grid.margin||0;E[Ye]=typeof Ze=="number"?Ze:Ze[Ye]||0}d(h.processOffset,[E]);for(var Ye in E)typeof g.grid.borderWidth=="object"?E[Ye]+=ke?g.grid.borderWidth[Ye]:0:E[Ye]+=ke?g.grid.borderWidth:0;if(e.each(Ve,function(ae,Ie){var Ue=Ie.options;Ie.show=Ue.show==null?Ie.used:Ue.show,Ie.reserveSpace=Ue.reserveSpace==null?Ie.show:Ue.reserveSpace,lt(Ie)}),ke){var dt=e.grep(Ve,function(ae){return ae.show||ae.reserveSpace});for(e.each(dt,function(ae,Ie){We(Ie),Se(Ie),Le(Ie,Ie.ticks),xe(Ie)}),I=dt.length-1;I>=0;--I)Y(dt[I]);Ke(),e.each(dt,function(ae,Ie){he(Ie)})}O=m.width-E.left-E.right,a=m.height-E.bottom-E.top,e.each(Ve,function(ae,Ie){Z(Ie)}),ke&&Re(),st()}function lt(I){var Ve=I.options,ke=+(Ve.min!=null?Ve.min:I.datamin),Ye=+(Ve.max!=null?Ve.max:I.datamax),Ze=Ye-ke;if(Ze==0){var dt=Ye==0?1:.01;Ve.min==null&&(ke-=dt),(Ve.max==null||Ve.min!=null)&&(Ye+=dt)}else{var ae=Ve.autoscaleMargin;ae!=null&&(Ve.min==null&&(ke-=Ze*ae,ke<0&&I.datamin!=null&&I.datamin>=0&&(ke=0)),Ve.max==null&&(Ye+=Ze*ae,Ye>0&&I.datamax!=null&&I.datamax<=0&&(Ye=0)))}I.min=ke,I.max=Ye}function We(I){var Ve=I.options,ke;typeof Ve.ticks=="number"&&Ve.ticks>0?ke=Ve.ticks:ke=.3*Math.sqrt(I.direction=="x"?m.width:m.height);var Ye=(I.max-I.min)/ke,Ze=-Math.floor(Math.log(Ye)/Math.LN10),dt=Ve.tickDecimals;dt!=null&&Ze>dt&&(Ze=dt);var ae=Math.pow(10,-Ze),Ie=Ye/ae,Ue;if(Ie<1.5?Ue=1:Ie<3?(Ue=2,Ie>2.25&&(dt==null||Ze+1<=dt)&&(Ue=2.5,++Ze)):Ie<7.5?Ue=5:Ue=10,Ue*=ae,Ve.minTickSize!=null&&Ue<Ve.minTickSize&&(Ue=Ve.minTickSize),I.delta=Ye,I.tickDecimals=Math.max(0,dt!=null?dt:Ze),I.tickSize=Ve.tickSize||Ue,Ve.mode=="time"&&!I.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(I.tickGenerator||(I.tickGenerator=function(Xt){var Ot=[],Bt=l(Xt.min,Xt.tickSize),Xe=0,De=Number.NaN,Fe;do Fe=De,De=Bt+Xe*Xt.tickSize,Ot.push(De),++Xe;while(De<Xt.max&&De!=Fe);return Ot},I.tickFormatter=function(Xt,Ot){var Bt=Ot.tickDecimals?Math.pow(10,Ot.tickDecimals):1,Xe=""+Math.round(Xt*Bt)/Bt;if(Ot.tickDecimals!=null){var De=Xe.indexOf("."),Fe=De==-1?0:Xe.length-De-1;if(Fe<Ot.tickDecimals)return(Fe?Xe:Xe+".")+(""+Bt).substr(1,Ot.tickDecimals-Fe)}return Xe}),e.isFunction(Ve.tickFormatter)&&(I.tickFormatter=function(Xt,Ot){return""+Ve.tickFormatter(Xt,Ot)}),Ve.alignTicksWithAxis!=null){var gt=(I.direction=="x"?S:P)[Ve.alignTicksWithAxis-1];if(gt&&gt.used&&gt!=I){var ct=I.tickGenerator(I);if(ct.length>0&&(Ve.min==null&&(I.min=Math.min(I.min,ct[0])),Ve.max==null&&ct.length>1&&(I.max=Math.max(I.max,ct[ct.length-1]))),I.tickGenerator=function(Xt){var Ot=[],Bt,Xe;for(Xe=0;Xe<gt.ticks.length;++Xe)Bt=(gt.ticks[Xe].v-gt.min)/(gt.max-gt.min),Bt=Xt.min+Bt*(Xt.max-Xt.min),Ot.push(Bt);return Ot},!I.mode&&Ve.tickDecimals==null){var Et=Math.max(0,-Math.floor(Math.log(I.delta)/Math.LN10)+1),zt=I.tickGenerator(I);zt.length>1&&/\..*0$/.test((zt[1]-zt[0]).toFixed(Et))||(I.tickDecimals=Et)}}}}function Se(I){var Ve=I.options.ticks,ke=[];Ve==null||typeof Ve=="number"&&Ve>0?ke=I.tickGenerator(I):Ve&&(e.isFunction(Ve)?ke=Ve(I):ke=Ve);var Ye,Ze;for(I.ticks=[],Ye=0;Ye<ke.length;++Ye){var dt=null,ae=ke[Ye];typeof ae=="object"?(Ze=+ae[0],ae.length>1&&(dt=ae[1])):Ze=+ae,dt==null&&(dt=I.tickFormatter(Ze,I)),isNaN(Ze)||I.ticks.push({v:Ze,label:dt})}}function Le(I,Ve){I.options.autoscaleMargin&&Ve.length>0&&(I.options.min==null&&(I.min=Math.min(I.min,Ve[0].v)),I.options.max==null&&Ve.length>1&&(I.max=Math.max(I.max,Ve[Ve.length-1].v)))}function je(){m.clear(),d(h.drawBackground,[w]);var I=g.grid;I.show&&I.backgroundColor&&Ge(),I.show&&!I.aboveData&&it();for(var Ve=0;Ve<p.length;++Ve)d(h.drawSeries,[w,p[Ve]]),te(p[Ve]);d(h.draw,[w]),I.show&&I.aboveData&&it(),m.render(),ti()}function Ne(I,Ve){for(var ke,Ye,Ze,dt,ae=K(),Ie=0;Ie<ae.length;++Ie)if(ke=ae[Ie],ke.direction==Ve&&(dt=Ve+ke.n+"axis",!I[dt]&&ke.n==1&&(dt=Ve+"axis"),I[dt])){Ye=I[dt].from,Ze=I[dt].to;break}if(I[dt]||(ke=Ve=="x"?S[0]:P[0],Ye=I[Ve+"1"],Ze=I[Ve+"2"]),Ye!=null&&Ze!=null&&Ye>Ze){var Ue=Ye;Ye=Ze,Ze=Ue}return{from:Ye,to:Ze,axis:ke}}function Ge(){w.save(),w.translate(E.left,E.top),w.fillStyle=kt(g.grid.backgroundColor,a,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,O,a),w.restore()}function it(){var I,Ve,ke,Ye;w.save(),w.translate(E.left,E.top);var Ze=g.grid.markings;if(Ze)for(e.isFunction(Ze)&&(Ve=v.getAxes(),Ve.xmin=Ve.xaxis.min,Ve.xmax=Ve.xaxis.max,Ve.ymin=Ve.yaxis.min,Ve.ymax=Ve.yaxis.max,Ze=Ze(Ve)),I=0;I<Ze.length;++I){var dt=Ze[I],ae=Ne(dt,"x"),Ie=Ne(dt,"y");if(ae.from==null&&(ae.from=ae.axis.min),ae.to==null&&(ae.to=ae.axis.max),Ie.from==null&&(Ie.from=Ie.axis.min),Ie.to==null&&(Ie.to=Ie.axis.max),!(ae.to<ae.axis.min||ae.from>ae.axis.max||Ie.to<Ie.axis.min||Ie.from>Ie.axis.max)){ae.from=Math.max(ae.from,ae.axis.min),ae.to=Math.min(ae.to,ae.axis.max),Ie.from=Math.max(Ie.from,Ie.axis.min),Ie.to=Math.min(Ie.to,Ie.axis.max);var Ue=ae.from===ae.to,gt=Ie.from===Ie.to;if(!(Ue&&gt))if(ae.from=Math.floor(ae.axis.p2c(ae.from)),ae.to=Math.floor(ae.axis.p2c(ae.to)),Ie.from=Math.floor(Ie.axis.p2c(Ie.from)),Ie.to=Math.floor(Ie.axis.p2c(Ie.to)),Ue||gt){var ct=dt.lineWidth||g.grid.markingsLineWidth,Et=ct%2?.5:0;w.beginPath(),w.strokeStyle=dt.color||g.grid.markingsColor,w.lineWidth=ct,Ue?(w.moveTo(ae.to+Et,Ie.from),w.lineTo(ae.to+Et,Ie.to)):(w.moveTo(ae.from,Ie.to+Et),w.lineTo(ae.to,Ie.to+Et)),w.stroke()}else w.fillStyle=dt.color||g.grid.markingsColor,w.fillRect(ae.from,Ie.to,ae.to-ae.from,Ie.from-Ie.to)}}Ve=K(),ke=g.grid.borderWidth;for(var zt=0;zt<Ve.length;++zt){var Xt=Ve[zt],Ot=Xt.box,Bt=Xt.tickLength,Xe,De,Fe,et;if(!(!Xt.show||Xt.ticks.length==0)){for(w.lineWidth=1,Xt.direction=="x"?(Xe=0,Bt=="full"?De=Xt.position=="top"?0:a:De=Ot.top-E.top+(Xt.position=="top"?Ot.height:0)):(De=0,Bt=="full"?Xe=Xt.position=="left"?0:O:Xe=Ot.left-E.left+(Xt.position=="left"?Ot.width:0)),Xt.innermost||(w.strokeStyle=Xt.options.color,w.beginPath(),Fe=et=0,Xt.direction=="x"?Fe=O+1:et=a+1,w.lineWidth==1&&(Xt.direction=="x"?De=Math.floor(De)+.5:Xe=Math.floor(Xe)+.5),w.moveTo(Xe,De),w.lineTo(Xe+Fe,De+et),w.stroke()),w.strokeStyle=Xt.options.tickColor,w.beginPath(),I=0;I<Xt.ticks.length;++I){var Pt=Xt.ticks[I].v;Fe=et=0,!(isNaN(Pt)||Pt<Xt.min||Pt>Xt.max||Bt=="full"&&(typeof ke=="object"&&ke[Xt.position]>0||ke>0)&&(Pt==Xt.min||Pt==Xt.max))&&(Xt.direction=="x"?(Xe=Xt.p2c(Pt),et=Bt=="full"?-a:Bt,Xt.position=="top"&&(et=-et)):(De=Xt.p2c(Pt),Fe=Bt=="full"?-O:Bt,Xt.position=="left"&&(Fe=-Fe)),w.lineWidth==1&&(Xt.direction=="x"?Xe=Math.floor(Xe)+.5:De=Math.floor(De)+.5),w.moveTo(Xe,De),w.lineTo(Xe+Fe,De+et))}w.stroke()}}ke&&(Ye=g.grid.borderColor,typeof ke=="object"||typeof Ye=="object"?(typeof ke!="object"&&(ke={top:ke,right:ke,bottom:ke,left:ke}),typeof Ye!="object"&&(Ye={top:Ye,right:Ye,bottom:Ye,left:Ye}),ke.top>0&&(w.strokeStyle=Ye.top,w.lineWidth=ke.top,w.beginPath(),w.moveTo(0-ke.left,0-ke.top/2),w.lineTo(O,0-ke.top/2),w.stroke()),ke.right>0&&(w.strokeStyle=Ye.right,w.lineWidth=ke.right,w.beginPath(),w.moveTo(O+ke.right/2,0-ke.top),w.lineTo(O+ke.right/2,a),w.stroke()),ke.bottom>0&&(w.strokeStyle=Ye.bottom,w.lineWidth=ke.bottom,w.beginPath(),w.moveTo(O+ke.right,a+ke.bottom/2),w.lineTo(0,a+ke.bottom/2),w.stroke()),ke.left>0&&(w.strokeStyle=Ye.left,w.lineWidth=ke.left,w.beginPath(),w.moveTo(0-ke.left/2,a+ke.bottom),w.lineTo(0-ke.left/2,0),w.stroke())):(w.lineWidth=ke,w.strokeStyle=g.grid.borderColor,w.strokeRect(-ke/2,-ke/2,O+ke,a+ke))),w.restore()}function Re(){e.each(K(),function(I,Ve){var ke=Ve.box,Ye=Ve.direction+"Axis "+Ve.direction+Ve.n+"Axis",Ze="flot-"+Ve.direction+"-axis flot-"+Ve.direction+Ve.n+"-axis "+Ye,dt=Ve.options.font||"flot-tick-label tickLabel",ae,Ie,Ue,gt,ct;if(m.removeText(Ze),!(!Ve.show||Ve.ticks.length==0))for(var Et=0;Et<Ve.ticks.length;++Et)ae=Ve.ticks[Et],!(!ae.label||ae.v<Ve.min||ae.v>Ve.max)&&(Ve.direction=="x"?(gt="center",Ie=E.left+Ve.p2c(ae.v),Ve.position=="bottom"?Ue=ke.top+ke.padding:(Ue=ke.top+ke.height-ke.padding,ct="bottom")):(ct="middle",Ue=E.top+Ve.p2c(ae.v),Ve.position=="left"?(Ie=ke.left+ke.width-ke.padding,gt="right"):Ie=ke.left+ke.padding),m.addText(Ze,Ie,Ue,ae.label,dt,null,null,gt,ct))})}function te(I){I.lines.show&&J(I),I.bars.show&&be(I),I.points.show&&qe(I)}function J(I){function Ve(Ie,Ue,gt,ct,Et){var zt=Ie.points,Xt=Ie.pointsize,Ot=null,Bt=null;w.beginPath();for(var Xe=Xt;Xe<zt.length;Xe+=Xt){var De=zt[Xe-Xt],Fe=zt[Xe-Xt+1],et=zt[Xe],Pt=zt[Xe+1];if(!(De==null||et==null)){if(Fe<=Pt&&Fe<Et.min){if(Pt<Et.min)continue;De=(Et.min-Fe)/(Pt-Fe)*(et-De)+De,Fe=Et.min}else if(Pt<=Fe&&Pt<Et.min){if(Fe<Et.min)continue;et=(Et.min-Fe)/(Pt-Fe)*(et-De)+De,Pt=Et.min}if(Fe>=Pt&&Fe>Et.max){if(Pt>Et.max)continue;De=(Et.max-Fe)/(Pt-Fe)*(et-De)+De,Fe=Et.max}else if(Pt>=Fe&&Pt>Et.max){if(Fe>Et.max)continue;et=(Et.max-Fe)/(Pt-Fe)*(et-De)+De,Pt=Et.max}if(De<=et&&De<ct.min){if(et<ct.min)continue;Fe=(ct.min-De)/(et-De)*(Pt-Fe)+Fe,De=ct.min}else if(et<=De&&et<ct.min){if(De<ct.min)continue;Pt=(ct.min-De)/(et-De)*(Pt-Fe)+Fe,et=ct.min}if(De>=et&&De>ct.max){if(et>ct.max)continue;Fe=(ct.max-De)/(et-De)*(Pt-Fe)+Fe,De=ct.max}else if(et>=De&&et>ct.max){if(De>ct.max)continue;Pt=(ct.max-De)/(et-De)*(Pt-Fe)+Fe,et=ct.max}(De!=Ot||Fe!=Bt)&&w.moveTo(ct.p2c(De)+Ue,Et.p2c(Fe)+gt),Ot=et,Bt=Pt,w.lineTo(ct.p2c(et)+Ue,Et.p2c(Pt)+gt)}}w.stroke()}function ke(Ie,Ue,gt){for(var ct=Ie.points,Et=Ie.pointsize,zt=Math.min(Math.max(0,gt.min),gt.max),Xt=0,Ot,Bt=!1,Xe=1,De=0,Fe=0;!(Et>0&&Xt>ct.length+Et);){Xt+=Et;var et=ct[Xt-Et],Pt=ct[Xt-Et+Xe],Nt=ct[Xt],Je=ct[Xt+Xe];if(Bt){if(Et>0&&et!=null&&Nt==null){Fe=Xt,Et=-Et,Xe=2;continue}if(Et<0&&Xt==De+Et){w.fill(),Bt=!1,Et=-Et,Xe=1,Xt=De=Fe+Et;continue}}if(!(et==null||Nt==null)){if(et<=Nt&&et<Ue.min){if(Nt<Ue.min)continue;Pt=(Ue.min-et)/(Nt-et)*(Je-Pt)+Pt,et=Ue.min}else if(Nt<=et&&Nt<Ue.min){if(et<Ue.min)continue;Je=(Ue.min-et)/(Nt-et)*(Je-Pt)+Pt,Nt=Ue.min}if(et>=Nt&&et>Ue.max){if(Nt>Ue.max)continue;Pt=(Ue.max-et)/(Nt-et)*(Je-Pt)+Pt,et=Ue.max}else if(Nt>=et&&Nt>Ue.max){if(et>Ue.max)continue;Je=(Ue.max-et)/(Nt-et)*(Je-Pt)+Pt,Nt=Ue.max}if(Bt||(w.beginPath(),w.moveTo(Ue.p2c(et),gt.p2c(zt)),Bt=!0),Pt>=gt.max&&Je>=gt.max){w.lineTo(Ue.p2c(et),gt.p2c(gt.max)),w.lineTo(Ue.p2c(Nt),gt.p2c(gt.max));continue}else if(Pt<=gt.min&&Je<=gt.min){w.lineTo(Ue.p2c(et),gt.p2c(gt.min)),w.lineTo(Ue.p2c(Nt),gt.p2c(gt.min));continue}var wt=et,At=Nt;Pt<=Je&&Pt<gt.min&&Je>=gt.min?(et=(gt.min-Pt)/(Je-Pt)*(Nt-et)+et,Pt=gt.min):Je<=Pt&&Je<gt.min&&Pt>=gt.min&&(Nt=(gt.min-Pt)/(Je-Pt)*(Nt-et)+et,Je=gt.min),Pt>=Je&&Pt>gt.max&&Je<=gt.max?(et=(gt.max-Pt)/(Je-Pt)*(Nt-et)+et,Pt=gt.max):Je>=Pt&&Je>gt.max&&Pt<=gt.max&&(Nt=(gt.max-Pt)/(Je-Pt)*(Nt-et)+et,Je=gt.max),et!=wt&&w.lineTo(Ue.p2c(wt),gt.p2c(Pt)),w.lineTo(Ue.p2c(et),gt.p2c(Pt)),w.lineTo(Ue.p2c(Nt),gt.p2c(Je)),Nt!=At&&(w.lineTo(Ue.p2c(Nt),gt.p2c(Je)),w.lineTo(Ue.p2c(At),gt.p2c(Je)))}}}w.save(),w.translate(E.left,E.top),w.lineJoin="round";var Ye=I.lines.lineWidth,Ze=I.shadowSize;if(Ye>0&&Ze>0){w.lineWidth=Ze,w.strokeStyle="rgba(0,0,0,0.1)";var dt=Math.PI/18;Ve(I.datapoints,Math.sin(dt)*(Ye/2+Ze/2),Math.cos(dt)*(Ye/2+Ze/2),I.xaxis,I.yaxis),w.lineWidth=Ze/2,Ve(I.datapoints,Math.sin(dt)*(Ye/2+Ze/4),Math.cos(dt)*(Ye/2+Ze/4),I.xaxis,I.yaxis)}w.lineWidth=Ye,w.strokeStyle=I.color;var ae=$e(I.lines,I.color,0,a);ae&&(w.fillStyle=ae,ke(I.datapoints,I.xaxis,I.yaxis)),Ye>0&&Ve(I.datapoints,0,0,I.xaxis,I.yaxis),w.restore()}function qe(I){function Ve(Ie,Ue,gt,ct,Et,zt,Xt,Ot){for(var Bt=Ie.points,Xe=Ie.pointsize,De=0;De<Bt.length;De+=Xe){var Fe=Bt[De],et=Bt[De+1];Fe==null||Fe<zt.min||Fe>zt.max||et<Xt.min||et>Xt.max||(w.beginPath(),Fe=zt.p2c(Fe),et=Xt.p2c(et)+ct,Ot=="circle"?w.arc(Fe,et,Ue,0,Et?Math.PI:Math.PI*2,!1):Ot(w,Fe,et,Ue,Et),w.closePath(),gt&&(w.fillStyle=gt,w.fill()),w.stroke())}}w.save(),w.translate(E.left,E.top);var ke=I.points.lineWidth,Ye=I.shadowSize,Ze=I.points.radius,dt=I.points.symbol;if(ke==0&&(ke=1e-4),ke>0&&Ye>0){var ae=Ye/2;w.lineWidth=ae,w.strokeStyle="rgba(0,0,0,0.1)",Ve(I.datapoints,Ze,null,ae+ae/2,!0,I.xaxis,I.yaxis,dt),w.strokeStyle="rgba(0,0,0,0.2)",Ve(I.datapoints,Ze,null,ae/2,!0,I.xaxis,I.yaxis,dt)}w.lineWidth=ke,w.strokeStyle=I.color,Ve(I.datapoints,Ze,$e(I.points,I.color),0,!1,I.xaxis,I.yaxis,dt),w.restore()}function _t(I,Ve,ke,Ye,Ze,dt,ae,Ie,Ue,gt,ct){var Et,zt,Xt,Ot,Bt,Xe,De,Fe,et;gt?(Fe=Xe=De=!0,Bt=!1,Et=ke,zt=I,Ot=Ve+Ye,Xt=Ve+Ze,zt<Et&&(et=zt,zt=Et,Et=et,Bt=!0,Xe=!1)):(Bt=Xe=De=!0,Fe=!1,Et=I+Ye,zt=I+Ze,Xt=ke,Ot=Ve,Ot<Xt&&(et=Ot,Ot=Xt,Xt=et,Fe=!0,De=!1)),!(zt<ae.min||Et>ae.max||Ot<Ie.min||Xt>Ie.max)&&(Et<ae.min&&(Et=ae.min,Bt=!1),zt>ae.max&&(zt=ae.max,Xe=!1),Xt<Ie.min&&(Xt=Ie.min,Fe=!1),Ot>Ie.max&&(Ot=Ie.max,De=!1),Et=ae.p2c(Et),Xt=Ie.p2c(Xt),zt=ae.p2c(zt),Ot=Ie.p2c(Ot),dt&&(Ue.fillStyle=dt(Xt,Ot),Ue.fillRect(Et,Ot,zt-Et,Xt-Ot)),ct>0&&(Bt||Xe||De||Fe)&&(Ue.beginPath(),Ue.moveTo(Et,Xt),Bt?Ue.lineTo(Et,Ot):Ue.moveTo(Et,Ot),De?Ue.lineTo(zt,Ot):Ue.moveTo(zt,Ot),Xe?Ue.lineTo(zt,Xt):Ue.moveTo(zt,Xt),Fe?Ue.lineTo(Et,Xt):Ue.moveTo(Et,Xt),Ue.stroke()))}function be(I){function Ve(Ze,dt,ae,Ie,Ue,gt){for(var ct=Ze.points,Et=Ze.pointsize,zt=0;zt<ct.length;zt+=Et)ct[zt]!=null&&_t(ct[zt],ct[zt+1],ct[zt+2],dt,ae,Ie,Ue,gt,w,I.bars.horizontal,I.bars.lineWidth)}w.save(),w.translate(E.left,E.top),w.lineWidth=I.bars.lineWidth,w.strokeStyle=I.color;var ke;switch(I.bars.align){case"left":ke=0;break;case"right":ke=-I.bars.barWidth;break;default:ke=-I.bars.barWidth/2}var Ye=I.bars.fill?function(Ze,dt){return $e(I.bars,I.color,Ze,dt)}:null;Ve(I.datapoints,ke,ke+I.bars.barWidth,Ye,I.xaxis,I.yaxis),w.restore()}function $e(I,Ve,ke,Ye){var Ze=I.fill;if(!Ze)return null;if(I.fillColor)return kt(I.fillColor,ke,Ye,Ve);var dt=e.color.parse(Ve);return dt.a=typeof Ze=="number"?Ze:.4,dt.normalize(),dt.toString()}function st(){if(g.legend.container!=null?e(g.legend.container).html(""):o.find(".legend").remove(),!!g.legend.show){for(var I=[],Ve=[],ke=!1,Ye=g.legend.labelFormatter,Ze,dt,ae=0;ae<p.length;++ae)Ze=p[ae],Ze.label&&(dt=Ye?Ye(Ze.label,Ze):Ze.label,dt&&Ve.push({label:dt,color:Ze.color}));if(g.legend.sorted)if(e.isFunction(g.legend.sorted))Ve.sort(g.legend.sorted);else if(g.legend.sorted=="reverse")Ve.reverse();else{var Ie=g.legend.sorted!="descending";Ve.sort(function(Xe,De){return Xe.label==De.label?0:Xe.label<De.label!=Ie?1:-1})}for(var ae=0;ae<Ve.length;++ae){var Ue=Ve[ae];ae%g.legend.noColumns==0&&(ke&&I.push("</tr>"),I.push("<tr>"),ke=!0),I.push('<td class="legendColorBox"><div style="border:1px solid '+g.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+Ue.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+Ue.label+"</td>")}if(ke&&I.push("</tr>"),I.length!=0){var gt='<table style="font-size:smaller;color:'+g.grid.color+'">'+I.join("")+"</table>";if(g.legend.container!=null)e(g.legend.container).html(gt);else{var ct="",Et=g.legend.position,zt=g.legend.margin;zt[0]==null&&(zt=[zt,zt]),Et.charAt(0)=="n"?ct+="top:"+(zt[1]+E.top)+"px;":Et.charAt(0)=="s"&&(ct+="bottom:"+(zt[1]+E.bottom)+"px;"),Et.charAt(1)=="e"?ct+="right:"+(zt[0]+E.right)+"px;":Et.charAt(1)=="w"&&(ct+="left:"+(zt[0]+E.left)+"px;");var Xt=e('<div class="legend">'+gt.replace('style="','style="position:absolute;'+ct+";")+"</div>").appendTo(o);if(g.legend.backgroundOpacity!=0){var Ot=g.legend.backgroundColor;Ot==null&&(Ot=g.grid.backgroundColor,Ot&&typeof Ot=="string"?Ot=e.color.parse(Ot):Ot=e.color.extract(Xt,"background-color"),Ot.a=1,Ot=Ot.toString());var Bt=Xt.children();e('<div style="position:absolute;width:'+Bt.width()+"px;height:"+Bt.height()+"px;"+ct+"background-color:"+Ot+';"> </div>').prependTo(Xt).css("opacity",g.legend.backgroundOpacity)}}}}}var Ee=[],Qe=null;function nt(I,Ve,ke){var Ye=g.grid.mouseActiveRadius,Ze=Ye*Ye+1,dt=null,ae=!1,Ie,Ue,gt;for(Ie=p.length-1;Ie>=0;--Ie)if(ke(p[Ie])){var ct=p[Ie],Et=ct.xaxis,zt=ct.yaxis,Xt=ct.datapoints.points,Ot=Et.c2p(I),Bt=zt.c2p(Ve),Xe=Ye/Et.scale,De=Ye/zt.scale;if(gt=ct.datapoints.pointsize,Et.options.inverseTransform&&(Xe=Number.MAX_VALUE),zt.options.inverseTransform&&(De=Number.MAX_VALUE),ct.lines.show||ct.points.show)for(Ue=0;Ue<Xt.length;Ue+=gt){var Fe=Xt[Ue],et=Xt[Ue+1];if(Fe!=null&&!(Fe-Ot>Xe||Fe-Ot<-Xe||et-Bt>De||et-Bt<-De)){var Pt=Math.abs(Et.p2c(Fe)-I),Nt=Math.abs(zt.p2c(et)-Ve),Je=Pt*Pt+Nt*Nt;Je<Ze&&(Ze=Je,dt=[Ie,Ue/gt])}}if(ct.bars.show&&!dt){var wt,At;switch(ct.bars.align){case"left":wt=0;break;case"right":wt=-ct.bars.barWidth;break;default:wt=-ct.bars.barWidth/2}for(At=wt+ct.bars.barWidth,Ue=0;Ue<Xt.length;Ue+=gt){var Fe=Xt[Ue],et=Xt[Ue+1],Kt=Xt[Ue+2];Fe!=null&&(p[Ie].bars.horizontal?Ot<=Math.max(Kt,Fe)&&Ot>=Math.min(Kt,Fe)&&Bt>=et+wt&&Bt<=et+At:Ot>=Fe+wt&&Ot<=Fe+At&&Bt>=Math.min(Kt,et)&&Bt<=Math.max(Kt,et))&&(dt=[Ie,Ue/gt])}}}return dt?(Ie=dt[0],Ue=dt[1],gt=p[Ie].datapoints.pointsize,{datapoint:p[Ie].datapoints.points.slice(Ue*gt,(Ue+1)*gt),dataIndex:Ue,series:p[Ie],seriesIndex:Ie}):null}function Ut(I){g.grid.hoverable&&Mt("plothover",I,function(Ve){return Ve.hoverable!=!1})}function ut(I){g.grid.hoverable&&Mt("plothover",I,function(Ve){return!1})}function mt(I){Mt("plotclick",I,function(Ve){return Ve.clickable!=!1})}function Mt(I,Ve,ke){var Ye=x.offset(),Ze=Ve.pageX-Ye.left-E.left,dt=Ve.pageY-Ye.top-E.top,ae=ne({left:Ze,top:dt});ae.pageX=Ve.pageX,ae.pageY=Ve.pageY;var Ie=nt(Ze,dt,ke);if(Ie&&(Ie.pageX=parseInt(Ie.series.xaxis.p2c(Ie.datapoint[0])+Ye.left+E.left,10),Ie.pageY=parseInt(Ie.series.yaxis.p2c(Ie.datapoint[1])+Ye.top+E.top,10)),g.grid.autoHighlight){for(var Ue=0;Ue<Ee.length;++Ue){var gt=Ee[Ue];gt.auto==I&&!(Ie&&gt.series==Ie.series&&gt.point[0]==Ie.datapoint[0]&&gt.point[1]==Ie.datapoint[1])&&Lt(gt.series,gt.point)}Ie&&ci(Ie.series,Ie.datapoint,I)}o.trigger(I,[ae,Ie])}function ti(){var I=g.interaction.redrawOverlayInterval;if(I==-1){oi();return}Qe||(Qe=setTimeout(oi,I))}function oi(){Qe=null,k.save(),y.clear(),k.translate(E.left,E.top);var I,Ve;for(I=0;I<Ee.length;++I)Ve=Ee[I],Ve.series.bars.show?St(Ve.series,Ve.point):Ct(Ve.series,Ve.point);k.restore(),d(h.drawOverlay,[k])}function ci(I,Ve,ke){if(typeof I=="number"&&(I=p[I]),typeof Ve=="number"){var Ye=I.datapoints.pointsize;Ve=I.datapoints.points.slice(Ye*Ve,Ye*(Ve+1))}var Ze=It(I,Ve);Ze==-1?(Ee.push({series:I,point:Ve,auto:ke}),ti()):ke||(Ee[Ze].auto=!1)}function Lt(I,Ve){if(I==null&&Ve==null){Ee=[],ti();return}if(typeof I=="number"&&(I=p[I]),typeof Ve=="number"){var ke=I.datapoints.pointsize;Ve=I.datapoints.points.slice(ke*Ve,ke*(Ve+1))}var Ye=It(I,Ve);Ye!=-1&&(Ee.splice(Ye,1),ti())}function It(I,Ve){for(var ke=0;ke<Ee.length;++ke){var Ye=Ee[ke];if(Ye.series==I&&Ye.point[0]==Ve[0]&&Ye.point[1]==Ve[1])return ke}return-1}function Ct(I,Ve){var ke=Ve[0],Ye=Ve[1],Ze=I.xaxis,dt=I.yaxis,ae=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString();if(!(ke<Ze.min||ke>Ze.max||Ye<dt.min||Ye>dt.max)){var Ie=I.points.radius+I.points.lineWidth/2;k.lineWidth=Ie,k.strokeStyle=ae;var Ue=1.5*Ie;ke=Ze.p2c(ke),Ye=dt.p2c(Ye),k.beginPath(),I.points.symbol=="circle"?k.arc(ke,Ye,Ue,0,2*Math.PI,!1):I.points.symbol(k,ke,Ye,Ue,!1),k.closePath(),k.stroke()}}function St(I,Ve){var ke=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString(),Ye=ke,Ze;switch(I.bars.align){case"left":Ze=0;break;case"right":Ze=-I.bars.barWidth;break;default:Ze=-I.bars.barWidth/2}k.lineWidth=I.bars.lineWidth,k.strokeStyle=ke,_t(Ve[0],Ve[1],Ve[2]||0,Ze,Ze+I.bars.barWidth,function(){return Ye},I.xaxis,I.yaxis,k,I.bars.horizontal,I.bars.lineWidth)}function kt(I,Ve,ke,Ye){if(typeof I=="string")return I;for(var Ze=w.createLinearGradient(0,ke,0,Ve),dt=0,ae=I.colors.length;dt<ae;++dt){var Ie=I.colors[dt];if(typeof Ie!="string"){var Ue=e.color.parse(Ye);Ie.brightness!=null&&(Ue=Ue.scale("rgb",Ie.brightness)),Ie.opacity!=null&&(Ue.a*=Ie.opacity),Ie=Ue.toString()}Ze.addColorStop(dt/(ae-1),Ie)}return Ze}}e.plot=function(o,c,n){var u=new s(e(o),c,n,e.plot.plugins);return u},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(o,c){return this.each(function(){e.plot(this,o,c)})};function l(o,c){return c*Math.floor(o/c)}}(jQuery)}),ub={};P4(ub,{default:()=>Tf});O4=lb(cb());$4(ub,lb(cb()));ab=O4,{default:sb}=ab,M4=nn(ab,["default"]),Tf=sb!==void 0?sb:M4});var db={};Ln(db,{default:()=>Tf});var hb=Zt(()=>{Pf();Pf()});var L4,Of,I4,D4,R4,j4,N4,B4,$f,H4,mb,gb,vb,F4,pb,fb,z4,Mf,Lf=Zt(()=>{L4=Object.create,Of=Object.defineProperty,I4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,R4=Object.getPrototypeOf,j4=Object.prototype.hasOwnProperty,N4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),B4=(e,t)=>{for(var r in t)Of(e,r,{get:t[r],enumerable:!0})},$f=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of D4(t))!j4.call(e,l)&&l!==r&&Of(e,l,{get:()=>t[l],enumerable:!(s=I4(t,l))||s.enumerable});return e},H4=(e,t,r)=>($f(e,t,"default"),r&&$f(r,t,"default")),mb=(e,t,r)=>(r=e!=null?L4(R4(e)):{},$f(t||!e||!e.__esModule?Of(r,"default",{value:e,enumerable:!0}):r,e)),gb=N4(()=>{(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function r(m,y){return y*Math.floor(m/y)}function s(m,y,x,w){if(typeof m.strftime=="function")return m.strftime(y);var k=function(d,_){return d=""+d,_=""+(_!=null?_:"0"),d.length==1?_+d:d},S=[],P=!1,E=m.getHours(),O=E<12;x==null&&(x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var a;E>12?a=E-12:E==0?a=12:a=E;for(var h=0;h<y.length;++h){var v=y.charAt(h);if(P){switch(v){case"a":v=""+w[m.getDay()];break;case"b":v=""+x[m.getMonth()];break;case"d":v=k(m.getDate());break;case"e":v=k(m.getDate()," ");break;case"h":case"H":v=k(E);break;case"I":v=k(a);break;case"l":v=k(a," ");break;case"m":v=k(m.getMonth()+1);break;case"M":v=k(m.getMinutes());break;case"q":v=""+(Math.floor(m.getMonth()/3)+1);break;case"S":v=k(m.getSeconds());break;case"y":v=k(m.getFullYear()%100);break;case"Y":v=""+m.getFullYear();break;case"p":v=O?"am":"pm";break;case"P":v=O?"AM":"PM";break;case"w":v=""+m.getDay();break}S.push(v),P=!1}else v=="%"?P=!0:S.push(v)}return S.join("")}function l(m){function y(S,P,E,O){S[P]=function(){return E[O].apply(E,arguments)}}var x={date:m};m.strftime!=null&&y(x,"strftime",m,"strftime"),y(x,"getTime",m,"getTime"),y(x,"setTime",m,"setTime");for(var w=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],k=0;k<w.length;k++)y(x,"get"+w[k],m,"getUTC"+w[k]),y(x,"set"+w[k],m,"setUTC"+w[k]);return x}function o(m,y){if(y.timezone=="browser")return new Date(m);if(!y.timezone||y.timezone=="utc")return l(new Date(m));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var x=new timezoneJS.Date;return x.setTimezone(y.timezone),x.setTime(m),x}else return l(new Date(m))}var c={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],u=n.concat([[3,"month"],[6,"month"],[1,"year"]]),p=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function g(m){m.hooks.processOptions.push(function(y,x){e.each(y.getAxes(),function(w,k){var S=k.options;S.mode=="time"&&(k.tickGenerator=function(P){var E=[],O=o(P.min,S),a=0,h=S.tickSize&&S.tickSize[1]==="quarter"||S.minTickSize&&S.minTickSize[1]==="quarter"?p:u;S.minTickSize!=null&&(typeof S.tickSize=="number"?a=S.tickSize:a=S.minTickSize[0]*c[S.minTickSize[1]]);for(var v=0;v<h.length-1&&!(P.delta<(h[v][0]*c[h[v][1]]+h[v+1][0]*c[h[v+1][1]])/2&&h[v][0]*c[h[v][1]]>=a);++v);var d=h[v][0],_=h[v][1];if(_=="year"){if(S.minTickSize!=null&&S.minTickSize[1]=="year")d=Math.floor(S.minTickSize[0]);else{var C=Math.pow(10,Math.floor(Math.log(P.delta/c.year)/Math.LN10)),N=P.delta/c.year/C;N<1.5?d=1:N<3?d=2:N<7.5?d=5:d=10,d*=C}d<1&&(d=1)}P.tickSize=S.tickSize||[d,_];var G=P.tickSize[0];_=P.tickSize[1];var q=G*c[_];_=="second"?O.setSeconds(r(O.getSeconds(),G)):_=="minute"?O.setMinutes(r(O.getMinutes(),G)):_=="hour"?O.setHours(r(O.getHours(),G)):_=="month"?O.setMonth(r(O.getMonth(),G)):_=="quarter"?O.setMonth(3*r(O.getMonth()/3,G)):_=="year"&&O.setFullYear(r(O.getFullYear(),G)),O.setMilliseconds(0),q>=c.minute&&O.setSeconds(0),q>=c.hour&&O.setMinutes(0),q>=c.day&&O.setHours(0),q>=c.day*4&&O.setDate(1),q>=c.month*2&&O.setMonth(r(O.getMonth(),3)),q>=c.quarter*2&&O.setMonth(r(O.getMonth(),6)),q>=c.year&&O.setMonth(0);var K=0,ne=Number.NaN,Q;do if(Q=ne,ne=O.getTime(),E.push(ne),_=="month"||_=="quarter")if(G<1){O.setDate(1);var ee=O.getTime();O.setMonth(O.getMonth()+(_=="quarter"?3:1));var Me=O.getTime();O.setTime(ne+K*c.hour+(Me-ee)*G),K=O.getHours(),O.setHours(0)}else O.setMonth(O.getMonth()+G*(_=="quarter"?3:1));else _=="year"?O.setFullYear(O.getFullYear()+G):O.setTime(ne+q);while(ne<P.max&&ne!=Q);return E},k.tickFormatter=function(P,E){var O=o(P,E.options);if(S.timeformat!=null)return s(O,S.timeformat,S.monthNames,S.dayNames);var a=E.options.tickSize&&E.options.tickSize[1]=="quarter"||E.options.minTickSize&&E.options.minTickSize[1]=="quarter",h=E.tickSize[0]*c[E.tickSize[1]],v=E.max-E.min,d=S.twelveHourClock?" %p":"",_=S.twelveHourClock?"%I":"%H",C;h<c.minute?C=_+":%M:%S"+d:h<c.day?v<2*c.day?C=_+":%M"+d:C="%b %d "+_+":%M"+d:h<c.month?C="%b %d":a&&h<c.quarter||!a&&h<c.year?v<c.year?C="%b":C="%b %Y":a&&h<c.year?v<c.year?C="Q%q":C="Q%q %Y":C="%Y";var N=s(O,C,S.monthNames,S.dayNames);return N})})})}e.plot.plugins.push({init:g,options:t,name:"time",version:"1.0"}),e.plot.formatDate=s,e.plot.dateGenerator=o})(jQuery)}),vb={};B4(vb,{default:()=>Mf});F4=mb(gb());H4(vb,mb(gb()));pb=F4,{default:fb}=pb,z4=nn(pb,["default"]),Mf=fb!==void 0?fb:z4});var yb={};Ln(yb,{default:()=>Mf});var bb=Zt(()=>{Lf();Lf()});var U4,Df,V4,W4,q4,G4,Y4,K4,If,X4,_b,kb,Ab,Z4,wb,xb,J4,Rf,jf=Zt(()=>{U4=Object.create,Df=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,W4=Object.getOwnPropertyNames,q4=Object.getPrototypeOf,G4=Object.prototype.hasOwnProperty,Y4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),K4=(e,t)=>{for(var r in t)Df(e,r,{get:t[r],enumerable:!0})},If=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of W4(t))!G4.call(e,l)&&l!==r&&Df(e,l,{get:()=>t[l],enumerable:!(s=V4(t,l))||s.enumerable});return e},X4=(e,t,r)=>(If(e,t,"default"),r&&If(r,t,"default")),_b=(e,t,r)=>(r=e!=null?U4(q4(e)):{},If(t||!e||!e.__esModule?Df(r,"default",{value:e,enumerable:!0}):r,e)),kb=Y4(()=>{(function(e){var t={series:{stack:null}};function r(s){function l(c,n){for(var u=null,p=0;p<n.length&&c!=n[p];++p)n[p].stack==c.stack&&(u=n[p]);return u}function o(c,n,u){if(!(n.stack==null||n.stack===!1)){var p=l(n,c.getData());if(p){for(var g=u.pointsize,m=u.points,y=p.datapoints.pointsize,x=p.datapoints.points,w=[],k,S,P,E,O,a,h=n.lines.show,v=n.bars.horizontal,d=g>2&&(v?u.format[2].x:u.format[2].y),_=h&&n.lines.steps,C=!0,N=v?1:0,G=v?0:1,q=0,K=0,ne,Q;!(q>=m.length);){if(ne=w.length,m[q]==null){for(Q=0;Q<g;++Q)w.push(m[q+Q]);q+=g}else if(K>=x.length){if(!h)for(Q=0;Q<g;++Q)w.push(m[q+Q]);q+=g}else if(x[K]==null){for(Q=0;Q<g;++Q)w.push(null);C=!0,K+=y}else{if(k=m[q+N],S=m[q+G],E=x[K+N],O=x[K+G],a=0,k==E){for(Q=0;Q<g;++Q)w.push(m[q+Q]);w[ne+G]+=O,a=O,q+=g,K+=y}else if(k>E){if(h&&q>0&&m[q-g]!=null){for(P=S+(m[q-g+G]-S)*(E-k)/(m[q-g+N]-k),w.push(E),w.push(P+O),Q=2;Q<g;++Q)w.push(m[q+Q]);a=O}K+=y}else{if(C&&h){q+=g;continue}for(Q=0;Q<g;++Q)w.push(m[q+Q]);h&&K>0&&x[K-y]!=null&&(a=O+(x[K-y+G]-O)*(k-E)/(x[K-y+N]-E)),w[ne+G]+=a,q+=g}C=!1,ne!=w.length&&d&&(w[ne+2]+=a)}if(_&&ne!=w.length&&ne>0&&w[ne]!=null&&w[ne]!=w[ne-g]&&w[ne+1]!=w[ne-g+1]){for(Q=0;Q<g;++Q)w[ne+g+Q]=w[ne+Q];w[ne+1]=w[ne-g+1]}}u.points=w}}}s.hooks.processDatapoints.push(o)}e.plot.plugins.push({init:r,options:t,name:"stack",version:"1.2"})})(jQuery)}),Ab={};K4(Ab,{default:()=>Rf});Z4=_b(kb());X4(Ab,_b(kb()));wb=Z4,{default:xb}=wb,J4=nn(wb,["default"]),Rf=xb!==void 0?xb:J4});var Sb={};Ln(Sb,{default:()=>Rf});var Cb=Zt(()=>{jf();jf()});var zl,Q4,Bf,e6,t6,i6,r6,n6,o6,a6,Nf,s6,Pb,$b,Ob,l6,Eb,Tb,c6,Hf,Ff=Zt(()=>{Bc();zl=e=>{let t=s=>typeof s.default<"u"?s.default:s,r=s=>Object.assign({},s);switch(e){case"jquery":return t(jp);default:throw new Error('module "'+e+'" not found')}},Q4=Object.create,Bf=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,t6=Object.getOwnPropertyNames,i6=Object.getPrototypeOf,r6=Object.prototype.hasOwnProperty,n6=(e=>typeof zl<"u"?zl:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof zl<"u"?zl:t)[r]}):e)(function(e){if(typeof zl<"u")return zl.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),o6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),a6=(e,t)=>{for(var r in t)Bf(e,r,{get:t[r],enumerable:!0})},Nf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of t6(t))!r6.call(e,l)&&l!==r&&Bf(e,l,{get:()=>t[l],enumerable:!(s=e6(t,l))||s.enumerable});return e},s6=(e,t,r)=>(Nf(e,t,"default"),r&&Nf(r,t,"default")),Pb=(e,t,r)=>(r=e!=null?Q4(i6(e)):{},Nf(t||!e||!e.__esModule?Bf(r,"default",{value:e,enumerable:!0}):r,e)),$b=o6((e,t)=>{(function(r){typeof define=="function"&&define.amd?define(["jquery"],r):typeof t=="object"&&typeof t.exports=="object"?t.exports=r(n6("jquery")):r(jQuery)})(function(r){return function(s){"use strict";var l=s.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(o,c){if(!o||!o.tHead||o.tBodies.length===0||o.hasInitialized===!0){l.debug(c,"core")&&(o.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",o));return}var n="",u=s(o),p=s.metadata;o.hasInitialized=!1,o.isProcessing=!0,o.config=c,s.data(o,"tablesorter",c),l.debug(c,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),s.data(o,"startoveralltimer",new Date)),c.supportsDataObject=function(g){return g[0]=parseInt(g[0],10),g[0]>1||g[0]===1&&parseInt(g[1],10)>=4}(s.fn.jquery.split(".")),c.emptyTo=c.emptyTo.toLowerCase(),c.stringTo=c.stringTo.toLowerCase(),c.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(u.attr("class"))||(n=c.theme!==""?" tablesorter-"+c.theme:""),c.namespace?c.namespace="."+c.namespace.replace(l.regex.nonWord,""):c.namespace=".tablesorter"+Math.random().toString(16).slice(2),c.table=o,c.$table=u.addClass(l.css.table+" "+c.tableClass+n+" "+c.namespace.slice(1)).attr("role","grid"),c.$headers=u.find(c.selectorHeaders),c.$table.children().children("tr").attr("role","row"),c.$tbodies=u.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),c.$table.children("caption").length&&(n=c.$table.children("caption")[0],n.id||(n.id=c.namespace.slice(1)+"caption"),c.$table.attr("aria-labelledby",n.id)),c.widgetInit={},c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic",l.buildHeaders(c),l.fixColumnWidth(o),l.addWidgetFromClass(o),l.applyWidgetOptions(o),l.setupParsers(c),c.totalRows=0,c.debug&&l.validateOptions(c),c.delayInit||l.buildCache(c),l.bindEvents(o,c.$headers,!0),l.bindMethods(c),c.supportsDataObject&&typeof u.data().sortlist<"u"?c.sortList=u.data().sortlist:p&&u.metadata()&&u.metadata().sortlist&&(c.sortList=u.metadata().sortlist),l.applyWidget(o,!0),c.sortList.length>0?(c.last.sortList=c.sortList,l.sortOn(c,c.sortList,{},!c.initWidgets)):(l.setHeadersCss(c),c.initWidgets&&l.applyWidget(o,!1)),c.showProcessing&&u.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(g){clearTimeout(c.timerProcessing),l.isProcessing(o),g.type==="sortBegin"&&(c.timerProcessing=setTimeout(function(){l.isProcessing(o,!0)},500))}),o.hasInitialized=!0,o.isProcessing=!1,l.debug(c,"core")&&(console.log("Overall initialization time:"+l.benchmark(s.data(o,"startoveralltimer"))),l.debug(c,"core")&&console.groupEnd&&console.groupEnd()),u.triggerHandler("tablesorter-initialized",o),typeof c.initialized=="function"&&c.initialized(o)},bindMethods:function(o){var c=o.$table,n=o.namespace,u="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n+" ");c.unbind(u.replace(l.regex.spaces," ")).bind("sortReset"+n,function(p,g){p.stopPropagation(),l.sortReset(this.config,function(m){m.isApplyingWidgets?setTimeout(function(){l.applyWidget(m,"",g)},100):l.applyWidget(m,"",g)})}).bind("updateAll"+n,function(p,g,m){p.stopPropagation(),l.updateAll(this.config,g,m)}).bind("update"+n+" updateRows"+n,function(p,g,m){p.stopPropagation(),l.update(this.config,g,m)}).bind("updateHeaders"+n,function(p,g){p.stopPropagation(),l.updateHeaders(this.config,g)}).bind("updateCell"+n,function(p,g,m,y){p.stopPropagation(),l.updateCell(this.config,g,m,y)}).bind("addRows"+n,function(p,g,m,y){p.stopPropagation(),l.addRows(this.config,g,m,y)}).bind("updateComplete"+n,function(){this.isUpdating=!1}).bind("sorton"+n,function(p,g,m,y){p.stopPropagation(),l.sortOn(this.config,g,m,y)}).bind("appendCache"+n,function(p,g,m){p.stopPropagation(),l.appendCache(this.config,m),s.isFunction(g)&&g(this)}).bind("updateCache"+n,function(p,g,m){p.stopPropagation(),l.updateCache(this.config,g,m)}).bind("applyWidgetId"+n,function(p,g){p.stopPropagation(),l.applyWidgetId(this,g)}).bind("applyWidgets"+n,function(p,g){p.stopPropagation(),l.applyWidget(this,!1,g)}).bind("refreshWidgets"+n,function(p,g,m){p.stopPropagation(),l.refreshWidgets(this,g,m)}).bind("removeWidget"+n,function(p,g,m){p.stopPropagation(),l.removeWidget(this,g,m)}).bind("destroy"+n,function(p,g,m){p.stopPropagation(),l.destroy(this,g,m)}).bind("resetToLoadState"+n,function(p){p.stopPropagation(),l.removeWidget(this,!0,!1);var g=s.extend(!0,{},o.originalSettings);o=s.extend(!0,{},l.defaults,g),o.originalSettings=g,this.hasInitialized=!1,l.setup(this,o)})},bindEvents:function(o,c,n){o=s(o)[0];var u,p=o.config,g=p.namespace,m=null;n!==!0&&(c.addClass(g.slice(1)+"_extra_headers"),u=l.getClosest(c,"table"),u.length&&u[0].nodeName==="TABLE"&&u[0]!==o&&s(u[0]).addClass(g.slice(1)+"_extra_table")),u=(p.pointerDown+" "+p.pointerUp+" "+p.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(g+" "),c.find(p.selectorSort).add(c.filter(p.selectorSort)).unbind(u).bind(u,function(y,x){var w,k,S,P=s(y.target),E=" "+y.type+" ";if(!((y.which||y.button)!==1&&!E.match(" "+p.pointerClick+" | sort | keyup ")||E===" keyup "&&y.which!==l.keyCodes.enter||E.match(" "+p.pointerClick+" ")&&typeof y.which<"u")&&!(E.match(" "+p.pointerUp+" ")&&m!==y.target&&x!==!0)){if(E.match(" "+p.pointerDown+" ")){m=y.target,S=P.jquery.split("."),S[0]==="1"&&S[1]<4&&y.preventDefault();return}if(m=null,w=l.getClosest(s(this),"."+l.css.header),l.regex.formElements.test(y.target.nodeName)||P.hasClass(p.cssNoSort)||P.parents("."+p.cssNoSort).length>0||w.hasClass("sorter-false")||P.parents("button").length>0)return!p.cancelSelection;p.delayInit&&l.isEmptyObject(p.cache)&&l.buildCache(p),p.last.clickedIndex=w.attr("data-column")||w.index(),k=p.$headerIndexed[p.last.clickedIndex][0],k&&!k.sortDisabled&&l.initSort(p,k,y)}}),p.cancelSelection&&c.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(o){var c,n,u,p;for(o.headerList=[],o.headerContent=[],o.sortVars=[],l.debug(o,"core")&&(u=new Date),o.columns=l.computeColumnIndex(o.$table.children("thead, tfoot").children("tr")),n=o.cssIcon?'<i class="'+(o.cssIcon===l.css.icon?l.css.icon:o.cssIcon+" "+l.css.icon)+'"></i>':"",o.$headers=s(s.map(o.$table.find(o.selectorHeaders),function(g,m){var y,x,w,k,S,P=s(g);if(!l.getClosest(P,"tr").hasClass(o.cssIgnoreRow))return/(th|td)/i.test(g.nodeName)||(S=l.getClosest(P,"th, td"),P.attr("data-column",S.attr("data-column"))),y=l.getColumnData(o.table,o.headers,m,!0),o.headerContent[m]=P.html(),o.headerTemplate!==""&&!P.find("."+l.css.headerIn).length&&(k=o.headerTemplate.replace(l.regex.templateContent,P.html()).replace(l.regex.templateIcon,P.find("."+l.css.icon).length?"":n),o.onRenderTemplate&&(x=o.onRenderTemplate.apply(P,[m,k]),x&&typeof x=="string"&&(k=x)),P.html('<div class="'+l.css.headerIn+'">'+k+"</div>")),o.onRenderHeader&&o.onRenderHeader.apply(P,[m,o,o.$table]),w=parseInt(P.attr("data-column"),10),g.column=w,S=l.getOrder(l.getData(P,y,"sortInitialOrder")||o.sortInitialOrder),o.sortVars[w]={count:-1,order:S?o.sortReset?[1,0,2]:[1,0]:o.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},S=l.getData(P,y,"lockedOrder")||!1,typeof S<"u"&&S!==!1&&(o.sortVars[w].lockedOrder=!0,o.sortVars[w].order=l.getOrder(S)?[1,1]:[0,0]),o.headerList[m]=g,P.addClass(l.css.header+" "+o.cssHeader),l.getClosest(P,"tr").addClass(l.css.headerRow+" "+o.cssHeaderRow).attr("role","row"),o.tabIndex&&P.attr("tabindex",0),g})),o.$headerIndexed=[],p=0;p<o.columns;p++)l.isEmptyObject(o.sortVars[p])&&(o.sortVars[p]={}),c=o.$headers.filter('[data-column="'+p+'"]'),o.$headerIndexed[p]=c.length?c.not(".sorter-false").length?c.not(".sorter-false").filter(":last"):c.filter(":last"):s();o.$table.find(o.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(o),l.debug(o,"core")&&(console.log("Built headers:"+l.benchmark(u)),console.log(o.$headers))},addInstanceMethods:function(o){s.extend(l.instanceMethods,o)},setupParsers:function(o,c){var n,u,p,g,m,y,x,w,k,S,P,E,O,a,h=o.table,v=0,d=l.debug(o,"core"),_={};if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),O=typeof c>"u"?o.$tbodies:c,a=O.length,a===0)return d?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(d&&(E=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),u={extractors:[],parsers:[]};v<a;){if(n=O[v].rows,n.length)for(m=0,g=o.columns,y=0;y<g;y++){if(x=o.$headerIndexed[m],x&&x.length&&(w=l.getColumnData(h,o.headers,m),P=l.getParserById(l.getData(x,w,"extractor")),S=l.getParserById(l.getData(x,w,"sorter")),k=l.getData(x,w,"parser")==="false",o.empties[m]=(l.getData(x,w,"empty")||o.emptyTo||(o.emptyToBottom?"bottom":"top")).toLowerCase(),o.strings[m]=(l.getData(x,w,"string")||o.stringTo||"max").toLowerCase(),k&&(S=l.getParserById("no-parser")),P||(P=!1),S||(S=l.detectParserForColumn(o,n,-1,m)),d&&(_["("+m+") "+x.text()]={parser:S.id,extractor:P?P.id:"none",string:o.strings[m],empty:o.empties[m]}),u.parsers[m]=S,u.extractors[m]=P,p=x[0].colSpan-1,p>0))for(m+=p,g+=p;p+1>0;)u.parsers[m-p]=S,u.extractors[m-p]=P,p--;m++}v+=u.parsers.length?a:1}d&&(l.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+l.benchmark(E)),console.groupEnd&&console.groupEnd()),o.parsers=u.parsers,o.extractors=u.extractors},addParser:function(o){var c,n=l.parsers.length,u=!0;for(c=0;c<n;c++)l.parsers[c].id.toLowerCase()===o.id.toLowerCase()&&(u=!1);u&&(l.parsers[l.parsers.length]=o)},getParserById:function(o){if(o=="false")return!1;var c,n=l.parsers.length;for(c=0;c<n;c++)if(l.parsers[c].id.toLowerCase()===o.toString().toLowerCase())return l.parsers[c];return!1},detectParserForColumn:function(o,c,n,u){for(var p,g,m,y=l.parsers.length,x=!1,w="",k=l.debug(o,"core"),S=!0;w===""&&S;)n++,m=c[n],m&&n<50?m.className.indexOf(l.cssIgnoreRow)<0&&(x=c[n].cells[u],w=l.getElementText(o,x,u),g=s(x),k&&console.log("Checking if value was empty on row "+n+", column: "+u+': "'+w+'"')):S=!1;for(;--y>=0;)if(p=l.parsers[y],p&&p.id!=="text"&&p.is&&p.is(w,o.table,x,g))return p;return l.getParserById("text")},getElementText:function(o,c,n){if(!c)return"";var u,p=o.textExtraction||"",g=c.jquery?c:s(c);return typeof p=="string"?p==="basic"&&typeof(u=g.attr(o.textAttribute))<"u"?s.trim(u):s.trim(c.textContent||g.text()):typeof p=="function"?s.trim(p(g[0],o.table,n)):typeof(u=l.getColumnData(o.table,p,n))=="function"?s.trim(u(g[0],o.table,n)):s.trim(g[0].textContent||g.text())},getParsedText:function(o,c,n,u){typeof u>"u"&&(u=l.getElementText(o,c,n));var p=""+u,g=o.parsers[n],m=o.extractors[n];return g&&(m&&typeof m.format=="function"&&(u=m.format(u,o.table,c,n)),p=g.id==="no-parser"?"":g.format(""+u,o.table,c,n),o.ignoreCase&&typeof p=="string"&&(p=p.toLowerCase())),p},buildCache:function(o,c,n){var u,p,g,m,y,x,w,k,S,P,E,O,a,h,v,d,_,C,N,G,q,K,ne=o.table,Q=o.parsers,ee=l.debug(o,"core");if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),w=typeof n>"u"?o.$tbodies:n,o.cache={},o.totalRows=0,!Q)return ee?console.warn("Warning: *Empty table!* Not building a cache"):"";for(ee&&(O=new Date),o.showProcessing&&l.isProcessing(ne,!0),x=0;x<w.length;x++){for(d=[],u=o.cache[x]={normalized:[]},a=w[x]&&w[x].rows.length||0,m=0;m<a;++m)if(h={child:[],raw:[]},k=s(w[x].rows[m]),S=[],!k.hasClass(o.selectorRemove.slice(1))){if(k.hasClass(o.cssChildRow)&&m!==0){for(q=u.normalized.length-1,v=u.normalized[q][o.columns],v.$row=v.$row.add(k),k.prev().hasClass(o.cssChildRow)||k.prev().addClass(l.css.cssHasChild),P=k.children("th, td"),q=v.child.length,v.child[q]=[],C=0,G=o.columns,y=0;y<G;y++)E=P[y],E&&(v.child[q][y]=l.getParsedText(o,E,y),_=P[y].colSpan-1,_>0&&(C+=_,G+=_)),C++;continue}for(h.$row=k,h.order=m,C=0,G=o.columns,y=0;y<G;++y){if(E=k[0].cells[y],E&&C<o.columns&&(N=typeof Q[C]<"u",!N&&ee&&console.warn("No parser found for row: "+m+", column: "+y+'; cell containing: "'+s(E).text()+'"; does it have a header?'),p=l.getElementText(o,E,C),h.raw[C]=p,g=l.getParsedText(o,E,C,p),S[C]=g,N&&(Q[C].type||"").toLowerCase()==="numeric"&&(d[C]=Math.max(Math.abs(g)||0,d[C]||0)),_=E.colSpan-1,_>0)){for(K=0;K<=_;)g=o.duplicateSpan||K===0?g:typeof o.textExtraction!="string"&&l.getElementText(o,E,C+K)||"",h.raw[C+K]=g,S[C+K]=g,K++;C+=_,G+=_}C++}S[o.columns]=h,u.normalized[u.normalized.length]=S}u.colMax=d,o.totalRows+=u.normalized.length}if(o.showProcessing&&l.isProcessing(ne),ee){for(q=Math.min(5,o.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+o.totalRows+" rows (showing "+q+" rows in log) and "+o.columns+" columns"+l.benchmark(O)),p={},y=0;y<o.columns;y++)for(C=0;C<q;C++)p["row: "+C]||(p["row: "+C]={}),p["row: "+C][o.$headerIndexed[y].text()]=o.cache[0].normalized[C][y];console[console.table?"table":"log"](p),console.groupEnd&&console.groupEnd()}s.isFunction(c)&&c(ne)},getColumnText:function(o,c,n,u){o=s(o)[0];var p,g,m,y,x,w,k,S,P,E,O=typeof n=="function",a=c==="all",h={raw:[],parsed:[],$cell:[]},v=o.config;if(l.isEmptyObject(v))l.debug(v,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(x=v.$tbodies.length,p=0;p<x;p++)for(m=v.cache[p].normalized,w=m.length,g=0;g<w;g++)y=m[g],!(u&&!y[v.columns].$row.is(u))&&(E=!0,S=a?y.slice(0,v.columns):y[c],y=y[v.columns],k=a?y.raw:y.raw[c],P=a?y.$row.children():y.$row.children().eq(c),O&&(E=n({tbodyIndex:p,rowIndex:g,parsed:S,raw:k,$row:y.$row,$cell:P})),E!==!1&&(h.parsed[h.parsed.length]=S,h.raw[h.raw.length]=k,h.$cell[h.$cell.length]=P));return h}},setHeadersCss:function(o){var c,n,u=o.sortList,p=u.length,g=l.css.sortNone+" "+o.cssNone,m=[l.css.sortAsc+" "+o.cssAsc,l.css.sortDesc+" "+o.cssDesc],y=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],x=["ascending","descending"],w=function(P,E){P.removeClass(g).addClass(m[E]).attr("aria-sort",x[E]).find("."+l.css.icon).removeClass(y[2]).addClass(y[E])},k=o.$table.find("tfoot tr").children("td, th").add(s(o.namespace+"_extra_headers")).removeClass(m.join(" ")),S=o.$headers.add(s("thead "+o.namespace+"_extra_headers")).removeClass(m.join(" ")).addClass(g).attr("aria-sort","none").find("."+l.css.icon).removeClass(y.join(" ")).end();for(S.not(".sorter-false").find("."+l.css.icon).addClass(y[2]),o.cssIconDisabled&&S.filter(".sorter-false").find("."+l.css.icon).addClass(o.cssIconDisabled),c=0;c<p;c++)if(u[c][1]!==2){if(S=o.$headers.filter(function(P){for(var E=!0,O=o.$headers.eq(P),a=parseInt(O.attr("data-column"),10),h=a+l.getClosest(O,"th, td")[0].colSpan;a<h;a++)E=E?E||l.isValueInArray(a,o.sortList)>-1:!1;return E}),S=S.not(".sorter-false").filter('[data-column="'+u[c][0]+'"]'+(p===1?":last":"")),S.length)for(n=0;n<S.length;n++)S[n].sortDisabled||w(S.eq(n),u[c][1]);k.length&&w(k.filter('[data-column="'+u[c][0]+'"]'),u[c][1])}for(p=o.$headers.length,c=0;c<p;c++)l.setColumnAriaLabel(o,o.$headers.eq(c))},getClosest:function(o,c){return s.fn.closest?o.closest(c):o.is(c)?o:o.parents(c).filter(":first")},setColumnAriaLabel:function(o,c,n){if(c.length){var u=parseInt(c.attr("data-column"),10),p=o.sortVars[u],g=c.hasClass(l.css.sortAsc)?"sortAsc":c.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",m=s.trim(c.text())+": "+l.language[g];c.hasClass("sorter-false")||n===!1?m+=l.language.sortDisabled:(g=(p.count+1)%p.order.length,n=p.order[g],m+=l.language[n===0?"nextAsc":n===1?"nextDesc":"nextNone"]),c.attr("aria-label",m),p.sortedBy?c.attr("data-sortedBy",p.sortedBy):c.removeAttr("data-sortedBy")}},updateHeader:function(o){var c,n,u,p,g=o.table,m=o.$headers.length;for(c=0;c<m;c++)u=o.$headers.eq(c),p=l.getColumnData(g,o.headers,c,!0),n=l.getData(u,p,"sorter")==="false"||l.getData(u,p,"parser")==="false",l.setColumnSort(o,u,n)},setColumnSort:function(o,c,n){var u=o.table.id;c[0].sortDisabled=n,c[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),o.tabIndex&&(n?c.removeAttr("tabindex"):c.attr("tabindex","0")),u&&(n?c.removeAttr("aria-controls"):c.attr("aria-controls",u))},updateHeaderSortCount:function(o,c){var n,u,p,g,m,y,x,w,k=c||o.sortList,S=k.length;for(o.sortList=[],g=0;g<S;g++)if(x=k[g],n=parseInt(x[0],10),n<o.columns){switch(o.sortVars[n].order||(l.getOrder(o.sortInitialOrder)?w=o.sortReset?[1,0,2]:[1,0]:w=o.sortReset?[0,1,2]:[0,1],o.sortVars[n].order=w,o.sortVars[n].count=0),w=o.sortVars[n].order,u=(""+x[1]).match(/^(1|d|s|o|n)/),u=u?u[0]:"",u){case"1":case"d":u=1;break;case"s":u=m||0;break;case"o":y=w[(m||0)%w.length],u=y===0?1:y===1?0:2;break;case"n":u=w[++o.sortVars[n].count%w.length];break;default:u=0;break}m=g===0?u:m,p=[n,parseInt(u,10)||0],o.sortList[o.sortList.length]=p,u=s.inArray(p[1],w),o.sortVars[n].count=u>=0?u:p[1]%w.length}},updateAll:function(o,c,n){var u=o.table;u.isUpdating=!0,l.refreshWidgets(u,!0,!0),l.buildHeaders(o),l.bindEvents(u,o.$headers,!0),l.bindMethods(o),l.commonUpdate(o,c,n)},update:function(o,c,n){var u=o.table;u.isUpdating=!0,l.updateHeader(o),l.commonUpdate(o,c,n)},updateHeaders:function(o,c){o.table.isUpdating=!0,l.buildHeaders(o),l.bindEvents(o.table,o.$headers,!0),l.resortComplete(o,c)},updateCell:function(o,c,n,u){if(s(c).closest("tr").hasClass(o.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(o.cache)){l.updateHeader(o),l.commonUpdate(o,n,u);return}o.table.isUpdating=!0,o.$table.find(o.selectorRemove).remove();var p,g,m,y,x,w,k=o.$tbodies,S=s(c),P=k.index(l.getClosest(S,"tbody")),E=o.cache[P],O=l.getClosest(S,"tr");if(c=S[0],k.length&&P>=0){if(m=k.eq(P).find("tr").not("."+o.cssChildRow).index(O),x=E.normalized[m],w=O[0].cells.length,w!==o.columns)for(y=0,p=!1,g=0;g<w;g++)!p&&O[0].cells[g]!==c?y+=O[0].cells[g].colSpan:p=!0;else y=S.index();p=l.getElementText(o,c,y),x[o.columns].raw[y]=p,p=l.getParsedText(o,c,y,p),x[y]=p,(o.parsers[y].type||"").toLowerCase()==="numeric"&&(E.colMax[y]=Math.max(Math.abs(p)||0,E.colMax[y]||0)),p=n!=="undefined"?n:o.resort,p!==!1?l.checkResort(o,p,u):l.resortComplete(o,u)}else l.debug(o,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),o.table.isUpdating=!1},addRows:function(o,c,n,u){var p,g,m,y,x,w,k,S,P,E,O,a,h,v=typeof c=="string"&&o.$tbodies.length===1&&/<tr/.test(c||""),d=o.table;if(v)c=s(c),o.$tbodies.append(c);else if(!c||!(c instanceof s)||l.getClosest(c,"table")[0]!==o.table)return l.debug(o,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(d.isUpdating=!0,l.isEmptyObject(o.cache))l.updateHeader(o),l.commonUpdate(o,n,u);else{for(x=c.filter("tr").attr("role","row").length,m=o.$tbodies.index(c.parents("tbody").filter(":first")),o.parsers&&o.parsers.length||l.setupParsers(o),y=0;y<x;y++){for(P=0,k=c[y].cells.length,S=o.cache[m].normalized.length,O=[],E={child:[],raw:[],$row:c.eq(y),order:S},w=0;w<k;w++)a=c[y].cells[w],p=l.getElementText(o,a,P),E.raw[P]=p,g=l.getParsedText(o,a,P,p),O[P]=g,(o.parsers[P].type||"").toLowerCase()==="numeric"&&(o.cache[m].colMax[P]=Math.max(Math.abs(g)||0,o.cache[m].colMax[P]||0)),h=a.colSpan-1,h>0&&(P+=h),P++;O[o.columns]=E,o.cache[m].normalized[S]=O}l.checkResort(o,n,u)}},updateCache:function(o,c,n){o.parsers&&o.parsers.length||l.setupParsers(o,n),l.buildCache(o,c,n)},appendCache:function(o,c){var n,u,p,g,m,y,x,w=o.table,k=o.$tbodies,S=[],P=o.cache;if(l.isEmptyObject(P))return o.appender?o.appender(w,S):w.isUpdating?o.$table.triggerHandler("updateComplete",w):"";for(l.debug(o,"core")&&(x=new Date),y=0;y<k.length;y++)if(p=k.eq(y),p.length){for(g=l.processTbody(w,p,!0),n=P[y].normalized,u=n.length,m=0;m<u;m++)S[S.length]=n[m][o.columns].$row,(!o.appender||o.pager&&!o.pager.removeRows&&!o.pager.ajax)&&g.append(n[m][o.columns].$row);l.processTbody(w,g,!1)}o.appender&&o.appender(w,S),l.debug(o,"core")&&console.log("Rebuilt table"+l.benchmark(x)),!c&&!o.appender&&l.applyWidget(w),w.isUpdating&&o.$table.triggerHandler("updateComplete",w)},commonUpdate:function(o,c,n){o.$table.find(o.selectorRemove).remove(),l.setupParsers(o),l.buildCache(o),l.checkResort(o,c,n)},initSort:function(o,c,n){if(o.table.isUpdating)return setTimeout(function(){l.initSort(o,c,n)},50);var u,p,g,m,y,x,w,k=!n[o.sortMultiSortKey],S=o.table,P=o.$headers.length,E=l.getClosest(s(c),"th, td"),O=parseInt(E.attr("data-column"),10),a=n.type==="mouseup"?"user":n.type,h=o.sortVars[O].order;if(E=E[0],o.$table.triggerHandler("sortStart",S),x=(o.sortVars[O].count+1)%h.length,o.sortVars[O].count=n[o.sortResetKey]?2:x,o.sortRestart)for(g=0;g<P;g++)w=o.$headers.eq(g),x=parseInt(w.attr("data-column"),10),O!==x&&(k||w.hasClass(l.css.sortNone))&&(o.sortVars[x].count=-1);if(k){if(s.each(o.sortVars,function(v){o.sortVars[v].sortedBy=""}),o.sortList=[],o.last.sortList=[],o.sortForce!==null)for(u=o.sortForce,p=0;p<u.length;p++)u[p][0]!==O&&(o.sortList[o.sortList.length]=u[p],o.sortVars[u[p][0]].sortedBy="sortForce");if(m=h[o.sortVars[O].count],m<2&&(o.sortList[o.sortList.length]=[O,m],o.sortVars[O].sortedBy=a,E.colSpan>1))for(p=1;p<E.colSpan;p++)o.sortList[o.sortList.length]=[O+p,m],o.sortVars[O+p].count=s.inArray(m,h),o.sortVars[O+p].sortedBy=a}else if(o.sortList=s.extend([],o.last.sortList),l.isValueInArray(O,o.sortList)>=0)for(o.sortVars[O].sortedBy=a,p=0;p<o.sortList.length;p++)x=o.sortList[p],x[0]===O&&(x[1]=h[o.sortVars[O].count],x[1]===2&&(o.sortList.splice(p,1),o.sortVars[O].count=-1));else if(m=h[o.sortVars[O].count],o.sortVars[O].sortedBy=a,m<2&&(o.sortList[o.sortList.length]=[O,m],E.colSpan>1))for(p=1;p<E.colSpan;p++)o.sortList[o.sortList.length]=[O+p,m],o.sortVars[O+p].count=s.inArray(m,h),o.sortVars[O+p].sortedBy=a;if(o.last.sortList=s.extend([],o.sortList),o.sortList.length&&o.sortAppend&&(u=s.isArray(o.sortAppend)?o.sortAppend:o.sortAppend[o.sortList[0][0]],!l.isEmptyObject(u))){for(p=0;p<u.length;p++)if(u[p][0]!==O&&l.isValueInArray(u[p][0],o.sortList)<0){if(m=u[p][1],y=(""+m).match(/^(a|d|s|o|n)/),y)switch(x=o.sortList[0][1],y[0]){case"d":m=1;break;case"s":m=x;break;case"o":m=x===0?1:0;break;case"n":m=(x+1)%h.length;break;default:m=0;break}o.sortList[o.sortList.length]=[u[p][0],m],o.sortVars[u[p][0]].sortedBy="sortAppend"}}o.$table.triggerHandler("sortBegin",S),setTimeout(function(){l.setHeadersCss(o),l.multisort(o),l.appendCache(o),o.$table.triggerHandler("sortBeforeEnd",S),o.$table.triggerHandler("sortEnd",S)},1)},multisort:function(o){var c,n,u,p,g,m=o.table,y=[],x=0,w=o.textSorter||"",k=o.sortList,S=k.length,P=o.$tbodies.length;if(!(o.serverSideSorting||l.isEmptyObject(o.cache))){if(l.debug(o,"core")&&(n=new Date),typeof w=="object")for(u=o.columns;u--;)g=l.getColumnData(m,w,u),typeof g=="function"&&(y[u]=g);for(c=0;c<P;c++)u=o.cache[c].colMax,p=o.cache[c].normalized,p.sort(function(E,O){var a,h,v,d,_,C,N;for(a=0;a<S;a++){if(v=k[a][0],d=k[a][1],x=d===0,o.sortStable&&E[v]===O[v]&&S===1)return E[o.columns].order-O[o.columns].order;if(h=/n/i.test(l.getSortType(o.parsers,v)),h&&o.strings[v]?(typeof l.string[o.strings[v]]=="boolean"?h=(x?1:-1)*(l.string[o.strings[v]]?-1:1):h=o.strings[v]&&l.string[o.strings[v]]||0,_=o.numberSorter?o.numberSorter(E[v],O[v],x,u[v],m):l["sortNumeric"+(x?"Asc":"Desc")](E[v],O[v],h,u[v],v,o)):(C=x?E:O,N=x?O:E,typeof w=="function"?_=w(C[v],N[v],x,v,m):typeof y[v]=="function"?_=y[v](C[v],N[v],x,v,m):_=l["sortNatural"+(x?"Asc":"Desc")](E[v]||"",O[v]||"",v,o)),_)return _}return E[o.columns].order-O[o.columns].order});l.debug(o,"core")&&console.log("Applying sort "+k.toString()+l.benchmark(n))}},resortComplete:function(o,c){o.table.isUpdating&&o.$table.triggerHandler("updateComplete",o.table),s.isFunction(c)&&c(o.table)},checkResort:function(o,c,n){var u=s.isArray(c)?c:o.sortList,p=typeof c>"u"?o.resort:c;p!==!1&&!o.serverSideSorting&&!o.table.isProcessing?u.length?l.sortOn(o,u,function(){l.resortComplete(o,n)},!0):l.sortReset(o,function(){l.resortComplete(o,n),l.applyWidget(o.table,!1)}):(l.resortComplete(o,n),l.applyWidget(o.table,!1))},sortOn:function(o,c,n,u){var p,g=o.table;for(o.$table.triggerHandler("sortStart",g),p=0;p<o.columns;p++)o.sortVars[p].sortedBy=l.isValueInArray(p,c)>-1?"sorton":"";l.updateHeaderSortCount(o,c),l.setHeadersCss(o),o.delayInit&&l.isEmptyObject(o.cache)&&l.buildCache(o),o.$table.triggerHandler("sortBegin",g),l.multisort(o),l.appendCache(o,u),o.$table.triggerHandler("sortBeforeEnd",g),o.$table.triggerHandler("sortEnd",g),l.applyWidget(g),s.isFunction(n)&&n(g)},sortReset:function(o,c){o.sortList=[];var n;for(n=0;n<o.columns;n++)o.sortVars[n].count=-1,o.sortVars[n].sortedBy="";l.setHeadersCss(o),l.multisort(o),l.appendCache(o),s.isFunction(c)&&c(o.table)},getSortType:function(o,c){return o&&o[c]&&o[c].type||""},getOrder:function(o){return/^d/i.test(o)||o===1},sortNatural:function(o,c){if(o===c)return 0;o=(o||"").toString(),c=(c||"").toString();var n,u,p,g,m,y,x=l.regex;if(x.hex.test(c)){if(n=parseInt(o.match(x.hex),16),u=parseInt(c.match(x.hex),16),n<u)return-1;if(n>u)return 1}for(n=o.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),u=c.replace(x.chunk,"\\0$1\\0").replace(x.chunks,"").split("\\0"),y=Math.max(n.length,u.length),m=0;m<y;m++){if(p=isNaN(n[m])?n[m]||0:parseFloat(n[m])||0,g=isNaN(u[m])?u[m]||0:parseFloat(u[m])||0,isNaN(p)!==isNaN(g))return isNaN(p)?1:-1;if(typeof p!=typeof g&&(p+="",g+=""),p<g)return-1;if(p>g)return 1}return 0},sortNaturalAsc:function(o,c,n,u){if(o===c)return 0;var p=l.string[u.empties[n]||u.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:-p||-1:c===""&&p!==0?typeof p=="boolean"?p?1:-1:p||1:l.sortNatural(o,c)},sortNaturalDesc:function(o,c,n,u){if(o===c)return 0;var p=l.string[u.empties[n]||u.emptyTo];return o===""&&p!==0?typeof p=="boolean"?p?-1:1:p||1:c===""&&p!==0?typeof p=="boolean"?p?1:-1:-p||-1:l.sortNatural(c,o)},sortText:function(o,c){return o>c?1:o<c?-1:0},getTextValue:function(o,c,n){if(n){var u,p=o?o.length:0,g=n+c;for(u=0;u<p;u++)g+=o.charCodeAt(u);return c*g}return 0},sortNumericAsc:function(o,c,n,u,p,g){if(o===c)return 0;var m=l.string[g.empties[p]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:-m||-1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:m||1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),o-c)},sortNumericDesc:function(o,c,n,u,p,g){if(o===c)return 0;var m=l.string[g.empties[p]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:m||1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:-m||-1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),c-o)},sortNumeric:function(o,c){return o-c},addWidget:function(o){o.id&&!l.isEmptyObject(l.getWidgetById(o.id))&&console.warn('"'+o.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=o},hasWidget:function(o,c){return o=s(o),o.length&&o[0].config&&o[0].config.widgetInit[c]||!1},getWidgetById:function(o){var c,n,u=l.widgets.length;for(c=0;c<u;c++)if(n=l.widgets[c],n&&n.id&&n.id.toLowerCase()===o.toLowerCase())return n},applyWidgetOptions:function(o){var c,n,u,p=o.config,g=p.widgets.length;if(g)for(c=0;c<g;c++)n=l.getWidgetById(p.widgets[c]),n&&n.options&&(u=s.extend(!0,{},n.options),p.widgetOptions=s.extend(!0,u,p.widgetOptions),s.extend(!0,l.defaults.widgetOptions,n.options))},addWidgetFromClass:function(o){var c,n,u=o.config,p="^"+u.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",g=new RegExp(p,"g"),m=(o.className||"").split(l.regex.spaces);if(m.length)for(c=m.length,n=0;n<c;n++)m[n].match(g)&&(u.widgets[u.widgets.length]=m[n].replace(g,"$1"))},applyWidgetId:function(o,c,n){o=s(o)[0];var u,p,g,m=o.config,y=m.widgetOptions,x=l.debug(m,"core"),w=l.getWidgetById(c);w&&(g=w.id,u=!1,s.inArray(g,m.widgets)<0&&(m.widgets[m.widgets.length]=g),x&&(p=new Date),(n||!m.widgetInit[g])&&(m.widgetInit[g]=!0,o.hasInitialized&&l.applyWidgetOptions(o),typeof w.init=="function"&&(u=!0,x&&console[console.group?"group":"log"]("Initializing "+g+" widget"),w.init(o,w,m,y))),!n&&typeof w.format=="function"&&(u=!0,x&&console[console.group?"group":"log"]("Updating "+g+" widget"),w.format(o,m,y,!1)),x&&u&&(console.log("Completed "+(n?"initializing ":"applying ")+g+" widget"+l.benchmark(p)),console.groupEnd&&console.groupEnd()))},applyWidget:function(o,c,n){o=s(o)[0];var u,p,g,m,y,x=o.config,w=l.debug(x,"core"),k=[];if(!(c!==!1&&o.hasInitialized&&(o.isApplyingWidgets||o.isUpdating))){if(w&&(y=new Date),l.addWidgetFromClass(o),clearTimeout(x.timerReady),x.widgets.length){for(o.isApplyingWidgets=!0,x.widgets=s.grep(x.widgets,function(S,P){return s.inArray(S,x.widgets)===P}),g=x.widgets||[],p=g.length,u=0;u<p;u++)m=l.getWidgetById(g[u]),m&&m.id?(m.priority||(m.priority=10),k[u]=m):w&&console.warn('"'+g[u]+'" was enabled, but the widget code has not been loaded!');for(k.sort(function(S,P){return S.priority<P.priority?-1:S.priority===P.priority?0:1}),p=k.length,w&&console[console.group?"group":"log"]("Start "+(c?"initializing":"applying")+" widgets"),u=0;u<p;u++)m=k[u],m&&m.id&&l.applyWidgetId(o,m.id,c);w&&console.groupEnd&&console.groupEnd()}x.timerReady=setTimeout(function(){o.isApplyingWidgets=!1,s.data(o,"lastWidgetApplication",new Date),x.$table.triggerHandler("tablesorter-ready"),!c&&typeof n=="function"&&n(o),w&&(m=x.widgets.length,console.log("Completed "+(c===!0?"initializing ":"applying ")+m+" widget"+(m!==1?"s":"")+l.benchmark(y)))},10)}},removeWidget:function(o,c,n){o=s(o)[0];var u,p,g,m,y=o.config;if(c===!0)for(c=[],m=l.widgets.length,g=0;g<m;g++)p=l.widgets[g],p&&p.id&&(c[c.length]=p.id);else c=(s.isArray(c)?c.join(","):c||"").toLowerCase().split(/[\s,]+/);for(m=c.length,u=0;u<m;u++)p=l.getWidgetById(c[u]),g=s.inArray(c[u],y.widgets),g>=0&&n!==!0&&y.widgets.splice(g,1),p&&p.remove&&(l.debug(y,"core")&&console.log((n?"Refreshing":"Removing")+' "'+c[u]+'" widget'),p.remove(o,y,y.widgetOptions,n),y.widgetInit[c[u]]=!1);y.$table.triggerHandler("widgetRemoveEnd",o)},refreshWidgets:function(o,c,n){o=s(o)[0];var u,p,g=o.config,m=g.widgets,y=l.widgets,x=y.length,w=[],k=function(S){s(S).triggerHandler("refreshComplete")};for(u=0;u<x;u++)p=y[u],p&&p.id&&(c||s.inArray(p.id,m)<0)&&(w[w.length]=p.id);l.removeWidget(o,w.join(","),!0),n!==!0?(l.applyWidget(o,c||!1,k),c&&l.applyWidget(o,!1,k)):k(o)},benchmark:function(o){return" ("+(new Date().getTime()-o.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(o,c){return o&&(o.debug===!0||typeof o.debug=="string"&&o.debug.indexOf(c)>-1)},isEmptyObject:function(o){for(var c in o)return!1;return!0},isValueInArray:function(o,c){var n,u=c&&c.length||0;for(n=0;n<u;n++)if(c[n][0]===o)return n;return-1},formatFloat:function(o,c){if(typeof o!="string"||o==="")return o;var n,u=c&&c.config?c.config.usNumberFormat!==!1:typeof c<"u"?c:!0;return u?o=o.replace(l.regex.comma,""):o=o.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(o)&&(o=o.replace(l.regex.digitNegativeReplace,"-$1")),n=parseFloat(o),isNaN(n)?s.trim(o):n},isDigit:function(o){return isNaN(o)?l.regex.digitTest.test(o.toString().replace(l.regex.digitReplace,"")):o!==""},computeColumnIndex:function(o,c){var n,u,p,g,m,y,x,w,k,S,P=c&&c.columns||0,E=[],O=new Array(P);for(n=0;n<o.length;n++)for(y=o[n].cells,u=0;u<y.length;u++){for(m=y[u],x=n,w=m.rowSpan||1,k=m.colSpan||1,typeof E[x]>"u"&&(E[x]=[]),p=0;p<E[x].length+1;p++)if(typeof E[x][p]>"u"){S=p;break}for(P&&m.cellIndex===S||(m.setAttribute?m.setAttribute("data-column",S):s(m).attr("data-column",S)),p=x;p<x+w;p++)for(typeof E[p]>"u"&&(E[p]=[]),O=E[p],g=S;g<S+k;g++)O[g]="x"}return l.checkColumnCount(o,E,O.length),O.length},checkColumnCount:function(o,c,n){var u,p,g=!0,m=[];for(u=0;u<c.length;u++)if(c[u]&&(p=c[u].length,c[u].length!==n)){g=!1;break}g||(o.each(function(y,x){var w=x.parentElement.nodeName;m.indexOf(w)<0&&m.push(w)}),console.error("Invalid or incorrect number of columns in the "+m.join(" or ")+"; expected "+n+", but found "+p+" columns"))},fixColumnWidth:function(o){o=s(o)[0];var c,n,u,p,g,m=o.config,y=m.$table.children("colgroup");if(y.length&&y.hasClass(l.css.colgroup)&&y.remove(),m.widthFixed&&m.$table.children("colgroup").length===0){for(y=s('<colgroup class="'+l.css.colgroup+'">'),c=m.$table.width(),u=m.$tbodies.find("tr:first").children(":visible"),p=u.length,g=0;g<p;g++)n=parseInt(u.eq(g).width()/c*1e3,10)/10+"%",y.append(s("<col>").css("width",n));m.$table.prepend(y)}},getData:function(o,c,n){var u,p,g="",m=s(o);return m.length?(u=s.metadata?m.metadata():!1,p=" "+(m.attr("class")||""),typeof m.data(n)<"u"||typeof m.data(n.toLowerCase())<"u"?g+=m.data(n)||m.data(n.toLowerCase()):u&&typeof u[n]<"u"?g+=u[n]:c&&typeof c[n]<"u"?g+=c[n]:p!==" "&&p.match(" "+n+"-")&&(g=p.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),s.trim(g)):""},getColumnData:function(o,c,n,u,p){if(typeof c!="object"||c===null)return c;o=s(o)[0];var g,m,y=o.config,x=p||y.$headers,w=y.$headerIndexed&&y.$headerIndexed[n]||x.find('[data-column="'+n+'"]:last');if(typeof c[n]<"u")return u?c[n]:c[x.index(w)];for(m in c)if(typeof m=="string"&&(g=w.filter(m).add(w.find(m)),g.length))return c[m]},isProcessing:function(o,c,n){o=s(o);var u=o[0].config,p=n||o.find("."+l.css.header);c?(typeof n<"u"&&u.sortList.length>0&&(p=p.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(s(this).attr("data-column")),u.sortList)>=0})),o.add(p).addClass(l.css.processing+" "+u.cssProcessing)):o.add(p).removeClass(l.css.processing+" "+u.cssProcessing)},processTbody:function(o,c,n){if(o=s(o)[0],n)return o.isProcessing=!0,c.before('<colgroup class="tablesorter-savemyplace"/>'),s.fn.detach?c.detach():c.remove();var u=s(o).find("colgroup.tablesorter-savemyplace");c.insertAfter(u),u.remove(),o.isProcessing=!1},clearTableBody:function(o){s(o)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(o){var c,n="[",u=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(c in u)typeof c=="string"&&(n+=u[c],l.characterRegexArray[c]=new RegExp("["+u[c]+"]","g"));l.characterRegex=new RegExp(n+"]")}if(l.characterRegex.test(o))for(c in u)typeof c=="string"&&(o=o.replace(l.characterRegexArray[c],c));return o},validateOptions:function(o){var c,n,u,p,g="headers sortForce sortList sortAppend widgets".split(" "),m=o.originalSettings;if(m){l.debug(o,"core")&&(p=new Date);for(c in m)if(u=typeof l.defaults[c],u==="undefined")console.warn('Tablesorter Warning! "table.config.'+c+'" option not recognized');else if(u==="object")for(n in m[c])u=l.defaults[c]&&typeof l.defaults[c][n],s.inArray(c,g)<0&&u==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+c+"."+n+'" option not recognized');l.debug(o,"core")&&console.log("validate options time:"+l.benchmark(p))}},restoreHeaders:function(o){var c,n,u=s(o)[0].config,p=u.$table.find(u.selectorHeaders),g=p.length;for(c=0;c<g;c++)n=p.eq(c),n.find("."+l.css.headerIn).length&&n.html(u.headerContent[c])},destroy:function(o,c,n){if(o=s(o)[0],!!o.hasInitialized){l.removeWidget(o,!0,!1);var u,p=s(o),g=o.config,m=p.find("thead:first"),y=m.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+g.cssHeaderRow),x=p.find("tfoot:first > tr").children("th, td");c===!1&&s.inArray("uitheme",g.widgets)>=0&&(p.triggerHandler("applyWidgetId",["uitheme"]),p.triggerHandler("applyWidgetId",["zebra"])),m.find("tr").not(y).remove(),u="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(g.namespace+" "),p.removeData("tablesorter").unbind(u.replace(l.regex.spaces," ")),g.$headers.add(x).removeClass([l.css.header,g.cssHeader,g.cssAsc,g.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),y.find(g.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(g.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(o),p.toggleClass(l.css.table+" "+g.tableClass+" tablesorter-"+g.theme,c===!1),p.removeClass(g.namespace.slice(1)),o.hasInitialized=!1,delete o.config.cache,typeof n=="function"&&n(o),l.debug(g,"core")&&console.log("tablesorter has been removed")}}};s.fn.tablesorter=function(o){return this.each(function(){var c=this,n=s.extend(!0,{},l.defaults,o,l.instanceMethods);n.originalSettings=o,!c.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(c,n):l.setup(c,n)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var o=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:o}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(o,c){var n=c.config;return o&&(o=s.trim(n.ignoreCase?o.toLocaleLowerCase():o),o=n.sortLocaleCompare?l.replaceAccents(o):o),o},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(o){return l.isDigit(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&s.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(o){return o=(o||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&s.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(o){return l.regex.urlProtocolTest.test(o)},format:function(o){return o&&s.trim(o.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(o){return l.regex.isoDate.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dash,"/"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(o){return l.regex.percentTest.test(o)&&o.length<15},format:function(o,c){return o&&l.formatFloat(o.replace(l.regex.percent,""),c)},type:"numeric"}),l.addParser({id:"image",is:function(o,c,n,u){return u.find("img").length>0},format:function(o,c,n){return s(n).find("img").attr(c.config.imgAttr||"alt")||o},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(o){return l.regex.usLongDateTest1.test(o)||l.regex.usLongDateTest2.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dateReplace,"$1 $2"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(o,c){o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),c==="mmddyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$1/$2"):c==="ddmmyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$2/$1"):c==="yyyymmdd"&&(o=o.replace(l.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(o);return n instanceof Date&&isFinite(n)?n.getTime():""},l.addParser({id:"shortDate",is:function(o){return o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(o)},format:function(o,c,n,u){if(o){var p=c.config,g=p.$headerIndexed[u],m=g.length&&g.data("dateFormat")||l.getData(g,l.getColumnData(c,p.headers,u),"dateFormat")||p.dateFormat;return g.length&&g.data("dateFormat",m),l.convertFormat(o,m)||o}return o},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(o){return l.regex.timeTest.test(o)},format:function(o){var c,n=(o||"").match(l.regex.timeMatch),u=new Date(o),p=o&&(n!==null?n[0]:"00:00 AM"),g=p&&new Date("2000/01/01 "+p.replace(l.regex.dateReplace,"$1 $2"));return g instanceof Date&&isFinite(g)?(c=u instanceof Date&&isFinite(u)?u.getTime():0,c?parseFloat(g.getTime()+"."+u.getTime()):g.getTime()):o},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(o,c,n){var u=c.config,p=u.parserMetadataName?u.parserMetadataName:"sortValue";return s(n).metadata()[p]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(o,c,n){var u,p,g,m,y,x,w,k=new RegExp(c.cssChildRow,"i"),S=c.$tbodies.add(s(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(y=0;y<S.length;y++)for(g=0,u=S.eq(y).children("tr:visible").not(c.selectorRemove),w=u.length,x=0;x<w;x++)p=u.eq(x),k.test(p[0].className)||g++,m=g%2===0,p.removeClass(n.zebra[m?1:0]).addClass(n.zebra[m?0:1])},remove:function(o,c,n,u){if(!u){var p,g,m=c.$tbodies,y=(n.zebra||["even","odd"]).join(" ");for(p=0;p<m.length;p++)g=l.processTbody(o,m.eq(p),!0),g.children().removeClass(y),l.processTbody(o,g,!1)}}})}(r),function(s,l,o){"use strict";var c=s.tablesorter||{};s.extend(!0,c.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),c.storage=function(n,u,p,g){n=s(n)[0];var m,y,x,w=!1,k={},S=n.config,P=S&&S.widgetOptions,E=c.debug(S,"storage"),O=(g&&g.storageType||P&&P.storage_storageType).toString().charAt(0).toLowerCase(),a=O?"":g&&g.useSessionStorage||P&&P.storage_useSessionStorage,h=s(n),v=g&&g.id||h.attr(g&&g.group||P&&P.storage_group||"data-table-group")||P&&P.storage_tableId||n.id||s(".tablesorter").index(h),d=g&&g.url||h.attr(g&&g.page||P&&P.storage_page||"data-table-page")||P&&P.storage_fixedUrl||S&&S.fixedUrl||l.location.pathname;if(O!=="c"&&(O=O==="s"||a?"sessionStorage":"localStorage",O in l))try{l[O].setItem("_tmptest","temp"),w=!0,l[O].removeItem("_tmptest")}catch(_){console.warn(O+" is not supported in this browser")}if(E&&console.log("Storage >> Using",w?O:"cookies"),s.parseJSON&&(w?k=s.parseJSON(l[O][u]||"null")||{}:(y=o.cookie.split(/[;\s|=]/),m=s.inArray(u,y)+1,k=m!==0?s.parseJSON(y[m]||"null")||{}:{})),typeof p<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))k[d]||(k[d]={}),k[d][v]=p,w?l[O][u]=JSON.stringify(k):(x=new Date,x.setTime(x.getTime()+31536e6),o.cookie=u+"="+JSON.stringify(k).replace(/\"/g,'"')+"; expires="+x.toGMTString()+"; path=/");else return k&&k[d]?k[d][v]:""}}(r,window,document),function(s){"use strict";var l=s.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},s.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(o,c,n){var u,p,g,m,y,x,w,k,S,P,E,O,a,h=l.themes,v=c.$table.add(s(c.namespace+"_extra_table")),d=c.$headers.add(s(c.namespace+"_extra_headers")),_=c.theme||"jui",C=h[_]||{},N=s.trim([C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" ")),G=s.trim([C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" ")),q=l.debug(c,"uitheme");for(q&&(y=new Date),(!v.hasClass("tablesorter-"+_)||c.theme!==c.appliedTheme||!n.uitheme_applied)&&(n.uitheme_applied=!0,P=h[c.appliedTheme]||{},a=!s.isEmptyObject(P),E=a?[P.sortNone,P.sortDesc,P.sortAsc,P.active].join(" "):"",O=a?[P.iconSortNone,P.iconSortDesc,P.iconSortAsc].join(" "):"",a&&(n.zebra[0]=s.trim(" "+n.zebra[0].replace(" "+P.even,"")),n.zebra[1]=s.trim(" "+n.zebra[1].replace(" "+P.odd,"")),c.$tbodies.children().removeClass([P.even,P.odd].join(" "))),C.even&&(n.zebra[0]+=" "+C.even),C.odd&&(n.zebra[1]+=" "+C.odd),v.children("caption").removeClass(P.caption||"").addClass(C.caption),k=v.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(P.table||"")).addClass("tablesorter-"+_+" "+(C.table||"")).children("tfoot"),c.appliedTheme=c.theme,k.length&&k.children("tr").removeClass(P.footerRow||"").addClass(C.footerRow).children("th, td").removeClass(P.footerCells||"").addClass(C.footerCells),d.removeClass((a?[P.header,P.hover,E].join(" "):"")||"").addClass(C.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(K){s(this)[K.type==="mouseenter"?"addClass":"removeClass"](C.hover||"")}),d.each(function(){var K=s(this);K.find("."+l.css.wrapper).length||K.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),c.cssIcon&&d.find("."+l.css.icon).removeClass(a?[P.icons,O].join(" "):"").addClass(C.icons||""),l.hasWidget(c.table,"filter")&&(p=function(){v.children("thead").children("."+l.css.filterRow).removeClass(a&&P.filterRow||"").addClass(C.filterRow||"")},n.filter_initialized?p():v.one("filterInit",function(){p()}))),u=0;u<c.columns;u++)x=c.$headers.add(s(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+u+'"]'),w=l.css.icon?x.find("."+l.css.icon):s(),S=d.not(".sorter-false").filter('[data-column="'+u+'"]:last'),S.length&&(x.removeClass(N),w.removeClass(G),S[0].sortDisabled?w.removeClass(C.icons||""):(g=C.sortNone,m=C.iconSortNone,S.hasClass(l.css.sortAsc)?(g=[C.sortAsc,C.active].join(" "),m=C.iconSortAsc):S.hasClass(l.css.sortDesc)&&(g=[C.sortDesc,C.active].join(" "),m=C.iconSortDesc),x.addClass(g),w.addClass(m||"")));q&&console.log("uitheme >> Applied "+_+" theme"+l.benchmark(y))},remove:function(o,c,n,u){if(n.uitheme_applied){var p=c.$table,g=c.appliedTheme||"jui",m=l.themes[g]||l.themes.jui,y=p.children("thead").children(),x=m.sortNone+" "+m.sortDesc+" "+m.sortAsc,w=m.iconSortNone+" "+m.iconSortDesc+" "+m.iconSortAsc;p.removeClass("tablesorter-"+g+" "+m.table),n.uitheme_applied=!1,!u&&(p.find(l.css.header).removeClass(m.header),y.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(m.hover+" "+x+" "+m.active).filter("."+l.css.filterRow).removeClass(m.filterRow),y.find("."+l.css.icon).removeClass(m.icons+" "+w))}}})}(r),function(s){"use strict";var l=s.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(o,c,n){var u,p,g,m,y,x,w,k,S=c.$table,P=c.$tbodies,E=c.sortList,O=E.length,a=n&&n.columns||["primary","secondary","tertiary"],h=a.length-1;for(w=a.join(" "),p=0;p<P.length;p++)u=l.processTbody(o,P.eq(p),!0),g=u.children("tr"),g.each(function(){if(y=s(this),this.style.display!=="none"&&(x=y.children().removeClass(w),E&&E[0]&&(x.eq(E[0][0]).addClass(a[0]),O>1)))for(k=1;k<O;k++)x.eq(E[k][0]).addClass(a[k]||a[h])}),l.processTbody(o,u,!1);if(m=n.columns_thead!==!1?["thead tr"]:[],n.columns_tfoot!==!1&&m.push("tfoot tr"),m.length&&(g=S.find(m.join(",")).children().removeClass(w),O))for(k=0;k<O;k++)g.filter('[data-column="'+E[k][0]+'"]').addClass(a[k]||a[h])},remove:function(o,c,n){var u,p,g=c.$tbodies,m=(n.columns||["primary","secondary","tertiary"]).join(" ");for(c.$headers.removeClass(m),c.$table.children("tfoot").children("tr").children("th, td").removeClass(m),u=0;u<g.length;u++)p=l.processTbody(o,g.eq(u),!0),p.children("tr").each(function(){s(this).children().removeClass(m)}),l.processTbody(o,p,!1)}})}(r),function(s){"use strict";var l,o,c=s.tablesorter||{},n=c.css,u=c.keyCodes;s.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),s.extend(u,{backSpace:8,escape:27,space:32,left:37,down:40}),c.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(p,g,m){g.$table.hasClass("hasFilters")||l.init(p,g,m)},remove:function(p,g,m,y){var x,w,k=g.$table,S=g.$tbodies,P="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(g.namespace+"filter ");if(k.removeClass("hasFilters").unbind(P.replace(c.regex.spaces," ")).find("."+n.filterRow).remove(),m.filter_initialized=!1,!y){for(x=0;x<S.length;x++)w=c.processTbody(p,S.eq(x),!0),w.children().removeClass(m.filter_filteredRow).show(),c.processTbody(p,w,!1);m.filter_reset&&s(document).undelegate(m.filter_reset,"click"+g.namespace+"filter")}}}),l=c.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(p,g,m){if((o.orTest.test(g.iFilter)||o.orSplit.test(g.filter))&&!o.regex.test(g.filter)){var y,x,w,k,S=s.extend({},g),P=g.filter.split(o.orSplit),E=g.iFilter.split(o.orSplit),O=P.length;for(y=0;y<O;y++){S.nestedFilters=!0,S.filter=""+(l.parseFilter(p,P[y],g)||""),S.iFilter=""+(l.parseFilter(p,E[y],g)||""),w="("+(l.parseFilter(p,S.filter,g)||"")+")";try{if(k=new RegExp(g.isMatch?w:"^"+w+"$",p.widgetOptions.filter_ignoreCase?"i":""),x=k.test(S.exact)||l.processTypes(p,S,m),x)return x}catch(a){return null}}return x||!1}return null},and:function(p,g,m){if(o.andTest.test(g.filter)){var y,x,w,k,S,P=s.extend({},g),E=g.filter.split(o.andSplit),O=g.iFilter.split(o.andSplit),a=E.length;for(y=0;y<a;y++){P.nestedFilters=!0,P.filter=""+(l.parseFilter(p,E[y],g)||""),P.iFilter=""+(l.parseFilter(p,O[y],g)||""),k=("("+(l.parseFilter(p,P.filter,g)||"")+")").replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*");try{S=new RegExp(g.isMatch?k:"^"+k+"$",p.widgetOptions.filter_ignoreCase?"i":""),w=S.test(P.exact)||l.processTypes(p,P,m),y===0?x=w:x=x&&w}catch(h){return null}}return x||!1}return null},regex:function(p,g){if(o.regex.test(g.filter)){var m,y=g.filter_regexCache[g.index]||o.regex.exec(g.filter),x=y instanceof RegExp;try{x||(g.filter_regexCache[g.index]=y=new RegExp(y[1],y[2])),m=y.test(g.exact)}catch(w){m=!1}return m}return null},operators:function(p,g){if(o.operTest.test(g.iFilter)&&g.iExact!==""){var m,y,x,w=p.table,k=g.parsed[g.index],S=c.formatFloat(g.iFilter.replace(o.operators,""),w),P=p.parsers[g.index]||{},E=S;return(k||P.type==="numeric")&&(x=s.trim(""+g.iFilter.replace(o.operators,"")),y=l.parseFilter(p,x,g,!0),S=typeof y=="number"&&y!==""&&!isNaN(y)?y:S),(k||P.type==="numeric")&&!isNaN(S)&&typeof g.cache<"u"?m=g.cache:(x=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(x,w)),o.gtTest.test(g.iFilter)?y=o.gteTest.test(g.iFilter)?m>=S:m>S:o.ltTest.test(g.iFilter)&&(y=o.lteTest.test(g.iFilter)?m<=S:m<S),!y&&E===""&&(y=!0),y}return null},notMatch:function(p,g){if(o.notTest.test(g.iFilter)){var m,y=g.iFilter.replace("!",""),x=l.parseFilter(p,y,g)||"";return o.exact.test(x)?(x=x.replace(o.exact,""),x===""?!0:s.trim(x)!==g.iExact):(m=g.iExact.search(s.trim(x)),x===""?!0:g.anyMatch?m<0:!(p.widgetOptions.filter_startsWith?m===0:m>=0))}return null},exact:function(p,g){if(o.exact.test(g.iFilter)){var m=g.iFilter.replace(o.exact,""),y=l.parseFilter(p,m,g)||"";return g.anyMatch?s.inArray(y,g.rowArray)>=0:y==g.iExact}return null},range:function(p,g){if(o.toTest.test(g.iFilter)){var m,y,x,w,k=p.table,S=g.index,P=g.parsed[S],E=g.iFilter.split(o.toSplit);return y=E[0].replace(c.regex.nondigit,"")||"",x=c.formatFloat(l.parseFilter(p,y,g),k),y=E[1].replace(c.regex.nondigit,"")||"",w=c.formatFloat(l.parseFilter(p,y,g),k),(P||p.parsers[S].type==="numeric")&&(m=p.parsers[S].format(""+E[0],k,p.$headers.eq(S),S),x=m!==""&&!isNaN(m)?m:x,m=p.parsers[S].format(""+E[1],k,p.$headers.eq(S),S),w=m!==""&&!isNaN(m)?m:w),(P||p.parsers[S].type==="numeric")&&!isNaN(x)&&!isNaN(w)?m=g.cache:(y=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(y,k)),x>w&&(y=x,x=w,w=y),m>=x&&m<=w||x===""||w===""}return null},wild:function(p,g){if(o.wildOrTest.test(g.iFilter)){var m=""+(l.parseFilter(p,g.iFilter,g)||"");!o.wildTest.test(m)&&g.nestedFilters&&(m=g.isMatch?m:"^("+m+")$");try{return new RegExp(m.replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*"),p.widgetOptions.filter_ignoreCase?"i":"").test(g.exact)}catch(y){return null}}return null},fuzzy:function(p,g){if(o.fuzzyTest.test(g.iFilter)){var m,y=0,x=g.iExact.length,w=g.iFilter.slice(1),k=l.parseFilter(p,w,g)||"";for(m=0;m<x;m++)g.iExact[m]===k[y]&&(y+=1);return y===k.length}return null}},init:function(p){c.language=s.extend(!0,{},{to:"to",or:"or",and:"and"},c.language);var g,m,y,x,w,k,S,P,E=p.config,O=E.widgetOptions,a=function(h,v,d){return v=v.trim(),v===""?"":(h||"")+v+(d||"")};if(E.$table.addClass("hasFilters"),E.lastSearch=[],O.filter_searchTimer=null,O.filter_initTimer=null,O.filter_formatterCount=0,O.filter_formatterInit=[],O.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',O.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',k="\\{"+o.query+"\\}",s.extend(o,{child:new RegExp(E.cssChildRow),filtered:new RegExp(O.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+a("|",c.language.or)+a("|",c.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+a("|",c.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+a("|",c.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+a("",c.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+a("",c.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+a("|\\s+",c.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+a("|\\s+(?:",c.language.or,")\\s+")+")","gi"),iQuery:new RegExp(k,"i"),igQuery:new RegExp(k,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),k=E.$headers.filter(".filter-false, .parser-false").length,O.filter_columnFilters!==!1&&k!==E.$headers.length&&l.buildRow(p,E,O),y="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(E.namespace+"filter "),E.$table.bind(y,function(h,v){return k=O.filter_hideEmpty&&s.isEmptyObject(E.cache)&&!(E.delayInit&&h.type==="appendCache"),E.$table.find("."+n.filterRow).toggleClass(O.filter_filteredRow,k),/(search|filter)/.test(h.type)||(h.stopPropagation(),l.buildDefault(p,!0)),h.type==="filterReset"||h.type==="filterAndSortReset"?(E.$table.find("."+n.filter).add(O.filter_$externalFilters).val(""),h.type==="filterAndSortReset"?c.sortReset(this.config,function(){l.searching(p,[])}):l.searching(p,[])):h.type==="filterResetSaved"?c.storage(p,"tablesorter-filters",""):h.type==="filterEnd"?l.buildDefault(p,!0):(v=h.type==="search"?v:h.type==="updateComplete"?E.$table.data("lastSearch"):"",/(update|add)/.test(h.type)&&h.type!=="updateComplete"&&(E.lastCombinedFilter=null,E.lastSearch=[],setTimeout(function(){E.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(p,v,!0)),!1}),O.filter_reset&&(O.filter_reset instanceof s?O.filter_reset.click(function(){E.$table.triggerHandler("filterReset")}):s(O.filter_reset).length&&s(document).undelegate(O.filter_reset,"click"+E.namespace+"filter").delegate(O.filter_reset,"click"+E.namespace+"filter",function(){E.$table.triggerHandler("filterReset")})),O.filter_functions){for(w=0;w<E.columns;w++)if(S=c.getColumnData(p,O.filter_functions,w),S){if(x=E.$headerIndexed[w].removeClass("filter-select"),P=!(x.hasClass("filter-false")||x.hasClass("parser-false")),g="",S===!0&&P)l.buildSelect(p,w);else if(typeof S=="object"&&P){for(m in S)typeof m=="string"&&(g+=g===""?'<option value="">'+(x.data("placeholder")||x.attr("data-placeholder")||O.filter_placeholder.select||"")+"</option>":"",k=m,y=m,m.indexOf(O.filter_selectSourceSeparator)>=0&&(k=m.split(O.filter_selectSourceSeparator),y=k[1],k=k[0]),g+="<option "+(y===k?"":'data-function-name="'+m+'" ')+'value="'+k+'">'+y+"</option>");E.$table.find("thead").find("select."+n.filter+'[data-column="'+w+'"]').append(g),y=O.filter_selectSource,S=typeof y=="function"?!0:c.getColumnData(p,y,w),S&&l.buildSelect(E.table,w,"",!0,x.hasClass(O.filter_onlyAvail))}}}l.buildDefault(p,!0),l.bindSearch(p,E.$table.find("."+n.filter),!0),O.filter_external&&l.bindSearch(p,O.filter_external),O.filter_hideFilters&&l.hideFilters(E),E.showProcessing&&(y="filterStart filterEnd ".split(" ").join(E.namespace+"filter-sp "),E.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(h,v){x=v?E.$table.find("."+n.header).filter("[data-column]").filter(function(){return v[s(this).data("column")]!==""}):"",c.isProcessing(p,h.type==="filterStart",v?x:"")})),E.filteredRows=E.totalRows,y="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(E.namespace+"filter "),E.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(){l.completeInit(this)}),E.pager&&E.pager.initialized&&!O.filter_initialized?(E.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(E)},100)):O.filter_initialized||l.completeInit(p)},completeInit:function(p){var g=p.config,m=g.widgetOptions,y=l.setDefaults(p,g,m)||[];y.length&&(g.delayInit&&y.join("")===""||c.setFilters(p,y,!0)),g.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){m.filter_initialized||l.filterInitComplete(g)},100)},formatterUpdated:function(p,g){var m=p&&p.closest("table"),y=m.length&&m[0].config,x=y&&y.widgetOptions;x&&!x.filter_initialized&&(x.filter_formatterInit[g]=1)},filterInitComplete:function(p){var g,m,y=p.widgetOptions,x=0,w=function(){y.filter_initialized=!0,p.lastSearch=p.$table.data("lastSearch"),p.$table.triggerHandler("filterInit",p),l.findRows(p.table,p.lastSearch||[]),c.debug(p,"filter")&&console.log("Filter >> Widget initialized")};if(s.isEmptyObject(y.filter_formatter))w();else{for(m=y.filter_formatterInit.length,g=0;g<m;g++)y.filter_formatterInit[g]===1&&x++;clearTimeout(y.filter_initTimer),!y.filter_initialized&&x===y.filter_formatterCount?w():y.filter_initialized||(y.filter_initTimer=setTimeout(function(){w()},500))}},processFilters:function(p,g){var m,y=[],x=g?encodeURIComponent:decodeURIComponent,w=p.length;for(m=0;m<w;m++)p[m]&&(y[m]=x(p[m]));return y},setDefaults:function(p,g,m){var y,x,w,k,S,P=c.getFilters(p)||[];if(m.filter_saveFilters&&c.storage&&(x=c.storage(p,"tablesorter-filters")||[],y=s.isArray(x),y&&x.join("")===""||!y||(P=l.processFilters(x))),P.join("")==="")for(S=g.$headers.add(m.filter_$externalFilters).filter("["+m.filter_defaultAttrib+"]"),w=0;w<=g.columns;w++)k=w===g.columns?"all":w,P[w]=S.filter('[data-column="'+k+'"]').attr(m.filter_defaultAttrib)||P[w]||"";return g.$table.data("lastSearch",P),P},parseFilter:function(p,g,m,y){return y||m.parsed[m.index]?p.parsers[m.index].format(g,p.table,[],m.index):g},buildRow:function(p,g,m){var y,x,w,k,S,P,E,O,a,h=m.filter_cellFilter,v=g.columns,d=s.isArray(h),_='<tr role="search" class="'+n.filterRow+" "+g.cssIgnoreRow+'">';for(w=0;w<v;w++)g.$headerIndexed[w].length&&(a=g.$headerIndexed[w]&&g.$headerIndexed[w][0].colSpan||0,a>1?_+='<td data-column="'+w+"-"+(w+a-1)+'" colspan="'+a+'"':_+='<td data-column="'+w+'"',d?_+=h[w]?' class="'+h[w]+'"':"":_+=h!==""?' class="'+h+'"':"",_+="></td>");for(g.$filters=s(_+="</tr>").appendTo(g.$table.children("thead").eq(0)).children("td"),w=0;w<v;w++)P=!1,k=g.$headerIndexed[w],k&&k.length&&(y=l.getColumnElm(g,g.$filters,w),O=c.getColumnData(p,m.filter_functions,w),S=m.filter_functions&&O&&typeof O!="function"||k.hasClass("filter-select"),x=c.getColumnData(p,g.headers,w),P=c.getData(k[0],x,"filter")==="false"||c.getData(k[0],x,"parser")==="false",S?_=s("<select>").appendTo(y):(O=c.getColumnData(p,m.filter_formatter,w),O?(m.filter_formatterCount++,_=O(y,w),_&&_.length===0&&(_=y.children("input")),_&&(_.parent().length===0||_.parent().length&&_.parent()[0]!==y[0])&&y.append(_)):_=s('<input type="search">').appendTo(y),_&&(a=k.data("placeholder")||k.attr("data-placeholder")||m.filter_placeholder.search||"",_.attr("placeholder",a))),_&&(E=(s.isArray(m.filter_cssFilter)?typeof m.filter_cssFilter[w]<"u"&&m.filter_cssFilter[w]||"":m.filter_cssFilter)||"",_.addClass(n.filter+" "+E),E=m.filter_filterLabel,a=E.match(/{{([^}]+?)}}/g),a||(a=["{{label}}"]),s.each(a,function(C,N){var G=new RegExp(N,"g"),q=k.attr("data-"+N.replace(/{{|}}/g,"")),K=typeof q>"u"?k.text():q;E=E.replace(G,s.trim(K))}),_.attr({"data-column":y.attr("data-column"),"aria-label":E}),P&&(_.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0)))},bindSearch:function(p,g,m){if(p=s(p)[0],g=s(g),!!g.length){var y,x=p.config,w=x.widgetOptions,k=x.namespace+"filter",S=w.filter_$externalFilters;m!==!0&&(y=w.filter_anyColumnSelector+","+w.filter_multipleColumnSelector,w.filter_$anyMatch=g.filter(y),S&&S.length?w.filter_$externalFilters=w.filter_$externalFilters.add(g):w.filter_$externalFilters=g,c.setFilters(p,x.$table.data("lastSearch")||[],m===!1)),y="keypress keyup keydown search change input ".split(" ").join(k+" "),g.attr("data-lastSearchTime",new Date().getTime()).unbind(y.replace(c.regex.spaces," ")).bind("keydown"+k,function(P){if(P.which===u.escape&&!p.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+k,function(P){w=p.config.widgetOptions;var E=parseInt(s(this).attr("data-column"),10),O=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,E);if(typeof O>"u"&&(O=w.filter_liveSearch.fallback||!1),s(this).attr("data-lastSearchTime",new Date().getTime()),P.which===u.escape)this.value=w.filter_resetOnEsc?"":x.lastSearch[E];else if(this.value!==""&&(typeof O=="number"&&this.value.length<O||P.which!==u.enter&&P.which!==u.backSpace&&(P.which<u.space||P.which>=u.left&&P.which<=u.down))||O===!1&&this.value!==""&&P.which!==u.enter)return;l.searching(p,!0,!0,E)}).bind("search change keypress input blur ".split(" ").join(k+" "),function(P){var E=parseInt(s(this).attr("data-column"),10),O=P.type,a=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,E);p.config.widgetOptions.filter_initialized&&(P.which===u.enter||O==="search"||O==="blur"||(O==="change"||O==="input")&&(a===!0||a!==!0&&P.target.nodeName!=="INPUT")&&this.value!==x.lastSearch[E])&&(P.preventDefault(),s(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(p,O!=="keypress"||P.which===u.enter,!0,E))})}},searching:function(p,g,m,y){var x,w=p.config.widgetOptions;typeof y>"u"?x=!1:(x=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(p,w.filter_liveSearch,y),typeof x>"u"&&(x=w.filter_liveSearch.fallback||!1)),clearTimeout(w.filter_searchTimer),typeof g>"u"||g===!0?w.filter_searchTimer=setTimeout(function(){l.checkFilters(p,g,m)},x?w.filter_searchDelay:10):l.checkFilters(p,g,m)},equalFilters:function(p,g,m){var y,x=[],w=[],k=p.columns+1;for(g=s.isArray(g)?g:[],m=s.isArray(m)?m:[],y=0;y<k;y++)x[y]=g[y]||"",w[y]=m[y]||"";return x.join(",")===w.join(",")},checkFilters:function(p,g,m){var y=p.config,x=y.widgetOptions,w=s.isArray(g),k=w?g:c.getFilters(p,!0),S=k||[];if(s.isEmptyObject(y.cache)){y.delayInit&&(!y.pager||y.pager&&y.pager.initialized)&&c.updateCache(y,function(){l.checkFilters(p,!1,m)});return}if(w&&(c.setFilters(p,k,!1,m!==!0),x.filter_initialized||(y.lastSearch=[],y.lastCombinedFilter="")),x.filter_hideFilters&&y.$table.find("."+n.filterRow).triggerHandler(l.hideFiltersCheck(y)?"mouseleave":"mouseenter"),l.equalFilters(y,y.lastSearch,S)){if(g!==!1)return;y.lastCombinedFilter="",y.lastSearch=[]}if(k=k||[],k=Array.prototype.map?k.map(String):k.join("\uFFFD").split("\uFFFD"),x.filter_initialized&&y.$table.triggerHandler("filterStart",[k]),y.showProcessing)setTimeout(function(){return l.findRows(p,k,S),!1},30);else return l.findRows(p,k,S),!1},hideFiltersCheck:function(p){if(typeof p.widgetOptions.filter_hideFilters=="function"){var g=p.widgetOptions.filter_hideFilters(p);if(typeof g=="boolean")return g}return c.getFilters(p.$table).join("")===""},hideFilters:function(p,g){var m;(g||p.$table).find("."+n.filterRow).addClass(n.filterRowHide).bind("mouseenter mouseleave",function(y){var x=y,w=s(this);clearTimeout(m),m=setTimeout(function(){/enter|over/.test(x.type)?w.removeClass(n.filterRowHide):s(document.activeElement).closest("tr")[0]!==w[0]&&w.toggleClass(n.filterRowHide,l.hideFiltersCheck(p))},200)}).find("input, select").bind("focus blur",function(y){var x=y,w=s(this).closest("tr");clearTimeout(m),m=setTimeout(function(){clearTimeout(m),w.toggleClass(n.filterRowHide,l.hideFiltersCheck(p)&&x.type!=="focus")},200)})},defaultFilter:function(p,g){if(p==="")return p;var m=o.iQuery,y=g.match(o.igQuery).length,x=y>1?s.trim(p).split(/\s/):[s.trim(p)],w=x.length-1,k=0,S=g;for(w<1&&y>1&&(x[1]=x[0]);m.test(S);)S=S.replace(m,x[k++]||""),m.test(S)&&k<w&&(x[k]||"")!==""&&(S=g.replace(m,S));return S},getLatestSearch:function(p){return p?p.sort(function(g,m){return s(m).attr("data-lastSearchTime")-s(g).attr("data-lastSearchTime")}):p||s()},findRange:function(p,g,m){var y,x,w,k,S,P,E,O,a,h=[];if(/^[0-9]+$/.test(g))return[parseInt(g,10)];if(!m&&/-/.test(g))for(x=g.match(/(\d+)\s*-\s*(\d+)/g),a=x?x.length:0,O=0;O<a;O++){for(w=x[O].split(/\s*-\s*/),k=parseInt(w[0],10)||0,S=parseInt(w[1],10)||p.columns-1,k>S&&(y=k,k=S,S=y),S>=p.columns&&(S=p.columns-1);k<=S;k++)h[h.length]=k;g=g.replace(x[O],"")}if(!m&&/,/.test(g))for(P=g.split(/\s*,\s*/),a=P.length,E=0;E<a;E++)P[E]!==""&&(O=parseInt(P[E],10),O<p.columns&&(h[h.length]=O));if(!h.length)for(O=0;O<p.columns;O++)h[h.length]=O;return h},getColumnElm:function(p,g,m){return g.filter(function(){var y=l.findRange(p,s(this).attr("data-column"));return s.inArray(m,y)>-1})},multipleColumns:function(p,g){var m=p.widgetOptions,y=m.filter_initialized||!g.filter(m.filter_anyColumnSelector).length,x=s.trim(l.getLatestSearch(g).attr("data-column")||"");return l.findRange(p,x,!y)},processTypes:function(p,g,m){var y,x=null,w=null;for(y in l.types)s.inArray(y,m.excludeMatch)<0&&w===null&&(w=l.types[y](p,g,m),w!==null&&(g.matchedOn=y,x=w));return x},matchType:function(p,g){var m,y=p.widgetOptions,x=p.$headerIndexed[g];return x.hasClass("filter-exact")?m=!1:x.hasClass("filter-match")?m=!0:(y.filter_columnFilters?x=p.$filters.find("."+n.filter).add(y.filter_$externalFilters).filter('[data-column="'+g+'"]'):y.filter_$externalFilters&&(x=y.filter_$externalFilters.filter('[data-column="'+g+'"]')),m=x.length?p.widgetOptions.filter_matchType[(x[0].nodeName||"").toLowerCase()]==="match":!1),m},processRow:function(p,g,m){var y,x,w,k,S,P=p.widgetOptions,E=!0,O=P.filter_$anyMatch&&P.filter_$anyMatch.length,a=P.filter_$anyMatch&&P.filter_$anyMatch.length?l.multipleColumns(p,P.filter_$anyMatch):[];if(g.$cells=g.$row.children(),g.matchedOn=null,g.anyMatchFlag&&a.length>1||g.anyMatchFilter&&!O){if(g.anyMatch=!0,g.isMatch=!0,g.rowArray=g.$cells.map(function(h){if(s.inArray(h,a)>-1||g.anyMatchFilter&&!O)return g.parsed[h]?S=g.cacheArray[h]:(S=g.rawArray[h],S=s.trim(P.filter_ignoreCase?S.toLowerCase():S),p.sortLocaleCompare&&(S=c.replaceAccents(S))),S}).get(),g.filter=g.anyMatchFilter,g.iFilter=g.iAnyMatchFilter,g.exact=g.rowArray.join(" "),g.iExact=P.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.cache=g.cacheArray.slice(0,-1).join(" "),m.excludeMatch=m.noAnyMatch,x=l.processTypes(p,g,m),x!==null)E=x;else if(P.filter_startsWith)for(E=!1,a=Math.min(p.columns,g.rowArray.length);!E&&a>0;)a--,E=E||g.rowArray[a].indexOf(g.iFilter)===0;else E=(g.iExact+g.childRowText).indexOf(g.iFilter)>=0;if(g.anyMatch=!1,g.filters.join("")===g.filter)return E}for(a=0;a<p.columns;a++)g.filter=g.filters[a],g.index=a,m.excludeMatch=m.excludeFilter[a],g.filter&&(g.cache=g.cacheArray[a],y=g.parsed[a]?g.cache:g.rawArray[a]||"",g.exact=p.sortLocaleCompare?c.replaceAccents(y):y,g.iExact=!o.type.test(typeof g.exact)&&P.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.isMatch=l.matchType(p,a),y=E,k=P.filter_columnFilters&&p.$filters.add(P.filter_$externalFilters).filter('[data-column="'+a+'"]').find("select option:selected").attr("data-function-name")||"",p.sortLocaleCompare&&(g.filter=c.replaceAccents(g.filter)),P.filter_defaultFilter&&o.iQuery.test(m.defaultColFilter[a])&&(g.filter=l.defaultFilter(g.filter,m.defaultColFilter[a])),g.iFilter=P.filter_ignoreCase?(g.filter||"").toLowerCase():g.filter,w=m.functions[a],x=null,w&&(typeof w=="function"?x=w(g.exact,g.cache,g.filter,a,g.$row,p,g):typeof w[k||g.filter]=="function"&&(S=k||g.filter,x=w[S](g.exact,g.cache,g.filter,a,g.$row,p,g))),x===null?(x=l.processTypes(p,g,m),S=w===!0&&(g.matchedOn==="and"||g.matchedOn==="or"),x!==null&&!S?y=x:w===!0?y=g.isMatch?(""+g.iExact).search(g.iFilter)>=0:g.filter===g.exact:(S=(g.iExact+g.childRowText).indexOf(l.parseFilter(p,g.iFilter,g)),y=!P.filter_startsWith&&S>=0||P.filter_startsWith&&S===0)):y=x,E=y?E:!1);return E},findRows:function(p,g,m){if(!(l.equalFilters(p.config,p.config.lastSearch,m)||!p.config.widgetOptions.filter_initialized)){var y,x,w,k,S,P,E,O,a,h,v,d,_,C,N,G,q,K,ne,Q,ee,Me,pe,W,oe=s.extend([],g),fe=p.config,Z=fe.widgetOptions,xe=c.debug(fe,"filter"),Y={anyMatch:!1,filters:g,filter_regexCache:[]},he={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:c.getColumnData(p,Z.filter_defaultFilter,fe.columns,!0)||""};for(Y.parsed=[],a=0;a<fe.columns;a++)Y.parsed[a]=Z.filter_useParsedData||fe.parsers&&fe.parsers[a]&&fe.parsers[a].parsed||c.getData&&c.getData(fe.$headerIndexed[a],c.getColumnData(p,fe.headers,a),"filter")==="parsed"||fe.$headerIndexed[a].hasClass("filter-parsed"),he.functions[a]=c.getColumnData(p,Z.filter_functions,a)||fe.$headerIndexed[a].hasClass("filter-select"),he.defaultColFilter[a]=c.getColumnData(p,Z.filter_defaultFilter,a)||"",he.excludeFilter[a]=(c.getColumnData(p,Z.filter_excludeFilter,a,!0)||"").split(/\s+/);for(xe&&(console.log("Filter >> Starting filter widget search",g),N=new Date),fe.filteredRows=0,fe.totalRows=0,m=oe||[],E=0;E<fe.$tbodies.length;E++){if(O=c.processTbody(p,fe.$tbodies.eq(E),!0),a=fe.columns,x=fe.cache[E].normalized,k=s(s.map(x,function(Ke){return Ke[a].$row.get()})),m.join("")===""||Z.filter_serversideFiltering)k.removeClass(Z.filter_filteredRow).not("."+fe.cssChildRow).css("display","");else{if(k=k.not("."+fe.cssChildRow),y=k.length,(Z.filter_$anyMatch&&Z.filter_$anyMatch.length||typeof g[fe.columns]<"u")&&(Y.anyMatchFlag=!0,Y.anyMatchFilter=""+(g[fe.columns]||Z.filter_$anyMatch&&l.getLatestSearch(Z.filter_$anyMatch).val()||""),Z.filter_columnAnyMatch)){for(Q=Y.anyMatchFilter.split(o.andSplit),ee=!1,q=0;q<Q.length;q++)Me=Q[q].split(":"),Me.length>1&&(isNaN(Me[0])?s.each(fe.headerContent,function(Ke,ht){ht.toLowerCase().indexOf(Me[0])>-1&&(pe=Ke,g[pe]=Me[1])}):pe=parseInt(Me[0],10)-1,pe>=0&&pe<fe.columns&&(g[pe]=Me[1],Q.splice(q,1),q--,ee=!0));ee&&(Y.anyMatchFilter=Q.join(" && "))}if(ne=Z.filter_searchFiltered,d=fe.lastSearch||fe.$table.data("lastSearch")||[],ne)for(q=0;q<a+1;q++)G=g[q]||"",ne||(q=a),ne=ne&&d.length&&G.indexOf(d[q]||"")===0&&!o.alreadyFiltered.test(G)&&!o.exactTest.test(G)&&!(o.isNeg1.test(G)||o.isNeg2.test(G))&&!(G!==""&&fe.$filters&&fe.$filters.filter('[data-column="'+q+'"]').find("select").length&&!l.matchType(fe,q));for(K=k.not("."+Z.filter_filteredRow).length,ne&&K===0&&(ne=!1),xe&&console.log("Filter >> Searching through "+(ne&&K<y?K:"all")+" rows"),Y.anyMatchFlag&&(fe.sortLocaleCompare&&(Y.anyMatchFilter=c.replaceAccents(Y.anyMatchFilter)),Z.filter_defaultFilter&&o.iQuery.test(he.defaultAnyFilter)&&(Y.anyMatchFilter=l.defaultFilter(Y.anyMatchFilter,he.defaultAnyFilter),ne=!1),Y.iAnyMatchFilter=Z.filter_ignoreCase&&fe.ignoreCase?Y.anyMatchFilter.toLowerCase():Y.anyMatchFilter),P=0;P<y;P++)if(W=k[P].className,h=P&&o.child.test(W),!(h||ne&&o.filtered.test(W))){if(Y.$row=k.eq(P),Y.rowIndex=P,Y.cacheArray=x[P],w=Y.cacheArray[fe.columns],Y.rawArray=w.raw,Y.childRowText="",!Z.filter_childByColumn){for(W="",v=w.child,q=0;q<v.length;q++)W+=" "+v[q].join(" ")||"";Y.childRowText=Z.filter_childRows?Z.filter_ignoreCase?W.toLowerCase():W:""}if(_=!1,C=l.processRow(fe,Y,he),S=w.$row,G=!!C,v=w.$row.filter(":gt(0)"),Z.filter_childRows&&v.length){if(Z.filter_childByColumn)for(Z.filter_childWithSibs||(v.addClass(Z.filter_filteredRow),S=S.eq(0)),q=0;q<v.length;q++)Y.$row=v.eq(q),Y.cacheArray=w.child[q],Y.rawArray=Y.cacheArray,G=l.processRow(fe,Y,he),_=_||G,!Z.filter_childWithSibs&&G&&v.eq(q).removeClass(Z.filter_filteredRow);_=_||C}else _=G;S.toggleClass(Z.filter_filteredRow,!_)[0].display=_?"":"none"}}fe.filteredRows+=k.not("."+Z.filter_filteredRow).length,fe.totalRows+=k.length,c.processTbody(p,O,!1)}fe.lastCombinedFilter=oe.join(""),fe.lastSearch=oe,fe.$table.data("lastSearch",oe),Z.filter_saveFilters&&c.storage&&c.storage(p,"tablesorter-filters",l.processFilters(oe,!0)),xe&&console.log("Filter >> Completed search"+c.benchmark(N)),Z.filter_initialized&&(fe.$table.triggerHandler("filterBeforeEnd",fe),fe.$table.triggerHandler("filterEnd",fe)),setTimeout(function(){c.applyWidget(fe.table)},0)}},getOptionSource:function(p,g,m){p=s(p)[0];var y=p.config,x=y.widgetOptions,w=!1,k=x.filter_selectSource,S=y.$table.data("lastSearch")||[],P=typeof k=="function"?!0:c.getColumnData(p,k,g);if(m&&S[g]!==""&&(m=!1),P===!0)w=k(p,g,m);else{if(P instanceof s||s.type(P)==="string"&&P.indexOf("</option>")>=0)return P;if(s.isArray(P))w=P;else if(s.type(k)==="object"&&P&&(w=P(p,g,m),w===null))return null}return w===!1&&(w=l.getOptions(p,g,m)),l.processOptions(p,g,w)},processOptions:function(p,g,m){if(!s.isArray(m))return!1;p=s(p)[0];var y,x,w,k,S,P,E=p.config,O=typeof g<"u"&&g!==null&&g>=0&&g<E.columns,a=O?E.$headerIndexed[g].hasClass("filter-select-sort-desc"):!1,h=[];if(m=s.grep(m,function(v,d){return v.text?!0:s.inArray(v,m)===d}),O&&E.$headerIndexed[g].hasClass("filter-select-nosort"))return m;for(k=m.length,w=0;w<k;w++)x=m[w],P=x.text?x.text:x,S=(O&&E.parsers&&E.parsers.length&&E.parsers[g].format(P,p,[],g)||P).toString(),S=E.widgetOptions.filter_ignoreCase?S.toLowerCase():S,x.text?(x.parsed=S,h[h.length]=x):h[h.length]={text:x,parsed:S};for(y=E.textSorter||"",h.sort(function(v,d){var _=a?d.parsed:v.parsed,C=a?v.parsed:d.parsed;return O&&typeof y=="function"?y(_,C,!0,g,p):O&&typeof y=="object"&&y.hasOwnProperty(g)?y[g](_,C,!0,g,p):c.sortNatural?c.sortNatural(_,C):!0}),m=[],k=h.length,w=0;w<k;w++)m[m.length]=h[w];return m},getOptions:function(p,g,m){p=s(p)[0];var y,x,w,k,S,P,E,O,a=p.config,h=a.widgetOptions,v=[];for(x=0;x<a.$tbodies.length;x++)for(S=a.cache[x],w=a.cache[x].normalized.length,y=0;y<w;y++)if(k=S.row?S.row[y]:S.normalized[y][a.columns].$row[0],!(m&&k.className.match(h.filter_filteredRow))){if(h.filter_useParsedData||a.parsers[g].parsed||a.$headerIndexed[g].hasClass("filter-parsed")){if(v[v.length]=""+S.normalized[y][g],h.filter_childRows&&h.filter_childByColumn)for(O=S.normalized[y][a.columns].$row.length-1,P=0;P<O;P++)v[v.length]=""+S.normalized[y][a.columns].child[P][g]}else if(v[v.length]=S.normalized[y][a.columns].raw[g],h.filter_childRows&&h.filter_childByColumn)for(O=S.normalized[y][a.columns].$row.length,P=1;P<O;P++)E=S.normalized[y][a.columns].$row.eq(P).children().eq(g),v[v.length]=""+c.getElementText(a,E,g)}return v},buildSelect:function(p,g,m,y,x){if(p=s(p)[0],g=parseInt(g,10),!(!p.config.cache||s.isEmptyObject(p.config.cache))){var w,k,S,P,E,O,a,h=p.config,v=h.widgetOptions,d=h.$headerIndexed[g],_='<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",C=h.$table.find("thead").find("select."+n.filter+'[data-column="'+g+'"]').val();if(!((typeof m>"u"||m==="")&&(m=l.getOptionSource(p,g,x),m===null))){if(s.isArray(m)){for(w=0;w<m.length;w++)if(a=m[w],a.text){a["data-function-name"]=typeof a.value>"u"?a.text:a.value,_+="<option";for(k in a)a.hasOwnProperty(k)&&k!=="text"&&(_+=" "+k+'="'+a[k].replace(o.quote,"&quot;")+'"');a.value||(_+=' value="'+a.text.replace(o.quote,"&quot;")+'"'),_+=">"+a.text.replace(o.quote,"&quot;")+"</option>"}else""+a!="[object Object]"&&(S=a=(""+a).replace(o.quote,"&quot;"),k=S,S.indexOf(v.filter_selectSourceSeparator)>=0&&(P=S.split(v.filter_selectSourceSeparator),k=P[0],S=P[1]),_+=a!==""?"<option "+(k===S?"":'data-function-name="'+a+'" ')+'value="'+k+'">'+S+"</option>":"");m=[]}E=(h.$filters?h.$filters:h.$table.children("thead")).find("."+n.filter),v.filter_$externalFilters&&(E=E&&E.length?E.add(v.filter_$externalFilters):v.filter_$externalFilters),O=E.filter('select[data-column="'+g+'"]'),O.length&&(O[y?"html":"append"](_),s.isArray(m)||O.append(m).val(C),O.val(C))}}},buildDefault:function(p,g){var m,y,x,w=p.config,k=w.widgetOptions,S=w.columns;for(m=0;m<S;m++)y=w.$headerIndexed[m],x=!(y.hasClass("filter-false")||y.hasClass("parser-false")),(y.hasClass("filter-select")||c.getColumnData(p,k.filter_functions,m)===!0)&&x&&l.buildSelect(p,m,"",g,y.hasClass(k.filter_onlyAvail))}},o=l.regex,c.getFilters=function(p,g,m,y){var x,w,k,S,P=[],E=p?s(p)[0].config:"",O=E?E.widgetOptions:"";if(g!==!0&&O&&!O.filter_columnFilters||s.isArray(m)&&l.equalFilters(E,m,E.lastSearch))return s(p).data("lastSearch")||[];if(E&&(E.$filters&&(w=E.$filters.find("."+n.filter)),O.filter_$externalFilters&&(w=w&&w.length?w.add(O.filter_$externalFilters):O.filter_$externalFilters),w&&w.length))for(P=m||[],x=0;x<E.columns+1;x++)S=x===E.columns?O.filter_anyColumnSelector+","+O.filter_multipleColumnSelector:'[data-column="'+x+'"]',k=w.filter(S),k.length&&(k=l.getLatestSearch(k),s.isArray(m)?(y&&k.length>1&&(k=k.slice(1)),x===E.columns&&(S=k.filter(O.filter_anyColumnSelector),k=S.length?S:k),k.val(m[x]).trigger("change"+E.namespace)):(P[x]=k.val()||"",x===E.columns?k.slice(1).filter('[data-column*="'+k.attr("data-column")+'"]').val(P[x]):k.slice(1).val(P[x])),x===E.columns&&k.length&&(O.filter_$anyMatch=k));return P},c.setFilters=function(p,g,m,y){var x=p?s(p)[0].config:"",w=c.getFilters(p,!0,g,y);return typeof m>"u"&&(m=!0),x&&m&&(x.lastCombinedFilter=null,x.lastSearch=[],l.searching(x.table,g,y),x.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(r),function(s,l){"use strict";var o=s.tablesorter||{};s.extend(o.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),o.addHeaderResizeEvent=function(n,u,p){if(n=s(n)[0],!!n.config){var g={timer:250},m=s.extend({},g,p),y=n.config,x=y.widgetOptions,w=function(k){var S,P,E,O,a,h,v=y.$headers.length;for(x.resize_flag=!0,P=[],S=0;S<v;S++)E=y.$headers.eq(S),O=E.data("savedSizes")||[0,0],a=E[0].offsetWidth,h=E[0].offsetHeight,(a!==O[0]||h!==O[1])&&(E.data("savedSizes",[a,h]),P.push(E[0]));P.length&&k!==!1&&y.$table.triggerHandler("resize",[P]),x.resize_flag=!1};if(clearInterval(x.resize_timer),u)return x.resize_flag=!1,!1;w(!1),x.resize_timer=setInterval(function(){x.resize_flag||w()},m.timer)}};function c(n,u){var p=isNaN(u.stickyHeaders_offset)?s(u.stickyHeaders_offset):[];return p.length?p.height()||0:parseInt(u.stickyHeaders_offset,10)||0}o.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,u,p){if(!(u.$table.hasClass("hasStickyHeaders")||s.inArray("filter",u.widgets)>=0&&!u.$table.hasClass("hasFilters"))){var g,m,y,x=u.$table,w=s(p.stickyHeaders_attachTo||p.stickyHeaders_appendTo),k=u.namespace+"stickyheaders ",S=s(p.stickyHeaders_yScroll||p.stickyHeaders_attachTo||l),P=s(p.stickyHeaders_xScroll||p.stickyHeaders_attachTo||l),E=x.children("thead:first"),O=E.children("tr").not(".sticky-false").children(),a=x.children("tfoot"),h=c(u,p),v=x.parent().closest("."+o.css.table).hasClass("hasStickyHeaders")?x.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],d=v.length?v.height():0,_=p.$sticky=x.clone().addClass("containsStickyHeaders "+o.css.sticky+" "+p.stickyHeaders+" "+u.namespace.slice(1)+"_extra_table").wrap('<div class="'+o.css.stickyWrap+'">'),C=_.parent().addClass(o.css.stickyHide).css({position:w.length?"absolute":"fixed",padding:parseInt(_.parent().parent().css("padding-left"),10),top:h+d,left:0,visibility:"hidden",zIndex:p.stickyHeaders_zIndex||2}),N=_.children("thead:first"),G,q="",K=function(Me,pe){var W,oe,fe,Z,xe,Y=Me.filter(":visible"),he=Y.length;for(W=0;W<he;W++)Z=pe.filter(":visible").eq(W),xe=Y.eq(W),xe.css("box-sizing")==="border-box"?oe=xe.outerWidth():Z.css("border-collapse")==="collapse"?l.getComputedStyle?oe=parseFloat(l.getComputedStyle(xe[0],null).width):(fe=parseFloat(xe.css("border-width")),oe=xe.outerWidth()-parseFloat(xe.css("padding-left"))-parseFloat(xe.css("padding-right"))-fe):oe=xe.width(),Z.css({width:oe,"min-width":oe,"max-width":oe})},ne=function(Me){return Me===!1&&v.length?x.position().left:w.length?parseInt(w.css("padding-left"),10)||0:x.offset().left-parseInt(x.css("margin-left"),10)-s(l).scrollLeft()},Q=function(){C.css({left:ne(),width:x.outerWidth()}),K(x,_),K(O,G)},ee=function(Me){if(x.is(":visible")){d=v.length?v.offset().top-S.scrollTop()+v.height():0;var pe,W=x.offset(),oe=c(u,p),fe=s.isWindow(S[0]),Z=fe?S.scrollTop():v.length?parseInt(v[0].style.top,10):S.offset().top,xe=w.length?Z:S.scrollTop(),Y=p.stickyHeaders_includeCaption?0:x.children("caption").height()||0,he=xe+oe+d-Y,Ke=x.height()-(C.height()+(a.height()||0))-Y,ht=he>W.top&&he<W.top+Ke?"visible":"hidden",lt=ht==="visible"?o.css.stickyVis:o.css.stickyHide,We=!C.hasClass(lt),Se={visibility:ht};w.length&&(We=!0,Se.top=fe?he-w.offset().top:w.scrollTop()),pe=ne(fe),pe!==parseInt(C.css("left"),10)&&(We=!0,Se.left=pe),Se.top=(Se.top||0)+(!fe&&v.length?v.height():oe+d),We&&C.removeClass(o.css.stickyVis+" "+o.css.stickyHide).addClass(lt).css(Se),(ht!==q||Me)&&(Q(),q=ht)}};if(w.length&&!w.css("position")&&w.css("position","relative"),_.attr("id")&&(_[0].id+=p.stickyHeaders_cloneId),_.find("> thead:gt(0), tr.sticky-false").hide(),_.find("> tbody, > tfoot").remove(),_.find("caption").toggle(p.stickyHeaders_includeCaption),G=N.children().children(),_.css({height:0,width:0,margin:0}),G.find("."+o.css.resizer).remove(),x.addClass("hasStickyHeaders").bind("pagerComplete"+k,function(){Q()}),o.bindEvents(n,N.children().children("."+o.css.header)),p.stickyHeaders_appendTo?s(p.stickyHeaders_appendTo).append(C):x.after(C),u.onRenderHeader)for(y=N.children("tr").children(),m=y.length,g=0;g<m;g++)u.onRenderHeader.apply(y.eq(g),[g,u,_]);P.add(S).unbind("scroll resize ".split(" ").join(k).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(k),function(Me){ee(Me.type==="resize")}),u.$table.unbind("stickyHeadersUpdate"+k).bind("stickyHeadersUpdate"+k,function(){ee(!0)}),p.stickyHeaders_addResizeEvent&&o.addHeaderResizeEvent(n),x.hasClass("hasFilters")&&p.filter_columnFilters&&(x.bind("filterEnd"+k,function(){var Me=s(document.activeElement).closest("td"),pe=Me.parent().children().index(Me);C.hasClass(o.css.stickyVis)&&p.stickyHeaders_filteredToTop&&(l.scrollTo(0,x.position().top),pe>=0&&u.$filters&&u.$filters.eq(pe).find("a, select, input").filter(":visible").focus())}),o.filter.bindSearch(x,G.find("."+o.css.filter)),p.filter_hideFilters&&o.filter.hideFilters(u,_)),p.stickyHeaders_addResizeEvent&&x.bind("resize"+u.namespace+"stickyheaders",function(){Q()}),ee(!0),x.triggerHandler("stickyHeadersInit")}},remove:function(n,u,p){var g=u.namespace+"stickyheaders ";u.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(g).replace(/\s+/g," ")).next("."+o.css.stickyWrap).remove(),p.$sticky&&p.$sticky.length&&p.$sticky.remove(),s(l).add(p.stickyHeaders_xScroll).add(p.stickyHeaders_yScroll).add(p.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(g).replace(/\s+/g," ")),o.addHeaderResizeEvent(n,!0)}})}(r,window),function(s,l){"use strict";var o=s.tablesorter||{};s.extend(o.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),s(function(){var c="<style>body."+o.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+o.css.resizableContainer+" { position: relative; height: 1px; }."+o.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";s("head").append(c)}),o.resizable={init:function(c,n){if(!c.$table.hasClass("hasResizable")){c.$table.addClass("hasResizable");var u,p,g,m,y,x=c.$table,w=x.parent(),k=parseInt(x.css("margin-top"),10),S=n.resizable_vars={useStorage:o.storage&&n.resizable!==!1,$wrap:w,mouseXPosition:0,$target:null,$next:null,overflow:w.css("overflow")==="auto"||w.css("overflow")==="scroll"||w.css("overflow-x")==="auto"||w.css("overflow-x")==="scroll",storedSizes:[]};for(o.resizableReset(c.table,!0),S.tableWidth=x.width(),S.fullWidth=Math.abs(w.width()-S.tableWidth)<20,S.useStorage&&S.overflow&&(o.storage(c.table,"tablesorter-table-original-css-width",S.tableWidth),y=o.storage(c.table,"tablesorter-table-resized-width")||"auto",o.resizable.setWidth(x,y,!0)),n.resizable_vars.storedSizes=m=(S.useStorage?o.storage(c.table,o.css.resizableStorage):[])||[],o.resizable.setWidths(c,n,m),o.resizable.updateStoredSizes(c,n),n.$resizable_container=s('<div class="'+o.css.resizableContainer+'">').css({top:k}).insertBefore(x),g=0;g<c.columns;g++)p=c.$headerIndexed[g],y=o.getColumnData(c.table,c.headers,g),u=o.getData(p,y,"resizable")==="false",u||s('<div class="'+o.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":g,unselectable:"on"}).data("header",p).bind("selectstart",!1);o.resizable.bindings(c,n)}},updateStoredSizes:function(c,n){var u,p,g=c.columns,m=n.resizable_vars;for(m.storedSizes=[],u=0;u<g;u++)p=c.$headerIndexed[u],m.storedSizes[u]=p.is(":visible")?p.width():0},setWidth:function(c,n,u){c.css({width:n,"min-width":u?n:"","max-width":u?n:""})},setWidths:function(c,n,u){var p,g,m=n.resizable_vars,y=s(c.namespace+"_extra_headers"),x=c.$table.children("colgroup").children("col");if(u=u||m.storedSizes||[],u.length){for(p=0;p<c.columns;p++)o.resizable.setWidth(c.$headerIndexed[p],u[p],m.overflow),y.length&&(g=y.eq(p).add(x.eq(p)),o.resizable.setWidth(g,u[p],m.overflow));g=s(c.namespace+"_extra_table"),g.length&&!o.hasWidget(c.table,"scroller")&&o.resizable.setWidth(g,c.$table.outerWidth(),m.overflow)}},setHandlePosition:function(c,n){var u,p=c.$table.height(),g=n.$resizable_container.children(),m=Math.floor(g.width()/2);o.hasWidget(c.table,"scroller")&&(p=0,c.$table.closest("."+o.css.scrollerWrap).children().each(function(){var y=s(this);p+=y.filter('[style*="height"]').length?y.height():y.children("table").height()})),!n.resizable_includeFooter&&c.$table.children("tfoot").length&&(p-=c.$table.children("tfoot").height()),u=parseFloat(s.fn.jquery)>=3.3?0:c.$table.position().left,g.each(function(){var y=s(this),x=parseInt(y.attr("data-column"),10),w=c.columns-1,k=y.data("header");k&&(!k.is(":visible")||!n.resizable_addLastColumn&&o.resizable.checkVisibleColumns(c,x)?y.hide():(x<w||x===w&&n.resizable_addLastColumn)&&y.css({display:"inline-block",height:p,left:k.position().left-u+k.outerWidth()-m}))})},checkVisibleColumns:function(c,n){var u,p=0;for(u=n+1;u<c.columns;u++)p+=c.$headerIndexed[u].is(":visible")?1:0;return p===0},toggleTextSelection:function(c,n,u){var p=c.namespace+"tsresize";n.resizable_vars.disabled=u,s("body").toggleClass(o.css.resizableNoSelect,u),u?s("body").attr("unselectable","on").bind("selectstart"+p,!1):s("body").removeAttr("unselectable").unbind("selectstart"+p)},bindings:function(c,n){var u=c.namespace+"tsresize";n.$resizable_container.children().bind("mousedown",function(p){var g,m=n.resizable_vars,y=s(c.namespace+"_extra_headers"),x=s(p.target).data("header");g=parseInt(x.attr("data-column"),10),m.$target=x=x.add(y.filter('[data-column="'+g+'"]')),m.target=g,m.$next=p.shiftKey||n.resizable_targetLast?x.parent().children().not(".resizable-false").filter(":last"):x.nextAll(":not(.resizable-false)").eq(0),g=parseInt(m.$next.attr("data-column"),10),m.$next=m.$next.add(y.filter('[data-column="'+g+'"]')),m.next=g,m.mouseXPosition=p.pageX,o.resizable.updateStoredSizes(c,n),o.resizable.toggleTextSelection(c,n,!0)}),s(document).bind("mousemove"+u,function(p){var g=n.resizable_vars;!g.disabled||g.mouseXPosition===0||!g.$target||(n.resizable_throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){o.resizable.mouseMove(c,n,p)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):o.resizable.mouseMove(c,n,p))}).bind("mouseup"+u,function(){n.resizable_vars.disabled&&(o.resizable.toggleTextSelection(c,n,!1),o.resizable.stopResize(c,n),o.resizable.setHandlePosition(c,n))}),s(l).bind("resize"+u+" resizeEnd"+u,function(){o.resizable.setHandlePosition(c,n)}),c.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(u+" "),function(){o.resizable.setHandlePosition(c,n)}).bind("resizableReset"+u,function(){o.resizableReset(c.table)}).find("thead:first").add(s(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+u,function(){var p=n.resizable_vars.storedSizes.length===0;return o.resizableReset(c.table),o.resizable.setHandlePosition(c,n),n.resizable_vars.storedSizes=[],p})},mouseMove:function(c,n,u){if(!(n.resizable_vars.mouseXPosition===0||!n.resizable_vars.$target)){var p,g=0,m=n.resizable_vars,y=m.$next,x=m.storedSizes[m.target],w=u.pageX-m.mouseXPosition;if(m.overflow){if(x+w>0){for(m.storedSizes[m.target]+=w,o.resizable.setWidth(m.$target,m.storedSizes[m.target],!0),p=0;p<c.columns;p++)g+=m.storedSizes[p];o.resizable.setWidth(c.$table.add(s(c.namespace+"_extra_table")),g)}y.length||(m.$wrap[0].scrollLeft=c.$table.width())}else m.fullWidth?(m.storedSizes[m.target]+=w,m.storedSizes[m.next]-=w,o.resizable.setWidths(c,n)):(m.storedSizes[m.target]+=w,o.resizable.setWidths(c,n));m.mouseXPosition=u.pageX,c.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(c,n){var u=n.resizable_vars;o.resizable.updateStoredSizes(c,n),u.useStorage&&(o.storage(c.table,o.css.resizableStorage,u.storedSizes),o.storage(c.table,"tablesorter-table-resized-width",c.$table.width())),u.mouseXPosition=0,u.$target=u.$next=null,c.$table.triggerHandler("stickyHeadersUpdate"),c.$table.triggerHandler("resizableComplete")}},o.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(c,n,u,p){o.resizable.init(u,p)},format:function(c,n,u){o.resizable.setHandlePosition(n,u)},remove:function(c,n,u,p){if(u.$resizable_container){var g=n.namespace+"tsresize";n.$table.add(s(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+g),u.$resizable_container.remove(),o.resizable.toggleTextSelection(n,u,!1),o.resizableReset(c,p),s(document).unbind("mousemove"+g+" mouseup"+g)}}}),o.resizableReset=function(c,n){s(c).each(function(){var u,p,g=this.config,m=g&&g.widgetOptions,y=m.resizable_vars;if(c&&g&&g.$headerIndexed.length){for(y.overflow&&y.tableWidth&&(o.resizable.setWidth(g.$table,y.tableWidth,!0),y.useStorage&&o.storage(c,"tablesorter-table-resized-width",y.tableWidth)),u=0;u<g.columns;u++)p=g.$headerIndexed[u],m.resizable_widths&&m.resizable_widths[u]?o.resizable.setWidth(p,m.resizable_widths[u],y.overflow):p.hasClass("resizable-false")||o.resizable.setWidth(p,"",y.overflow);g.$table.triggerHandler("stickyHeadersUpdate"),o.storage&&!n&&o.storage(this,o.css.resizableStorage,[])}})}}(r,window),function(s){"use strict";var l=s.tablesorter||{};function o(n){var u=l.storage(n.table,"tablesorter-savesort");return u&&u.hasOwnProperty("sortList")&&s.isArray(u.sortList)?u.sortList:[]}function c(n,u){return(u||o(n)).join(",")!==n.sortList.join(",")}l.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(n,u,p,g){u.format(n,p,g,!0)},format:function(n,u,p,g){var m,y=u.$table,x=p.saveSort!==!1,w={sortList:u.sortList},k=l.debug(u,"saveSort");k&&(m=new Date),y.hasClass("hasSaveSort")?x&&n.hasInitialized&&l.storage&&c(u)&&(l.storage(n,"tablesorter-savesort",w),k&&console.log("saveSort >> Saving last sort: "+u.sortList+l.benchmark(m))):(y.addClass("hasSaveSort"),w="",l.storage&&(w=o(u),k&&console.log('saveSort >> Last sort loaded: "'+w+'"'+l.benchmark(m)),y.bind("saveSortReset",function(S){S.stopPropagation(),l.storage(n,"tablesorter-savesort","")})),g&&w&&w.length>0?u.sortList=w:n.hasInitialized&&w&&w.length>0&&c(u,w)&&l.sortOn(u,w))},remove:function(n,u){u.$table.removeClass("hasSaveSort"),l.storage&&l.storage(n,"tablesorter-savesort","")}})}(r),r.tablesorter})}),Ob={};a6(Ob,{default:()=>Hf});l6=Pb($b());s6(Ob,Pb($b()));Eb=l6,{default:Tb}=Eb,c6=nn(Eb,["default"]),Hf=Tb!==void 0?Tb:c6;});var Mb={};Ln(Mb,{default:()=>Hf});var Lb=Zt(()=>{Bc();Ff();Ff()});var xr,zc=Zt(()=>{jl();Dn();Hp();D0();Up();Y0();X0();J0();Q0();ty();mo();Gp();Yp();Bp();ry();ny();uy();dy();vd();py();my();vy();eb();xr=class e{static paramsToJSON(){return Z0()}static isTouchDevice(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}static theatre_controls_position(t,r,s,l){let o=t,c=l&&!t;if(!c&&(t||(o=we("#canvas")),!o.length))return;let n=c?l:o.height()||0,u=c?s:o.width()||0;!c&&typeof r!="undefined"&&we("#theatre-controls").offset({top:r});let p=Math.round((we("#theatre-ia-wrap").width()-we("#theatre-controls").width()-u)/2);_i("width",u),_i("right_gutter_width",p),we("#theatre-controls").css({height:n,visibility:"visible",right:Math.max(20,p/2)})}static theatresize(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);let r=()=>{let o=Math.min(we(window).width(),400),c=we(window).height()-(we("#navwrap1").height()||0)-100;e.theatresize_maxheight&&(c=Math.min(c,e.theatresize_maxheight)),c=Math.max(c,o);let n=Math.min(c,1e3);we("#theatre-ia-wrap").addClass("resized").css("height",n),t&&t(we("#theatre-ia-wrap").height()||0)};r(),we(window).on("resize  orientationchange",()=>{clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(r,250)})}static carouselsize(t,r){let s=we(t),l=s.find("img.carousel-image").map((o,c)=>{let n=we.Deferred(),u;return c.complete?u=n.resolve(c.naturalHeight).promise():(c.addEventListener("load",()=>{n.resolve(c.naturalHeight)}),u=n),u}).get();we.when(...l).then((...o)=>{let c=s.height(),n=Math.max(...o);c>n&&(s.css("maxHeight",n),r&&(e.theatresize_maxheight=n,we(window).trigger("resize")))})}static popover_menu(t,r){let s={trigger:"hover focus click",container:t,content:r.content,html:!0};r.title&&(s.title=r.title),r.placement&&(s.placement=r.placement),r.trigger&&(s.trigger=r.trigger),we(t).popover(s)}static date_switcher(t){let r="#date_switcher";we(r).tooltip({html:!0,trigger:"manual",placement:"bottom",title:t}).on("mouseenter focusin",function(){we(r).parent().find(".tooltip").length||we(this).tooltip("show")}),we(".sortbar").on("mouseleave",()=>{_i("not hovering sortbar anymore"),we(r).tooltip("hide")}),we(r).on("shown.bs.tooltip",()=>{we(r).parent().find(".date_switcher").on("click",function(){we(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),we(this).addClass("in")})})}static lists_v_tiles_setup(t){let r="tiles",s=Fn.get(`view-${t}`),l=Fn.get(`showdetails-${t}`),o=l==="showdetails"||l===void 0&&r==="lists";if(s==="lists"||!s&&r==="lists"){if(o)return;we("body").removeClass("showdetails")}else we("body").removeClass("lists".concat(o?"":" showdetails")).addClass("tiles")}static showdetails_toggle(t){let r=we("body"),s=r.hasClass("showdetails")?"":"showdetails";_i("showdetails_toggle() going to: ",s),Fn.set(`showdetails-${t}`,s,{path:"/",expires:30,domain:".archive.org"}),r.toggleClass("showdetails")}static tiles_toggle(t,r){let s=we("body"),l=s.hasClass("tiles")?"lists":"tiles";return _i("tiles_toggle() going to",l),s.removeClass("lists tiles").addClass(l),e.tiler(),Fn.set(`view-${r}`,l,{path:"/",expires:30,domain:".archive.org"}),!1}static inTab(){let t=we(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return t.indexOf("forum")===0?t.split(" ").shift():t}static selector(){let t=e.inTab();if(t==="forum"||t==="posts"||t==="about")return!1;let r=!1;if(t){_i("inTab",t);let s=`#tabby-${t.replace(" ","-")}`;if(t==="collection"||t==="collections"||t==="uploads"||t==="reviews"||t==="web archives")r="#".concat(we(s.concat(" div.ikind.in:first")).attr("id"));else{let l=we(s.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");r=`#ikind-${t}${l===""?"":"-"}${l}`}}else r="#ikind-".concat(we(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),we(r).length||(r="#ikind-search");return _i("SELECTOR",r),r}static parent_hover(t){t.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(r=>we(r.currentTarget).find(".item-parent").addClass("hoverin")).mouseout(r=>we(r.currentTarget).find(".item-parent").removeClass("hoverin"))}static tiler(t,r){we("body").hasClass("tiles")||we("body").hasClass("showdetails")&&we(".sortbar input[name=showdetails]").prop("checked",!0);let s=t||e.selector();if(s===!1)return;let l=we(s).first();e.parent_hovered=e.parent_hovered||{},e.parent_hovered[s]||(e.parent_hover(l),e.parent_hovered[s]=!0)}static ikind(t,r){let s=`#${r}`;_i("ikind",r),we(s).parent().find("div.ikind.in").hide(),we(s).removeClass("hidden").addClass("in").show(),we(s).parents(".tabby-data").find("a.ikind").removeClass("in"),we(t).addClass("in"),e.tiler(s);let l=we(s).parents(".tabby-data").find("select.ikind-mobile"),o=l.find("option:contains(".concat(we(t).text(),")")),c=l.find("option:selected");return o.text().trim()!==c.text().trim()&&(_i("changing ikind mobile now to ",o.text()),e.ikind_mobile_change_ignore_next=!0,o.attr("selected","selected")),!1}static ikind_mobile_change(t){if(e.ikind_mobile_change_ignore_next){e.ikind_mobile_change_ignore_next=!1;return}let r=we(t).find("option:selected");_i("ikind mobile changed to: ",r.text());let s=we(t).parents(".tabby-data").find("a.ikind");if(s.length||(s=we("body").find("a.ikind")),!s.length)return;let o=s.filter((c,n)=>we(n).text()===r.text()).attr("href");_i("goto",o),o&&(o.substr(0,1)==="#"?we(`a.ikind[data-id=${o.substr(1)}]`).click():location.href=o)}static popState(t){if(e.pushState=typeof history.pushState!="undefined",_i("popState(",t,") called, modern browser: ",e.pushState?"y":"n"),t)return;let r=s=>{let l=Uc("tab",!0);l?l=`#tabby-${l}-finder`:s?l=`#tabby-${s}-finder`:l=".tabby-default-finder",e.pushState&&_i("goto tab: ",l," ################################################### STATE"),e.tabby_no_pushState_next_click=!0,we(l).click()};e.pushState&&we(window).on("popstate",()=>r()),r()}static tabby(t,r){_i("AJS.tabby()",r);let s=r.replace(/tabby-/,"").trim();if(!(s==="uploads"||s==="reviews"||s==="collections"||s==="loans"||s==="web archives")){if(we(".tabby-data.in").removeClass("in").hide(),we(`#${r}`).removeClass("hidden").addClass("in").show(),we(".tabby").removeClass("in"),we(t).parents(".tabby").addClass("in"),e.tabby_no_pushState_next_click)delete e.tabby_no_pushState_next_click;else if(e.pushState&&typeof history.pushState!="undefined"){let l=we(t).attr("href"),o=location.href,c=location.protocol.concat("//",location.host,l);o!==c&&(_i("pushState: ",l," ################################################### STATE"),history.pushState({},"",c))}(s==="collection"||s==="about")&&(s==="about"&&e.grafs(),e.tiler()),e.pushState&&(event==null||event.preventDefault())}}static collectionSummaryMoreClicked(){return e.tabby("#tabby-about-finder","tabby-about")}static head_img_dragdrop_setup(t){e.head_img_dragdrop_setup_done||(_i("head_img_dragdrop_setup"),e.head_img_dragdrop_setup_done=!0,we("#file-dropper-wrap").bind("mouseenter",()=>{_i("enter"),e.head_img_replaceable(t),we("#file-dropper").show()}).bind("mouseleave",()=>{_i("ouddie"),e.file_picked||we("#file-dropper").hide()}),we("body").bind("dragover",r=>(_i("dragover"),r.stopPropagation(),r.preventDefault(),e.head_img_replaceable(t),we("#file-dropper").addClass("drag_over").show(),!1)),we("body").bind("dragleave",r=>{_i("dragleave");let s=we("#file-dropper-wrap").is(":hover")||we("#file-dropper     ").is(":hover")||we("#file-dropper-img ").is(":hover"),l=r.pageX||r.originalEvent.pageX,o=r.pageY||r.originalEvent.pageY;if(!s){let c=we("#file-dropper-wrap"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(s=!0)}if(!s){let c=we("#file-dropper"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(s=!0)}s||we("#file-dropper").removeClass("drag_over").hide()}))}static head_img_replaceable(t){if(we("#file-dropper").html().trim()!=="")return;we("#file-dropper").show().html(`
<div>
<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"
        title="cancel file upload" alt="cancel file upload">
  &times;
</button>
<b>
  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />
</b><br/>
<b>
  Drag & Drop an image file here or
</b>
<button id="file-picker" type="button" class="btn btn-info btn-xs">
  Pick image to upload
</button>
<form method="POST" action="/services/post-file.php?submit=1&identifier=${t}"
      enctype="multipart/form-data" id="poster">
  <div class="hidden">
    <input id="file-selector" name="file" type="file" accept="image/*"/>
  </div>
  <input type="hidden" name="identifier" value="${t}"/>
  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>
  <div id="file-uploading">
    Uploading your file..
  </div>
</form>
</div>`),tn("#file-picker",()=>we("#file-selector").click()),we("#file-cancel").bind("click",u=>(e.cancelFile(),u.stopPropagation(),u.preventDefault(),!1));let r=()=>{_i("success!")},s=()=>{let u=!1;typeof XMLHttpRequest=="undefined"&&(u="browser appears to not have HTML5 functionality"),u||(u=e.badFile());let p=new XMLHttpRequest;if(u||(_i(e.file2post),p.upload||(u="browser submit setup failed")),u)return u;_i("post");let g=Math.round(Date.now()/1e3);p.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",t,"&fname=",encodeURIComponent(e.file2post.name))),p.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),p.send(e.file2post),_i("posted in background"),we("#file-dropper").html("waiting for your tasks to queue");let m=!1;return m=setInterval(()=>{_i("STALKING..."),we.getJSON(`/metadata/${t}?rand=${Math.random()}`,x=>{let w=x.pending_tasks&&x.tasks?x.tasks.length:0;w?x.tasks.filter(S=>S.wait_admin===2).length?(we("#file-dropper").html(`
                  <div class="alert alert-danger">
                    status task failure -- an admin will need to resolve
                  </div>`),clearInterval(m)):we("#file-dropper").html(`waiting for your ${w} tasks to finish`):(_i("last update",x.item_last_updated,"vs now",g),x.item_last_updated<g?we("#file-dropper").html("waiting for your tasks to queue"):(_i("task(s) done!"),clearInterval(m),we("#file-dropper").html("reloading page with your image"),window.location.reload()))})},2e3),""};we("#file-selector").bind("click",()=>{e.file_picked="selected"}).bind("change",u=>{_i("file dropdown selected!"),we("#file-submit, #file-cancel").show(),_i(u),u.target&&u.target.files&&u.target.files.length&&([e.file2post]=u.target.files,e.previewFile())}),we("#file-dropper").bind("drop",u=>{var p,g;u.stopPropagation(),u.preventDefault(),we("#file-dropper").removeClass("drag_over"),we("#file-submit, #file-cancel").show(),(g=(p=u.originalEvent)==null?void 0:p.dataTransfer)!=null&&g.files&&(_i(u.originalEvent.dataTransfer.files),e.file_picked="dropped",[e.file2post]=u.originalEvent.dataTransfer.files,e.previewFile(),we("#file-selector").files=u.originalEvent.dataTransfer.files)}),we("#poster").bind("focusin",u=>{_i(u.type),we("#file-uploading").show()}).bind("submit",u=>{_i("submit!"),we("#file-uploading").show();let p=s();return p===""?(r(),u.stopPropagation(),u.preventDefault(),!1):e.file_picked==="dropped"?(e.cancelFile(),alert(`Failure: ${p}`),u.stopPropagation(),u.preventDefault(),!1):!0});let l=we("#file-dropper-img").outerWidth(),o=we("#file-dropper-img").outerHeight(),c=we("#file-dropper").outerWidth(),n=we("#file-dropper").outerHeight();we("#file-dropper").css({left:Math.round((l-c)/2),top:Math.round((o-n)/2)}),Nl&&(we("#file-dropper > form > div.hidden").removeClass("hidden"),we("#file-dropper > button").addClass("hidden"))}static previewFile(){if(we("#file-dropper .uppreview").remove(),e.badFile())return e.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;let t=new FileReader;return t.onload=r=>{_i(r.target);let s=new Image;s.src=r.target.result,we("#file-dropper").append(s),we(s).addClass("uppreview")},_i(e.file2post),t.readAsDataURL(e.file2post),!0}static cancelFile(){we("#file-dropper .uppreview").remove(),we("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),e.file_picked&&delete e.file_picked,e.file2post&&delete e.file2post}static badFile(){let t=!1;if(!t&&!e.file2post&&(t="file is missing"),!t&&e.file2post.size>8e6&&(t="file is over 8MB in size"),!t){let r=e.file2post.type.toLowerCase();r!=="image/jpeg"&&r!=="image/png"&&r!=="image/gif"&&(t="file not required format of JPEG or PNG or GIF")}return t&&alert(t),t}static drawPDF(t,r){let s="/download/".concat(t,"/",t,"_pdf.zip/",t,"_pdf/",t,"_"),l=!1,o=!1;for(let p of Object.keys(r)){let g=p.slice(0,4);if(o===!1&&(o=g),o!==g){l=!0;break}}let n="",u=666;for(let p of Object.keys(r)){if(p==="yyyymmdd")continue;let g=r[p].split(","),m=p.slice(0,4),y=parseInt(p.slice(4,6),10),x=parseInt(p.slice(6,8),10),w=m.concat("-",y),k=!1,S="";w!==u&&(y===1?S="January":y===2?S="February":y===3?S="March":y===4?S="April":y===5?S="May":y===6?S="June":y===7?S="July":y===8?S="August":y===9?S="September":y===10?S="October":y===11?S="November":y===12?S="December":y===void 0?S="Single Page PDFs":S="Unknown_".concat(y),l&&(S=m.concat(" ",S)),n+=n?"</div><!--mo--><br/>":"",n+=`
<a href="#${S},${m}" class="year-month" data-toggle="#m${w}">
  <span class="iconochive-folder"></span> ${S}
</a>
<div class="mo" id="m${w}">`),(x===void 0||x==="")&&(k=!0),k?n+='<div class="day">':n+=`
<div class="day">
<a href="#${w}-${x}" class="year-month-day" data-toggle="#m${w}d${x}">
  <span class="iconochive-folder" /> ${x}
</a>
<div class="pages" id="m${w}d${x}">`;let P=1,E,O;for(let a=0;a<g.length;a++){if(E=g[a],!E)continue;P>0&&(P=1-E),O=parseInt(E,10)+P,E="0000".concat(E),E=E.substr(E.length-4,4);let h=s.concat(E,".pdf");n+=`<a href="${h}">[${O}]</a> `}k?n+="</div>":n+="</div><!--pages--></div><!--day-->",u=w}n+="</div><!--mo-->",we("#pdfs .replaced").html(n),tn("#pdfs .year-month",p=>we(we(p.currentTarget).data().toggle).toggle()),tn("#pdfs .year-month-day",p=>we(we(p.currentTarget).data().toggle).toggle())}static grafs(){let t=we("#grafs_views_api"),r=we("#grafs2"),s=r.attr("data-id");_i("loading grafs"),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),r.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();let l="<h2>";we.get("/details/".concat(s,"&grafs=1&v=3"),o=>{let c=o.split(l);c.length>=3&&(we("#activity-reviewsN").html(c[1]).parents(".activity-box").show(),we("#activity-forumN  ").html(c[2]).parents(".activity-box").show()),c.length===6?(t.html(l+c[3]),r.html(l+c[5])):(t.html("(graph data not available)"),r.html("(graph data not available)")),e.plot_graphs()}),Vc.setUpTopRegionsTable()}static quick_down(t,r){let s=`#${t}`;if(we(".format-group.in").length)we(".format-group").slideDown(400),setTimeout(()=>{we(".format-group.in").removeClass("in"),we(".download-button").html("DOWNLOAD OPTIONS")},400),we(s).slideUp();else{let l=we(r).text(),o=we(s).parents(".format-group");we(".download-button").html(l.concat(" FILES")),o.addClass("in"),we(".format-group:not(.in)").slideUp(),we(s).slideDown()}return!1}static arg(t,r){let s=r&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let l=0;l<s.length;l++)if(s[l].slice(0,s[l].indexOf("="))===t){let o=s[l].slice(s[l].indexOf("=")+1);return o.length>0?unescape(o):""}return""}static scrolled(){let t=we(window).scrollTop(),r=".more_search:visible",s=we(r);if(!s.length)return;let l=s.offset().top+s.outerHeight()-we(window).height()-40;t>l&&(_i("hit rock bottom > ",l),e.more_searching||we(r.concat(" > a")).get(0).click())}static more_search(t,r,s){let l=e.selector();if(l===!1)return!1;let o=l.replace(/#ikind-/,""),c=we(l.concat(" .more_search")),n=l;if(typeof e.page_map=="undefined"&&(e.page_map={}),typeof e.page_map[n]=="undefined"&&(e.page_map[n]=s||1),e.page_map[n]<0)return!1;e.page_map[n]+=1;let u=e.page_map[n];c.find(".more-search-fetching").show(),e.more_searching=!0;let p=r+u,g=location.protocol.concat("//",location.host,p);return p+="&scroll=1",_i("url: ",p),_i("urlreplace",g),_i("more_search(selector=",l,"sort=",o,"page=",u,"url=",p,")"),we.get(p,m=>{if(m.length<100&&we(m).find("div.no-results")){c.find(".more-search-fetching, a.btn").hide(),e.page_map[n]=-1,e.more_searching=!1;return}e.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",g);let y=we(l).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[y]&&delete e.tilerPREV.unsourced[y];let x=we(l.concat(" .results"));x.append(e.addNotes(e.addingNotesKind,m)),e.tiler(l),c.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(x),we(l.concat(" img")).on("load",()=>{clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(u)}),!1}static embed_codes_adjust(){_i("showing embeds!");for(let t of["embedcodehere","embedcodehereWP"]){let r=we(`#${t}`);r.removeAttr("rows").css("height","");let s=r.text();we("body").prepend(we("<div/>").attr({id:`${t}Shadow`,class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(s));let l=we(`#${t}Shadow`).outerHeight()+15;_i(t,"bestie height",l,"for current width",r.width()),we(`#${t}Shadow`).remove(),r.height(l)}}static modal_add(t,r){we(t).length&&we(t).remove();let s=t.replace(/#/,""),{prepended_el:l=document.body}=r;return we(l).prepend(`
<div id="${s}" class="modal fade" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header ${r.headerClass!==void 0?r.headerClass:"modal-header-std"}">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <span class="iconochive-remove-circle"></span>
      </button>
      <h1 class="modal-title">
        ${typeof r.title=="undefined"?"Confirmed":r.title}
      </h1>
    </div>
    <div id="${s}-body">
      ${typeof r.body=="undefined"?"":r.body}
    </div>
  </div>
</div>
</div>`),we(t)}static isFavoriteSuccessful(t){return t.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}static modal_go(t,r){let s=r,l=we(t);if(typeof we.fn.modal=="undefined"){if(r.recalling)throw Error("still cant modal -- are there two jquery on the page?");return r.recalling=1,Promise.resolve().then(()=>(Sf(),Af)).then(()=>e.modal_go(t,r)),!1}s.favorite&&(s.login=!0,Fn.get("logged-in-user")!==void 0&&(go.toggle_favorite_icon(l,!0),go.update_favorite_count(!0)));let o=l.attr("data-target"),c=s.favorite?l.attr("data-href"):l.attr("href");if((!s.ignore_lnk||s.add_modal)&&e.modal_add(o,s),s.shown&&we(o).on("shown.bs.modal",()=>{s.shown()}),s.follow_link_on_dismiss&&we(o).on("hidden.bs.modal",()=>{_i("modal hidden, going to ",c,".."),we("body").removeClass("blurry"),location.href=c}),s.login&&Fn.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;let n="/account/login";return we.get(n,u=>{let p=we(u).find(".container-ia > div").length?we(u).find(".container-ia > div").get(0):u;we(o).addClass("login-modal"),we(o.concat("-body")).html(p),we(o).modal("show");let g=we(o.concat("-body form:has(input[type=submit])"));if(!g.length)return;let m=we(".password_icon")[0];navigator.cookieEnabled===!0?(we(".cookie-warning").addClass("hidden"),we(".login-form :input").prop("disabled",!1),m.src="/images/eye-crossed.svg",m.alt="Show text",we(".password_icon").on("click",()=>{let y=we(".input-password")[0];y.type==="password"?(y.type="text",m.src="/images/eye.svg",m.alt="Hide text"):(y.type="password",m.src="/images/eye-crossed.svg",m.alt="Show text")}),we(".input-email, .input-password").on("focus",()=>{we(".password-error").html(""),we(".reset-password").show()})):(we(".cookie-warning").removeClass("hidden"),we(".login-form :input").prop("disabled",!0)),iy({$form:g,url:n,selector:o,element:t,conf:s})}),!1}return s.auto_remove&&(s.auto_close=!0,we(o).on("hidden.bs.modal",()=>{we(o).remove(),we("body").removeClass("blurry")})),s.ignore_lnk?we(o).modal("show"):(we.get(c,n=>{if(s.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(n))setTimeout(()=>{s.postLogin&&location.reload(!0)},e.modalInterval);else{go.toggle_favorite_icon(l,!1),go.update_favorite_count(!1);let u=we(o),p=`
              <center>
                <p class="favorite-failure-message">
                  There was an error adding the favorite. If the problem persists, please contact support.
                </p>
              </center>
            `;u.find(".modal-title").html("Failed"),u.find(`${o}-body`).html(p),we(o).modal("show")}else we(o).modal("show"),s.auto_close&&setTimeout(()=>we(o).modal("hide"),e.modalInterval)}),we(o).on("hidden.bs.modal",()=>{we(o).remove()})),s.center&&we(o.concat(" .modal-dialog")).center(),s.auto_close&&s.ignore_lnk&&setTimeout(()=>we(o).modal("hide"),e.modalInterval),!1}static suffixFmt(t,r){return r.min>=0&&r.max<=5?Math.round(t*10,1)/10:t>=1e6?(t/1e6).toFixed(0).concat(" M"):t>=1e3?(t/1e3).toFixed(0).concat(" K"):t.toFixed(0)}static suffixFmtPercent(t,r){return e.suffixFmt(t,r).concat("%")}static pluralize(t,r,s){return t===1?r:s}static viewMessage(t,r,s){let l=r.length,o="<table><tr>";o+=`<th class="tt-date" rowspan="${l}">${t[2]} ${t[3]}</th>`,o+=`<td class="tt-number">${Yo(r[0])}</td>`,o+=`<td>${e.pluralize(r[0],"View","Views")} ${s[0]}</td></tr>`;for(let c=1;c<l;c++)o+=`<tr><td class="tt-number">${Yo(r[c])}</td>`,o+=`<td>${e.pluralize(r[c],"View","Views")} ${s[c]}</td></tr>`;return o+="<table>",o}static plot_graphs(){we(".js-ajs-plotter").each((t,r)=>{let s=JSON.parse(we(r).val());e.plotter(()=>{var o,c,n;_i("js-ajs-plotter",s);let l=JSON.parse(s.cfg);s.dayBarsNoPoints&&(l.dayBarsNoPoints=!0),s.dark&&(l.dark=!0),((o=l.yaxis)==null?void 0:o.tickFormatter)==="AJS.suffixFmt"&&(l.yaxis.tickFormatter=e.suffixFmt),s.fmt==="AJS.broadcastsTooltip"?s.fmt=e.broadcastsTooltip:s.fmt==="AJS.airedTooltip"?s.fmt=e.airedTooltip:((c=s.fmt)==null?void 0:c.length)===3&&s.fmt[0]==="AJS.graphsTooltip"?s.fmt=e.graphsTooltip(s.fmt[1],s.fmt[2]):((n=s.fmt)==null?void 0:n.length)===3&&s.fmt[0]==="AJS.statsTooltip"&&(s.fmt=e.statsTooltip(s.fmt[1],s.fmt[2])),e.plot(s.id,l,s.fmt,JSON.parse(s.pts),s.many)})})}static broadcastsTooltip(t,r){let s=new Date(t).toUTCString().split(" ");return`<nobr>${Yo(r)} broadcasts on ${s[2]} ${s[3]}</nobr>`}static airedTooltip(t,r){let s=new Date(t).toDateString().split(" ");return`<nobr>Aired ${Yo(r)} times on ${s[1]} ${s[2]}</nobr>`}static graphsTooltip(t,r){return(s,l)=>{let o=new Date(s).toDateString().split(" ");return`<nobr>${Yo(l)} ${t} in ${o[1]} ${r==="day"?o[2]:""} ${o[3]}</nobr>`}}static statsTooltip(t,r=0){let s;switch(t){case"main":{s=({y:o,t:c})=>`${Yo(o)} total items in <strong>${c[2]} ${c[3]}</strong>`;break}case"item":{s=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${Yo(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Item","Items")}`;break}case"download":{s=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${Yo(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Download","Downloads")}`;break}case"view":{s=({t:o,values:c,labels:n})=>e.viewMessage(o,c,n);break}default:break}return(o,c,n,u,p)=>{let g=new Date(o-r).toUTCString().split(" ");return`<span style="white-space: nowrap;">${s({x:o,y:c,item:n,t:g,values:u,labels:p})}</span>`}}static plotter(t){if(typeof e.plotters=="undefined"&&(e.plotters=[]),t)e.plotters.push(t),t();else{_i("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(let r=0;r<e.plotters.length;r++)e.plotters[r]()}}static plot(t,r,s,l,o){let c=r;c.xaxis||(c.xaxis={mode:"time",color:c.dark?"#ccc":"#545454"}),c.yaxis||(c.yaxis={color:c.dark?"#ccc":"#545454"});let n;o&&c.barWidth?n=c.barWidth*1:c.barWidth?n=c.barWidth*86400*1e3:n=(c.dayBarsNoPoints?1:7)*86400*1e3,c.color||(c.color="#385C74"),c.stack?c.series={stack:!0,bars:{show:!0,barWidth:n,fill:!0},legend:{show:!0}}:c.series={bars:{show:!0,barWidth:n,fill:.6,color:c.color},color:c.color,points:{show:!c.dayBarsNoPoints}},typeof c.grid=="undefined"&&(c.grid={borderColor:c.dark?"#333":"#aaa",hoverable:!0}),c.dark&&(c.grid.backgroundColor="#002b36"),c.tip||(c.tip={}),c.tip.id||(c.tip.id=t),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});let u=[];c.series.stack?u=l:(u=o?l:typeof l.data=="undefined"?[{data:l}]:[l],c.dayBarsNoPoints&&!c.noLabel&&(u[0].label=t));let p=`#${t}`;Promise.resolve().then(()=>(hb(),db)).then(()=>{Promise.all([Promise.resolve().then(()=>(bb(),yb)),Promise.resolve().then(()=>(Cb(),Sb))]).then(()=>{let g=we.plot(we(p),u,c);s&&we(p).bind("plothover",(m,y,x)=>{if(!x){window.GraphPriorDatapoint=[0,0,0],we("#gtip").remove();return}if(window.GraphPriorDatapoint!==x.datapoint){window.GraphPriorDatapoint=x.datapoint,we("#gtip").remove();let w=[],k=[];if(c.stack){let h=g.getData();for(let v=0;v<h.length;v++){let d=h[v];k[v]=d.label;for(let _=0;_<d.data.length;_++)if(d.data[_][0]===x.datapoint[0]){w[v]=d.data[_][1];break}}}let S=s(x.datapoint[0],x.datapoint[1],x,w,k),P=we(p),E=P.offset(),{pegTo:O}=c.tip;O||(O=y.pageX-E.left>P.width()/2?"right":"left");let a=O==="right"?P.width()-(y.pageX-E.left-20):y.pageX-E.left+20;_i(O,a),we(`#${c.tip.id}`).append(`<div id="gtip" class="roundbox5 grafs-tooltip" style="top:${y.pageY-E.top}px; ${O}:${a}px">${S}</div>`).fadeIn(200)}})})})}static makeMouseElementAccessible(t){we(t).attr("tabindex","0").on("keypress keydown",function(s){if(s.type!=="click"){let l=s.keyCode||s.which;[32,13].indexOf(l)!==-1&&we(this).click()}})}static autocomplete(t,r,s){Promise.resolve().then(()=>(ef(),Qp)).then(()=>{we(t).autocomplete({appendTo:"#autocompletee",minLength:0,source:(l,o)=>{o(we.ui.autocomplete.filter(r,l.term.split(/,\s*/).pop()))},focus:()=>!1,select:function(o,c){if(s){let n=this.value.split(/,\s*/);n.pop(),n.push(c.item.value),n.push(""),this.value=n.join(", ")}else this.value=c.item.value;return!1}})})}static addNotes(t,r){if(t!=="favorite"&&t!=="list"||(!r&&we("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind))return r;if(e.addNoteHTM=we(`
<div class="note">
  <span class="edit">
    <a href="#" class="js-note-add">Add a Note</a>
  </span>
</div>`),_i("addNotes"),r){let s=we(`<div>${r}</div>`);return s.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),s.html()}return we('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),tn(".js-note-add",s=>e.editNote(s.currentTarget))}static editNote(t){let r=we(t);if(!r.parents(".details-ia").prev().attr("data-id"))return!1;let l=r.parents(".note"),o="";return r.text()==="edit"&&(o=l.find("span:first").text(),o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(we(`
<form class="js-note-submit form form-horizontal note" role="form">
  <div class="form-group">
    <div class="col-xs-2 col-md-1 col-lg-1">
      <b>Note:</b>
    </div>
    <div class="col-xs-10 col-md-6 col-lg-7">
      <textarea class="form-control" name="comments">${o}</textarea>
      <div class="clearfix visible-xs-block"></div>
    </div>
    <div class="clearfix visible-xs-block"></div>
    <div class="col-xs-12 col-md-5 col-lg-4 btns">
      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>
      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>
      <button type="button" class="js-note-edited btn btn-danger btn-xs ${o?"":"hidden"}">Remove</button>
    </div>
  </div>
</form>`)),tn(".js-note-edited",c=>e.editedNote(c.currentTarget)),fy(".js-note-submit",c=>e.editedNote(c.currentTarget)),!1}static editedNote(t){let r=we(t),s=r.parents(".details-ia").prev().attr("data-id");if(!s)return;r.is("form")&&(r=r.find('button:contains("Save")'));let l=r.text(),o=r.parents(".note"),c=o.prev();if(l==="Save"||l==="Remove"){let n=l==="Save"?o.find("textarea").val():"",u="/bookmarks.php?identifier=".concat(s,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(n));_i("get ",u),we.get(u,()=>{let p=n?`Note: "<span>${n.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>"
          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>`:e.addNoteHTM.html();c.html(p).show(),o.remove(),tn(".js-note",g=>e.editNote(g.currentTarget))});return}c.show(),o.remove()}static thumbzilla(t=""){var o,c;let r=we("body").hasClass("tv");r&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),t||(t=(o=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:o[1]);let s="",l=()=>{we("#opscreen1M").remove(),we("body").prepend(we("<div />").attr({id:"opscreen1M"})),we("<div/>").attr({id:"thumbzilla"}).html(`<div>${s}</div>`).appendTo("#opscreen1M"),we("#opscreen1M").css("visibility","hidden").show();let u=we(window).height()+(Nl?60:0);for(let p=720;p>=10;p-=10){let g=Math.round(p*.6875);if(_i("TRYING",p,"x",g),we("#thumbzilla img").css({width:p,height:g}),we("#thumbzilla img:last").offset().top+g<=u)break}we("#thumbzilla div").center(),we("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",()=>we("#opscreen1M").fadeOut("slow")),window!=null&&window.TV2&&tn(".js-tvthumb",p=>{we("#opscreen1M").fadeOut("slow"),TV2.seekURL(we(p.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(r&&we(".js-tv3-init").length){let n=JSON.parse((c=we(".js-tv3-init").val())!=null?c:"{}");we(n["TV3.thumbzillas"]).each((u,p)=>{let g=parseInt(p,10),m=`/details/${t}/start/${g}/end/${g+n["TV3.CLIP_SEC_MAX2"]}`;s+=`<a class="js-tvthumb" href="${m}">`,s+=`<img src="/download/${t}/${t}.thumbs/${t}_${p}.jpg"/></a>`}),l()}else we.getJSON(`/metadata/${t}/files`,n=>{for(let u of n.result){let p="original"in u&&u.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);p&&(s+=`
              <a href="/details/${t}/${u.original}?start=${Number(p[1])}"><img src="/download/${t}/${u.name}"></a>
            `)}s&&l()});return!1}static setUpSearchForms(){let t=we(document.body),r=we(".js-search-form");function s(l){let o=we(l),c=o.find(".js-search-bar"),n=o.find(".js-search-options"),u=n.data("keepOpenWhenChanged"),p=!1;function g(w){let{waybackMachineSearchUrl:k}=this.dataset,S=we(this.elements),P=S.filter('[name="sin"]:checked'),E=S.filter('[name="search"]'),O=P.length?P[0].value:"",a=E.length?E[0].value:"";k&&O==="WEB"&&(w.preventDefault(),window.location=[k.replace(/\/$/,""),a].join("/"))}function m(){n.addClass("is-open").attr("aria-expanded",!0)}function y(){n.removeClass("is-open").attr("aria-expanded",!1)}function x(w){!w||o[0].contains(w)||u&&p||we(w).parents(".ui-autocomplete").length||y()}o.length&&(o.on("submit",g),n.hasClass("is-open")||(t.on("click",w=>{x(w.target)}),o.on("change",()=>{p=!0}).on("focusout",w=>{x(w.relatedTarget)}),c.on("focusin",()=>{m()})))}r.each((l,o)=>s(o))}static setUpAccordions(){function t(s,l){Array.from(s).forEach(o=>{o!==l&&(o.open=!1)})}function r(s){function l(o){o.target.open&&(t(s.querySelectorAll("details"),o.target),we("html, body").animate({scrollTop:we(o.target).offset().top},400))}Array.from(s.querySelectorAll("details")).forEach(o=>{o.addEventListener("toggle",l)}),s.setAttribute("data-accordion-ready","")}Array.from(document.querySelectorAll("[data-accordion]")).forEach(r)}static advanced_search(t){if(!e.is_advanced_TV_search(t))return!0;e.adv||(e.adv={mapping:!1});let r=new Date().toISOString().substr(0,10);we.ajaxSetup({cache:!0});let s=`https://${location.host}/includes/`;return we.when(typeof TVSearch!="undefined"||we.getScript(s.concat("build/js/tvsearch.min.js?",r)),e.adv.mapping||we.getJSON("/details/tv?mappings&output=json&".concat(r),l=>{e.adv.mapping=l})).then(()=>{if(e.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(e.adv.mapping,t)}),!1}static is_advanced_TV_search(t){if(location.hostname==="web.archive.org"||we(document.body).hasClass("top"))return!1;let r=we(t).parents("form");return r.find(".js-search-options input[value=TV]").is(":checked")?r:!1}static isTextClamped(t){return t.clientHeight<t.scrollHeight}static bindClampCheckbox(t){let r=t.nextElementSibling;if(r&&r.type==="checkbox"){let s,l;we(r).on("click",()=>{if(we(r).is(":checked")){let o=window.visualViewport.pageTop;s=t.getBoundingClientRect().top+o,l=s<o?s-10:o}else s<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}static unbindClampCheckbox(t){let r=t.nextElementSibling;r&&r.type==="checkbox"&&r.checked&&we(r).off("click")}};we(()=>{we(".tabby a").click(c=>{let n=we(c.currentTarget).attr("data-tabby");xr.tabby(c.currentTarget,`tabby-${n}`)}),we(".js-tiles-setup").each((c,n)=>{let u=JSON.parse(we(n).val());xr.lists_v_tiles_setup(u.toggle_range),we("div.ikind").css({visibility:" visible"}),u.popState!==!1&&xr.popState(u.popState),xr.tiler(),we(window).on("resize  orientationchange",p=>{clearTimeout(xr.tiles_wrap_throttler),xr.tiles_wrap_throttler=setTimeout(xr.tiler,250)}),we(window).scroll(xr.scrolled)}),xr.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),we(".js-tiles-toggle").click(c=>{let n=we(c.currentTarget).attr("data-range");return xr.tiles_toggle(c.currentTarget,n)}),we(".js-ikind-link").click(c=>{let n=we(c.currentTarget).attr("data-id");xr.ikind(c.currentTarget,`ikind-${n}`)}),we(".js-more-search").click(c=>{let n=c.currentTarget,u=decodeURIComponent(we(n).attr("data-more-search")),p=parseInt(we(n).attr("data-page"),10);return xr.more_search(n,u,p),!1}),we("#showdetails").on("change",c=>{let n=we(c.currentTarget).attr("data-toggle-range");xr.showdetails_toggle(n)}),we(".ikind-mobile").on("change",c=>{xr.ikind_mobile_change(c.currentTarget)}),xr.setUpSearchForms(),xr.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),xr.modalInterval=2e3,ey.init(),Wc.setup(),we(".js-search-beta-opt-in").each((c,n)=>{we(n).on("click",()=>{window.localStorage.setItem("SearchBeta-opt-in",!0)})}),we(".js-collection-setup").each((c,n)=>{let u=JSON.parse(we(n).val());u.about&&xr.grafs(),xr.addNotes(u.is_list),we(window).on("resize  orientationchange",p=>{clearTimeout(xr.plotter_throttler),xr.plotter_throttler=setTimeout(xr.plotter,250)})}),we(".js-collection-setup2").each((c,n)=>{let u=JSON.parse(we(n).val());u.editable&&(we("#editlink").show(),u.image!==""&&xr.head_img_dragdrop_setup(u.image))}),we(".js-account-setup").each((c,n)=>{var p;let u=JSON.parse(we(n).val());xr.head_img_dragdrop_setup(u.dragdrop),(p=u.darking_ids)!=null&&p.length&&go.decorate_pendings(u.darking_ids)}),xr.plot_graphs(),we(".js-pages").each((c,n)=>{let u=JSON.parse(we(n).val());xr.drawPDF(u.identifier,JSON.parse(u.pages))}),we(".js-carousel2").each(()=>{xr.theatresize(),xr.carouselsize("#ia-carousel",!0)}),we(".tablesorter").each((c,n)=>{let u={textExtraction:"complex"};we("body").hasClass("js-tv-programPageColumnSorting")?u.headers={0:{sorter:!1}}:we("body").hasClass("services-views")&&(u.ignoreCase=!0,u.sortList=[[1,0]],u.widgets=["saveSort"],u.widgetOptions={saveSort:!0}),typeof we.fn.tablesorter=="undefined"?Promise.resolve().then(()=>(Lb(),Mb)).then(()=>{we(n).tablesorter(u)}):we(n).tablesorter(u)}),tn(".js-ebook-maker",c=>xi(void 0,null,function*(){let n=c.currentTarget;n.parentElement.textContent="Generating...";let{maker:u}=we(n).data();_i({maker:u});let p=new URLSearchParams;for(let[m,y]of Object.entries(u))p.append(m,encodeURIComponent(y));let g=yield fetch("/services/make-ebook.php",{method:"POST",body:p});_i({res:g})}));let e=we(".js-date_switcher"),t=!xr.isTouchDevice()&&typeof we.fn.tooltip=="undefined"?we('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||e.length)&&Promise.resolve().then(()=>(Sf(),Af)).then(()=>{t.length&&t.tooltip({}),e.each((c,n)=>xr.date_switcher(JSON.parse(we(n).val())))}),tn(".js-createclick",c=>{location.href="/create/"}),tn(".js-colclick",c=>{let n=we(c.currentTarget),u=n.attr("data-id"),p=u&&!u.startsWith("__id_")?`/details/${u}`:n.find("a").attr("href");u&&we("body").hasClass("tiles")&&!n.hasClass("manage-item")&&(location.href=p)}),tn(".js-note",c=>xr.editNote(c.currentTarget)),tn(".js-inliner",c=>{if(window.inlined)return;window.inlined=!0;let n=`${c.currentTarget.href}&nochrome=1`,u=we(c.currentTarget).parent().parent().parent();u.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),we.get(n,p=>{we("#loadin").remove(),u.append(`<hr/>${p}`)})}),tn(".js-auto-submit-perpetual",()=>{document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),hy(".js-auto-submit-cmd",c=>{c.currentTarget.value==="delete.php"&&alert(`
        WARNING: The "lost_item" arg is automatically
        added to delete.php tasks submitted through this form.
        That means the command can be used only to
        tidy our records for items that have already
        gotten lost, not to delete existing items.
        If run on an item that actually exists still,
        the task will redrow.`)}),tn(".js-slide-toggle",c=>we(we(c.currentTarget).data().target).slideToggle()),tn(".js-ajs-deadlists",c=>{let{href:n}=c.currentTarget;window.open(n,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")}),tn(".show-more-button",c=>{we(".metadata-hidden").slideToggle("fast"),we(c.currentTarget).find(".show-more-button__text").toggle()}),tn(".js-archive-expand_files",c=>{let n=we(c.currentTarget),u=n.data("id");u&&xr.quick_down(u,n)}),tn(".js-archive-collapse_files",c=>{let u=we(c.currentTarget).data("id");u&&xr.quick_down(u)}),tn(".js-display-reviews",c=>{we(".details-reviews-list").show(),we(".display-reviews-msg").hide()}),tn(".js-reviews-deleteReview",c=>{if(confirm("Are you sure you want to delete this review?")){let n=we(c.currentTarget).attr("href");n&&(we.ajax({type:"POST",url:n}),we(c.currentTarget).parent().children(".review-body").html('<span class="deleted-review-msg">This review has been queued for deletion.</span>'))}}),tn(".js-reviews-expandReview",c=>{let n=we(c.currentTarget).closest(".aReview");n.find(".truncated-msg").hide(),n.find(".remainder").show()}),tn(".js-reviews-collapseReview",c=>{let n=we(c.currentTarget).closest(".aReview");n.find(".truncated-msg").show(),n.find(".remainder").hide()}),tn(".js-bookmark-removeBookmark",c=>{if(confirm("Are you sure you want to delete this favorite?")){let n=we(c.currentTarget).attr("href");n&&(window.location=n)}}),tn(".js-bookmarks-addCommentForm",c=>{let n=we(c.currentTarget).attr("identifier"),u=we(c.currentTarget).attr("action"),p=()=>{let P=document.getElementById(`${n}_form`);P.parentNode.removeChild(P);let E=document.getElementById(`${n}_commentLink`);E.style.display="";let O=document.getElementById(`${n}_existingComment`);O&&(O.style.display="")},g=document.createElement("form");g.action=u,g.method="post",g.id=`${n}_form`,g.style.margin="0",g.style.fontSize="12px",g.appendChild(document.createTextNode("Comment: "));let m=document.createElement("input");m.name="add_comment",m.type="text",document.getElementById(`${n}_existingCommentText`)&&(m.value=document.getElementById(`${n}_existingCommentText`).innerHTML),g.appendChild(m);let y=document.createElement("input");y.name="identifier",y.type="hidden",y.value=n,g.appendChild(y);let x=document.createElement("input");x.name="submit",x.type="submit",x.value="Save",g.appendChild(x);let w=document.createElement("input");w.type="button",w.id=`${n}_cancelButton`,w.rel=n,w.onclick=p,w.value="Cancel",g.appendChild(w),document.getElementById(`${n}_formSpan`).appendChild(g);let k=document.getElementById(`${n}_commentLink`);k.style.display="none";let S=document.getElementById(`${n}_existingComment`);S&&(S.style.display="none")});let r=document.querySelector("#js-useradmin-clipboard");r&&r.addEventListener("click",c=>{let n=Array.from(document.querySelectorAll(".js-useradmin-username")).map(u=>u.textContent).join(" ");navigator.clipboard.writeText(n)});let s=document.querySelector(".js-useradmin-search");s&&(s.addEventListener("submit",c=>{c.preventDefault(),Array.from(s.querySelectorAll("input")).filter(n=>!n.value).forEach(n=>{let u=n;u.disabled=!0}),s.submit()}),Array.from(s.querySelectorAll("input")).forEach(c=>{let n=c;n.disabled=!1}));let l=we(".js-clamp"),o="clamped";l.length&&(l.each((c,n)=>{xr.isTextClamped(n)&&(n.classList.add(o),xr.bindClampCheckbox(n))}),window.addEventListener("resize",gy(()=>{l.each((c,n)=>{xr.isTextClamped(n)?(n.classList.add(o),xr.bindClampCheckbox(n)):(xr.unbindClampCheckbox(n),n.classList.remove(o))})}),50))});window.AJS=xr});function xt(e){let t,r,s;return typeof e=="object"?(t=e.hashFunction,r=e.expiring,s=e.tags):t=e,(l,o,c)=>{if(c.value!=null)c.value=o1(c.value,t,r,s);else if(c.get!=null)c.get=o1(c.get,t,r,s);else throw"Only put a Memoize() decorator on a method or get accessor."}}function o1(e,t,r=0,s){let l=Symbol("__memoized_map__");return function(...o){let c;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let n=this[l];if(Array.isArray(s))for(let u of s)Qf.has(u)?Qf.get(u).push(n):Qf.set(u,[n]);if(t||o.length>0||r>0){let u;t===!0?u=o.map(m=>m.toString()).join("!"):t?u=t.apply(this,o):u=o[0];let p=`${u}__timestamp`,g=!1;if(r>0)if(!n.has(p))g=!0;else{let m=n.get(p);g=Date.now()-m>r}n.has(u)&&!g?c=n.get(u):(c=e.apply(this,o),n.set(u,c),r>0&&n.set(p,Date.now()))}else{let u=this;n.has(u)?c=n.get(u):(c=e.apply(this,o),n.set(u,c))}return c}}var Qf,Tn=Zt(()=>{Qf=new Map});var Wl,vo,Qa,Ea,es,ql,Nd,Gl,da,Nn=Zt(()=>{Wl=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};Wl.shared=new Wl;vo=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};vo.shared=new vo;Qa=class{parseValue(e){return vo.shared.parseValue(e)}};Qa.shared=new Qa;Ea=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let s=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(s=new Date(s.getTime()+s.getTimezoneOffset()*1e3*60)),s}};Ea.shared=new Ea;es=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((s,l)=>{let o=parseFloat(s);if(Number.isNaN(o))return t=!0,0;let c=En(60,e.length-1-l);return o*Math.floor(c)}).reduce((s,l)=>s+l,0);return t?void 0:r}};es.shared=new es;ql=class{parseValue(e){if(typeof e=="string")return e}};ql.shared=new ql;Nd=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let s of this.separators)if(r=t.split(s),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(s=>s.trim()).map(s=>this.parser.parseValue(s)),r=[];return t.forEach(s=>{s!==void 0&&r.push(s)}),r}},Gl=class{parseValue(e){if(typeof e=="string")return e}};Gl.shared=new Gl;da=class{parseValue(e){return String(e)}};da.shared=new da});var Zo,Ds,yo,em,Un,zr,P6,a1,tm,$6,O6,kr,Ta=Zt(()=>{wr();Tn();Nn();wr();Tn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Zo=class{get values(){return this.parseRawValue()}get value(){return this.values[0]}constructor(e,t){this.parser=e,this.rawValue=t}parseRawValue(){let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};de([xt()],Zo.prototype,"values",null);de([xt()],Zo.prototype,"value",null);Ds=class extends Zo{constructor(e){super(Wl.shared,e)}},yo=class extends Zo{constructor(e){super(Ea.shared,e)}},em=class extends Zo{constructor(e){super(es.shared,e)}},Un=class extends Zo{constructor(e){super(vo.shared,e)}},zr=class extends Zo{constructor(e){super(da.shared,e)}},P6=class extends Zo{constructor(e){super(Gl.shared,e)}},a1=class extends Zo{constructor(e){super(Qa.shared,e)}},tm=class extends Zo{constructor(e){super(ql.shared,e)}},$6=class extends Zo{constructor(e,t){super(t,e)}},O6=class extends $6{constructor(e){let t=new Nd(da.shared);super(e,t)}},kr=class{get identifier(){return this.rawMetadata.identifier}get addeddate(){return this.rawMetadata.addeddate!=null?new yo(this.rawMetadata.addeddate):void 0}get audio_codec(){return this.rawMetadata.audio_codec!=null?new zr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){return this.rawMetadata.audio_sample_rate!=null?new Un(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){return this.rawMetadata.avg_rating!=null?new Un(this.rawMetadata.avg_rating):void 0}get collection(){return this.rawMetadata.collection!=null?new zr(this.rawMetadata.collection):void 0}get collections_raw(){return this.rawMetadata.collections_raw!=null?new zr(this.rawMetadata.collections_raw):void 0}get collection_size(){return this.rawMetadata.collection_size!=null?new a1(this.rawMetadata.collection_size):void 0}get contributor(){return this.rawMetadata.contributor!=null?new zr(this.rawMetadata.contributor):void 0}get coverage(){return this.rawMetadata.coverage!=null?new zr(this.rawMetadata.coverage):void 0}get creator(){return this.rawMetadata.creator!=null?new zr(this.rawMetadata.creator):void 0}get collection_layout(){return this.rawMetadata.collection_layout!=null?new zr(this.rawMetadata.collection_layout):void 0}get date(){return this.rawMetadata.date!=null?new yo(this.rawMetadata.date):void 0}get description(){return this.rawMetadata.description!=null?new zr(this.rawMetadata.description):void 0}get downloads(){return this.rawMetadata.downloads!=null?new Un(this.rawMetadata.downloads):void 0}get duration(){return this.rawMetadata.duration!=null?new em(this.rawMetadata.duration):void 0}get external_identifier(){return this.rawMetadata["external-identifier"]!=null?new zr(this.rawMetadata["external-identifier"]):void 0}get files_count(){return this.rawMetadata.files_count!=null?new Un(this.rawMetadata.files_count):void 0}get indexdate(){return this.rawMetadata.indexdate!=null?new yo(this.rawMetadata.indexdate):void 0}get isbn(){return this.rawMetadata.isbn!=null?new zr(this.rawMetadata.isbn):void 0}get issue(){return this.rawMetadata.issue!=null?new zr(this.rawMetadata.issue):void 0}get item_count(){return this.rawMetadata.item_count!=null?new Un(this.rawMetadata.item_count):void 0}get item_size(){return this.rawMetadata.item_size!=null?new a1(this.rawMetadata.item_size):void 0}get language(){return this.rawMetadata.language!=null?new zr(this.rawMetadata.language):void 0}get length(){return this.rawMetadata.length!=null?new em(this.rawMetadata.length):void 0}get lineage(){return this.rawMetadata.lineage!=null?new zr(this.rawMetadata.lineage):void 0}get month(){return this.rawMetadata.month!=null?new Un(this.rawMetadata.month):void 0}get mediatype(){return this.rawMetadata.mediatype!=null?new tm(this.rawMetadata.mediatype):void 0}get noindex(){return this.rawMetadata.noindex!=null?new Ds(this.rawMetadata.noindex):void 0}get notes(){return this.rawMetadata.notes!=null?new zr(this.rawMetadata.notes):void 0}get num_favorites(){return this.rawMetadata.num_favorites!=null?new Un(this.rawMetadata.num_favorites):void 0}get num_reviews(){return this.rawMetadata.num_reviews!=null?new Un(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){return this.rawMetadata.openlibrary_edition!=null?new zr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){return this.rawMetadata.openlibrary_work!=null?new zr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){return this.rawMetadata.page_progression!=null?new P6(this.rawMetadata.page_progression):void 0}get partner(){return this.rawMetadata.partner!=null?new zr(this.rawMetadata.partner):void 0}get ppi(){return this.rawMetadata.ppi!=null?new Un(this.rawMetadata.ppi):void 0}get publicdate(){return this.rawMetadata.publicdate!=null?new yo(this.rawMetadata.publicdate):void 0}get publisher(){return this.rawMetadata.publisher!=null?new zr(this.rawMetadata.publisher):void 0}get reviewdate(){return this.rawMetadata.reviewdate!=null?new yo(this.rawMetadata.reviewdate):void 0}get runtime(){return this.rawMetadata.runtime!=null?new em(this.rawMetadata.runtime):void 0}get scanner(){return this.rawMetadata.scanner!=null?new zr(this.rawMetadata.scanner):void 0}get source(){return this.rawMetadata.source!=null?new zr(this.rawMetadata.source):void 0}get start_localtime(){return this.rawMetadata.start_localtime!=null?new yo(this.rawMetadata.start_localtime):void 0}get start_time(){return this.rawMetadata.start_time!=null?new yo(this.rawMetadata.start_time):void 0}get stop_time(){return this.rawMetadata.stop_time!=null?new yo(this.rawMetadata.stop_time):void 0}get subject(){return this.rawMetadata.subject!=null?new O6(this.rawMetadata.subject):void 0}get taper(){return this.rawMetadata.taper!=null?new zr(this.rawMetadata.taper):void 0}get title(){return this.rawMetadata.title!=null?new zr(this.rawMetadata.title):void 0}get transferer(){return this.rawMetadata.transferer!=null?new zr(this.rawMetadata.transferer):void 0}get track(){return this.rawMetadata.track!=null?new Un(this.rawMetadata.track):void 0}get type(){return this.rawMetadata.type!=null?new zr(this.rawMetadata.type):void 0}get uploader(){return this.rawMetadata.uploader!=null?new zr(this.rawMetadata.uploader):void 0}get utc_offset(){return this.rawMetadata.utc_offset!=null?new Un(this.rawMetadata.utc_offset):void 0}get venue(){return this.rawMetadata.venue!=null?new zr(this.rawMetadata.venue):void 0}get volume(){return this.rawMetadata.volume!=null?new zr(this.rawMetadata.volume):void 0}get week(){return this.rawMetadata.week!=null?new Un(this.rawMetadata.week):void 0}get year(){return this.rawMetadata.year!=null?new Un(this.rawMetadata.year):void 0}constructor(e={}){this.rawMetadata=e}};de([xt()],kr.prototype,"addeddate",null);de([xt()],kr.prototype,"audio_codec",null);de([xt()],kr.prototype,"audio_sample_rate",null);de([xt()],kr.prototype,"avg_rating",null);de([xt()],kr.prototype,"collection",null);de([xt()],kr.prototype,"collections_raw",null);de([xt()],kr.prototype,"collection_size",null);de([xt()],kr.prototype,"contributor",null);de([xt()],kr.prototype,"coverage",null);de([xt()],kr.prototype,"creator",null);de([xt()],kr.prototype,"collection_layout",null);de([xt()],kr.prototype,"date",null);de([xt()],kr.prototype,"description",null);de([xt()],kr.prototype,"downloads",null);de([xt()],kr.prototype,"duration",null);de([xt()],kr.prototype,"external_identifier",null);de([xt()],kr.prototype,"files_count",null);de([xt()],kr.prototype,"indexdate",null);de([xt()],kr.prototype,"isbn",null);de([xt()],kr.prototype,"issue",null);de([xt()],kr.prototype,"item_count",null);de([xt()],kr.prototype,"item_size",null);de([xt()],kr.prototype,"language",null);de([xt()],kr.prototype,"length",null);de([xt()],kr.prototype,"lineage",null);de([xt()],kr.prototype,"month",null);de([xt()],kr.prototype,"mediatype",null);de([xt()],kr.prototype,"noindex",null);de([xt()],kr.prototype,"notes",null);de([xt()],kr.prototype,"num_favorites",null);de([xt()],kr.prototype,"num_reviews",null);de([xt()],kr.prototype,"openlibrary_edition",null);de([xt()],kr.prototype,"openlibrary_work",null);de([xt()],kr.prototype,"page_progression",null);de([xt()],kr.prototype,"partner",null);de([xt()],kr.prototype,"ppi",null);de([xt()],kr.prototype,"publicdate",null);de([xt()],kr.prototype,"publisher",null);de([xt()],kr.prototype,"reviewdate",null);de([xt()],kr.prototype,"runtime",null);de([xt()],kr.prototype,"scanner",null);de([xt()],kr.prototype,"source",null);de([xt()],kr.prototype,"start_localtime",null);de([xt()],kr.prototype,"start_time",null);de([xt()],kr.prototype,"stop_time",null);de([xt()],kr.prototype,"subject",null);de([xt()],kr.prototype,"taper",null);de([xt()],kr.prototype,"title",null);de([xt()],kr.prototype,"transferer",null);de([xt()],kr.prototype,"track",null);de([xt()],kr.prototype,"type",null);de([xt()],kr.prototype,"uploader",null);de([xt()],kr.prototype,"utc_offset",null);de([xt()],kr.prototype,"venue",null);de([xt()],kr.prototype,"volume",null);de([xt()],kr.prototype,"week",null);de([xt()],kr.prototype,"year",null)});var qd,$o,ts,Bs,Xl,Gd,y1,Yd,Zl,Oo=Zt(()=>{qd=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};qd.shared=new qd;$o=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};$o.shared=new $o;ts=class{parseValue(e){return $o.shared.parseValue(e)}};ts.shared=new ts;Bs=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let s=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(s=new Date(s.getTime()+s.getTimezoneOffset()*1e3*60)),s}};Bs.shared=new Bs;Xl=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((s,l)=>{let o=parseFloat(s);if(Number.isNaN(o))return t=!0,0;let c=En(60,e.length-1-l);return o*Math.floor(c)}).reduce((s,l)=>s+l,0);return t?void 0:r}};Xl.shared=new Xl;Gd=class{parseValue(e){if(typeof e=="string")return e}};Gd.shared=new Gd;y1=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let s of this.separators)if(r=t.split(s),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(s=>s.trim()).map(s=>this.parser.parseValue(s)),r=[];return t.forEach(s=>{s!==void 0&&r.push(s)}),r}},Yd=class{parseValue(e){if(typeof e=="string")return e}};Yd.shared=new Yd;Zl=class{parseValue(e){return String(e)}};Zl.shared=new Zl});var k7,E1,T1,A7,P1,pm=Zt(()=>{k7={};(function(){var e,t={2617:function(o){o.exports=function(){var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=function(T){return!(!T||!T.Window)&&T instanceof T.Window};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.getWindow=function(T){return(0,c.default)(T)?T:(T.ownerDocument||T).defaultView||p.window},n.init=g,n.window=n.realWindow=void 0;var u=void 0;n.realWindow=u;var p=void 0;function g(T){n.realWindow=u=T;var R=T.document.createTextNode("");R.ownerDocument!==T.document&&typeof T.wrap=="function"&&T.wrap(R)===R&&(T=T.wrap(T)),n.window=p=T}n.window=p,typeof window<"u"&&window&&g(window);var m={};function y(T){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},y(T)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var x=function(T){return!!T&&y(T)==="object"},w=function(T){return typeof T=="function"},k={window:function(T){return T===n.window||(0,c.default)(T)},docFrag:function(T){return x(T)&&T.nodeType===11},object:x,func:w,number:function(T){return typeof T=="number"},bool:function(T){return typeof T=="boolean"},string:function(T){return typeof T=="string"},element:function(T){if(!T||y(T)!=="object")return!1;var R=n.getWindow(T)||n.window;return/object|function/.test(typeof Element>"u"?"undefined":y(Element))?T instanceof Element||T instanceof R.Element:T.nodeType===1&&typeof T.nodeName=="string"},plainObject:function(T){return x(T)&&!!T.constructor&&/function Object\b/.test(T.constructor.toString())},array:function(T){return x(T)&&T.length!==void 0&&w(T.splice)}};m.default=k;var S={};function P(T){var R=T.interaction;if(R.prepared.name==="drag"){var z=R.prepared.axis;z==="x"?(R.coords.cur.page.y=R.coords.start.page.y,R.coords.cur.client.y=R.coords.start.client.y,R.coords.velocity.client.y=0,R.coords.velocity.page.y=0):z==="y"&&(R.coords.cur.page.x=R.coords.start.page.x,R.coords.cur.client.x=R.coords.start.client.x,R.coords.velocity.client.x=0,R.coords.velocity.page.x=0)}}function E(T){var R=T.iEvent,z=T.interaction;if(z.prepared.name==="drag"){var V=z.prepared.axis;if(V==="x"||V==="y"){var re=V==="x"?"y":"x";R.page[re]=z.coords.start.page[re],R.client[re]=z.coords.start.client[re],R.delta[re]=0}}}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var O={id:"actions/drag",install:function(T){var R=T.actions,z=T.Interactable,V=T.defaults;z.prototype.draggable=O.draggable,R.map.drag=O,R.methodDict.drag="draggable",V.actions.drag=O.defaults},listeners:{"interactions:before-action-move":P,"interactions:action-resume":P,"interactions:action-move":E,"auto-start:check":function(T){var R=T.interaction,z=T.interactable,V=T.buttons,re=z.options.drag;if(re&&re.enabled&&(!R.pointerIsDown||!/mouse|pointer/.test(R.pointerType)||V&z.options.drag.mouseButtons))return T.action={name:"drag",axis:re.lockAxis==="start"?re.startAxis:re.lockAxis},!1}},draggable:function(T){return m.default.object(T)?(this.options.drag.enabled=T.enabled!==!1,this.setPerAction("drag",T),this.setOnEvents("drag",T),/^(xy|x|y|start)$/.test(T.lockAxis)&&(this.options.drag.lockAxis=T.lockAxis),/^(xy|x|y)$/.test(T.startAxis)&&(this.options.drag.startAxis=T.startAxis),this):m.default.bool(T)?(this.options.drag.enabled=T,this):this.options.drag},beforeMove:P,move:E,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},a=O;S.default=a;var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var v={init:function(T){var R=T;v.document=R.document,v.DocumentFragment=R.DocumentFragment||d,v.SVGElement=R.SVGElement||d,v.SVGSVGElement=R.SVGSVGElement||d,v.SVGElementInstance=R.SVGElementInstance||d,v.Element=R.Element||d,v.HTMLElement=R.HTMLElement||v.Element,v.Event=R.Event,v.Touch=R.Touch||d,v.PointerEvent=R.PointerEvent||R.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function d(){}var _=v;h.default=_;var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var N={init:function(T){var R=h.default.Element,z=T.navigator||{};N.supportsTouch="ontouchstart"in T||m.default.func(T.DocumentTouch)&&h.default.document instanceof T.DocumentTouch,N.supportsPointerEvent=z.pointerEnabled!==!1&&!!h.default.PointerEvent,N.isIOS=/iP(hone|od|ad)/.test(z.platform),N.isIOS7=/iP(hone|od|ad)/.test(z.platform)&&/OS 7[^\d]/.test(z.appVersion),N.isIe9=/MSIE 9/.test(z.userAgent),N.isOperaMobile=z.appName==="Opera"&&N.supportsTouch&&/Presto/.test(z.userAgent),N.prefixedMatchesSelector="matches"in R.prototype?"matches":"webkitMatchesSelector"in R.prototype?"webkitMatchesSelector":"mozMatchesSelector"in R.prototype?"mozMatchesSelector":"oMatchesSelector"in R.prototype?"oMatchesSelector":"msMatchesSelector",N.pEventTypes=N.supportsPointerEvent?h.default.PointerEvent===T.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,N.wheelEvent=h.default.document&&"onmousewheel"in h.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},G=N;C.default=G;var q={};function K(T){var R=T.parentNode;if(m.default.docFrag(R)){for(;(R=R.host)&&m.default.docFrag(R););return R}return R}function ne(T,R){return n.window!==n.realWindow&&(R=R.replace(/\/deep\//g," ")),T[C.default.prefixedMatchesSelector](R)}Object.defineProperty(q,"__esModule",{value:!0}),q.closest=function(T,R){for(;m.default.element(T);){if(ne(T,R))return T;T=K(T)}return null},q.getActualElement=function(T){return T.correspondingUseElement||T},q.getElementClientRect=pe,q.getElementRect=function(T){var R=pe(T);if(!C.default.isIOS7&&R){var z=Me(n.getWindow(T));R.left+=z.x,R.right+=z.x,R.top+=z.y,R.bottom+=z.y}return R},q.getPath=function(T){for(var R=[];T;)R.push(T),T=K(T);return R},q.getScrollXY=Me,q.indexOfDeepestElement=function(T){for(var R,z=[],V=0;V<T.length;V++){var re=T[V],Ae=T[R];if(re&&V!==R)if(Ae){var ze=Q(re),He=Q(Ae);if(ze!==re.ownerDocument)if(He!==re.ownerDocument)if(ze!==He){z=z.length?z:ee(Ae);var rt=void 0;if(Ae instanceof h.default.HTMLElement&&re instanceof h.default.SVGElement&&!(re instanceof h.default.SVGSVGElement)){if(re===He)continue;rt=re.ownerSVGElement}else rt=re;for(var Ht=ee(rt,Ae.ownerDocument),jt=0;Ht[jt]&&Ht[jt]===z[jt];)jt++;var Qt=[Ht[jt-1],Ht[jt],z[jt]];if(Qt[0])for(var gi=Qt[0].lastChild;gi;){if(gi===Qt[1]){R=V,z=Ht;break}if(gi===Qt[2])break;gi=gi.previousSibling}}else Ci=re,ui=Ae,(parseInt(n.getWindow(Ci).getComputedStyle(Ci).zIndex,10)||0)>=(parseInt(n.getWindow(ui).getComputedStyle(ui).zIndex,10)||0)&&(R=V);else R=V}else R=V}var Ci,ui;return R},q.matchesSelector=ne,q.matchesUpTo=function(T,R,z){for(;m.default.element(T);){if(ne(T,R))return!0;if((T=K(T))===z)return ne(T,R)}return!1},q.nodeContains=function(T,R){if(T.contains)return T.contains(R);for(;R;){if(R===T)return!0;R=R.parentNode}return!1},q.parentNode=K,q.trySelector=function(T){return!!m.default.string(T)&&(h.default.document.querySelector(T),!0)};var Q=function(T){return T.parentNode||T.host};function ee(T,R){for(var z,V=[],re=T;(z=Q(re))&&re!==R&&z!==re.ownerDocument;)V.unshift(re),re=z;return V}function Me(T){return{x:(T=T||n.window).scrollX||T.document.documentElement.scrollLeft,y:T.scrollY||T.document.documentElement.scrollTop}}function pe(T){var R=T instanceof h.default.SVGElement?T.getBoundingClientRect():T.getClientRects()[0];return R&&{left:R.left,right:R.right,top:R.top,bottom:R.bottom,width:R.width||R.right-R.left,height:R.height||R.bottom-R.top}}var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(T,R){for(var z in R)T[z]=R[z];return T};var oe={};function fe(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}function Z(T,R,z){return T==="parent"?(0,q.parentNode)(z):T==="self"?R.getRect(z):(0,q.closest)(z,T)}Object.defineProperty(oe,"__esModule",{value:!0}),oe.addEdges=function(T,R,z){T.left&&(R.left+=z.x),T.right&&(R.right+=z.x),T.top&&(R.top+=z.y),T.bottom&&(R.bottom+=z.y),R.width=R.right-R.left,R.height=R.bottom-R.top},oe.getStringOptionResult=Z,oe.rectToXY=function(T){return T&&{x:"x"in T?T.x:T.left,y:"y"in T?T.y:T.top}},oe.resolveRectLike=function(T,R,z,V){var re,Ae=T;return m.default.string(Ae)?Ae=Z(Ae,R,z):m.default.func(Ae)&&(Ae=Ae.apply(void 0,function(ze){if(Array.isArray(ze))return fe(ze)}(re=V)||function(ze){if(typeof Symbol<"u"&&ze[Symbol.iterator]!=null||ze["@@iterator"]!=null)return Array.from(ze)}(re)||function(ze,He){if(ze){if(typeof ze=="string")return fe(ze,He);var rt=Object.prototype.toString.call(ze).slice(8,-1);return rt==="Object"&&ze.constructor&&(rt=ze.constructor.name),rt==="Map"||rt==="Set"?Array.from(ze):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?fe(ze,He):void 0}}(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),m.default.element(Ae)&&(Ae=(0,q.getElementRect)(Ae)),Ae},oe.tlbrToXywh=function(T){return!T||"x"in T&&"y"in T||((T=(0,W.default)({},T)).x=T.left||0,T.y=T.top||0,T.width=T.width||(T.right||0)-T.x,T.height=T.height||(T.bottom||0)-T.y),T},oe.xywhToTlbr=function(T){return!T||"left"in T&&"top"in T||((T=(0,W.default)({},T)).left=T.x||0,T.top=T.y||0,T.right=T.right||T.left+T.width,T.bottom=T.bottom||T.top+T.height),T};var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=function(T,R,z){var V=T.options[z],re=V&&V.origin||T.options.origin,Ae=(0,oe.resolveRectLike)(re,T,R,[T&&R]);return(0,oe.rectToXY)(Ae)||{x:0,y:0}};var Y={};function he(T){return T.trim().split(/ +/)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function T(R,z,V){if(V=V||{},m.default.string(R)&&R.search(" ")!==-1&&(R=he(R)),m.default.array(R))return R.reduce(function(rt,Ht){return(0,W.default)(rt,T(Ht,z,V))},V);if(m.default.object(R)&&(z=R,R=""),m.default.func(z))V[R]=V[R]||[],V[R].push(z);else if(m.default.array(z))for(var re=0;re<z.length;re++){var Ae;Ae=z[re],T(R,Ae,V)}else if(m.default.object(z))for(var ze in z){var He=he(ze).map(function(rt){return"".concat(R).concat(rt)});T(He,z[ze],V)}return V};var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0,Ke.default=function(T,R){return Math.sqrt(T*T+R*R)};var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=function(T,R){T.__set||(T.__set={});var z=function(re){typeof T[re]!="function"&&re!=="__set"&&Object.defineProperty(T,re,{get:function(){return re in T.__set?T.__set[re]:T.__set[re]=R[re]},set:function(Ae){T.__set[re]=Ae},configurable:!0})};for(var V in R)z(V);return T};var lt={};function We(T){return T instanceof h.default.Event||T instanceof h.default.Touch}function Se(T,R,z){return T=T||"page",(z=z||{}).x=R[T+"X"],z.y=R[T+"Y"],z}function Le(T,R){return R=R||{x:0,y:0},C.default.isOperaMobile&&We(T)?(Se("screen",T,R),R.x+=window.scrollX,R.y+=window.scrollY):Se("page",T,R),R}function je(T,R){return R=R||{},C.default.isOperaMobile&&We(T)?Se("screen",T,R):Se("client",T,R),R}function Ne(T){var R=[];return m.default.array(T)?(R[0]=T[0],R[1]=T[1]):T.type==="touchend"?T.touches.length===1?(R[0]=T.touches[0],R[1]=T.changedTouches[0]):T.touches.length===0&&(R[0]=T.changedTouches[0],R[1]=T.changedTouches[1]):(R[0]=T.touches[0],R[1]=T.touches[1]),R}function Ge(T){for(var R={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},z=0;z<T.length;z++){var V=T[z];for(var re in R)R[re]+=V[re]}for(var Ae in R)R[Ae]/=T.length;return R}Object.defineProperty(lt,"__esModule",{value:!0}),lt.coordsToEvent=function(T){return{coords:T,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},lt.copyCoords=function(T,R){T.page=T.page||{},T.page.x=R.page.x,T.page.y=R.page.y,T.client=T.client||{},T.client.x=R.client.x,T.client.y=R.client.y,T.timeStamp=R.timeStamp},lt.getClientXY=je,lt.getEventTargets=function(T){var R=m.default.func(T.composedPath)?T.composedPath():T.path;return[q.getActualElement(R?R[0]:T.target),q.getActualElement(T.currentTarget)]},lt.getPageXY=Le,lt.getPointerId=function(T){return m.default.number(T.pointerId)?T.pointerId:T.identifier},lt.getPointerType=function(T){return m.default.string(T.pointerType)?T.pointerType:m.default.number(T.pointerType)?[void 0,void 0,"touch","pen","mouse"][T.pointerType]:/touch/.test(T.type||"")||T instanceof h.default.Touch?"touch":"mouse"},lt.getTouchPair=Ne,lt.getXY=Se,lt.isNativePointer=We,lt.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},lt.pointerAverage=Ge,Object.defineProperty(lt,"pointerExtend",{enumerable:!0,get:function(){return ht.default}}),lt.setCoordDeltas=function(T,R,z){T.page.x=z.page.x-R.page.x,T.page.y=z.page.y-R.page.y,T.client.x=z.client.x-R.client.x,T.client.y=z.client.y-R.client.y,T.timeStamp=z.timeStamp-R.timeStamp},lt.setCoordVelocity=function(T,R){var z=Math.max(R.timeStamp/1e3,.001);T.page.x=R.page.x/z,T.page.y=R.page.y/z,T.client.x=R.client.x/z,T.client.y=R.client.y/z,T.timeStamp=z},lt.setCoords=function(T,R,z){var V=R.length>1?Ge(R):R[0];Le(V,T.page),je(V,T.client),T.timeStamp=z},lt.setZeroCoords=function(T){T.page.x=0,T.page.y=0,T.client.x=0,T.client.y=0},lt.touchAngle=function(T,R){var z=R+"X",V=R+"Y",re=Ne(T),Ae=re[1][z]-re[0][z],ze=re[1][V]-re[0][V];return 180*Math.atan2(ze,Ae)/Math.PI},lt.touchBBox=function(T){if(!T.length)return null;var R=Ne(T),z=Math.min(R[0].pageX,R[1].pageX),V=Math.min(R[0].pageY,R[1].pageY),re=Math.max(R[0].pageX,R[1].pageX),Ae=Math.max(R[0].pageY,R[1].pageY);return{x:z,y:V,left:z,top:V,right:re,bottom:Ae,width:re-z,height:Ae-V}},lt.touchDistance=function(T,R){var z=R+"X",V=R+"Y",re=Ne(T),Ae=re[0][z]-re[1][z],ze=re[0][V]-re[1][V];return(0,Ke.default)(Ae,ze)};var it={};function Re(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(it,"__esModule",{value:!0}),it.BaseEvent=void 0;var te=function(){function T(V){(function(re,Ae){if(!(re instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,T),Re(this,"immediatePropagationStopped",!1),Re(this,"propagationStopped",!1),this._interaction=V}var R,z;return R=T,(z=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();it.BaseEvent=te,Object.defineProperty(te.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.remove=J.merge=J.from=J.findIndex=J.find=J.contains=void 0,J.contains=function(T,R){return T.indexOf(R)!==-1},J.remove=function(T,R){return T.splice(T.indexOf(R),1)};var qe=function(T,R){for(var z=0;z<R.length;z++){var V=R[z];T.push(V)}return T};J.merge=qe,J.from=function(T){return qe([],T)};var _t=function(T,R){for(var z=0;z<T.length;z++)if(R(T[z],z,T))return z;return-1};J.findIndex=_t,J.find=function(T,R){return T[_t(T,R)]};var be={};function $e(T){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},$e(T)}function st(T,R){return st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},st(T,R)}function Ee(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function Qe(T){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},Qe(T)}function nt(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(be,"__esModule",{value:!0}),be.DropEvent=void 0;var Ut=function(T){(function(He,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");He.prototype=Object.create(rt&&rt.prototype,{constructor:{value:He,writable:!0,configurable:!0}}),Object.defineProperty(He,"prototype",{writable:!1}),rt&&st(He,rt)})(ze,T);var R,z,V,re,Ae=(V=ze,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(He){return!1}}(),function(){var He,rt=Qe(V);if(re){var Ht=Qe(this).constructor;He=Reflect.construct(rt,arguments,Ht)}else He=rt.apply(this,arguments);return function(jt,Qt){if(Qt&&($e(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(jt)}(this,He)});function ze(He,rt,Ht){var jt;(function(ui,Vi){if(!(ui instanceof Vi))throw new TypeError("Cannot call a class as a function")})(this,ze),nt(Ee(jt=Ae.call(this,rt._interaction)),"dropzone",void 0),nt(Ee(jt),"dragEvent",void 0),nt(Ee(jt),"relatedTarget",void 0),nt(Ee(jt),"draggable",void 0),nt(Ee(jt),"propagationStopped",!1),nt(Ee(jt),"immediatePropagationStopped",!1);var Qt=Ht==="dragleave"?He.prev:He.cur,gi=Qt.element,Ci=Qt.dropzone;return jt.type=Ht,jt.target=gi,jt.currentTarget=gi,jt.dropzone=Ci,jt.dragEvent=rt,jt.relatedTarget=rt.target,jt.draggable=rt.interactable,jt.timeStamp=rt.timeStamp,jt}return R=ze,(z=[{key:"reject",value:function(){var He=this,rt=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&rt.cur.dropzone===this.dropzone&&rt.cur.element===this.target)if(rt.prev.dropzone=this.dropzone,rt.prev.element=this.target,rt.rejected=!0,rt.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var Ht=rt.activeDrops,jt=J.findIndex(Ht,function(gi){var Ci=gi.dropzone,ui=gi.element;return Ci===He.dropzone&&ui===He.target});rt.activeDrops.splice(jt,1);var Qt=new ze(rt,this.dragEvent,"dropdeactivate");Qt.dropzone=this.dropzone,Qt.target=this.target,this.dropzone.fire(Qt)}else this.dropzone.fire(new ze(rt,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(He,rt){for(var Ht=0;Ht<rt.length;Ht++){var jt=rt[Ht];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(He,jt.key,jt)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),ze}(it.BaseEvent);be.DropEvent=Ut;var ut={};function mt(T,R){for(var z=0;z<T.slice().length;z++){var V=T.slice()[z],re=V.dropzone,Ae=V.element;R.dropzone=re,R.target=Ae,re.fire(R),R.propagationStopped=R.immediatePropagationStopped=!1}}function Mt(T,R){for(var z=function(Ae,ze){for(var He=Ae.interactables,rt=[],Ht=0;Ht<He.list.length;Ht++){var jt=He.list[Ht];if(jt.options.drop.enabled){var Qt=jt.options.drop.accept;if(!(m.default.element(Qt)&&Qt!==ze||m.default.string(Qt)&&!q.matchesSelector(ze,Qt)||m.default.func(Qt)&&!Qt({dropzone:jt,draggableElement:ze})))for(var gi=m.default.string(jt.target)?jt._context.querySelectorAll(jt.target):m.default.array(jt.target)?jt.target:[jt.target],Ci=0;Ci<gi.length;Ci++){var ui=gi[Ci];ui!==ze&&rt.push({dropzone:jt,element:ui,rect:jt.getRect(ui)})}}}return rt}(T,R),V=0;V<z.length;V++){var re=z[V];re.rect=re.dropzone.getRect(re.element)}return z}function ti(T,R,z){for(var V=T.dropState,re=T.interactable,Ae=T.element,ze=[],He=0;He<V.activeDrops.length;He++){var rt=V.activeDrops[He],Ht=rt.dropzone,jt=rt.element,Qt=rt.rect;ze.push(Ht.dropCheck(R,z,re,Ae,jt,Qt)?jt:null)}var gi=q.indexOfDeepestElement(ze);return V.activeDrops[gi]||null}function oi(T,R,z){var V=T.dropState,re={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return z.type==="dragstart"&&(re.activate=new be.DropEvent(V,z,"dropactivate"),re.activate.target=null,re.activate.dropzone=null),z.type==="dragend"&&(re.deactivate=new be.DropEvent(V,z,"dropdeactivate"),re.deactivate.target=null,re.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(re.leave=new be.DropEvent(V,z,"dragleave"),z.dragLeave=re.leave.target=V.prev.element,z.prevDropzone=re.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(re.enter=new be.DropEvent(V,z,"dragenter"),z.dragEnter=V.cur.element,z.dropzone=V.cur.dropzone)),z.type==="dragend"&&V.cur.dropzone&&(re.drop=new be.DropEvent(V,z,"drop"),z.dropzone=V.cur.dropzone,z.relatedTarget=V.cur.element),z.type==="dragmove"&&V.cur.dropzone&&(re.move=new be.DropEvent(V,z,"dropmove"),re.move.dragmove=z,z.dropzone=V.cur.dropzone)),re}function ci(T,R){var z=T.dropState,V=z.activeDrops,re=z.cur,Ae=z.prev;R.leave&&Ae.dropzone.fire(R.leave),R.enter&&re.dropzone.fire(R.enter),R.move&&re.dropzone.fire(R.move),R.drop&&re.dropzone.fire(R.drop),R.deactivate&&mt(V,R.deactivate),z.prev.dropzone=re.dropzone,z.prev.element=re.element}function Lt(T,R){var z=T.interaction,V=T.iEvent,re=T.event;if(V.type==="dragmove"||V.type==="dragend"){var Ae=z.dropState;R.dynamicDrop&&(Ae.activeDrops=Mt(R,z.element));var ze=V,He=ti(z,ze,re);Ae.rejected=Ae.rejected&&!!He&&He.dropzone===Ae.cur.dropzone&&He.element===Ae.cur.element,Ae.cur.dropzone=He&&He.dropzone,Ae.cur.element=He&&He.element,Ae.events=oi(z,0,ze)}}Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var It={id:"actions/drop",install:function(T){var R=T.actions,z=T.interactStatic,V=T.Interactable,re=T.defaults;T.usePlugin(S.default),V.prototype.dropzone=function(Ae){return function(ze,He){if(m.default.object(He)){if(ze.options.drop.enabled=He.enabled!==!1,He.listeners){var rt=(0,Y.default)(He.listeners),Ht=Object.keys(rt).reduce(function(jt,Qt){return jt[/^(enter|leave)/.test(Qt)?"drag".concat(Qt):/^(activate|deactivate|move)/.test(Qt)?"drop".concat(Qt):Qt]=rt[Qt],jt},{});ze.off(ze.options.drop.listeners),ze.on(Ht),ze.options.drop.listeners=Ht}return m.default.func(He.ondrop)&&ze.on("drop",He.ondrop),m.default.func(He.ondropactivate)&&ze.on("dropactivate",He.ondropactivate),m.default.func(He.ondropdeactivate)&&ze.on("dropdeactivate",He.ondropdeactivate),m.default.func(He.ondragenter)&&ze.on("dragenter",He.ondragenter),m.default.func(He.ondragleave)&&ze.on("dragleave",He.ondragleave),m.default.func(He.ondropmove)&&ze.on("dropmove",He.ondropmove),/^(pointer|center)$/.test(He.overlap)?ze.options.drop.overlap=He.overlap:m.default.number(He.overlap)&&(ze.options.drop.overlap=Math.max(Math.min(1,He.overlap),0)),"accept"in He&&(ze.options.drop.accept=He.accept),"checker"in He&&(ze.options.drop.checker=He.checker),ze}return m.default.bool(He)?(ze.options.drop.enabled=He,ze):ze.options.drop}(this,Ae)},V.prototype.dropCheck=function(Ae,ze,He,rt,Ht,jt){return function(Qt,gi,Ci,ui,Vi,qi,Xi){var nr=!1;if(!(Xi=Xi||Qt.getRect(qi)))return!!Qt.options.drop.checker&&Qt.options.drop.checker(gi,Ci,nr,Qt,qi,ui,Vi);var Hr=Qt.options.drop.overlap;if(Hr==="pointer"){var Gr=(0,xe.default)(ui,Vi,"drag"),cn=lt.getPageXY(gi);cn.x+=Gr.x,cn.y+=Gr.y;var xn=cn.x>Xi.left&&cn.x<Xi.right,on=cn.y>Xi.top&&cn.y<Xi.bottom;nr=xn&&on}var _n=ui.getRect(Vi);if(_n&&Hr==="center"){var sa=_n.left+_n.width/2,Ca=_n.top+_n.height/2;nr=sa>=Xi.left&&sa<=Xi.right&&Ca>=Xi.top&&Ca<=Xi.bottom}return _n&&m.default.number(Hr)&&(nr=Math.max(0,Math.min(Xi.right,_n.right)-Math.max(Xi.left,_n.left))*Math.max(0,Math.min(Xi.bottom,_n.bottom)-Math.max(Xi.top,_n.top))/(_n.width*_n.height)>=Hr),Qt.options.drop.checker&&(nr=Qt.options.drop.checker(gi,Ci,nr,Qt,qi,ui,Vi)),nr}(this,Ae,ze,He,rt,Ht,jt)},z.dynamicDrop=function(Ae){return m.default.bool(Ae)?(T.dynamicDrop=Ae,z):T.dynamicDrop},(0,W.default)(R.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),R.methodDict.drop="dropzone",T.dynamicDrop=!1,re.actions.drop=It.defaults},listeners:{"interactions:before-action-start":function(T){var R=T.interaction;R.prepared.name==="drag"&&(R.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(T,R){var z=T.interaction,V=(T.event,T.iEvent);if(z.prepared.name==="drag"){var re=z.dropState;re.activeDrops=null,re.events=null,re.activeDrops=Mt(R,z.element),re.events=oi(z,0,V),re.events.activate&&(mt(re.activeDrops,re.events.activate),R.fire("actions/drop:start",{interaction:z,dragEvent:V}))}},"interactions:action-move":Lt,"interactions:after-action-move":function(T,R){var z=T.interaction,V=T.iEvent;z.prepared.name==="drag"&&(ci(z,z.dropState.events),R.fire("actions/drop:move",{interaction:z,dragEvent:V}),z.dropState.events={})},"interactions:action-end":function(T,R){if(T.interaction.prepared.name==="drag"){var z=T.interaction,V=T.iEvent;Lt(T,R),ci(z,z.dropState.events),R.fire("actions/drop:end",{interaction:z,dragEvent:V})}},"interactions:stop":function(T){var R=T.interaction;if(R.prepared.name==="drag"){var z=R.dropState;z&&(z.activeDrops=null,z.events=null,z.cur.dropzone=null,z.cur.element=null,z.prev.dropzone=null,z.prev.element=null,z.rejected=!1)}}},getActiveDrops:Mt,getDrop:ti,getDropEvents:oi,fireDropEvents:ci,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ct=It;ut.default=Ct;var St={};function kt(T){var R=T.interaction,z=T.iEvent,V=T.phase;if(R.prepared.name==="gesture"){var re=R.pointers.map(function(Ht){return Ht.pointer}),Ae=V==="start",ze=V==="end",He=R.interactable.options.deltaSource;if(z.touches=[re[0],re[1]],Ae)z.distance=lt.touchDistance(re,He),z.box=lt.touchBBox(re),z.scale=1,z.ds=0,z.angle=lt.touchAngle(re,He),z.da=0,R.gesture.startDistance=z.distance,R.gesture.startAngle=z.angle;else if(ze){var rt=R.prevEvent;z.distance=rt.distance,z.box=rt.box,z.scale=rt.scale,z.ds=0,z.angle=rt.angle,z.da=0}else z.distance=lt.touchDistance(re,He),z.box=lt.touchBBox(re),z.scale=z.distance/R.gesture.startDistance,z.angle=lt.touchAngle(re,He),z.ds=z.scale-R.gesture.scale,z.da=z.angle-R.gesture.angle;R.gesture.distance=z.distance,R.gesture.angle=z.angle,m.default.number(z.scale)&&z.scale!==1/0&&!isNaN(z.scale)&&(R.gesture.scale=z.scale)}}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var I={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(T){var R=T.actions,z=T.Interactable,V=T.defaults;z.prototype.gesturable=function(re){return m.default.object(re)?(this.options.gesture.enabled=re.enabled!==!1,this.setPerAction("gesture",re),this.setOnEvents("gesture",re),this):m.default.bool(re)?(this.options.gesture.enabled=re,this):this.options.gesture},R.map.gesture=I,R.methodDict.gesture="gesturable",V.actions.gesture=I.defaults},listeners:{"interactions:action-start":kt,"interactions:action-move":kt,"interactions:action-end":kt,"interactions:new":function(T){T.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(T){if(!(T.interaction.pointers.length<2)){var R=T.interactable.options.gesture;if(R&&R.enabled)return T.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ve=I;St.default=Ve;var ke={};function Ye(T,R,z,V,re,Ae,ze){if(!R)return!1;if(R===!0){var He=m.default.number(Ae.width)?Ae.width:Ae.right-Ae.left,rt=m.default.number(Ae.height)?Ae.height:Ae.bottom-Ae.top;if(ze=Math.min(ze,Math.abs((T==="left"||T==="right"?He:rt)/2)),He<0&&(T==="left"?T="right":T==="right"&&(T="left")),rt<0&&(T==="top"?T="bottom":T==="bottom"&&(T="top")),T==="left"){var Ht=He>=0?Ae.left:Ae.right;return z.x<Ht+ze}if(T==="top"){var jt=rt>=0?Ae.top:Ae.bottom;return z.y<jt+ze}if(T==="right")return z.x>(He>=0?Ae.right:Ae.left)-ze;if(T==="bottom")return z.y>(rt>=0?Ae.bottom:Ae.top)-ze}return!!m.default.element(V)&&(m.default.element(R)?R===V:q.matchesUpTo(V,R,re))}function Ze(T){var R=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.resizeAxes){var V=R;z.interactable.options.resize.square?(z.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=z.resizeAxes,z.resizeAxes==="x"?V.delta.y=0:z.resizeAxes==="y"&&(V.delta.x=0))}}Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var dt={id:"actions/resize",before:["actions/drag"],install:function(T){var R=T.actions,z=T.browser,V=T.Interactable,re=T.defaults;dt.cursors=function(Ae){return Ae.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(z),dt.defaultMargin=z.supportsTouch||z.supportsPointerEvent?20:10,V.prototype.resizable=function(Ae){return function(ze,He,rt){return m.default.object(He)?(ze.options.resize.enabled=He.enabled!==!1,ze.setPerAction("resize",He),ze.setOnEvents("resize",He),m.default.string(He.axis)&&/^x$|^y$|^xy$/.test(He.axis)?ze.options.resize.axis=He.axis:He.axis===null&&(ze.options.resize.axis=rt.defaults.actions.resize.axis),m.default.bool(He.preserveAspectRatio)?ze.options.resize.preserveAspectRatio=He.preserveAspectRatio:m.default.bool(He.square)&&(ze.options.resize.square=He.square),ze):m.default.bool(He)?(ze.options.resize.enabled=He,ze):ze.options.resize}(this,Ae,T)},R.map.resize=dt,R.methodDict.resize="resizable",re.actions.resize=dt.defaults},listeners:{"interactions:new":function(T){T.interaction.resizeAxes="xy"},"interactions:action-start":function(T){(function(R){var z=R.iEvent,V=R.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var re=z,Ae=V.rect;V._rects={start:(0,W.default)({},Ae),corrected:(0,W.default)({},Ae),previous:(0,W.default)({},Ae),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},re.edges=V.prepared.edges,re.rect=V._rects.corrected,re.deltaRect=V._rects.delta}})(T),Ze(T)},"interactions:action-move":function(T){(function(R){var z=R.iEvent,V=R.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var re=z,Ae=V.interactable.options.resize.invert,ze=Ae==="reposition"||Ae==="negate",He=V.rect,rt=V._rects,Ht=rt.start,jt=rt.corrected,Qt=rt.delta,gi=rt.previous;if((0,W.default)(gi,jt),ze){if((0,W.default)(jt,He),Ae==="reposition"){if(jt.top>jt.bottom){var Ci=jt.top;jt.top=jt.bottom,jt.bottom=Ci}if(jt.left>jt.right){var ui=jt.left;jt.left=jt.right,jt.right=ui}}}else jt.top=Math.min(He.top,Ht.bottom),jt.bottom=Math.max(He.bottom,Ht.top),jt.left=Math.min(He.left,Ht.right),jt.right=Math.max(He.right,Ht.left);for(var Vi in jt.width=jt.right-jt.left,jt.height=jt.bottom-jt.top,jt)Qt[Vi]=jt[Vi]-gi[Vi];re.edges=V.prepared.edges,re.rect=jt,re.deltaRect=Qt}})(T),Ze(T)},"interactions:action-end":function(T){var R=T.iEvent,z=T.interaction;if(z.prepared.name==="resize"&&z.prepared.edges){var V=R;V.edges=z.prepared.edges,V.rect=z._rects.corrected,V.deltaRect=z._rects.delta}},"auto-start:check":function(T){var R=T.interaction,z=T.interactable,V=T.element,re=T.rect,Ae=T.buttons;if(re){var ze=(0,W.default)({},R.coords.cur.page),He=z.options.resize;if(He&&He.enabled&&(!R.pointerIsDown||!/mouse|pointer/.test(R.pointerType)||Ae&He.mouseButtons)){if(m.default.object(He.edges)){var rt={left:!1,right:!1,top:!1,bottom:!1};for(var Ht in rt)rt[Ht]=Ye(Ht,He.edges[Ht],ze,R._latestPointer.eventTarget,V,re,He.margin||dt.defaultMargin);rt.left=rt.left&&!rt.right,rt.top=rt.top&&!rt.bottom,(rt.left||rt.right||rt.top||rt.bottom)&&(T.action={name:"resize",edges:rt})}else{var jt=He.axis!=="y"&&ze.x>re.right-dt.defaultMargin,Qt=He.axis!=="x"&&ze.y>re.bottom-dt.defaultMargin;(jt||Qt)&&(T.action={name:"resize",axes:(jt?"x":"")+(Qt?"y":"")})}return!T.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(T){var R=T.edges,z=T.axis,V=T.name,re=dt.cursors,Ae=null;if(z)Ae=re[V+z];else if(R){for(var ze="",He=["top","bottom","left","right"],rt=0;rt<He.length;rt++){var Ht=He[rt];R[Ht]&&(ze+=Ht)}Ae=re[ze]}return Ae},defaultMargin:null},ae=dt;ke.default=ae;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var Ue={id:"actions",install:function(T){T.usePlugin(St.default),T.usePlugin(ke.default),T.usePlugin(S.default),T.usePlugin(ut.default)}};Ie.default=Ue;var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var ct,Et,zt=0,Xt={request:function(T){return ct(T)},cancel:function(T){return Et(T)},init:function(T){if(ct=T.requestAnimationFrame,Et=T.cancelAnimationFrame,!ct)for(var R=["ms","moz","webkit","o"],z=0;z<R.length;z++){var V=R[z];ct=T["".concat(V,"RequestAnimationFrame")],Et=T["".concat(V,"CancelAnimationFrame")]||T["".concat(V,"CancelRequestAnimationFrame")]}ct=ct&&ct.bind(T),Et=Et&&Et.bind(T),ct||(ct=function(re){var Ae=Date.now(),ze=Math.max(0,16-(Ae-zt)),He=T.setTimeout(function(){re(Ae+ze)},ze);return zt=Ae+ze,He},Et=function(re){return clearTimeout(re)})}};gt.default=Xt;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=void 0,Ot.getContainer=Xe,Ot.getScroll=De,Ot.getScrollSize=function(T){return m.default.window(T)&&(T=window.document.body),{x:T.scrollWidth,y:T.scrollHeight}},Ot.getScrollSizeDelta=function(T,R){var z=T.interaction,V=T.element,re=z&&z.interactable.options[z.prepared.name].autoScroll;if(!re||!re.enabled)return R(),{x:0,y:0};var Ae=Xe(re.container,z.interactable,V),ze=De(Ae);R();var He=De(Ae);return{x:He.x-ze.x,y:He.y-ze.y}};var Bt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(T){Bt.isScrolling=!0,gt.default.cancel(Bt.i),T.autoScroll=Bt,Bt.interaction=T,Bt.prevTime=Bt.now(),Bt.i=gt.default.request(Bt.scroll)},stop:function(){Bt.isScrolling=!1,Bt.interaction&&(Bt.interaction.autoScroll=null),gt.default.cancel(Bt.i)},scroll:function(){var T=Bt.interaction,R=T.interactable,z=T.element,V=T.prepared.name,re=R.options[V].autoScroll,Ae=Xe(re.container,R,z),ze=Bt.now(),He=(ze-Bt.prevTime)/1e3,rt=re.speed*He;if(rt>=1){var Ht={x:Bt.x*rt,y:Bt.y*rt};if(Ht.x||Ht.y){var jt=De(Ae);m.default.window(Ae)?Ae.scrollBy(Ht.x,Ht.y):Ae&&(Ae.scrollLeft+=Ht.x,Ae.scrollTop+=Ht.y);var Qt=De(Ae),gi={x:Qt.x-jt.x,y:Qt.y-jt.y};(gi.x||gi.y)&&R.fire({type:"autoscroll",target:z,interactable:R,delta:gi,interaction:T,container:Ae})}Bt.prevTime=ze}Bt.isScrolling&&(gt.default.cancel(Bt.i),Bt.i=gt.default.request(Bt.scroll))},check:function(T,R){var z;return(z=T.options[R].autoScroll)==null?void 0:z.enabled},onInteractionMove:function(T){var R=T.interaction,z=T.pointer;if(R.interacting()&&Bt.check(R.interactable,R.prepared.name))if(R.simulation)Bt.x=Bt.y=0;else{var V,re,Ae,ze,He=R.interactable,rt=R.element,Ht=R.prepared.name,jt=He.options[Ht].autoScroll,Qt=Xe(jt.container,He,rt);if(m.default.window(Qt))ze=z.clientX<Bt.margin,V=z.clientY<Bt.margin,re=z.clientX>Qt.innerWidth-Bt.margin,Ae=z.clientY>Qt.innerHeight-Bt.margin;else{var gi=q.getElementClientRect(Qt);ze=z.clientX<gi.left+Bt.margin,V=z.clientY<gi.top+Bt.margin,re=z.clientX>gi.right-Bt.margin,Ae=z.clientY>gi.bottom-Bt.margin}Bt.x=re?1:ze?-1:0,Bt.y=Ae?1:V?-1:0,Bt.isScrolling||(Bt.margin=jt.margin,Bt.speed=jt.speed,Bt.start(R))}}};function Xe(T,R,z){return(m.default.string(T)?(0,oe.getStringOptionResult)(T,R,z):T)||(0,n.getWindow)(z)}function De(T){return m.default.window(T)&&(T=window.document.body),{x:T.scrollLeft,y:T.scrollTop}}var Fe={id:"auto-scroll",install:function(T){var R=T.defaults,z=T.actions;T.autoScroll=Bt,Bt.now=function(){return T.now()},z.phaselessTypes.autoscroll=!0,R.perAction.autoScroll=Bt.defaults},listeners:{"interactions:new":function(T){T.interaction.autoScroll=null},"interactions:destroy":function(T){T.interaction.autoScroll=null,Bt.stop(),Bt.interaction&&(Bt.interaction=null)},"interactions:stop":Bt.stop,"interactions:action-move":function(T){return Bt.onInteractionMove(T)}}},et=Fe;Ot.default=et;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.copyAction=function(T,R){return T.name=R.name,T.axis=R.axis,T.edges=R.edges,T},Pt.sign=void 0,Pt.warnOnce=function(T,R){var z=!1;return function(){return z||(n.window.console.warn(R),z=!0),T.apply(this,arguments)}},Pt.sign=function(T){return T>=0?1:-1};var Nt={};function Je(T){return m.default.bool(T)?(this.options.styleCursor=T,this):T===null?(delete this.options.styleCursor,this):this.options.styleCursor}function wt(T){return m.default.func(T)?(this.options.actionChecker=T,this):T===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var At={id:"auto-start/interactableMethods",install:function(T){var R=T.Interactable;R.prototype.getAction=function(z,V,re,Ae){var ze=function(He,rt,Ht,jt,Qt){var gi=He.getRect(jt),Ci={action:null,interactable:He,interaction:Ht,element:jt,rect:gi,buttons:rt.buttons||{0:1,1:4,3:8,4:16}[rt.button]};return Qt.fire("auto-start:check",Ci),Ci.action}(this,V,re,Ae,T);return this.options.actionChecker?this.options.actionChecker(z,V,ze,this,Ae,re):ze},R.prototype.ignoreFrom=(0,Pt.warnOnce)(function(z){return this._backCompatOption("ignoreFrom",z)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),R.prototype.allowFrom=(0,Pt.warnOnce)(function(z){return this._backCompatOption("allowFrom",z)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),R.prototype.actionChecker=wt,R.prototype.styleCursor=Je}};Nt.default=At;var Kt={};function Jt(T,R,z,V,re){return R.testIgnoreAllow(R.options[T.name],z,V)&&R.options[T.name].enabled&&Gt(R,z,T,re)?T:null}function Ai(T,R,z,V,re,Ae,ze){for(var He=0,rt=V.length;He<rt;He++){var Ht=V[He],jt=re[He],Qt=Ht.getAction(R,z,T,jt);if(Qt){var gi=Jt(Qt,Ht,jt,Ae,ze);if(gi)return{action:gi,interactable:Ht,element:jt}}}return{action:null,interactable:null,element:null}}function Si(T,R,z,V,re){var Ae=[],ze=[],He=V;function rt(jt){Ae.push(jt),ze.push(He)}for(;m.default.element(He);){Ae=[],ze=[],re.interactables.forEachMatch(He,rt);var Ht=Ai(T,R,z,Ae,ze,V,re);if(Ht.action&&!Ht.interactable.options[Ht.action.name].manualStart)return Ht;He=q.parentNode(He)}return{action:null,interactable:null,element:null}}function Mi(T,R,z){var V=R.action,re=R.interactable,Ae=R.element;V=V||{name:null},T.interactable=re,T.element=Ae,(0,Pt.copyAction)(T.prepared,V),T.rect=re&&V.name?re.getRect(Ae):null,Fi(T,z),z.fire("autoStart:prepared",{interaction:T})}function Gt(T,R,z,V){var re=T.options,Ae=re[z.name].max,ze=re[z.name].maxPerElement,He=V.autoStart.maxInteractions,rt=0,Ht=0,jt=0;if(!(Ae&&ze&&He))return!1;for(var Qt=0;Qt<V.interactions.list.length;Qt++){var gi=V.interactions.list[Qt],Ci=gi.prepared.name;if(gi.interacting()&&(++rt>=He||gi.interactable===T&&((Ht+=Ci===z.name?1:0)>=Ae||gi.element===R&&(jt++,Ci===z.name&&jt>=ze))))return!1}return He>0}function wi(T,R){return m.default.number(T)?(R.autoStart.maxInteractions=T,this):R.autoStart.maxInteractions}function Ti(T,R,z){var V=z.autoStart.cursorElement;V&&V!==T&&(V.style.cursor=""),T.ownerDocument.documentElement.style.cursor=R,T.style.cursor=R,z.autoStart.cursorElement=R?T:null}function Fi(T,R){var z=T.interactable,V=T.element,re=T.prepared;if(T.pointerType==="mouse"&&z&&z.options.styleCursor){var Ae="";if(re.name){var ze=z.options[re.name].cursorChecker;Ae=m.default.func(ze)?ze(re,z,V,T._interacting):R.actions.map[re.name].getCursor(re)}Ti(T.element,Ae||"",R)}else R.autoStart.cursorElement&&Ti(R.autoStart.cursorElement,"",R)}Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var fr={id:"auto-start/base",before:["actions"],install:function(T){var R=T.interactStatic,z=T.defaults;T.usePlugin(Nt.default),z.base.actionChecker=null,z.base.styleCursor=!0,(0,W.default)(z.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),R.maxInteractions=function(V){return wi(V,T)},T.autoStart={maxInteractions:1/0,withinInteractionLimit:Gt,cursorElement:null}},listeners:{"interactions:down":function(T,R){var z=T.interaction,V=T.pointer,re=T.event,Ae=T.eventTarget;z.interacting()||Mi(z,Si(z,V,re,Ae,R),R)},"interactions:move":function(T,R){(function(z,V){var re=z.interaction,Ae=z.pointer,ze=z.event,He=z.eventTarget;re.pointerType!=="mouse"||re.pointerIsDown||re.interacting()||Mi(re,Si(re,Ae,ze,He,V),V)})(T,R),function(z,V){var re=z.interaction;if(re.pointerIsDown&&!re.interacting()&&re.pointerWasMoved&&re.prepared.name){V.fire("autoStart:before-start",z);var Ae=re.interactable,ze=re.prepared.name;ze&&Ae&&(Ae.options[ze].manualStart||!Gt(Ae,re.element,re.prepared,V)?re.stop():(re.start(re.prepared,Ae,re.element),Fi(re,V)))}}(T,R)},"interactions:stop":function(T,R){var z=T.interaction,V=z.interactable;V&&V.options.styleCursor&&Ti(z.element,"",R)}},maxInteractions:wi,withinInteractionLimit:Gt,validateAction:Jt},Zi=fr;Kt.default=Zi;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var Er={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(T,R){var z=T.interaction,V=T.eventTarget,re=T.dx,Ae=T.dy;if(z.prepared.name==="drag"){var ze=Math.abs(re),He=Math.abs(Ae),rt=z.interactable.options.drag,Ht=rt.startAxis,jt=ze>He?"x":ze<He?"y":"xy";if(z.prepared.axis=rt.lockAxis==="start"?jt[0]:rt.lockAxis,jt!=="xy"&&Ht!=="xy"&&Ht!==jt){z.prepared.name=null;for(var Qt=V,gi=function(ui){if(ui!==z.interactable){var Vi=z.interactable.options.drag;if(!Vi.manualStart&&ui.testIgnoreAllow(Vi,Qt,V)){var qi=ui.getAction(z.downPointer,z.downEvent,z,Qt);if(qi&&qi.name==="drag"&&function(Xi,nr){if(!nr)return!1;var Hr=nr.options.drag.startAxis;return Xi==="xy"||Hr==="xy"||Hr===Xi}(jt,ui)&&Kt.default.validateAction(qi,ui,Qt,V,R))return ui}}};m.default.element(Qt);){var Ci=R.interactables.forEachMatch(Qt,gi);if(Ci){z.prepared.name="drag",z.interactable=Ci,z.element=Qt;break}Qt=(0,q.parentNode)(Qt)}}}}}};lr.default=Er;var or={};function vr(T){var R=T.prepared&&T.prepared.name;if(!R)return null;var z=T.interactable.options;return z[R].hold||z[R].delay}Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var _r={id:"auto-start/hold",install:function(T){var R=T.defaults;T.usePlugin(Kt.default),R.perAction.hold=0,R.perAction.delay=0},listeners:{"interactions:new":function(T){T.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(T){var R=T.interaction,z=vr(R);z>0&&(R.autoStartHoldTimer=setTimeout(function(){R.start(R.prepared,R.interactable,R.element)},z))},"interactions:move":function(T){var R=T.interaction,z=T.duplicate;R.autoStartHoldTimer&&R.pointerWasMoved&&!z&&(clearTimeout(R.autoStartHoldTimer),R.autoStartHoldTimer=null)},"autoStart:before-start":function(T){var R=T.interaction;vr(R)>0&&(R.prepared.name=null)}},getHoldDuration:vr},Pr=_r;or.default=Pr;var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var sn={id:"auto-start",install:function(T){T.usePlugin(Kt.default),T.usePlugin(or.default),T.usePlugin(lr.default)}};Zr.default=sn;var $r={};function Rr(T){return/^(always|never|auto)$/.test(T)?(this.options.preventDefault=T,this):m.default.bool(T)?(this.options.preventDefault=T?"always":"never",this):this.options.preventDefault}function Yr(T){var R=T.interaction,z=T.event;R.interactable&&R.interactable.checkAndPreventDefault(z)}function Wr(T){var R=T.Interactable;R.prototype.preventDefault=Rr,R.prototype.checkAndPreventDefault=function(z){return function(V,re,Ae){var ze=V.options.preventDefault;if(ze!=="never")if(ze!=="always"){if(re.events.supportsPassive&&/^touch(start|move)$/.test(Ae.type)){var He=(0,n.getWindow)(Ae.target).document,rt=re.getDocOptions(He);if(!rt||!rt.events||rt.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(Ae.type)||m.default.element(Ae.target)&&(0,q.matchesSelector)(Ae.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||Ae.preventDefault()}else Ae.preventDefault()}(this,T,z)},T.interactions.docEvents.push({type:"dragstart",listener:function(z){for(var V=0;V<T.interactions.list.length;V++){var re=T.interactions.list[V];if(re.element&&(re.element===z.target||(0,q.nodeContains)(re.element,z.target)))return void re.interactable.checkAndPreventDefault(z)}}})}Object.defineProperty($r,"__esModule",{value:!0}),$r.default=void 0,$r.install=Wr;var ve={id:"core/interactablePreventDefault",install:Wr,listeners:["down","move","up","cancel"].reduce(function(T,R){return T["interactions:".concat(R)]=Yr,T},{})};$r.default=ve;var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0,ce.default={};var B,ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0,function(T){T.touchAction="touchAction",T.boxSizing="boxSizing",T.noListeners="noListeners"}(B||(B={})),B.touchAction,B.boxSizing,B.noListeners,ye.default={id:"dev-tools",install:function(){}};var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function T(R){var z={};for(var V in R){var re=R[V];m.default.plainObject(re)?z[V]=T(re):m.default.array(re)?z[V]=J.from(re):z[V]=re}return z};var Tt={};function Ft(T,R){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var re=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(re!=null){var Ae,ze,He=[],rt=!0,Ht=!1;try{for(re=re.call(z);!(rt=(Ae=re.next()).done)&&(He.push(Ae.value),!V||He.length!==V);rt=!0);}catch(jt){Ht=!0,ze=jt}finally{try{rt||re.return==null||re.return()}finally{if(Ht)throw ze}}return He}}(T,R)||function(z,V){if(z){if(typeof z=="string")return pi(z,V);var re=Object.prototype.toString.call(z).slice(8,-1);return re==="Object"&&z.constructor&&(re=z.constructor.name),re==="Map"||re==="Set"?Array.from(z):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?pi(z,V):void 0}}(T,R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pi(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}function di(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=void 0,Tt.getRectOffset=ir;var zi=function(){function T(V){(function(re,Ae){if(!(re instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,T),di(this,"states",[]),di(this,"startOffset",{left:0,right:0,top:0,bottom:0}),di(this,"startDelta",void 0),di(this,"result",void 0),di(this,"endResult",void 0),di(this,"startEdges",void 0),di(this,"edges",void 0),di(this,"interaction",void 0),this.interaction=V,this.result=dr(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var R,z;return R=T,(z=[{key:"start",value:function(V,re){var Ae=V.phase,ze=this.interaction,He=function(Ht){var jt=Ht.interactable.options[Ht.prepared.name],Qt=jt.modifiers;return Qt&&Qt.length?Qt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(gi){var Ci=jt[gi];return Ci&&Ci.enabled&&{options:Ci,methods:Ci._methods}}).filter(function(gi){return!!gi})}(ze);this.prepareStates(He),this.startEdges=(0,W.default)({},ze.edges),this.edges=(0,W.default)({},this.startEdges),this.startOffset=ir(ze.rect,re),this.startDelta={x:0,y:0};var rt=this.fillArg({phase:Ae,pageCoords:re,preEnd:!1});return this.result=dr(),this.startAll(rt),this.result=this.setAll(rt)}},{key:"fillArg",value:function(V){var re=this.interaction;return V.interaction=re,V.interactable=re.interactable,V.element=re.element,V.rect||(V.rect=re.rect),V.edges||(V.edges=this.startEdges),V.startOffset=this.startOffset,V}},{key:"startAll",value:function(V){for(var re=0;re<this.states.length;re++){var Ae=this.states[re];Ae.methods.start&&(V.state=Ae,Ae.methods.start(V))}}},{key:"setAll",value:function(V){var re=V.phase,Ae=V.preEnd,ze=V.skipModifiers,He=V.rect,rt=V.edges;V.coords=(0,W.default)({},V.pageCoords),V.rect=(0,W.default)({},He),V.edges=(0,W.default)({},rt);for(var Ht=ze?this.states.slice(ze):this.states,jt=dr(V.coords,V.rect),Qt=0;Qt<Ht.length;Qt++){var gi,Ci=Ht[Qt],ui=Ci.options,Vi=(0,W.default)({},V.coords),qi=null;(gi=Ci.methods)!=null&&gi.set&&this.shouldDo(ui,Ae,re)&&(V.state=Ci,qi=Ci.methods.set(V),oe.addEdges(V.edges,V.rect,{x:V.coords.x-Vi.x,y:V.coords.y-Vi.y})),jt.eventProps.push(qi)}(0,W.default)(this.edges,V.edges),jt.delta.x=V.coords.x-V.pageCoords.x,jt.delta.y=V.coords.y-V.pageCoords.y,jt.rectDelta.left=V.rect.left-He.left,jt.rectDelta.right=V.rect.right-He.right,jt.rectDelta.top=V.rect.top-He.top,jt.rectDelta.bottom=V.rect.bottom-He.bottom;var Xi=this.result.coords,nr=this.result.rect;if(Xi&&nr){var Hr=jt.rect.left!==nr.left||jt.rect.right!==nr.right||jt.rect.top!==nr.top||jt.rect.bottom!==nr.bottom;jt.changed=Hr||Xi.x!==jt.coords.x||Xi.y!==jt.coords.y}return jt}},{key:"applyToInteraction",value:function(V){var re=this.interaction,Ae=V.phase,ze=re.coords.cur,He=re.coords.start,rt=this.result,Ht=this.startDelta,jt=rt.delta;Ae==="start"&&(0,W.default)(this.startDelta,rt.delta);for(var Qt=0;Qt<2;Qt++){var gi=Ft([[He,Ht],[ze,jt]][Qt],2),Ci=gi[0],ui=gi[1];Ci.page.x+=ui.x,Ci.page.y+=ui.y,Ci.client.x+=ui.x,Ci.client.y+=ui.y}var Vi=this.result.rectDelta,qi=V.rect||re.rect;qi.left+=Vi.left,qi.right+=Vi.right,qi.top+=Vi.top,qi.bottom+=Vi.bottom,qi.width=qi.right-qi.left,qi.height=qi.bottom-qi.top}},{key:"setAndApply",value:function(V){var re=this.interaction,Ae=V.phase,ze=V.preEnd,He=V.skipModifiers,rt=this.setAll(this.fillArg({preEnd:ze,phase:Ae,pageCoords:V.modifiedCoords||re.coords.cur.page}));if(this.result=rt,!rt.changed&&(!He||He<this.states.length)&&re.interacting())return!1;if(V.modifiedCoords){var Ht=re.coords.cur.page,jt={x:V.modifiedCoords.x-Ht.x,y:V.modifiedCoords.y-Ht.y};rt.coords.x+=jt.x,rt.coords.y+=jt.y,rt.delta.x+=jt.x,rt.delta.y+=jt.y}this.applyToInteraction(V)}},{key:"beforeEnd",value:function(V){var re=V.interaction,Ae=V.event,ze=this.states;if(ze&&ze.length){for(var He=!1,rt=0;rt<ze.length;rt++){var Ht=ze[rt];V.state=Ht;var jt=Ht.options,Qt=Ht.methods,gi=Qt.beforeEnd&&Qt.beforeEnd(V);if(gi)return this.endResult=gi,!1;He=He||!He&&this.shouldDo(jt,!0,V.phase,!0)}He&&re.move({event:Ae,preEnd:!0})}}},{key:"stop",value:function(V){var re=V.interaction;if(this.states&&this.states.length){var Ae=(0,W.default)({states:this.states,interactable:re.interactable,element:re.element,rect:null},V);this.fillArg(Ae);for(var ze=0;ze<this.states.length;ze++){var He=this.states[ze];Ae.state=He,He.methods.stop&&He.methods.stop(Ae)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(V){this.states=[];for(var re=0;re<V.length;re++){var Ae=V[re],ze=Ae.options,He=Ae.methods,rt=Ae.name;this.states.push({options:ze,methods:He,index:re,name:rt})}return this.states}},{key:"restoreInteractionCoords",value:function(V){var re=V.interaction,Ae=re.coords,ze=re.rect,He=re.modification;if(He.result){for(var rt=He.startDelta,Ht=He.result,jt=Ht.delta,Qt=Ht.rectDelta,gi=[[Ae.start,rt],[Ae.cur,jt]],Ci=0;Ci<gi.length;Ci++){var ui=Ft(gi[Ci],2),Vi=ui[0],qi=ui[1];Vi.page.x-=qi.x,Vi.page.y-=qi.y,Vi.client.x-=qi.x,Vi.client.y-=qi.y}ze.left-=Qt.left,ze.right-=Qt.right,ze.top-=Qt.top,ze.bottom-=Qt.bottom}}},{key:"shouldDo",value:function(V,re,Ae,ze){return!(!V||V.enabled===!1||ze&&!V.endOnly||V.endOnly&&!re||Ae==="start"&&!V.setStart)}},{key:"copyFrom",value:function(V){this.startOffset=V.startOffset,this.startDelta=V.startDelta,this.startEdges=V.startEdges,this.edges=V.edges,this.states=V.states.map(function(re){return(0,_e.default)(re)}),this.result=dr((0,W.default)({},V.result.coords),(0,W.default)({},V.result.rect))}},{key:"destroy",value:function(){for(var V in this)this[V]=null}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();function dr(T,R){return{rect:R,coords:T,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ir(T,R){return T?{left:R.x-T.left,top:R.y-T.top,right:T.right-R.x,bottom:T.bottom-R.y}:{left:0,top:0,right:0,bottom:0}}Tt.default=zi;var Ur={};function le(T){var R=T.iEvent,z=T.interaction.modification.result;z&&(R.modifiers=z.eventProps)}Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.addEventModifiers=le,Ur.default=void 0,Ur.makeModifier=function(T,R){var z=T.defaults,V={start:T.start,set:T.set,beforeEnd:T.beforeEnd,stop:T.stop},re=function(Ae){var ze=Ae||{};for(var He in ze.enabled=ze.enabled!==!1,z)He in ze||(ze[He]=z[He]);var rt={options:ze,methods:V,name:R,enable:function(){return ze.enabled=!0,rt},disable:function(){return ze.enabled=!1,rt}};return rt};return R&&typeof R=="string"&&(re._defaults=z,re._methods=V),re};var On={id:"modifiers/base",before:["actions"],install:function(T){T.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(T){var R=T.interaction;R.modification=new Tt.default(R)},"interactions:before-action-start":function(T){var R=T.interaction,z=T.interaction.modification;z.start(T,R.coords.start.page),R.edges=z.edges,z.applyToInteraction(T)},"interactions:before-action-move":function(T){var R=T.interaction,z=R.modification,V=z.setAndApply(T);return R.edges=z.edges,V},"interactions:before-action-end":function(T){var R=T.interaction,z=R.modification,V=z.beforeEnd(T);return R.edges=z.startEdges,V},"interactions:action-start":le,"interactions:action-move":le,"interactions:action-end":le,"interactions:after-action-start":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-move":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:stop":function(T){return T.interaction.modification.stop(T)}}},yn=On;Ur.default=yn;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.defaults=void 0,An.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var bn={};function si(T){return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},si(T)}function bi(T,R){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},bi(T,R)}function fi(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function er(T){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},er(T)}function rr(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(bn,"__esModule",{value:!0}),bn.InteractEvent=void 0;var Sn=function(T){(function(He,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");He.prototype=Object.create(rt&&rt.prototype,{constructor:{value:He,writable:!0,configurable:!0}}),Object.defineProperty(He,"prototype",{writable:!1}),rt&&bi(He,rt)})(ze,T);var R,z,V,re,Ae=(V=ze,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(He){return!1}}(),function(){var He,rt=er(V);if(re){var Ht=er(this).constructor;He=Reflect.construct(rt,arguments,Ht)}else He=rt.apply(this,arguments);return function(jt,Qt){if(Qt&&(si(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fi(jt)}(this,He)});function ze(He,rt,Ht,jt,Qt,gi,Ci){var ui;(function(xn,on){if(!(xn instanceof on))throw new TypeError("Cannot call a class as a function")})(this,ze),rr(fi(ui=Ae.call(this,He)),"relatedTarget",null),rr(fi(ui),"screenX",void 0),rr(fi(ui),"screenY",void 0),rr(fi(ui),"button",void 0),rr(fi(ui),"buttons",void 0),rr(fi(ui),"ctrlKey",void 0),rr(fi(ui),"shiftKey",void 0),rr(fi(ui),"altKey",void 0),rr(fi(ui),"metaKey",void 0),rr(fi(ui),"page",void 0),rr(fi(ui),"client",void 0),rr(fi(ui),"delta",void 0),rr(fi(ui),"rect",void 0),rr(fi(ui),"x0",void 0),rr(fi(ui),"y0",void 0),rr(fi(ui),"t0",void 0),rr(fi(ui),"dt",void 0),rr(fi(ui),"duration",void 0),rr(fi(ui),"clientX0",void 0),rr(fi(ui),"clientY0",void 0),rr(fi(ui),"velocity",void 0),rr(fi(ui),"speed",void 0),rr(fi(ui),"swipe",void 0),rr(fi(ui),"axes",void 0),rr(fi(ui),"preEnd",void 0),Qt=Qt||He.element;var Vi=He.interactable,qi=(Vi&&Vi.options||An.defaults).deltaSource,Xi=(0,xe.default)(Vi,Qt,Ht),nr=jt==="start",Hr=jt==="end",Gr=nr?fi(ui):He.prevEvent,cn=nr?He.coords.start:Hr?{page:Gr.page,client:Gr.client,timeStamp:He.coords.cur.timeStamp}:He.coords.cur;return ui.page=(0,W.default)({},cn.page),ui.client=(0,W.default)({},cn.client),ui.rect=(0,W.default)({},He.rect),ui.timeStamp=cn.timeStamp,Hr||(ui.page.x-=Xi.x,ui.page.y-=Xi.y,ui.client.x-=Xi.x,ui.client.y-=Xi.y),ui.ctrlKey=rt.ctrlKey,ui.altKey=rt.altKey,ui.shiftKey=rt.shiftKey,ui.metaKey=rt.metaKey,ui.button=rt.button,ui.buttons=rt.buttons,ui.target=Qt,ui.currentTarget=Qt,ui.preEnd=gi,ui.type=Ci||Ht+(jt||""),ui.interactable=Vi,ui.t0=nr?He.pointers[He.pointers.length-1].downTime:Gr.t0,ui.x0=He.coords.start.page.x-Xi.x,ui.y0=He.coords.start.page.y-Xi.y,ui.clientX0=He.coords.start.client.x-Xi.x,ui.clientY0=He.coords.start.client.y-Xi.y,ui.delta=nr||Hr?{x:0,y:0}:{x:ui[qi].x-Gr[qi].x,y:ui[qi].y-Gr[qi].y},ui.dt=He.coords.delta.timeStamp,ui.duration=ui.timeStamp-ui.t0,ui.velocity=(0,W.default)({},He.coords.velocity[qi]),ui.speed=(0,Ke.default)(ui.velocity.x,ui.velocity.y),ui.swipe=Hr||jt==="inertiastart"?ui.getSwipe():null,ui}return R=ze,(z=[{key:"getSwipe",value:function(){var He=this._interaction;if(He.prevEvent.speed<600||this.timeStamp-He.prevEvent.timeStamp>150)return null;var rt=180*Math.atan2(He.prevEvent.velocityY,He.prevEvent.velocityX)/Math.PI;rt<0&&(rt+=360);var Ht=112.5<=rt&&rt<247.5,jt=202.5<=rt&&rt<337.5;return{up:jt,down:!jt&&22.5<=rt&&rt<157.5,left:Ht,right:!Ht&&(292.5<=rt||rt<67.5),angle:rt,speed:He.prevEvent.speed,velocity:{x:He.prevEvent.velocityX,y:He.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(He,rt){for(var Ht=0;Ht<rt.length;Ht++){var jt=rt[Ht];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(He,jt.key,jt)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),ze}(it.BaseEvent);bn.InteractEvent=Sn,Object.defineProperties(Sn.prototype,{pageX:{get:function(){return this.page.x},set:function(T){this.page.x=T}},pageY:{get:function(){return this.page.y},set:function(T){this.page.y=T}},clientX:{get:function(){return this.client.x},set:function(T){this.client.x=T}},clientY:{get:function(){return this.client.y},set:function(T){this.client.y=T}},dx:{get:function(){return this.delta.x},set:function(T){this.delta.x=T}},dy:{get:function(){return this.delta.y},set:function(T){this.delta.y=T}},velocityX:{get:function(){return this.velocity.x},set:function(T){this.velocity.x=T}},velocityY:{get:function(){return this.velocity.y},set:function(T){this.velocity.y=T}}});var gn={};function po(T,R){for(var z=0;z<R.length;z++){var V=R[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}function so(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(gn,"__esModule",{value:!0}),gn.PointerInfo=void 0;var Va=function(T,R,z){return R&&po(T.prototype,R),z&&po(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}(function T(R,z,V,re,Ae){(function(ze,He){if(!(ze instanceof He))throw new TypeError("Cannot call a class as a function")})(this,T),so(this,"id",void 0),so(this,"pointer",void 0),so(this,"event",void 0),so(this,"downTime",void 0),so(this,"downTarget",void 0),this.id=R,this.pointer=z,this.event=V,this.downTime=re,this.downTarget=Ae});gn.PointerInfo=Va;var na,xo,Mn={};function Qr(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Interaction=void 0,Object.defineProperty(Mn,"PointerInfo",{enumerable:!0,get:function(){return gn.PointerInfo}}),Mn.default=Mn._ProxyValues=Mn._ProxyMethods=void 0,Mn._ProxyValues=na,function(T){T.interactable="",T.element="",T.prepared="",T.pointerIsDown="",T.pointerWasMoved="",T._proxy=""}(na||(Mn._ProxyValues=na={})),Mn._ProxyMethods=xo,function(T){T.start="",T.move="",T.end="",T.stop="",T.interacting=""}(xo||(Mn._ProxyMethods=xo={}));var lo=0,_o=function(){function T(V){var re=this,Ae=V.pointerType,ze=V.scopeFire;(function(gi,Ci){if(!(gi instanceof Ci))throw new TypeError("Cannot call a class as a function")})(this,T),Qr(this,"interactable",null),Qr(this,"element",null),Qr(this,"rect",null),Qr(this,"_rects",void 0),Qr(this,"edges",null),Qr(this,"_scopeFire",void 0),Qr(this,"prepared",{name:null,axis:null,edges:null}),Qr(this,"pointerType",void 0),Qr(this,"pointers",[]),Qr(this,"downEvent",null),Qr(this,"downPointer",{}),Qr(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Qr(this,"prevEvent",null),Qr(this,"pointerIsDown",!1),Qr(this,"pointerWasMoved",!1),Qr(this,"_interacting",!1),Qr(this,"_ending",!1),Qr(this,"_stopped",!0),Qr(this,"_proxy",null),Qr(this,"simulation",null),Qr(this,"doMove",(0,Pt.warnOnce)(function(gi){this.move(gi)},"The interaction.doMove() method has been renamed to interaction.move()")),Qr(this,"coords",{start:lt.newCoords(),prev:lt.newCoords(),cur:lt.newCoords(),delta:lt.newCoords(),velocity:lt.newCoords()}),Qr(this,"_id",lo++),this._scopeFire=ze,this.pointerType=Ae;var He=this;this._proxy={};var rt=function(gi){Object.defineProperty(re._proxy,gi,{get:function(){return He[gi]}})};for(var Ht in na)rt(Ht);var jt=function(gi){Object.defineProperty(re._proxy,gi,{value:function(){return He[gi].apply(He,arguments)}})};for(var Qt in xo)jt(Qt);this._scopeFire("interactions:new",{interaction:this})}var R,z;return R=T,z=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(V,re,Ae){var ze=this.updatePointer(V,re,Ae,!0),He=this.pointers[ze];this._scopeFire("interactions:down",{pointer:V,event:re,eventTarget:Ae,pointerIndex:ze,pointerInfo:He,type:"down",interaction:this})}},{key:"start",value:function(V,re,Ae){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(V.name==="gesture"?2:1)||!re.options[V.name].enabled)&&((0,Pt.copyAction)(this.prepared,V),this.interactable=re,this.element=Ae,this.rect=re.getRect(Ae),this.edges=this.prepared.edges?(0,W.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(V,re,Ae){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(V,re,Ae,!1);var ze,He,rt=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(ze=this.coords.cur.client.x-this.coords.start.client.x,He=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Ke.default)(ze,He)>this.pointerMoveTolerance);var Ht=this.getPointerIndex(V),jt={pointer:V,pointerIndex:Ht,pointerInfo:this.pointers[Ht],event:re,type:"move",eventTarget:Ae,dx:ze,dy:He,duplicate:rt,interaction:this};rt||lt.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",jt),rt||this.simulation||(this.interacting()&&(jt.type=null,this.move(jt)),this.pointerWasMoved&&lt.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(V){V&&V.event||lt.setZeroCoords(this.coords.delta),(V=(0,W.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},V||{})).phase="move",this._doPhase(V)}},{key:"pointerUp",value:function(V,re,Ae,ze){var He=this.getPointerIndex(V);He===-1&&(He=this.updatePointer(V,re,Ae,!1));var rt=/cancel$/i.test(re.type)?"cancel":"up";this._scopeFire("interactions:".concat(rt),{pointer:V,pointerIndex:He,pointerInfo:this.pointers[He],event:re,eventTarget:Ae,type:rt,curEventTarget:ze,interaction:this}),this.simulation||this.end(re),this.removePointer(V,re)}},{key:"documentBlur",value:function(V){this.end(V),this._scopeFire("interactions:blur",{event:V,type:"blur",interaction:this})}},{key:"end",value:function(V){var re;this._ending=!0,V=V||this._latestPointer.event,this.interacting()&&(re=this._doPhase({event:V,interaction:this,phase:"end"})),this._ending=!1,re===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(V){var re=lt.getPointerId(V);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:J.findIndex(this.pointers,function(Ae){return Ae.id===re})}},{key:"getPointerInfo",value:function(V){return this.pointers[this.getPointerIndex(V)]}},{key:"updatePointer",value:function(V,re,Ae,ze){var He=lt.getPointerId(V),rt=this.getPointerIndex(V),Ht=this.pointers[rt];return ze=ze!==!1&&(ze||/(down|start)$/i.test(re.type)),Ht?Ht.pointer=V:(Ht=new gn.PointerInfo(He,V,re,null,null),rt=this.pointers.length,this.pointers.push(Ht)),lt.setCoords(this.coords.cur,this.pointers.map(function(jt){return jt.pointer}),this._now()),lt.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),ze&&(this.pointerIsDown=!0,Ht.downTime=this.coords.cur.timeStamp,Ht.downTarget=Ae,lt.pointerExtend(this.downPointer,V),this.interacting()||(lt.copyCoords(this.coords.start,this.coords.cur),lt.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=re,this.pointerWasMoved=!1)),this._updateLatestPointer(V,re,Ae),this._scopeFire("interactions:update-pointer",{pointer:V,event:re,eventTarget:Ae,down:ze,pointerInfo:Ht,pointerIndex:rt,interaction:this}),rt}},{key:"removePointer",value:function(V,re){var Ae=this.getPointerIndex(V);if(Ae!==-1){var ze=this.pointers[Ae];this._scopeFire("interactions:remove-pointer",{pointer:V,event:re,eventTarget:null,pointerIndex:Ae,pointerInfo:ze,interaction:this}),this.pointers.splice(Ae,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(V,re,Ae){this._latestPointer.pointer=V,this._latestPointer.event=re,this._latestPointer.eventTarget=Ae}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(V,re,Ae,ze){return new bn.InteractEvent(this,V,this.prepared.name,re,this.element,Ae,ze)}},{key:"_fireEvent",value:function(V){var re;(re=this.interactable)==null||re.fire(V),(!this.prevEvent||V.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=V)}},{key:"_doPhase",value:function(V){var re=V.event,Ae=V.phase,ze=V.preEnd,He=V.type,rt=this.rect;if(rt&&Ae==="move"&&(oe.addEdges(this.edges,rt,this.coords.delta[this.interactable.options.deltaSource]),rt.width=rt.right-rt.left,rt.height=rt.bottom-rt.top),this._scopeFire("interactions:before-action-".concat(Ae),V)===!1)return!1;var Ht=V.iEvent=this._createPreparedEvent(re,Ae,ze,He);return this._scopeFire("interactions:action-".concat(Ae),V),Ae==="start"&&(this.prevEvent=Ht),this._fireEvent(Ht),this._scopeFire("interactions:after-action-".concat(Ae),V),!0}},{key:"_now",value:function(){return Date.now()}}],z&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();Mn.Interaction=_o;var oa=_o;Mn.default=oa;var qn={};function wa(T){T.pointerIsDown&&(Do(T.coords.cur,T.offset.total),T.offset.pending.x=0,T.offset.pending.y=0)}function Wa(T){xa(T.interaction)}function xa(T){if(!function(z){return!(!z.offset.pending.x&&!z.offset.pending.y)}(T))return!1;var R=T.offset.pending;return Do(T.coords.cur,R),Do(T.coords.delta,R),oe.addEdges(T.edges,T.rect,R),R.x=0,R.y=0,!0}function no(T){var R=T.x,z=T.y;this.offset.pending.x+=R,this.offset.pending.y+=z,this.offset.total.x+=R,this.offset.total.y+=z}function Do(T,R){var z=T.page,V=T.client,re=R.x,Ae=R.y;z.x+=re,z.y+=Ae,V.x+=re,V.y+=Ae}Object.defineProperty(qn,"__esModule",{value:!0}),qn.addTotal=wa,qn.applyPending=xa,qn.default=void 0,Mn._ProxyMethods.offsetBy="";var Bo={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(T){T.Interaction.prototype.offsetBy=no},listeners:{"interactions:new":function(T){T.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(T){return wa(T.interaction)},"interactions:before-action-start":Wa,"interactions:before-action-move":Wa,"interactions:before-action-end":function(T){var R=T.interaction;if(xa(R))return R.move({offset:!0}),R.end(),!1},"interactions:stop":function(T){var R=T.interaction;R.offset.total.x=0,R.offset.total.y=0,R.offset.pending.x=0,R.offset.pending.y=0}}},Ho=Bo;qn.default=Ho;var co={};function wn(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(co,"__esModule",{value:!0}),co.default=co.InertiaState=void 0;var f=function(){function T(V){(function(re,Ae){if(!(re instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,T),wn(this,"active",!1),wn(this,"isModified",!1),wn(this,"smoothEnd",!1),wn(this,"allowResume",!1),wn(this,"modification",void 0),wn(this,"modifierCount",0),wn(this,"modifierArg",void 0),wn(this,"startCoords",void 0),wn(this,"t0",0),wn(this,"v0",0),wn(this,"te",0),wn(this,"targetOffset",void 0),wn(this,"modifiedOffset",void 0),wn(this,"currentOffset",void 0),wn(this,"lambda_v0",0),wn(this,"one_ve_v0",0),wn(this,"timeout",void 0),wn(this,"interaction",void 0),this.interaction=V}var R,z;return R=T,(z=[{key:"start",value:function(V){var re=this.interaction,Ae=b(re);if(!Ae||!Ae.enabled)return!1;var ze=re.coords.velocity.client,He=(0,Ke.default)(ze.x,ze.y),rt=this.modification||(this.modification=new Tt.default(re));if(rt.copyFrom(re.modification),this.t0=re._now(),this.allowResume=Ae.allowResume,this.v0=He,this.currentOffset={x:0,y:0},this.startCoords=re.coords.cur.page,this.modifierArg=rt.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-re.coords.cur.timeStamp<50&&He>Ae.minSpeed&&He>Ae.endSpeed)this.startInertia();else{if(rt.result=rt.setAll(this.modifierArg),!rt.result.changed)return!1;this.startSmoothEnd()}return re.modification.result.rect=null,re.offsetBy(this.targetOffset),re._doPhase({interaction:re,event:V,phase:"inertiastart"}),re.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),re.modification.result.rect=null,this.active=!0,re.simulation=this,!0}},{key:"startInertia",value:function(){var V=this,re=this.interaction.coords.velocity.client,Ae=b(this.interaction),ze=Ae.resistance,He=-Math.log(Ae.endSpeed/this.v0)/ze;this.targetOffset={x:(re.x-He)/ze,y:(re.y-He)/ze},this.te=He,this.lambda_v0=ze/this.v0,this.one_ve_v0=1-Ae.endSpeed/this.v0;var rt=this.modification,Ht=this.modifierArg;Ht.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},rt.result=rt.setAll(Ht),rt.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+rt.result.delta.x,y:this.targetOffset.y+rt.result.delta.y}),this.onNextFrame(function(){return V.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var V=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return V.smoothEndTick()})}},{key:"onNextFrame",value:function(V){var re=this;this.timeout=gt.default.request(function(){re.active&&V()})}},{key:"inertiaTick",value:function(){var V,re,Ae,ze,He,rt=this,Ht=this.interaction,jt=b(Ht).resistance,Qt=(Ht._now()-this.t0)/1e3;if(Qt<this.te){var gi,Ci=1-(Math.exp(-jt*Qt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(V=this.targetOffset.x,re=this.targetOffset.y,Ae=this.modifiedOffset.x,ze=this.modifiedOffset.y,gi={x:M(He=Ci,0,V,Ae),y:M(He,0,re,ze)}):gi={x:this.targetOffset.x*Ci,y:this.targetOffset.y*Ci};var ui={x:gi.x-this.currentOffset.x,y:gi.y-this.currentOffset.y};this.currentOffset.x+=ui.x,this.currentOffset.y+=ui.y,Ht.offsetBy(ui),Ht.move(),this.onNextFrame(function(){return rt.inertiaTick()})}else Ht.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var V=this,re=this.interaction,Ae=re._now()-this.t0,ze=b(re).smoothEndDuration;if(Ae<ze){var He={x:H(Ae,0,this.targetOffset.x,ze),y:H(Ae,0,this.targetOffset.y,ze)},rt={x:He.x-this.currentOffset.x,y:He.y-this.currentOffset.y};this.currentOffset.x+=rt.x,this.currentOffset.y+=rt.y,re.offsetBy(rt),re.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return V.smoothEndTick()})}else re.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(V){var re=V.pointer,Ae=V.event,ze=V.eventTarget,He=this.interaction;He.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),He.updatePointer(re,Ae,ze,!0),He._doPhase({interaction:He,event:Ae,phase:"resume"}),(0,lt.copyCoords)(He.coords.prev,He.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,gt.default.cancel(this.timeout)}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();function b(T){var R=T.interactable,z=T.prepared;return R&&R.options&&z.name&&R.options[z.name].inertia}co.InertiaState=f;var A={id:"inertia",before:["modifiers","actions"],install:function(T){var R=T.defaults;T.usePlugin(qn.default),T.usePlugin(Ur.default),T.actions.phases.inertiastart=!0,T.actions.phases.resume=!0,R.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(T){var R=T.interaction;R.inertia=new f(R)},"interactions:before-action-end":function(T){var R=T.interaction,z=T.event;return(!R._interacting||R.simulation||!R.inertia.start(z))&&null},"interactions:down":function(T){var R=T.interaction,z=T.eventTarget,V=R.inertia;if(V.active)for(var re=z;m.default.element(re);){if(re===R.element){V.resume(T);break}re=q.parentNode(re)}},"interactions:stop":function(T){var R=T.interaction.inertia;R.active&&R.stop()},"interactions:before-action-resume":function(T){var R=T.interaction.modification;R.stop(T),R.start(T,T.interaction.coords.cur.page),R.applyToInteraction(T)},"interactions:before-action-inertiastart":function(T){return T.interaction.modification.setAndApply(T)},"interactions:action-resume":Ur.addEventModifiers,"interactions:action-inertiastart":Ur.addEventModifiers,"interactions:after-action-inertiastart":function(T){return T.interaction.modification.restoreInteractionCoords(T)},"interactions:after-action-resume":function(T){return T.interaction.modification.restoreInteractionCoords(T)}}};function M(T,R,z,V){var re=1-T;return re*re*R+2*re*T*z+T*T*V}function H(T,R,z,V){return-z*(T/=V)*(T-2)+R}var F=A;co.default=F;var X={};function Be(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}function Pe(T,R){for(var z=0;z<R.length;z++){var V=R[z];if(T.immediatePropagationStopped)break;V(T)}}Object.defineProperty(X,"__esModule",{value:!0}),X.Eventable=void 0;var ft=function(){function T(V){(function(re,Ae){if(!(re instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,T),Be(this,"options",void 0),Be(this,"types",{}),Be(this,"propagationStopped",!1),Be(this,"immediatePropagationStopped",!1),Be(this,"global",void 0),this.options=(0,W.default)({},V||{})}var R,z;return R=T,(z=[{key:"fire",value:function(V){var re,Ae=this.global;(re=this.types[V.type])&&Pe(V,re),!V.propagationStopped&&Ae&&(re=Ae[V.type])&&Pe(V,re)}},{key:"on",value:function(V,re){var Ae=(0,Y.default)(V,re);for(V in Ae)this.types[V]=J.merge(this.types[V]||[],Ae[V])}},{key:"off",value:function(V,re){var Ae=(0,Y.default)(V,re);for(V in Ae){var ze=this.types[V];if(ze&&ze.length)for(var He=0;He<Ae[V].length;He++){var rt=Ae[V][He],Ht=ze.indexOf(rt);Ht!==-1&&ze.splice(Ht,1)}}}},{key:"getRect",value:function(V){return null}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();X.Eventable=ft;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=function(T,R){if(R.phaselessTypes[T])return!0;for(var z in R.map)if(T.indexOf(z)===0&&T.substr(z.length)in R.phases)return!0;return!1};var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),ei.createInteractStatic=function(T){var R=function z(V,re){var Ae=T.interactables.get(V,re);return Ae||((Ae=T.interactables.new(V,re)).events.global=z.globalEvents),Ae};return R.getPointerAverage=lt.pointerAverage,R.getTouchBBox=lt.touchBBox,R.getTouchDistance=lt.touchDistance,R.getTouchAngle=lt.touchAngle,R.getElementRect=q.getElementRect,R.getElementClientRect=q.getElementClientRect,R.matchesSelector=q.matchesSelector,R.closest=q.closest,R.globalEvents={},R.version="1.10.18",R.scope=T,R.use=function(z,V){return this.scope.usePlugin(z,V),this},R.isSet=function(z,V){return!!this.scope.interactables.get(z,V&&V.context)},R.on=(0,Pt.warnOnce)(function(z,V,re){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var Ae=0;Ae<z.length;Ae++){var ze=z[Ae];this.on(ze,V,re)}return this}if(m.default.object(z)){for(var He in z)this.on(He,z[He],V);return this}return(0,Dt.default)(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(V):this.globalEvents[z]=[V]:this.scope.events.add(this.scope.document,z,V,{options:re}),this},"The interact.on() method is being deprecated"),R.off=(0,Pt.warnOnce)(function(z,V,re){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var Ae=0;Ae<z.length;Ae++){var ze=z[Ae];this.off(ze,V,re)}return this}if(m.default.object(z)){for(var He in z)this.off(He,z[He],V);return this}var rt;return(0,Dt.default)(z,this.scope.actions)?z in this.globalEvents&&(rt=this.globalEvents[z].indexOf(V))!==-1&&this.globalEvents[z].splice(rt,1):this.scope.events.remove(this.scope.document,z,V,re),this},"The interact.off() method is being deprecated"),R.debug=function(){return this.scope},R.supportsTouch=function(){return C.default.supportsTouch},R.supportsPointerEvent=function(){return C.default.supportsPointerEvent},R.stop=function(){for(var z=0;z<this.scope.interactions.list.length;z++)this.scope.interactions.list[z].stop();return this},R.pointerMoveTolerance=function(z){return m.default.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},R.addDocument=function(z,V){this.scope.addDocument(z,V)},R.removeDocument=function(z){this.scope.removeDocument(z)},R};var $t={};function ot(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty($t,"__esModule",{value:!0}),$t.Interactable=void 0;var Pi=function(){function T(V,re,Ae,ze){(function(He,rt){if(!(He instanceof rt))throw new TypeError("Cannot call a class as a function")})(this,T),ot(this,"options",void 0),ot(this,"_actions",void 0),ot(this,"target",void 0),ot(this,"events",new X.Eventable),ot(this,"_context",void 0),ot(this,"_win",void 0),ot(this,"_doc",void 0),ot(this,"_scopeEvents",void 0),ot(this,"_rectChecker",void 0),this._actions=re.actions,this.target=V,this._context=re.context||Ae,this._win=(0,n.getWindow)((0,q.trySelector)(V)?this._context:V),this._doc=this._win.document,this._scopeEvents=ze,this.set(re)}var R,z;return R=T,(z=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(V,re){return m.default.func(re.onstart)&&this.on("".concat(V,"start"),re.onstart),m.default.func(re.onmove)&&this.on("".concat(V,"move"),re.onmove),m.default.func(re.onend)&&this.on("".concat(V,"end"),re.onend),m.default.func(re.oninertiastart)&&this.on("".concat(V,"inertiastart"),re.oninertiastart),this}},{key:"updatePerActionListeners",value:function(V,re,Ae){(m.default.array(re)||m.default.object(re))&&this.off(V,re),(m.default.array(Ae)||m.default.object(Ae))&&this.on(V,Ae)}},{key:"setPerAction",value:function(V,re){var Ae=this._defaults;for(var ze in re){var He=ze,rt=this.options[V],Ht=re[He];He==="listeners"&&this.updatePerActionListeners(V,rt.listeners,Ht),m.default.array(Ht)?rt[He]=J.from(Ht):m.default.plainObject(Ht)?(rt[He]=(0,W.default)(rt[He]||{},(0,_e.default)(Ht)),m.default.object(Ae.perAction[He])&&"enabled"in Ae.perAction[He]&&(rt[He].enabled=Ht.enabled!==!1)):m.default.bool(Ht)&&m.default.object(Ae.perAction[He])?rt[He].enabled=Ht:rt[He]=Ht}}},{key:"getRect",value:function(V){return V=V||(m.default.element(this.target)?this.target:null),m.default.string(this.target)&&(V=V||this._context.querySelector(this.target)),(0,q.getElementRect)(V)}},{key:"rectChecker",value:function(V){var re=this;return m.default.func(V)?(this._rectChecker=V,this.getRect=function(Ae){var ze=(0,W.default)({},re._rectChecker(Ae));return"width"in ze||(ze.width=ze.right-ze.left,ze.height=ze.bottom-ze.top),ze},this):V===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(V,re){if((0,q.trySelector)(re)||m.default.object(re)){for(var Ae in this.options[V]=re,this._actions.map)this.options[Ae][V]=re;return this}return this.options[V]}},{key:"origin",value:function(V){return this._backCompatOption("origin",V)}},{key:"deltaSource",value:function(V){return V==="page"||V==="client"?(this.options.deltaSource=V,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(V){return this._context===V.ownerDocument||(0,q.nodeContains)(this._context,V)}},{key:"testIgnoreAllow",value:function(V,re,Ae){return!this.testIgnore(V.ignoreFrom,re,Ae)&&this.testAllow(V.allowFrom,re,Ae)}},{key:"testAllow",value:function(V,re,Ae){return!V||!!m.default.element(Ae)&&(m.default.string(V)?(0,q.matchesUpTo)(Ae,V,re):!!m.default.element(V)&&(0,q.nodeContains)(V,Ae))}},{key:"testIgnore",value:function(V,re,Ae){return!(!V||!m.default.element(Ae))&&(m.default.string(V)?(0,q.matchesUpTo)(Ae,V,re):!!m.default.element(V)&&(0,q.nodeContains)(V,Ae))}},{key:"fire",value:function(V){return this.events.fire(V),this}},{key:"_onOff",value:function(V,re,Ae,ze){m.default.object(re)&&!m.default.array(re)&&(ze=Ae,Ae=null);var He=V==="on"?"add":"remove",rt=(0,Y.default)(re,Ae);for(var Ht in rt){Ht==="wheel"&&(Ht=C.default.wheelEvent);for(var jt=0;jt<rt[Ht].length;jt++){var Qt=rt[Ht][jt];(0,Dt.default)(Ht,this._actions)?this.events[V](Ht,Qt):m.default.string(this.target)?this._scopeEvents["".concat(He,"Delegate")](this.target,this._context,Ht,Qt,ze):this._scopeEvents[He](this.target,Ht,Qt,ze)}}return this}},{key:"on",value:function(V,re,Ae){return this._onOff("on",V,re,Ae)}},{key:"off",value:function(V,re,Ae){return this._onOff("off",V,re,Ae)}},{key:"set",value:function(V){var re=this._defaults;for(var Ae in m.default.object(V)||(V={}),this.options=(0,_e.default)(re.base),this._actions.methodDict){var ze=Ae,He=this._actions.methodDict[ze];this.options[ze]={},this.setPerAction(ze,(0,W.default)((0,W.default)({},re.perAction),re.actions[ze])),this[He](V[ze])}for(var rt in V)m.default.func(this[rt])&&this[rt](V[rt]);return this}},{key:"unset",value:function(){if(m.default.string(this.target))for(var V in this._scopeEvents.delegatedEvents)for(var re=this._scopeEvents.delegatedEvents[V],Ae=re.length-1;Ae>=0;Ae--){var ze=re[Ae],He=ze.selector,rt=ze.context,Ht=ze.listeners;He===this.target&&rt===this._context&&re.splice(Ae,1);for(var jt=Ht.length-1;jt>=0;jt--)this._scopeEvents.removeDelegate(this.target,this._context,V,Ht[jt][0],Ht[jt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();$t.Interactable=Pi;var D={};function L(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(D,"__esModule",{value:!0}),D.InteractableSet=void 0;var j=function(){function T(V){var re=this;(function(Ae,ze){if(!(Ae instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,T),L(this,"list",[]),L(this,"selectorMap",{}),L(this,"scope",void 0),this.scope=V,V.addListeners({"interactable:unset":function(Ae){var ze=Ae.interactable,He=ze.target,rt=ze._context,Ht=m.default.string(He)?re.selectorMap[He]:He[re.scope.id],jt=J.findIndex(Ht,function(Qt){return Qt.context===rt});Ht[jt]&&(Ht[jt].context=null,Ht[jt].interactable=null),Ht.splice(jt,1)}})}var R,z;return R=T,(z=[{key:"new",value:function(V,re){re=(0,W.default)(re||{},{actions:this.scope.actions});var Ae=new this.scope.Interactable(V,re,this.scope.document,this.scope.events),ze={context:Ae._context,interactable:Ae};return this.scope.addDocument(Ae._doc),this.list.push(Ae),m.default.string(V)?(this.selectorMap[V]||(this.selectorMap[V]=[]),this.selectorMap[V].push(ze)):(Ae.target[this.scope.id]||Object.defineProperty(V,this.scope.id,{value:[],configurable:!0}),V[this.scope.id].push(ze)),this.scope.fire("interactable:new",{target:V,options:re,interactable:Ae,win:this.scope._win}),Ae}},{key:"get",value:function(V,re){var Ae=re&&re.context||this.scope.document,ze=m.default.string(V),He=ze?this.selectorMap[V]:V[this.scope.id];if(!He)return null;var rt=J.find(He,function(Ht){return Ht.context===Ae&&(ze||Ht.interactable.inContext(V))});return rt&&rt.interactable}},{key:"forEachMatch",value:function(V,re){for(var Ae=0;Ae<this.list.length;Ae++){var ze=this.list[Ae],He=void 0;if((m.default.string(ze.target)?m.default.element(V)&&q.matchesSelector(V,ze.target):V===ze.target)&&ze.inContext(V)&&(He=re(ze)),He!==void 0)return He}}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();D.InteractableSet=j;var U={};function se(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}function me(T,R){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var re=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(re!=null){var Ae,ze,He=[],rt=!0,Ht=!1;try{for(re=re.call(z);!(rt=(Ae=re.next()).done)&&(He.push(Ae.value),!V||He.length!==V);rt=!0);}catch(jt){Ht=!0,ze=jt}finally{try{rt||re.return==null||re.return()}finally{if(Ht)throw ze}}return He}}(T,R)||function(z,V){if(z){if(typeof z=="string")return Ce(z,V);var re=Object.prototype.toString.call(z).slice(8,-1);return re==="Object"&&z.constructor&&(re=z.constructor.name),re==="Map"||re==="Set"?Array.from(z):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?Ce(z,V):void 0}}(T,R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ce(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var Rt=function(){function T(V){(function(re,Ae){if(!(re instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,T),se(this,"currentTarget",void 0),se(this,"originalEvent",void 0),se(this,"type",void 0),this.originalEvent=V,(0,ht.default)(this,V)}var R,z;return R=T,(z=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(V,re){for(var Ae=0;Ae<re.length;Ae++){var ze=re[Ae];ze.enumerable=ze.enumerable||!1,ze.configurable=!0,"value"in ze&&(ze.writable=!0),Object.defineProperty(V,ze.key,ze)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),T}();function vt(T){if(!m.default.object(T))return{capture:!!T,passive:!1};var R=(0,W.default)({},T);return R.capture=!!T.capture,R.passive=!!T.passive,R}var qt={id:"events",install:function(T){var R,z=[],V={},re=[],Ae={add:ze,remove:He,addDelegate:function(jt,Qt,gi,Ci,ui){var Vi=vt(ui);if(!V[gi]){V[gi]=[];for(var qi=0;qi<re.length;qi++){var Xi=re[qi];ze(Xi,gi,rt),ze(Xi,gi,Ht,!0)}}var nr=V[gi],Hr=J.find(nr,function(Gr){return Gr.selector===jt&&Gr.context===Qt});Hr||(Hr={selector:jt,context:Qt,listeners:[]},nr.push(Hr)),Hr.listeners.push([Ci,Vi])},removeDelegate:function(jt,Qt,gi,Ci,ui){var Vi,qi=vt(ui),Xi=V[gi],nr=!1;if(Xi)for(Vi=Xi.length-1;Vi>=0;Vi--){var Hr=Xi[Vi];if(Hr.selector===jt&&Hr.context===Qt){for(var Gr=Hr.listeners,cn=Gr.length-1;cn>=0;cn--){var xn=me(Gr[cn],2),on=xn[0],_n=xn[1],sa=_n.capture,Ca=_n.passive;if(on===Ci&&sa===qi.capture&&Ca===qi.passive){Gr.splice(cn,1),Gr.length||(Xi.splice(Vi,1),He(Qt,gi,rt),He(Qt,gi,Ht,!0)),nr=!0;break}}if(nr)break}}},delegateListener:rt,delegateUseCapture:Ht,delegatedEvents:V,documents:re,targets:z,supportsOptions:!1,supportsPassive:!1};function ze(jt,Qt,gi,Ci){var ui=vt(Ci),Vi=J.find(z,function(qi){return qi.eventTarget===jt});Vi||(Vi={eventTarget:jt,events:{}},z.push(Vi)),Vi.events[Qt]||(Vi.events[Qt]=[]),jt.addEventListener&&!J.contains(Vi.events[Qt],gi)&&(jt.addEventListener(Qt,gi,Ae.supportsOptions?ui:ui.capture),Vi.events[Qt].push(gi))}function He(jt,Qt,gi,Ci){var ui=vt(Ci),Vi=J.findIndex(z,function(cn){return cn.eventTarget===jt}),qi=z[Vi];if(qi&&qi.events)if(Qt!=="all"){var Xi=!1,nr=qi.events[Qt];if(nr){if(gi==="all"){for(var Hr=nr.length-1;Hr>=0;Hr--)He(jt,Qt,nr[Hr],ui);return}for(var Gr=0;Gr<nr.length;Gr++)if(nr[Gr]===gi){jt.removeEventListener(Qt,gi,Ae.supportsOptions?ui:ui.capture),nr.splice(Gr,1),nr.length===0&&(delete qi.events[Qt],Xi=!0);break}}Xi&&!Object.keys(qi.events).length&&z.splice(Vi,1)}else for(Qt in qi.events)qi.events.hasOwnProperty(Qt)&&He(jt,Qt,"all")}function rt(jt,Qt){for(var gi=vt(Qt),Ci=new Rt(jt),ui=V[jt.type],Vi=me(lt.getEventTargets(jt),1)[0],qi=Vi;m.default.element(qi);){for(var Xi=0;Xi<ui.length;Xi++){var nr=ui[Xi],Hr=nr.selector,Gr=nr.context;if(q.matchesSelector(qi,Hr)&&q.nodeContains(Gr,Vi)&&q.nodeContains(Gr,qi)){var cn=nr.listeners;Ci.currentTarget=qi;for(var xn=0;xn<cn.length;xn++){var on=me(cn[xn],2),_n=on[0],sa=on[1],Ca=sa.capture,tp=sa.passive;Ca===gi.capture&&tp===gi.passive&&_n(Ci)}}}qi=q.parentNode(qi)}}function Ht(jt){return rt(jt,!0)}return(R=T.document)==null||R.createElement("div").addEventListener("test",null,{get capture(){return Ae.supportsOptions=!0},get passive(){return Ae.supportsPassive=!0}}),T.events=Ae,Ae}};U.default=qt;var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=void 0;var Ei={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(T){for(var R=0;R<Ei.methodOrder.length;R++){var z;z=Ei.methodOrder[R];var V=Ei[z](T);if(V)return V}return null},simulationResume:function(T){var R=T.pointerType,z=T.eventType,V=T.eventTarget,re=T.scope;if(!/down|start/i.test(z))return null;for(var Ae=0;Ae<re.interactions.list.length;Ae++){var ze=re.interactions.list[Ae],He=V;if(ze.simulation&&ze.simulation.allowResume&&ze.pointerType===R)for(;He;){if(He===ze.element)return ze;He=q.parentNode(He)}}return null},mouseOrPen:function(T){var R,z=T.pointerId,V=T.pointerType,re=T.eventType,Ae=T.scope;if(V!=="mouse"&&V!=="pen")return null;for(var ze=0;ze<Ae.interactions.list.length;ze++){var He=Ae.interactions.list[ze];if(He.pointerType===V){if(He.simulation&&!Ii(He,z))continue;if(He.interacting())return He;R||(R=He)}}if(R)return R;for(var rt=0;rt<Ae.interactions.list.length;rt++){var Ht=Ae.interactions.list[rt];if(!(Ht.pointerType!==V||/down/i.test(re)&&Ht.simulation))return Ht}return null},hasPointer:function(T){for(var R=T.pointerId,z=T.scope,V=0;V<z.interactions.list.length;V++){var re=z.interactions.list[V];if(Ii(re,R))return re}return null},idle:function(T){for(var R=T.pointerType,z=T.scope,V=0;V<z.interactions.list.length;V++){var re=z.interactions.list[V];if(re.pointers.length===1){var Ae=re.interactable;if(Ae&&(!Ae.options.gesture||!Ae.options.gesture.enabled))continue}else if(re.pointers.length>=2)continue;if(!re.interacting()&&R===re.pointerType)return re}return null}};function Ii(T,R){return T.pointers.some(function(z){return z.id===R})}var Oi=Ei;ai.default=Oi;var ar={};function Wi(T){return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},Wi(T)}function Ri(T,R){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var re=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(re!=null){var Ae,ze,He=[],rt=!0,Ht=!1;try{for(re=re.call(z);!(rt=(Ae=re.next()).done)&&(He.push(Ae.value),!V||He.length!==V);rt=!0);}catch(jt){Ht=!0,ze=jt}finally{try{rt||re.return==null||re.return()}finally{if(Ht)throw ze}}return He}}(T,R)||function(z,V){if(z){if(typeof z=="string")return Yi(z,V);var re=Object.prototype.toString.call(z).slice(8,-1);return re==="Object"&&z.constructor&&(re=z.constructor.name),re==="Map"||re==="Set"?Array.from(z):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?Yi(z,V):void 0}}(T,R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yi(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}function Qi(T,R){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Qi(T,R)}function Ki(T){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},Ki(T)}Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var gr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Dr(T,R){return function(z){var V=R.interactions.list,re=lt.getPointerType(z),Ae=Ri(lt.getEventTargets(z),2),ze=Ae[0],He=Ae[1],rt=[];if(/^touch/.test(z.type)){R.prevTouchTime=R.now();for(var Ht=0;Ht<z.changedTouches.length;Ht++){var jt=z.changedTouches[Ht],Qt={pointer:jt,pointerId:lt.getPointerId(jt),pointerType:re,eventType:z.type,eventTarget:ze,curEventTarget:He,scope:R},gi=Li(Qt);rt.push([Qt.pointer,Qt.eventTarget,Qt.curEventTarget,gi])}}else{var Ci=!1;if(!C.default.supportsPointerEvent&&/mouse/.test(z.type)){for(var ui=0;ui<V.length&&!Ci;ui++)Ci=V[ui].pointerType!=="mouse"&&V[ui].pointerIsDown;Ci=Ci||R.now()-R.prevTouchTime<500||z.timeStamp===0}if(!Ci){var Vi={pointer:z,pointerId:lt.getPointerId(z),pointerType:re,eventType:z.type,curEventTarget:He,eventTarget:ze,scope:R},qi=Li(Vi);rt.push([Vi.pointer,Vi.eventTarget,Vi.curEventTarget,qi])}}for(var Xi=0;Xi<rt.length;Xi++){var nr=Ri(rt[Xi],4),Hr=nr[0],Gr=nr[1],cn=nr[2];nr[3][T](Hr,z,Gr,cn)}}}function Li(T){var R=T.pointerType,z=T.scope,V={interaction:ai.default.search(T),searchDetails:T};return z.fire("interactions:find",V),V.interaction||z.interactions.new({pointerType:R})}function sr(T,R){var z=T.doc,V=T.scope,re=T.options,Ae=V.interactions.docEvents,ze=V.events,He=ze[R];for(var rt in V.browser.isIOS&&!re.events&&(re.events={passive:!1}),ze.delegatedEvents)He(z,rt,ze.delegateListener),He(z,rt,ze.delegateUseCapture,!0);for(var Ht=re&&re.events,jt=0;jt<Ae.length;jt++){var Qt=Ae[jt];He(z,Qt.type,Qt.listener,Ht)}}var Kr={id:"core/interactions",install:function(T){for(var R={},z=0;z<gr.length;z++){var V=gr[z];R[V]=Dr(V,T)}var re,Ae=C.default.pEventTypes;function ze(){for(var He=0;He<T.interactions.list.length;He++){var rt=T.interactions.list[He];if(rt.pointerIsDown&&rt.pointerType==="touch"&&!rt._interacting)for(var Ht=function(){var Qt=rt.pointers[jt];T.documents.some(function(gi){var Ci=gi.doc;return(0,q.nodeContains)(Ci,Qt.downTarget)})||rt.removePointer(Qt.pointer,Qt.event)},jt=0;jt<rt.pointers.length;jt++)Ht()}}(re=h.default.PointerEvent?[{type:Ae.down,listener:ze},{type:Ae.down,listener:R.pointerDown},{type:Ae.move,listener:R.pointerMove},{type:Ae.up,listener:R.pointerUp},{type:Ae.cancel,listener:R.pointerUp}]:[{type:"mousedown",listener:R.pointerDown},{type:"mousemove",listener:R.pointerMove},{type:"mouseup",listener:R.pointerUp},{type:"touchstart",listener:ze},{type:"touchstart",listener:R.pointerDown},{type:"touchmove",listener:R.pointerMove},{type:"touchend",listener:R.pointerUp},{type:"touchcancel",listener:R.pointerUp}]).push({type:"blur",listener:function(He){for(var rt=0;rt<T.interactions.list.length;rt++)T.interactions.list[rt].documentBlur(He)}}),T.prevTouchTime=0,T.Interaction=function(He){(function(ui,Vi){if(typeof Vi!="function"&&Vi!==null)throw new TypeError("Super expression must either be null or a function");ui.prototype=Object.create(Vi&&Vi.prototype,{constructor:{value:ui,writable:!0,configurable:!0}}),Object.defineProperty(ui,"prototype",{writable:!1}),Vi&&Qi(ui,Vi)})(Ci,He);var rt,Ht,jt,Qt,gi=(jt=Ci,Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ui){return!1}}(),function(){var ui,Vi=Ki(jt);if(Qt){var qi=Ki(this).constructor;ui=Reflect.construct(Vi,arguments,qi)}else ui=Vi.apply(this,arguments);return function(Xi,nr){if(nr&&(Wi(nr)==="object"||typeof nr=="function"))return nr;if(nr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Hr){if(Hr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Hr}(Xi)}(this,ui)});function Ci(){return function(ui,Vi){if(!(ui instanceof Vi))throw new TypeError("Cannot call a class as a function")}(this,Ci),gi.apply(this,arguments)}return rt=Ci,(Ht=[{key:"pointerMoveTolerance",get:function(){return T.interactions.pointerMoveTolerance},set:function(ui){T.interactions.pointerMoveTolerance=ui}},{key:"_now",value:function(){return T.now()}}])&&function(ui,Vi){for(var qi=0;qi<Vi.length;qi++){var Xi=Vi[qi];Xi.enumerable=Xi.enumerable||!1,Xi.configurable=!0,"value"in Xi&&(Xi.writable=!0),Object.defineProperty(ui,Xi.key,Xi)}}(rt.prototype,Ht),Object.defineProperty(rt,"prototype",{writable:!1}),Ci}(Mn.default),T.interactions={list:[],new:function(He){He.scopeFire=function(Ht,jt){return T.fire(Ht,jt)};var rt=new T.Interaction(He);return T.interactions.list.push(rt),rt},listeners:R,docEvents:re,pointerMoveTolerance:1},T.usePlugin($r.default)},listeners:{"scope:add-document":function(T){return sr(T,"add")},"scope:remove-document":function(T){return sr(T,"remove")},"interactable:unset":function(T,R){for(var z=T.interactable,V=R.interactions.list.length-1;V>=0;V--){var re=R.interactions.list[V];re.interactable===z&&(re.stop(),R.fire("interactions:destroy",{interaction:re}),re.destroy(),R.interactions.list.length>2&&R.interactions.list.splice(V,1))}}},onDocSignal:sr,doOnInteractions:Dr,methodNames:gr},mr=Kr;ar.default=mr;var Br={};function Lr(T){return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},Lr(T)}function pn(){return pn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(T,R,z){var V=function(Ae,ze){for(;!Object.prototype.hasOwnProperty.call(Ae,ze)&&(Ae=Ir(Ae))!==null;);return Ae}(T,R);if(V){var re=Object.getOwnPropertyDescriptor(V,R);return re.get?re.get.call(arguments.length<3?T:z):re.value}},pn.apply(this,arguments)}function Nr(T,R){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Nr(T,R)}function Ir(T){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},Ir(T)}function Xr(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}function ge(T,R){for(var z=0;z<R.length;z++){var V=R[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}function ue(T,R,z){return R&&ge(T.prototype,R),z&&ge(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}function Te(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(Br,"__esModule",{value:!0}),Br.Scope=void 0,Br.initScope=bt;var Vt=function(){function T(){var R=this;Xr(this,T),Te(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Te(this,"isInitialized",!1),Te(this,"listenerMaps",[]),Te(this,"browser",C.default),Te(this,"defaults",(0,_e.default)(An.defaults)),Te(this,"Eventable",X.Eventable),Te(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Te(this,"interactStatic",(0,ei.createInteractStatic)(this)),Te(this,"InteractEvent",bn.InteractEvent),Te(this,"Interactable",void 0),Te(this,"interactables",new D.InteractableSet(this)),Te(this,"_win",void 0),Te(this,"document",void 0),Te(this,"window",void 0),Te(this,"documents",[]),Te(this,"_plugins",{list:[],map:{}}),Te(this,"onWindowUnload",function(V){return R.removeDocument(V.target)});var z=this;this.Interactable=function(V){(function(rt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),Ht&&Nr(rt,Ht)})(He,V);var re,Ae,ze=(re=He,Ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(rt){return!1}}(),function(){var rt,Ht=Ir(re);if(Ae){var jt=Ir(this).constructor;rt=Reflect.construct(Ht,arguments,jt)}else rt=Ht.apply(this,arguments);return function(Qt,gi){if(gi&&(Lr(gi)==="object"||typeof gi=="function"))return gi;if(gi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ci){if(Ci===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ci}(Qt)}(this,rt)});function He(){return Xr(this,He),ze.apply(this,arguments)}return ue(He,[{key:"_defaults",get:function(){return z.defaults}},{key:"set",value:function(rt){return pn(Ir(He.prototype),"set",this).call(this,rt),z.fire("interactable:set",{options:rt,interactable:this}),this}},{key:"unset",value:function(){pn(Ir(He.prototype),"unset",this).call(this);var rt=z.interactables.list.indexOf(this);rt<0||(pn(Ir(He.prototype),"unset",this).call(this),z.interactables.list.splice(rt,1),z.fire("interactable:unset",{interactable:this}))}}]),He}($t.Interactable)}return ue(T,[{key:"addListeners",value:function(R,z){this.listenerMaps.push({id:z,map:R})}},{key:"fire",value:function(R,z){for(var V=0;V<this.listenerMaps.length;V++){var re=this.listenerMaps[V].map[R];if(re&&re(z,this,R)===!1)return!1}}},{key:"init",value:function(R){return this.isInitialized?this:bt(this,R)}},{key:"pluginIsInstalled",value:function(R){return this._plugins.map[R.id]||this._plugins.list.indexOf(R)!==-1}},{key:"usePlugin",value:function(R,z){if(!this.isInitialized)return this;if(this.pluginIsInstalled(R))return this;if(R.id&&(this._plugins.map[R.id]=R),this._plugins.list.push(R),R.install&&R.install(this,z),R.listeners&&R.before){for(var V=0,re=this.listenerMaps.length,Ae=R.before.reduce(function(He,rt){return He[rt]=!0,He[ni(rt)]=!0,He},{});V<re;V++){var ze=this.listenerMaps[V].id;if(Ae[ze]||Ae[ni(ze)])break}this.listenerMaps.splice(V,0,{id:R.id,map:R.listeners})}else R.listeners&&this.listenerMaps.push({id:R.id,map:R.listeners});return this}},{key:"addDocument",value:function(R,z){if(this.getDocIndex(R)!==-1)return!1;var V=n.getWindow(R);z=z?(0,W.default)({},z):{},this.documents.push({doc:R,options:z}),this.events.documents.push(R),R!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:R,window:V,scope:this,options:z})}},{key:"removeDocument",value:function(R){var z=this.getDocIndex(R),V=n.getWindow(R),re=this.documents[z].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(z,1),this.events.documents.splice(z,1),this.fire("scope:remove-document",{doc:R,window:V,scope:this,options:re})}},{key:"getDocIndex",value:function(R){for(var z=0;z<this.documents.length;z++)if(this.documents[z].doc===R)return z;return-1}},{key:"getDocOptions",value:function(R){var z=this.getDocIndex(R);return z===-1?null:this.documents[z].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),T}();function bt(T,R){return T.isInitialized=!0,m.default.window(R)&&n.init(R),h.default.init(R),C.default.init(R),gt.default.init(R),T.window=R,T.document=R.document,T.usePlugin(ar.default),T.usePlugin(U.default),T}function ni(T){return T&&T.replace(/\/.*$/,"")}Br.Scope=Vt;var vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.default=void 0;var Ui=new Br.Scope,Di=Ui.interactStatic;vi.default=Di;var Ji=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Ui.init(Ji);var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0,pr.default=function(){};var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0,yr.default=function(){};var ko={};function _a(T,R){return function(z){if(Array.isArray(z))return z}(T)||function(z,V){var re=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(re!=null){var Ae,ze,He=[],rt=!0,Ht=!1;try{for(re=re.call(z);!(rt=(Ae=re.next()).done)&&(He.push(Ae.value),!V||He.length!==V);rt=!0);}catch(jt){Ht=!0,ze=jt}finally{try{rt||re.return==null||re.return()}finally{if(Ht)throw ze}}return He}}(T,R)||function(z,V){if(z){if(typeof z=="string")return ur(z,V);var re=Object.prototype.toString.call(z).slice(8,-1);return re==="Object"&&z.constructor&&(re=z.constructor.name),re==="Map"||re==="Set"?Array.from(z):re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re)?ur(z,V):void 0}}(T,R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ur(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=void 0,ko.default=function(T){var R=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var re=_a(V,2),Ae=re[0],ze=re[1];return Ae in T||ze in T}),z=function(V,re){for(var Ae=T.range,ze=T.limits,He=ze===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:ze,rt=T.offset,Ht=rt===void 0?{x:0,y:0}:rt,jt={range:Ae,grid:T,x:null,y:null},Qt=0;Qt<R.length;Qt++){var gi=_a(R[Qt],2),Ci=gi[0],ui=gi[1],Vi=Math.round((V-Ht.x)/T[Ci]),qi=Math.round((re-Ht.y)/T[ui]);jt[Ci]=Math.max(He.left,Math.min(He.right,Vi*T[Ci]+Ht.x)),jt[ui]=Math.max(He.top,Math.min(He.bottom,qi*T[ui]+Ht.y))}return jt};return z.grid=T,z.coordFields=R,z};var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Object.defineProperty(Cn,"edgeTarget",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(Cn,"elements",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(Cn,"grid",{enumerable:!0,get:function(){return ko.default}});var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0;var fn={id:"snappers",install:function(T){var R=T.interactStatic;R.snappers=(0,W.default)(R.snappers||{},Cn),R.createSnapGrid=R.snappers.grid}},Fo=fn;dn.default=Fo;var fo={};function zo(T,R){var z=Object.keys(T);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(T);R&&(V=V.filter(function(re){return Object.getOwnPropertyDescriptor(T,re).enumerable})),z.push.apply(z,V)}return z}function ka(T){for(var R=1;R<arguments.length;R++){var z=arguments[R]!=null?arguments[R]:{};R%2?zo(Object(z),!0).forEach(function(V){Aa(T,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(z)):zo(Object(z)).forEach(function(V){Object.defineProperty(T,V,Object.getOwnPropertyDescriptor(z,V))})}return T}function Aa(T,R,z){return R in T?Object.defineProperty(T,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[R]=z,T}Object.defineProperty(fo,"__esModule",{value:!0}),fo.default=fo.aspectRatio=void 0;var Rn={start:function(T){var R=T.state,z=T.rect,V=T.edges,re=T.pageCoords,Ae=R.options,ze=Ae.ratio,He=Ae.enabled,rt=R.options,Ht=rt.equalDelta,jt=rt.modifiers;ze==="preserve"&&(ze=z.width/z.height),R.startCoords=(0,W.default)({},re),R.startRect=(0,W.default)({},z),R.ratio=ze,R.equalDelta=Ht;var Qt=R.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(R.xIsPrimaryAxis=!(!V.left&&!V.right),R.equalDelta){var gi=(Qt.left?1:-1)*(Qt.top?1:-1);R.edgeSign={x:gi,y:gi}}else R.edgeSign={x:Qt.left?-1:1,y:Qt.top?-1:1};if(He!==!1&&(0,W.default)(V,Qt),jt!=null&&jt.length){var Ci=new Tt.default(T.interaction);Ci.copyFrom(T.interaction.modification),Ci.prepareStates(jt),R.subModification=Ci,Ci.startAll(ka({},T))}},set:function(T){var R=T.state,z=T.rect,V=T.coords,re=R.linkedEdges,Ae=(0,W.default)({},V),ze=R.equalDelta?Uo:Sa;if((0,W.default)(T.edges,re),ze(R,R.xIsPrimaryAxis,V,z),!R.subModification)return null;var He=(0,W.default)({},z);(0,oe.addEdges)(re,He,{x:V.x-Ae.x,y:V.y-Ae.y});var rt=R.subModification.setAll(ka(ka({},T),{},{rect:He,edges:re,pageCoords:V,prevCoords:V,prevRect:He})),Ht=rt.delta;return rt.changed&&(ze(R,Math.abs(Ht.x)>Math.abs(Ht.y),rt.coords,rt.rect),(0,W.default)(V,rt.coords)),rt.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Uo(T,R,z){var V=T.startCoords,re=T.edgeSign;R?z.y=V.y+(z.x-V.x)*re.y:z.x=V.x+(z.y-V.y)*re.x}function Sa(T,R,z,V){var re=T.startRect,Ae=T.startCoords,ze=T.ratio,He=T.edgeSign;if(R){var rt=V.width/ze;z.y=Ae.y+(rt-re.height)*He.y}else{var Ht=V.height*ze;z.x=Ae.x+(Ht-re.width)*He.x}}fo.aspectRatio=Rn;var Vo=(0,Ur.makeModifier)(Rn,"aspectRatio");fo.default=Vo;var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.default=void 0;var aa=function(){};aa._defaults={};var Tc=aa;to.default=Tc;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0}),Object.defineProperty(Ao,"default",{enumerable:!0,get:function(){return to.default}});var In={};function Wo(T,R,z){return m.default.func(T)?oe.resolveRectLike(T,R.interactable,R.element,[z.x,z.y,R]):oe.resolveRectLike(T,R.interactable,R.element)}Object.defineProperty(In,"__esModule",{value:!0}),In.default=void 0,In.getRestrictionRect=Wo,In.restrict=void 0;var Tl={start:function(T){var R=T.rect,z=T.startOffset,V=T.state,re=T.interaction,Ae=T.pageCoords,ze=V.options,He=ze.elementRect,rt=(0,W.default)({left:0,top:0,right:0,bottom:0},ze.offset||{});if(R&&He){var Ht=Wo(ze.restriction,re,Ae);if(Ht){var jt=Ht.right-Ht.left-R.width,Qt=Ht.bottom-Ht.top-R.height;jt<0&&(rt.left+=jt,rt.right+=jt),Qt<0&&(rt.top+=Qt,rt.bottom+=Qt)}rt.left+=z.left-R.width*He.left,rt.top+=z.top-R.height*He.top,rt.right+=z.right-R.width*(1-He.right),rt.bottom+=z.bottom-R.height*(1-He.bottom)}V.offset=rt},set:function(T){var R=T.coords,z=T.interaction,V=T.state,re=V.options,Ae=V.offset,ze=Wo(re.restriction,z,R);if(ze){var He=oe.xywhToTlbr(ze);R.x=Math.max(Math.min(He.right-Ae.right,R.x),He.left+Ae.left),R.y=Math.max(Math.min(He.bottom-Ae.bottom,R.y),He.top+Ae.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};In.restrict=Tl;var ie=(0,Ur.makeModifier)(Tl,"restrict");In.default=ie;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.restrictEdges=Oe.default=void 0;var at={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Wt={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function pt(T,R){for(var z=["top","left","bottom","right"],V=0;V<z.length;V++){var re=z[V];re in T||(T[re]=R[re])}return T}var Yt={noInner:at,noOuter:Wt,start:function(T){var R,z=T.interaction,V=T.startOffset,re=T.state,Ae=re.options;if(Ae){var ze=(0,In.getRestrictionRect)(Ae.offset,z,z.coords.start.page);R=oe.rectToXY(ze)}R=R||{x:0,y:0},re.offset={top:R.y+V.top,left:R.x+V.left,bottom:R.y-V.bottom,right:R.x-V.right}},set:function(T){var R=T.coords,z=T.edges,V=T.interaction,re=T.state,Ae=re.offset,ze=re.options;if(z){var He=(0,W.default)({},R),rt=(0,In.getRestrictionRect)(ze.inner,V,He)||{},Ht=(0,In.getRestrictionRect)(ze.outer,V,He)||{};pt(rt,at),pt(Ht,Wt),z.top?R.y=Math.min(Math.max(Ht.top+Ae.top,He.y),rt.top+Ae.top):z.bottom&&(R.y=Math.max(Math.min(Ht.bottom+Ae.bottom,He.y),rt.bottom+Ae.bottom)),z.left?R.x=Math.min(Math.max(Ht.left+Ae.left,He.x),rt.left+Ae.left):z.right&&(R.x=Math.max(Math.min(Ht.right+Ae.right,He.x),rt.right+Ae.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Oe.restrictEdges=Yt;var ii=(0,Ur.makeModifier)(Yt,"restrictEdges");Oe.default=ii;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.restrictRect=li.default=void 0;var mi=(0,W.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(T){}},In.restrict.defaults),Bi={start:In.restrict.start,set:In.restrict.set,defaults:mi};li.restrictRect=Bi;var ji=(0,Ur.makeModifier)(Bi,"restrictRect");li.default=ji;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.restrictSize=Ni.default=void 0;var tr={width:-1/0,height:-1/0},Tr={width:1/0,height:1/0},Hi={start:function(T){return Oe.restrictEdges.start(T)},set:function(T){var R=T.interaction,z=T.state,V=T.rect,re=T.edges,Ae=z.options;if(re){var ze=oe.tlbrToXywh((0,In.getRestrictionRect)(Ae.min,R,T.coords))||tr,He=oe.tlbrToXywh((0,In.getRestrictionRect)(Ae.max,R,T.coords))||Tr;z.options={endOnly:Ae.endOnly,inner:(0,W.default)({},Oe.restrictEdges.noInner),outer:(0,W.default)({},Oe.restrictEdges.noOuter)},re.top?(z.options.inner.top=V.bottom-ze.height,z.options.outer.top=V.bottom-He.height):re.bottom&&(z.options.inner.bottom=V.top+ze.height,z.options.outer.bottom=V.top+He.height),re.left?(z.options.inner.left=V.right-ze.width,z.options.outer.left=V.right-He.width):re.right&&(z.options.inner.right=V.left+ze.width,z.options.outer.right=V.left+He.width),Oe.restrictEdges.set(T),z.options=Ae}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ni.restrictSize=Hi;var qr=(0,Ur.makeModifier)(Hi,"restrictSize");Ni.default=qr;var en={};Object.defineProperty(en,"__esModule",{value:!0}),Object.defineProperty(en,"default",{enumerable:!0,get:function(){return to.default}});var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.snap=rn.default=void 0;var Mr={start:function(T){var R,z=T.interaction,V=T.interactable,re=T.element,Ae=T.rect,ze=T.state,He=T.startOffset,rt=ze.options,Ht=rt.offsetWithOrigin?function(gi){var Ci=gi.interaction.element;return(0,oe.rectToXY)((0,oe.resolveRectLike)(gi.state.options.origin,null,null,[Ci]))||(0,xe.default)(gi.interactable,Ci,gi.interaction.prepared.name)}(T):{x:0,y:0};if(rt.offset==="startCoords")R={x:z.coords.start.page.x,y:z.coords.start.page.y};else{var jt=(0,oe.resolveRectLike)(rt.offset,V,re,[z]);(R=(0,oe.rectToXY)(jt)||{x:0,y:0}).x+=Ht.x,R.y+=Ht.y}var Qt=rt.relativePoints;ze.offsets=Ae&&Qt&&Qt.length?Qt.map(function(gi,Ci){return{index:Ci,relativePoint:gi,x:He.left-Ae.width*gi.x+R.x,y:He.top-Ae.height*gi.y+R.y}}):[{index:0,relativePoint:null,x:R.x,y:R.y}]},set:function(T){var R=T.interaction,z=T.coords,V=T.state,re=V.options,Ae=V.offsets,ze=(0,xe.default)(R.interactable,R.element,R.prepared.name),He=(0,W.default)({},z),rt=[];re.offsetWithOrigin||(He.x-=ze.x,He.y-=ze.y);for(var Ht=0;Ht<Ae.length;Ht++)for(var jt=Ae[Ht],Qt=He.x-jt.x,gi=He.y-jt.y,Ci=0,ui=re.targets.length;Ci<ui;Ci++){var Vi,qi=re.targets[Ci];(Vi=m.default.func(qi)?qi(Qt,gi,R._proxy,jt,Ci):qi)&&rt.push({x:(m.default.number(Vi.x)?Vi.x:Qt)+jt.x,y:(m.default.number(Vi.y)?Vi.y:gi)+jt.y,range:m.default.number(Vi.range)?Vi.range:re.range,source:qi,index:Ci,offset:jt})}for(var Xi={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},nr=0;nr<rt.length;nr++){var Hr=rt[nr],Gr=Hr.range,cn=Hr.x-He.x,xn=Hr.y-He.y,on=(0,Ke.default)(cn,xn),_n=on<=Gr;Gr===1/0&&Xi.inRange&&Xi.range!==1/0&&(_n=!1),Xi.target&&!(_n?Xi.inRange&&Gr!==1/0?on/Gr<Xi.distance/Xi.range:Gr===1/0&&Xi.range!==1/0||on<Xi.distance:!Xi.inRange&&on<Xi.distance)||(Xi.target=Hr,Xi.distance=on,Xi.range=Gr,Xi.inRange=_n,Xi.delta.x=cn,Xi.delta.y=xn)}return Xi.inRange&&(z.x=Xi.target.x,z.y=Xi.target.y),V.closest=Xi,Xi},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};rn.snap=Mr;var So=(0,Ur.makeModifier)(Mr,"snap");rn.default=So;var jn={};function hn(T,R){(R==null||R>T.length)&&(R=T.length);for(var z=0,V=Array(R);z<R;z++)V[z]=T[z];return V}Object.defineProperty(jn,"__esModule",{value:!0}),jn.snapSize=jn.default=void 0;var Fv={start:function(T){var R=T.state,z=T.edges,V=R.options;if(!z)return null;T.state={options:{targets:null,relativePoints:[{x:z.left?0:1,y:z.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},R.targetFields=R.targetFields||[["width","height"],["x","y"]],rn.snap.start(T),R.offsets=T.state.offsets,T.state=R},set:function(T){var R,z=T.interaction,V=T.state,re=T.coords,Ae=V.options,ze=V.offsets,He={x:re.x-ze[0].x,y:re.y-ze[0].y};V.options=(0,W.default)({},Ae),V.options.targets=[];for(var rt=0;rt<(Ae.targets||[]).length;rt++){var Ht=(Ae.targets||[])[rt],jt=void 0;if(jt=m.default.func(Ht)?Ht(He.x,He.y,z):Ht){for(var Qt=0;Qt<V.targetFields.length;Qt++){var gi=function(qi){if(Array.isArray(qi))return qi}(R=V.targetFields[Qt])||function(qi,Xi){var nr=qi==null?null:typeof Symbol<"u"&&qi[Symbol.iterator]||qi["@@iterator"];if(nr!=null){var Hr,Gr,cn=[],xn=!0,on=!1;try{for(nr=nr.call(qi);!(xn=(Hr=nr.next()).done)&&(cn.push(Hr.value),cn.length!==2);xn=!0);}catch(_n){on=!0,Gr=_n}finally{try{xn||nr.return==null||nr.return()}finally{if(on)throw Gr}}return cn}}(R)||function(qi,Xi){if(qi){if(typeof qi=="string")return hn(qi,2);var nr=Object.prototype.toString.call(qi).slice(8,-1);return nr==="Object"&&qi.constructor&&(nr=qi.constructor.name),nr==="Map"||nr==="Set"?Array.from(qi):nr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nr)?hn(qi,2):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),Ci=gi[0],ui=gi[1];if(Ci in jt||ui in jt){jt.x=jt[Ci],jt.y=jt[ui];break}}V.options.targets.push(jt)}}var Vi=rn.snap.set(T);return V.options=Ae,Vi},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};jn.snapSize=Fv;var j5=(0,Ur.makeModifier)(Fv,"snapSize");jn.default=j5;var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.snapEdges=Pl.default=void 0;var zv={start:function(T){var R=T.edges;return R?(T.state.targetFields=T.state.targetFields||[[R.left?"left":"right",R.top?"top":"bottom"]],jn.snapSize.start(T)):null},set:jn.snapSize.set,defaults:(0,W.default)((0,_e.default)(jn.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Pl.snapEdges=zv;var N5=(0,Ur.makeModifier)(zv,"snapEdges");Pl.default=N5;var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0}),Object.defineProperty(Yh,"default",{enumerable:!0,get:function(){return to.default}});var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0}),Object.defineProperty(Kh,"default",{enumerable:!0,get:function(){return to.default}});var $l={};Object.defineProperty($l,"__esModule",{value:!0}),$l.default=void 0;var B5={aspectRatio:fo.default,restrictEdges:Oe.default,restrict:In.default,restrictRect:li.default,restrictSize:Ni.default,snapEdges:Pl.default,snap:rn.default,snapSize:jn.default,spring:Yh.default,avoid:Ao.default,transform:Kh.default,rubberband:en.default};$l.default=B5;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.default=void 0;var H5={id:"modifiers",install:function(T){var R=T.interactStatic;for(var z in T.usePlugin(Ur.default),T.usePlugin(dn.default),R.modifiers=$l.default,$l.default){var V=$l.default[z],re=V._defaults,Ae=V._methods;re._methods=Ae,T.defaults.perAction[z]=re}}},F5=H5;Pc.default=F5;var hs={};function Xh(T){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},Xh(T)}function Zh(T,R){return Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Zh(T,R)}function Jh(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function Yu(T){return Yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},Yu(T)}Object.defineProperty(hs,"__esModule",{value:!0}),hs.default=hs.PointerEvent=void 0;var z5=function(T){(function(He,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");He.prototype=Object.create(rt&&rt.prototype,{constructor:{value:He,writable:!0,configurable:!0}}),Object.defineProperty(He,"prototype",{writable:!1}),rt&&Zh(He,rt)})(ze,T);var R,z,V,re,Ae=(V=ze,re=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(He){return!1}}(),function(){var He,rt=Yu(V);if(re){var Ht=Yu(this).constructor;He=Reflect.construct(rt,arguments,Ht)}else He=rt.apply(this,arguments);return function(jt,Qt){if(Qt&&(Xh(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jh(jt)}(this,He)});function ze(He,rt,Ht,jt,Qt,gi){var Ci;if(function(qi,Xi){if(!(qi instanceof Xi))throw new TypeError("Cannot call a class as a function")}(this,ze),Ci=Ae.call(this,Qt),lt.pointerExtend(Jh(Ci),Ht),Ht!==rt&&lt.pointerExtend(Jh(Ci),rt),Ci.timeStamp=gi,Ci.originalEvent=Ht,Ci.type=He,Ci.pointerId=lt.getPointerId(rt),Ci.pointerType=lt.getPointerType(rt),Ci.target=jt,Ci.currentTarget=null,He==="tap"){var ui=Qt.getPointerIndex(rt);Ci.dt=Ci.timeStamp-Qt.pointers[ui].downTime;var Vi=Ci.timeStamp-Qt.tapTime;Ci.double=!!Qt.prevTap&&Qt.prevTap.type!=="doubletap"&&Qt.prevTap.target===Ci.target&&Vi<500}else He==="doubletap"&&(Ci.dt=rt.timeStamp-Qt.tapTime,Ci.double=!0);return Ci}return R=ze,(z=[{key:"_subtractOrigin",value:function(He){var rt=He.x,Ht=He.y;return this.pageX-=rt,this.pageY-=Ht,this.clientX-=rt,this.clientY-=Ht,this}},{key:"_addOrigin",value:function(He){var rt=He.x,Ht=He.y;return this.pageX+=rt,this.pageY+=Ht,this.clientX+=rt,this.clientY+=Ht,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(He,rt){for(var Ht=0;Ht<rt.length;Ht++){var jt=rt[Ht];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(He,jt.key,jt)}}(R.prototype,z),Object.defineProperty(R,"prototype",{writable:!1}),ze}(it.BaseEvent);hs.PointerEvent=hs.default=z5;var $c={};Object.defineProperty($c,"__esModule",{value:!0}),$c.default=void 0;var Ku={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(T){T.pointerEvents=Ku,T.defaults.actions.pointerEvents=Ku.defaults,(0,W.default)(T.actions.phaselessTypes,Ku.types)},listeners:{"interactions:new":function(T){var R=T.interaction;R.prevTap=null,R.tapTime=0},"interactions:update-pointer":function(T){var R=T.down,z=T.pointerInfo;!R&&z.hold||(z.hold={duration:1/0,timeout:null})},"interactions:move":function(T,R){var z=T.interaction,V=T.pointer,re=T.event,Ae=T.eventTarget;T.duplicate||z.pointerIsDown&&!z.pointerWasMoved||(z.pointerIsDown&&Qh(T),qa({interaction:z,pointer:V,event:re,eventTarget:Ae,type:"move"},R))},"interactions:down":function(T,R){(function(z,V){for(var re=z.interaction,Ae=z.pointer,ze=z.event,He=z.eventTarget,rt=z.pointerIndex,Ht=re.pointers[rt].hold,jt=q.getPath(He),Qt={interaction:re,pointer:Ae,event:ze,eventTarget:He,type:"hold",targets:[],path:jt,node:null},gi=0;gi<jt.length;gi++){var Ci=jt[gi];Qt.node=Ci,V.fire("pointerEvents:collect-targets",Qt)}if(Qt.targets.length){for(var ui=1/0,Vi=0;Vi<Qt.targets.length;Vi++){var qi=Qt.targets[Vi].eventable.options.holdDuration;qi<ui&&(ui=qi)}Ht.duration=ui,Ht.timeout=setTimeout(function(){qa({interaction:re,eventTarget:He,pointer:Ae,event:ze,type:"hold"},V)},ui)}})(T,R),qa(T,R)},"interactions:up":function(T,R){Qh(T),qa(T,R),function(z,V){var re=z.interaction,Ae=z.pointer,ze=z.event,He=z.eventTarget;re.pointerWasMoved||qa({interaction:re,eventTarget:He,pointer:Ae,event:ze,type:"tap"},V)}(T,R)},"interactions:cancel":function(T,R){Qh(T),qa(T,R)}},PointerEvent:hs.PointerEvent,fire:qa,collectEventTargets:Uv,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function qa(T,R){var z=T.interaction,V=T.pointer,re=T.event,Ae=T.eventTarget,ze=T.type,He=T.targets,rt=He===void 0?Uv(T,R):He,Ht=new hs.PointerEvent(ze,V,re,Ae,z,R.now());R.fire("pointerEvents:new",{pointerEvent:Ht});for(var jt={interaction:z,pointer:V,event:re,eventTarget:Ae,targets:rt,type:ze,pointerEvent:Ht},Qt=0;Qt<rt.length;Qt++){var gi=rt[Qt];for(var Ci in gi.props||{})Ht[Ci]=gi.props[Ci];var ui=(0,xe.default)(gi.eventable,gi.node);if(Ht._subtractOrigin(ui),Ht.eventable=gi.eventable,Ht.currentTarget=gi.node,gi.eventable.fire(Ht),Ht._addOrigin(ui),Ht.immediatePropagationStopped||Ht.propagationStopped&&Qt+1<rt.length&&rt[Qt+1].node!==Ht.currentTarget)break}if(R.fire("pointerEvents:fired",jt),ze==="tap"){var Vi=Ht.double?qa({interaction:z,pointer:V,event:re,eventTarget:Ae,type:"doubletap"},R):Ht;z.prevTap=Vi,z.tapTime=Vi.timeStamp}return Ht}function Uv(T,R){var z=T.interaction,V=T.pointer,re=T.event,Ae=T.eventTarget,ze=T.type,He=z.getPointerIndex(V),rt=z.pointers[He];if(ze==="tap"&&(z.pointerWasMoved||!rt||rt.downTarget!==Ae))return[];for(var Ht=q.getPath(Ae),jt={interaction:z,pointer:V,event:re,eventTarget:Ae,type:ze,path:Ht,targets:[],node:null},Qt=0;Qt<Ht.length;Qt++){var gi=Ht[Qt];jt.node=gi,R.fire("pointerEvents:collect-targets",jt)}return ze==="hold"&&(jt.targets=jt.targets.filter(function(Ci){var ui;return Ci.eventable.options.holdDuration===((ui=z.pointers[He])==null?void 0:ui.hold.duration)})),jt.targets}function Qh(T){var R=T.interaction,z=T.pointerIndex,V=R.pointers[z].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var U5=Ku;$c.default=U5;var Xu={};function V5(T){var R=T.interaction;R.holdIntervalHandle&&(clearInterval(R.holdIntervalHandle),R.holdIntervalHandle=null)}Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=void 0;var W5={id:"pointer-events/holdRepeat",install:function(T){T.usePlugin($c.default);var R=T.pointerEvents;R.defaults.holdRepeatInterval=0,R.types.holdrepeat=T.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(T,R){return T["pointerEvents:".concat(R)]=V5,T},{"pointerEvents:new":function(T){var R=T.pointerEvent;R.type==="hold"&&(R.count=(R.count||0)+1)},"pointerEvents:fired":function(T,R){var z=T.interaction,V=T.pointerEvent,re=T.eventTarget,Ae=T.targets;if(V.type==="hold"&&Ae.length){var ze=Ae[0].eventable.options.holdRepeatInterval;ze<=0||(z.holdIntervalHandle=setTimeout(function(){R.pointerEvents.fire({interaction:z,eventTarget:re,type:"hold",pointer:V,event:V},R)},ze))}}})},q5=W5;Xu.default=q5;var Zu={};function G5(T){return(0,W.default)(this.events.options,T),this}Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.default=void 0;var Y5={id:"pointer-events/interactableTargets",install:function(T){var R=T.Interactable;R.prototype.pointerEvents=G5;var z=R.prototype._backCompatOption;R.prototype._backCompatOption=function(V,re){var Ae=z.call(this,V,re);return Ae===this&&(this.events.options[V]=re),Ae}},listeners:{"pointerEvents:collect-targets":function(T,R){var z=T.targets,V=T.node,re=T.type,Ae=T.eventTarget;R.interactables.forEachMatch(V,function(ze){var He=ze.events,rt=He.options;He.types[re]&&He.types[re].length&&ze.testIgnoreAllow(rt,V,Ae)&&z.push({node:V,eventable:He,props:{interactable:ze}})})},"interactable:new":function(T){var R=T.interactable;R.events.getRect=function(z){return R.getRect(z)}},"interactable:set":function(T,R){var z=T.interactable,V=T.options;(0,W.default)(z.events.options,R.pointerEvents.defaults),(0,W.default)(z.events.options,V.pointerEvents||{})}}},K5=Y5;Zu.default=K5;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.default=void 0;var X5={id:"pointer-events",install:function(T){T.usePlugin($c),T.usePlugin(Xu.default),T.usePlugin(Zu.default)}},Z5=X5;Oc.default=Z5;var Ol={};function Vv(T){var R=T.Interactable;T.actions.phases.reflow=!0,R.prototype.reflow=function(z){return function(V,re,Ae){for(var ze=m.default.string(V.target)?J.from(V._context.querySelectorAll(V.target)):[V.target],He=Ae.window.Promise,rt=He?[]:null,Ht=function(){var Qt=ze[jt],gi=V.getRect(Qt);if(!gi)return"break";var Ci=J.find(Ae.interactions.list,function(nr){return nr.interacting()&&nr.interactable===V&&nr.element===Qt&&nr.prepared.name===re.name}),ui=void 0;if(Ci)Ci.move(),rt&&(ui=Ci._reflowPromise||new He(function(nr){Ci._reflowResolve=nr}));else{var Vi=(0,oe.tlbrToXywh)(gi),qi={page:{x:Vi.x,y:Vi.y},client:{x:Vi.x,y:Vi.y},timeStamp:Ae.now()},Xi=lt.coordsToEvent(qi);ui=function(nr,Hr,Gr,cn,xn){var on=nr.interactions.new({pointerType:"reflow"}),_n={interaction:on,event:xn,pointer:xn,eventTarget:Gr,phase:"reflow"};on.interactable=Hr,on.element=Gr,on.prevEvent=xn,on.updatePointer(xn,xn,Gr,!0),lt.setZeroCoords(on.coords.delta),(0,Pt.copyAction)(on.prepared,cn),on._doPhase(_n);var sa=nr.window.Promise,Ca=sa?new sa(function(tp){on._reflowResolve=tp}):void 0;return on._reflowPromise=Ca,on.start(cn,Hr,Gr),on._interacting?(on.move(_n),on.end(xn)):(on.stop(),on._reflowResolve()),on.removePointer(xn,xn),Ca}(Ae,V,Qt,re,Xi)}rt&&rt.push(ui)},jt=0;jt<ze.length&&Ht()!=="break";jt++);return rt&&He.all(rt).then(function(){return V})}(this,z,T)}}Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.default=void 0,Ol.install=Vv;var J5={id:"reflow",install:Vv,listeners:{"interactions:stop":function(T,R){var z=T.interaction;z.pointerType==="reflow"&&(z._reflowResolve&&z._reflowResolve(),J.remove(R.interactions.list,z))}}},Q5=J5;Ol.default=Q5;var ps={};Object.defineProperty(ps,"__esModule",{value:!0}),ps.default=void 0,vi.default.use($r.default),vi.default.use(qn.default),vi.default.use(Oc.default),vi.default.use(co.default),vi.default.use(Pc.default),vi.default.use(Zr.default),vi.default.use(Ie.default),vi.default.use(Ot.default),vi.default.use(Ol.default);var ek=vi.default;ps.default=ek,vi.default.default=vi.default,Ie.default,Ot.default,Zr.default,$r.default,ye.default,co.default,vi.default,Pc.default,qn.default,Oc.default,Ol.default;var fs={exports:{}};function ep(T){return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},ep(T)}Object.defineProperty(fs.exports,"__esModule",{value:!0}),fs.exports.default=void 0;var tk=ps.default;if(fs.exports.default=tk,ep(fs)==="object"&&fs)try{fs.exports=ps.default}catch(T){}return ps.default.default=ps.default,fs.exports}()},4638:function(o,c,n){(function(u,p,g){var m,y,x,w,k,S,P,E,O,a,h,v,d,_,C,N,G,q,K,ne,Q,ee,Me,pe,W,oe,fe,Z,xe,Y,he,Ke,ht,lt={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return u(this).attr("href")},title:function(){return this.title},createImg:function(){var It=new Image,Ct=u(this).data("cbox-img-attrs");return typeof Ct=="object"&&u.each(Ct,function(St,kt){It[St]=kt}),It},createIframe:function(){var It=p.createElement("iframe"),Ct=u(this).data("cbox-iframe-attrs");return typeof Ct=="object"&&u.each(Ct,function(St,kt){It[St]=kt}),"frameBorder"in It&&(It.frameBorder=0),"allowTransparency"in It&&(It.allowTransparency="true"),It.name=new Date().getTime(),It.allowFullscreen=!0,It}},We="colorbox",Se="cbox",Le=Se+"Element",je=Se+"_open",Ne=Se+"_load",Ge=Se+"_complete",it=Se+"_cleanup",Re=Se+"_closed",te=Se+"_purge",J=u("<a/>"),qe="div",_t=0,be={};function $e(It,Ct,St){var kt=p.createElement(It);return Ct&&(kt.id=Se+Ct),St&&(kt.style.cssText=St),u(kt)}function st(){return g.innerHeight?g.innerHeight:u(g).height()}function Ee(It,Ct){Ct!==Object(Ct)&&(Ct={}),this.cache={},this.el=It,this.value=function(St){var kt;return this.cache[St]===void 0&&((kt=u(this.el).attr("data-cbox-"+St))!==void 0?this.cache[St]=kt:Ct[St]!==void 0?this.cache[St]=Ct[St]:lt[St]!==void 0&&(this.cache[St]=lt[St])),this.cache[St]},this.get=function(St){var kt=this.value(St);return u.isFunction(kt)?kt.call(this.el,this):kt}}function Qe(It){var Ct=O.length,St=(oe+It)%Ct;return St<0?Ct+St:St}function nt(It,Ct){return Math.round((/%/.test(It)?(Ct==="x"?a.width():st())/100:1)*parseInt(It,10))}function Ut(It,Ct){return It.get("photo")||It.get("photoRegex").test(Ct)}function ut(It,Ct){return It.get("retinaUrl")&&g.devicePixelRatio>1?Ct.replace(It.get("photoRegex"),It.get("retinaSuffix")):Ct}function mt(It){"contains"in y[0]&&!y[0].contains(It.target)&&It.target!==m[0]&&(It.stopPropagation(),y.focus())}function Mt(It){Mt.str!==It&&(y.add(m).removeClass(Mt.str).addClass(It),Mt.str=It)}function ti(It){u(p).trigger(It),J.triggerHandler(It)}var oi=function(){var It,Ct,St=Se+"Slideshow_",kt="click."+Se;function I(){clearTimeout(Ct)}function Ve(){(Q.get("loop")||O[oe+1])&&(I(),Ct=setTimeout(Ke.next,Q.get("slideshowSpeed")))}function ke(){N.html(Q.get("slideshowStop")).unbind(kt).one(kt,Ye),J.bind(Ge,Ve).bind(Ne,I),y.removeClass(St+"off").addClass(St+"on")}function Ye(){I(),J.unbind(Ge,Ve).unbind(Ne,I),N.html(Q.get("slideshowStart")).unbind(kt).one(kt,function(){Ke.next(),ke()}),y.removeClass(St+"on").addClass(St+"off")}function Ze(){It=!1,N.hide(),I(),J.unbind(Ge,Ve).unbind(Ne,I),y.removeClass(St+"off "+St+"on")}return function(){It?Q.get("slideshow")||(J.unbind(it,Ze),Ze()):Q.get("slideshow")&&O[1]&&(It=!0,J.one(it,Ze),Q.get("slideshowAuto")?ke():Ye(),N.show())}}();function ci(It){var Ct,St;if(!Y){if(Ct=u(It).data(We),Q=new Ee(It,Ct),St=Q.get("rel"),oe=0,St&&St!==!1&&St!=="nofollow"?(O=u("."+Le).filter(function(){return new Ee(this,u.data(this,We)).get("rel")===St}),(oe=O.index(Q.el))===-1&&(O=O.add(Q.el),oe=O.length-1)):O=u(Q.el),!Z){Z=xe=!0,Mt(Q.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),h=$e(qe,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(h),ee=k.height()+E.height()+w.outerHeight(!0)-w.height(),Me=S.width()+P.width()+w.outerWidth(!0)-w.width(),pe=h.outerHeight(!0),W=h.outerWidth(!0);var kt=nt(Q.get("initialWidth"),"x"),I=nt(Q.get("initialHeight"),"y"),Ve=Q.get("maxWidth"),ke=Q.get("maxHeight");Q.w=Math.max((Ve!==!1?Math.min(kt,nt(Ve,"x")):kt)-W-Me,0),Q.h=Math.max((ke!==!1?Math.min(I,nt(ke,"y")):I)-pe-ee,0),h.css({width:"",height:Q.h}),Ke.position(),ti(je),Q.get("onOpen"),ne.add(_).hide(),y.focus(),Q.get("trapFocus")&&p.addEventListener&&(p.addEventListener("focus",mt,!0),J.one(Re,function(){p.removeEventListener("focus",mt,!0)})),Q.get("returnFocus")&&J.one(Re,function(){u(Q.el).focus()})}var Ye=parseFloat(Q.get("opacity"));m.css({opacity:Ye==Ye?Ye:"",cursor:Q.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),Q.get("closeButton")?K.html(Q.get("close")).appendTo(w):K.appendTo("<div/>"),function(){var Ze,dt,ae,Ie=Ke.prep,Ue=++_t;if(xe=!0,fe=!1,ti(te),ti(Ne),Q.get("onLoad"),Q.h=Q.get("height")?nt(Q.get("height"),"y")-pe-ee:Q.get("innerHeight")&&nt(Q.get("innerHeight"),"y"),Q.w=Q.get("width")?nt(Q.get("width"),"x")-W-Me:Q.get("innerWidth")&&nt(Q.get("innerWidth"),"x"),Q.mw=Q.w,Q.mh=Q.h,Q.get("maxWidth")&&(Q.mw=nt(Q.get("maxWidth"),"x")-W-Me,Q.mw=Q.w&&Q.w<Q.mw?Q.w:Q.mw),Q.get("maxHeight")&&(Q.mh=nt(Q.get("maxHeight"),"y")-pe-ee,Q.mh=Q.h&&Q.h<Q.mh?Q.h:Q.mh),Ze=Q.get("href"),he=setTimeout(function(){d.show()},100),Q.get("inline")){var gt=u(Ze).eq(0);ae=u("<div>").hide().insertBefore(gt),J.one(te,function(){ae.replaceWith(gt)}),Ie(gt)}else Q.get("iframe")?Ie(" "):Q.get("html")?Ie(Q.get("html")):Ut(Q,Ze)?(Ze=ut(Q,Ze),fe=Q.get("createImg"),u(fe).addClass(Se+"Photo").bind("error."+Se,function(){Ie($e(qe,"Error").html(Q.get("imgError")))}).one("load",function(){Ue===_t&&setTimeout(function(){var ct;Q.get("retinaImage")&&g.devicePixelRatio>1&&(fe.height=fe.height/g.devicePixelRatio,fe.width=fe.width/g.devicePixelRatio),Q.get("scalePhotos")&&(dt=function(){fe.height-=fe.height*ct,fe.width-=fe.width*ct},Q.mw&&fe.width>Q.mw&&(ct=(fe.width-Q.mw)/fe.width,dt()),Q.mh&&fe.height>Q.mh&&(ct=(fe.height-Q.mh)/fe.height,dt())),Q.h&&(fe.style.marginTop=Math.max(Q.mh-fe.height,0)/2+"px"),O[1]&&(Q.get("loop")||O[oe+1])&&(fe.style.cursor="pointer",u(fe).bind("click."+Se,function(){Ke.next()})),fe.style.width=fe.width+"px",fe.style.height=fe.height+"px",Ie(fe)},1)}),fe.src=Ze):Ze&&v.load(Ze,Q.get("data"),function(ct,Et){Ue===_t&&Ie(Et==="error"?$e(qe,"Error").html(Q.get("xhrError")):u(this).contents())})}()}}function Lt(){y||(ht=!1,a=u(g),y=$e(qe).attr({id:We,class:u.support.opacity===!1?Se+"IE":"",role:"dialog",tabindex:"-1"}).hide(),m=$e(qe,"Overlay").hide(),d=u([$e(qe,"LoadingOverlay")[0],$e(qe,"LoadingGraphic")[0]]),x=$e(qe,"Wrapper"),w=$e(qe,"Content").append(_=$e(qe,"Title"),C=$e(qe,"Current"),q=u('<button type="button"/>').attr({id:Se+"Previous"}),G=u('<button type="button"/>').attr({id:Se+"Next"}),N=u('<button type="button"/>').attr({id:Se+"Slideshow"}),d),K=u('<button type="button"/>').attr({id:Se+"Close"}),x.append($e(qe).append($e(qe,"TopLeft"),k=$e(qe,"TopCenter"),$e(qe,"TopRight")),$e(qe,!1,"clear:left").append(S=$e(qe,"MiddleLeft"),w,P=$e(qe,"MiddleRight")),$e(qe,!1,"clear:left").append($e(qe,"BottomLeft"),E=$e(qe,"BottomCenter"),$e(qe,"BottomRight"))).find("div div").css({float:"left"}),v=$e(qe,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ne=G.add(q).add(C).add(N)),p.body&&!y.parent().length&&u(p.body).append(m,y.append(x,v))}u[We]||(u(Lt),(Ke=u.fn[We]=u[We]=function(It,Ct){var St=this;return It=It||{},u.isFunction(St)&&(St=u("<a/>"),It.open=!0),St[0]&&(Lt(),function(){function kt(I){I.which>1||I.shiftKey||I.altKey||I.metaKey||I.ctrlKey||(I.preventDefault(),ci(this))}return!!y&&(ht||(ht=!0,G.click(function(){Ke.next()}),q.click(function(){Ke.prev()}),K.click(function(){Ke.close()}),m.click(function(){Q.get("overlayClose")&&Ke.close()}),u(p).bind("keydown."+Se,function(I){var Ve=I.keyCode;Z&&Q.get("escKey")&&Ve===27&&(I.preventDefault(),Ke.close()),Z&&Q.get("arrowKey")&&O[1]&&!I.altKey&&(Ve===37?(I.preventDefault(),q.click()):Ve===39&&(I.preventDefault(),G.click()))}),u.isFunction(u.fn.on)?u(p).on("click."+Se,"."+Le,kt):u("."+Le).live("click."+Se,kt)),!0)}()&&(Ct&&(It.onComplete=Ct),St.each(function(){var kt=u.data(this,We)||{};u.data(this,We,u.extend(kt,It))}).addClass(Le),new Ee(St[0],It).get("open")&&ci(St[0]))),St}).position=function(It,Ct){var St,kt,I,Ve=0,ke=0,Ye=y.offset();function Ze(){k[0].style.width=E[0].style.width=w[0].style.width=parseInt(y[0].style.width,10)-Me+"px",w[0].style.height=S[0].style.height=P[0].style.height=parseInt(y[0].style.height,10)-ee+"px"}if(a.unbind("resize."+Se),y.css({top:-9e4,left:-9e4}),kt=a.scrollTop(),I=a.scrollLeft(),Q.get("fixed")?(Ye.top-=kt,Ye.left-=I,y.css({position:"fixed"})):(Ve=kt,ke=I,y.css({position:"absolute"})),Q.get("right")!==!1?ke+=Math.max(a.width()-Q.w-W-Me-nt(Q.get("right"),"x"),0):Q.get("left")!==!1?ke+=nt(Q.get("left"),"x"):ke+=Math.round(Math.max(a.width()-Q.w-W-Me,0)/2),Q.get("bottom")!==!1?Ve+=Math.max(st()-Q.h-pe-ee-nt(Q.get("bottom"),"y"),0):Q.get("top")!==!1?Ve+=nt(Q.get("top"),"y"):Ve+=Math.round(Math.max(st()-Q.h-pe-ee,0)/2),y.css({top:Ye.top,left:Ye.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",St={width:Q.w+W+Me,height:Q.h+pe+ee,top:Ve,left:ke},It){var dt=0;u.each(St,function(ae){St[ae]===be[ae]||(dt=It)}),It=dt}be=St,It||y.css(St),y.dequeue().animate(St,{duration:It||0,complete:function(){Ze(),xe=!1,x[0].style.width=Q.w+W+Me+"px",x[0].style.height=Q.h+pe+ee+"px",Q.get("reposition")&&setTimeout(function(){a.bind("resize."+Se,Ke.position)},1),u.isFunction(Ct)&&Ct()},step:Ze})},Ke.resize=function(It){var Ct;Z&&((It=It||{}).width&&(Q.w=nt(It.width,"x")-W-Me),It.innerWidth&&(Q.w=nt(It.innerWidth,"x")),h.css({width:Q.w}),It.height&&(Q.h=nt(It.height,"y")-pe-ee),It.innerHeight&&(Q.h=nt(It.innerHeight,"y")),It.innerHeight||It.height||(Ct=h.scrollTop(),h.css({height:"auto"}),Q.h=h.height()),h.css({height:Q.h}),Ct&&h.scrollTop(Ct),Ke.position(Q.get("transition")==="none"?0:Q.get("speed")))},Ke.prep=function(It){if(Z){var Ct,St=Q.get("transition")==="none"?0:Q.get("speed");h.remove(),(h=$e(qe,"LoadedContent").append(It)).hide().appendTo(v.show()).css({width:(Q.w=Q.w||h.width(),Q.w=Q.mw&&Q.mw<Q.w?Q.mw:Q.w,Q.w),overflow:Q.get("scrolling")?"auto":"hidden"}).css({height:(Q.h=Q.h||h.height(),Q.h=Q.mh&&Q.mh<Q.h?Q.mh:Q.h,Q.h)}).prependTo(w),v.hide(),u(fe).css({float:"none"}),Mt(Q.get("className")),Ct=function(){var kt,I,Ve=O.length;function ke(){u.support.opacity===!1&&y[0].style.removeAttribute("filter")}Z&&(I=function(){clearTimeout(he),d.hide(),ti(Ge),Q.get("onComplete")},_.html(Q.get("title")).show(),h.show(),Ve>1?(typeof Q.get("current")=="string"&&C.html(Q.get("current").replace("{current}",oe+1).replace("{total}",Ve)).show(),G[Q.get("loop")||oe<Ve-1?"show":"hide"]().html(Q.get("next")),q[Q.get("loop")||oe?"show":"hide"]().html(Q.get("previous")),oi(),Q.get("preloading")&&u.each([Qe(-1),Qe(1)],function(){var Ye=O[this],Ze=new Ee(Ye,u.data(Ye,We)),dt=Ze.get("href");dt&&Ut(Ze,dt)&&(dt=ut(Ze,dt),p.createElement("img").src=dt)})):ne.hide(),Q.get("iframe")?(kt=Q.get("createIframe"),Q.get("scrolling")||(kt.scrolling="no"),u(kt).attr({src:Q.get("href"),class:Se+"Iframe"}).one("load",I).appendTo(h),J.one(te,function(){kt.src="//about:blank"}),Q.get("fastIframe")&&u(kt).trigger("load")):I(),Q.get("transition")==="fade"?y.fadeTo(St,1,ke):ke())},Q.get("transition")==="fade"?y.fadeTo(St,0,function(){Ke.position(0,Ct)}):Ke.position(St,Ct)}},Ke.next=function(){!xe&&O[1]&&(Q.get("loop")||O[oe+1])&&(oe=Qe(1),ci(O[oe]))},Ke.prev=function(){!xe&&O[1]&&(Q.get("loop")||oe)&&(oe=Qe(-1),ci(O[oe]))},Ke.close=function(){Z&&!Y&&(Y=!0,Z=!1,ti(it),Q.get("onCleanup"),a.unbind("."+Se),m.fadeTo(Q.get("fadeOut")||0,0),y.stop().fadeTo(Q.get("fadeOut")||0,0,function(){y.hide(),m.hide(),ti(te),h.remove(),setTimeout(function(){Y=!1,ti(Re),Q.get("onClosed")},1)}))},Ke.remove=function(){y&&(y.stop(),u[We].close(),y.stop(!1,!0).remove(),m.remove(),Y=!1,y=null,u("."+Le).removeData(We).removeClass(Le),u(p).unbind("click."+Se).unbind("keydown."+Se))},Ke.element=function(){return u(Q.el)},Ke.settings=lt)})(n(1669),document,window)},8497:function(o,c,n){(function(u){if(u.support.touch="ontouchend"in document,u.support.touch){var p,g=u.ui.mouse.prototype,m=g._mouseInit,y=g._mouseDestroy;g._touchStart=function(w){!p&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(p=!0,this._touchMoved=!1,x(w,"mouseover"),x(w,"mousemove"),x(w,"mousedown"))},g._touchMove=function(w){p&&(this._touchMoved=!0,x(w,"mousemove"))},g._touchEnd=function(w){p&&(x(w,"mouseup"),x(w,"mouseout"),this._touchMoved||x(w,"click"),p=!1)},g._mouseInit=function(){var w=this;w.element.bind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),m.call(w)},g._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),y.call(w)}}function x(w,k){if(!(w.originalEvent.touches.length>1)){w.preventDefault();var S=w.originalEvent.changedTouches[0],P=document.createEvent("MouseEvents");P.initMouseEvent(k,!0,!0,window,1,S.screenX,S.screenY,S.clientX,S.clientY,!1,!1,!1,!1,0,null),w.target.dispatchEvent(P)}}})(n(1669))},8045:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},1897:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},6883:function(o,c,n){var u,p,g;p=[n(1669)],(g=typeof(u=function(m){return m.ui=m.ui||{},m.ui.version="1.12.1"})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},9139:function(o,c,n){var u,p,g;p=[n(1669),n(6883)],u=function(m){var y,x=0,w=Array.prototype.slice;return m.cleanData=(y=m.cleanData,function(k){var S,P,E;for(E=0;(P=k[E])!=null;E++)try{(S=m._data(P,"events"))&&S.remove&&m(P).triggerHandler("remove")}catch(O){}y(k)}),m.widget=function(k,S,P){var E,O,a,h={},v=k.split(".")[0],d=v+"-"+(k=k.split(".")[1]);return P||(P=S,S=m.Widget),m.isArray(P)&&(P=m.extend.apply(null,[{}].concat(P))),m.expr[":"][d.toLowerCase()]=function(_){return!!m.data(_,d)},m[v]=m[v]||{},E=m[v][k],O=m[v][k]=function(_,C){if(!this._createWidget)return new O(_,C);arguments.length&&this._createWidget(_,C)},m.extend(O,E,{version:P.version,_proto:m.extend({},P),_childConstructors:[]}),(a=new S).options=m.widget.extend({},a.options),m.each(P,function(_,C){m.isFunction(C)?h[_]=function(){function N(){return S.prototype[_].apply(this,arguments)}function G(q){return S.prototype[_].apply(this,q)}return function(){var q,K=this._super,ne=this._superApply;return this._super=N,this._superApply=G,q=C.apply(this,arguments),this._super=K,this._superApply=ne,q}}():h[_]=C}),O.prototype=m.widget.extend(a,{widgetEventPrefix:E&&a.widgetEventPrefix||k},h,{constructor:O,namespace:v,widgetName:k,widgetFullName:d}),E?(m.each(E._childConstructors,function(_,C){var N=C.prototype;m.widget(N.namespace+"."+N.widgetName,O,C._proto)}),delete E._childConstructors):S._childConstructors.push(O),m.widget.bridge(k,O),O},m.widget.extend=function(k){for(var S,P,E=w.call(arguments,1),O=0,a=E.length;O<a;O++)for(S in E[O])P=E[O][S],E[O].hasOwnProperty(S)&&P!==void 0&&(m.isPlainObject(P)?k[S]=m.isPlainObject(k[S])?m.widget.extend({},k[S],P):m.widget.extend({},P):k[S]=P);return k},m.widget.bridge=function(k,S){var P=S.prototype.widgetFullName||k;m.fn[k]=function(E){var O=typeof E=="string",a=w.call(arguments,1),h=this;return O?this.length||E!=="instance"?this.each(function(){var v,d=m.data(this,P);return E==="instance"?(h=d,!1):d?m.isFunction(d[E])&&E.charAt(0)!=="_"?(v=d[E].apply(d,a))!==d&&v!==void 0?(h=v&&v.jquery?h.pushStack(v.get()):v,!1):void 0:m.error("no such method '"+E+"' for "+k+" widget instance"):m.error("cannot call methods on "+k+" prior to initialization; attempted to call method '"+E+"'")}):h=void 0:(a.length&&(E=m.widget.extend.apply(null,[E].concat(a))),this.each(function(){var v=m.data(this,P);v?(v.option(E||{}),v._init&&v._init()):m.data(this,P,new S(E,this))})),h}},m.Widget=function(){},m.Widget._childConstructors=[],m.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(k,S){S=m(S||this.defaultElement||this)[0],this.element=m(S),this.uuid=x++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=m(),this.hoverable=m(),this.focusable=m(),this.classesElementLookup={},S!==this&&(m.data(S,this.widgetFullName,this),this._on(!0,this.element,{remove:function(P){P.target===S&&this.destroy()}}),this.document=m(S.style?S.ownerDocument:S.document||S),this.window=m(this.document[0].defaultView||this.document[0].parentWindow)),this.options=m.widget.extend({},this.options,this._getCreateOptions(),k),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:m.noop,_create:m.noop,_init:m.noop,destroy:function(){var k=this;this._destroy(),m.each(this.classesElementLookup,function(S,P){k._removeClass(P,S)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:m.noop,widget:function(){return this.element},option:function(k,S){var P,E,O,a=k;if(arguments.length===0)return m.widget.extend({},this.options);if(typeof k=="string")if(a={},P=k.split("."),k=P.shift(),P.length){for(E=a[k]=m.widget.extend({},this.options[k]),O=0;O<P.length-1;O++)E[P[O]]=E[P[O]]||{},E=E[P[O]];if(k=P.pop(),arguments.length===1)return E[k]===void 0?null:E[k];E[k]=S}else{if(arguments.length===1)return this.options[k]===void 0?null:this.options[k];a[k]=S}return this._setOptions(a),this},_setOptions:function(k){var S;for(S in k)this._setOption(S,k[S]);return this},_setOption:function(k,S){return k==="classes"&&this._setOptionClasses(S),this.options[k]=S,k==="disabled"&&this._setOptionDisabled(S),this},_setOptionClasses:function(k){var S,P,E;for(S in k)E=this.classesElementLookup[S],k[S]!==this.options.classes[S]&&E&&E.length&&(P=m(E.get()),this._removeClass(E,S),P.addClass(this._classes({element:P,keys:S,classes:k,add:!0})))},_setOptionDisabled:function(k){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!k),k&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(k){var S=[],P=this;function E(O,a){var h,v;for(v=0;v<O.length;v++)h=P.classesElementLookup[O[v]]||m(),h=k.add?m(m.unique(h.get().concat(k.element.get()))):m(h.not(k.element).get()),P.classesElementLookup[O[v]]=h,S.push(O[v]),a&&k.classes[O[v]]&&S.push(k.classes[O[v]])}return k=m.extend({element:this.element,classes:this.options.classes||{}},k),this._on(k.element,{remove:"_untrackClassesElement"}),k.keys&&E(k.keys.match(/\S+/g)||[],!0),k.extra&&E(k.extra.match(/\S+/g)||[]),S.join(" ")},_untrackClassesElement:function(k){var S=this;m.each(S.classesElementLookup,function(P,E){m.inArray(k.target,E)!==-1&&(S.classesElementLookup[P]=m(E.not(k.target).get()))})},_removeClass:function(k,S,P){return this._toggleClass(k,S,P,!1)},_addClass:function(k,S,P){return this._toggleClass(k,S,P,!0)},_toggleClass:function(k,S,P,E){E=typeof E=="boolean"?E:P;var O=typeof k=="string"||k===null,a={extra:O?S:P,keys:O?k:S,element:O?this.element:k,add:E};return a.element.toggleClass(this._classes(a),E),this},_on:function(k,S,P){var E,O=this;typeof k!="boolean"&&(P=S,S=k,k=!1),P?(S=E=m(S),this.bindings=this.bindings.add(S)):(P=S,S=this.element,E=this.widget()),m.each(P,function(a,h){function v(){if(k||O.options.disabled!==!0&&!m(this).hasClass("ui-state-disabled"))return(typeof h=="string"?O[h]:h).apply(O,arguments)}typeof h!="string"&&(v.guid=h.guid=h.guid||v.guid||m.guid++);var d=a.match(/^([\w:-]*)\s*(.*)$/),_=d[1]+O.eventNamespace,C=d[2];C?E.on(_,C,v):S.on(_,v)})},_off:function(k,S){S=(S||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,k.off(S).off(S),this.bindings=m(this.bindings.not(k).get()),this.focusable=m(this.focusable.not(k).get()),this.hoverable=m(this.hoverable.not(k).get())},_delay:function(k,S){var P=this;return setTimeout(function(){return(typeof k=="string"?P[k]:k).apply(P,arguments)},S||0)},_hoverable:function(k){this.hoverable=this.hoverable.add(k),this._on(k,{mouseenter:function(S){this._addClass(m(S.currentTarget),null,"ui-state-hover")},mouseleave:function(S){this._removeClass(m(S.currentTarget),null,"ui-state-hover")}})},_focusable:function(k){this.focusable=this.focusable.add(k),this._on(k,{focusin:function(S){this._addClass(m(S.currentTarget),null,"ui-state-focus")},focusout:function(S){this._removeClass(m(S.currentTarget),null,"ui-state-focus")}})},_trigger:function(k,S,P){var E,O,a=this.options[k];if(P=P||{},(S=m.Event(S)).type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),S.target=this.element[0],O=S.originalEvent)for(E in O)E in S||(S[E]=O[E]);return this.element.trigger(S,P),!(m.isFunction(a)&&a.apply(this.element[0],[S].concat(P))===!1||S.isDefaultPrevented())}},m.each({show:"fadeIn",hide:"fadeOut"},function(k,S){m.Widget.prototype["_"+k]=function(P,E,O){var a;typeof E=="string"&&(E={effect:E});var h=E?E===!0||typeof E=="number"?S:E.effect||S:k;typeof(E=E||{})=="number"&&(E={duration:E}),a=!m.isEmptyObject(E),E.complete=O,E.delay&&P.delay(E.delay),a&&m.effects&&m.effects.effect[h]?P[k](E):h!==k&&P[h]?P[h](E.duration,E.easing,O):P.queue(function(v){m(this)[k](),O&&O.call(P[0]),v()})}}),m.widget},(g=u.apply(c,p))===void 0||(o.exports=g)},3662:function(o,c,n){var u,p,g;p=[n(1669),n(8045),n(6883),n(9139)],(g=typeof(u=function(m){var y=!1;return m(document).on("mouseup",function(){y=!1}),m.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var x=this;this.element.on("mousedown."+this.widgetName,function(w){return x._mouseDown(w)}).on("click."+this.widgetName,function(w){if(m.data(w.target,x.widgetName+".preventClickEvent")===!0)return m.removeData(w.target,x.widgetName+".preventClickEvent"),w.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(x){if(!y){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(x),this._mouseDownEvent=x;var w=this,k=x.which===1,S=!(typeof this.options.cancel!="string"||!x.target.nodeName)&&m(x.target).closest(this.options.cancel).length;return!(k&&!S&&this._mouseCapture(x)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){w.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(x)&&this._mouseDelayMet(x)&&(this._mouseStarted=this._mouseStart(x)!==!1,!this._mouseStarted)?(x.preventDefault(),0):(m.data(x.target,this.widgetName+".preventClickEvent")===!0&&m.removeData(x.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(P){return w._mouseMove(P)},this._mouseUpDelegate=function(P){return w._mouseUp(P)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),x.preventDefault(),y=!0,0)))}},_mouseMove:function(x){if(this._mouseMoved){if(m.ui.ie&&(!document.documentMode||document.documentMode<9)&&!x.button)return this._mouseUp(x);if(!x.which){if(x.originalEvent.altKey||x.originalEvent.ctrlKey||x.originalEvent.metaKey||x.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(x)}}return(x.which||x.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(x),x.preventDefault()):(this._mouseDistanceMet(x)&&this._mouseDelayMet(x)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,x)!==!1,this._mouseStarted?this._mouseDrag(x):this._mouseUp(x)),!this._mouseStarted)},_mouseUp:function(x){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,x.target===this._mouseDownEvent.target&&m.data(x.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(x)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,y=!1,x.preventDefault()},_mouseDistanceMet:function(x){return Math.max(Math.abs(this._mouseDownEvent.pageX-x.pageX),Math.abs(this._mouseDownEvent.pageY-x.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?u.apply(c,p):u)===void 0||(o.exports=g)},4720:function(o,c,n){var u,p,g;p=[n(1669),n(3662),n(1897),n(6883),n(9139)],u=function(m){return m.widget("ui.slider",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var y,x,w=this.options,k=this.element.find(".ui-slider-handle"),S=[];for(x=w.values&&w.values.length||1,k.length>x&&(k.slice(x).remove(),k=k.slice(0,x)),y=k.length;y<x;y++)S.push("<span tabindex='0'></span>");this.handles=k.add(m(S.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(P){m(this).data("ui-slider-handle-index",P).attr("tabIndex",0)})},_createRange:function(){var y=this.options;y.range?(y.range===!0&&(y.values?y.values.length&&y.values.length!==2?y.values=[y.values[0],y.values[0]]:m.isArray(y.values)&&(y.values=y.values.slice(0)):y.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=m("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),y.range!=="min"&&y.range!=="max"||this._addClass(this.range,"ui-slider-range-"+y.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(y){var x,w,k,S,P,E,O,a=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),x={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(x),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(v){var d=Math.abs(w-a.values(v));(k>d||k===d&&(v===a._lastChangedValue||a.values(v)===h.min))&&(k=d,S=m(this),P=v)}),this._start(y,P)!==!1&&(this._mouseSliding=!0,this._handleIndex=P,this._addClass(S,null,"ui-state-active"),S.trigger("focus"),E=S.offset(),O=!m(y.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=O?{left:0,top:0}:{left:y.pageX-E.left-S.width()/2,top:y.pageY-E.top-S.height()/2-(parseInt(S.css("borderTopWidth"),10)||0)-(parseInt(S.css("borderBottomWidth"),10)||0)+(parseInt(S.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(y,P,w),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(y){var x={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(x);return this._slide(y,this._handleIndex,w),!1},_mouseStop:function(y){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(y,this._handleIndex),this._change(y,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(y){var x,w,k,S,P;return this.orientation==="horizontal"?(x=this.elementSize.width,w=y.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(x=this.elementSize.height,w=y.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(k=w/x)>1&&(k=1),k<0&&(k=0),this.orientation==="vertical"&&(k=1-k),S=this._valueMax()-this._valueMin(),P=this._valueMin()+k*S,this._trimAlignValue(P)},_uiHash:function(y,x,w){var k={handle:this.handles[y],handleIndex:y,value:x!==void 0?x:this.value()};return this._hasMultipleValues()&&(k.value=x!==void 0?x:this.values(y),k.values=w||this.values()),k},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(y,x){return this._trigger("start",y,this._uiHash(x))},_slide:function(y,x,w){var k,S=this.value(),P=this.values();this._hasMultipleValues()&&(k=this.values(x?0:1),S=this.values(x),this.options.values.length===2&&this.options.range===!0&&(w=x===0?Math.min(k,w):Math.max(k,w)),P[x]=w),w!==S&&this._trigger("slide",y,this._uiHash(x,w,P))!==!1&&(this._hasMultipleValues()?this.values(x,w):this.value(w))},_stop:function(y,x){this._trigger("stop",y,this._uiHash(x))},_change:function(y,x){this._keySliding||this._mouseSliding||(this._lastChangedValue=x,this._trigger("change",y,this._uiHash(x)))},value:function(y){return arguments.length?(this.options.value=this._trimAlignValue(y),this._refreshValue(),void this._change(null,0)):this._value()},values:function(y,x){var w,k,S;if(arguments.length>1)return this.options.values[y]=this._trimAlignValue(x),this._refreshValue(),void this._change(null,y);if(!arguments.length)return this._values();if(!m.isArray(arguments[0]))return this._hasMultipleValues()?this._values(y):this.value();for(w=this.options.values,k=arguments[0],S=0;S<w.length;S+=1)w[S]=this._trimAlignValue(k[S]),this._change(null,S);this._refreshValue()},_setOption:function(y,x){var w,k=0;switch(y==="range"&&this.options.range===!0&&(x==="min"?(this.options.value=this._values(0),this.options.values=null):x==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),m.isArray(this.options.values)&&(k=this.options.values.length),this._super(y,x),y){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(x),this.handles.css(x==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),w=k-1;w>=0;w--)this._change(null,w);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(y){this._super(y),this._toggleClass(null,"ui-state-disabled",!!y)},_value:function(){var y=this.options.value;return this._trimAlignValue(y)},_values:function(y){var x,w,k;if(arguments.length)return x=this.options.values[y],this._trimAlignValue(x);if(this._hasMultipleValues()){for(w=this.options.values.slice(),k=0;k<w.length;k+=1)w[k]=this._trimAlignValue(w[k]);return w}return[]},_trimAlignValue:function(y){if(y<=this._valueMin())return this._valueMin();if(y>=this._valueMax())return this._valueMax();var x=this.options.step>0?this.options.step:1,w=(y-this._valueMin())%x,k=y-w;return 2*Math.abs(w)>=x&&(k+=w>0?x:-x),parseFloat(k.toFixed(5))},_calculateNewMax:function(){var y=this.options.max,x=this._valueMin(),w=this.options.step;(y=Math.round((y-x)/w)*w+x)>this.options.max&&(y-=w),this.max=parseFloat(y.toFixed(this._precision()))},_precision:function(){var y=this._precisionOf(this.options.step);return this.options.min!==null&&(y=Math.max(y,this._precisionOf(this.options.min))),y},_precisionOf:function(y){var x=y.toString(),w=x.indexOf(".");return w===-1?0:x.length-w-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(y){y==="vertical"&&this.range.css({width:"",left:""}),y==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var y,x,w,k,S,P=this.options.range,E=this.options,O=this,a=!this._animateOff&&E.animate,h={};this._hasMultipleValues()?this.handles.each(function(v){x=(O.values(v)-O._valueMin())/(O._valueMax()-O._valueMin())*100,h[O.orientation==="horizontal"?"left":"bottom"]=x+"%",m(this).stop(1,1)[a?"animate":"css"](h,E.animate),O.options.range===!0&&(O.orientation==="horizontal"?(v===0&&O.range.stop(1,1)[a?"animate":"css"]({left:x+"%"},E.animate),v===1&&O.range[a?"animate":"css"]({width:x-y+"%"},{queue:!1,duration:E.animate})):(v===0&&O.range.stop(1,1)[a?"animate":"css"]({bottom:x+"%"},E.animate),v===1&&O.range[a?"animate":"css"]({height:x-y+"%"},{queue:!1,duration:E.animate}))),y=x}):(w=this.value(),k=this._valueMin(),S=this._valueMax(),x=S!==k?(w-k)/(S-k)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=x+"%",this.handle.stop(1,1)[a?"animate":"css"](h,E.animate),P==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[a?"animate":"css"]({width:x+"%"},E.animate),P==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[a?"animate":"css"]({width:100-x+"%"},E.animate),P==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[a?"animate":"css"]({height:x+"%"},E.animate),P==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[a?"animate":"css"]({height:100-x+"%"},E.animate))},_handleEvents:{keydown:function(y){var x,w,k,S=m(y.target).data("ui-slider-handle-index");switch(y.keyCode){case m.ui.keyCode.HOME:case m.ui.keyCode.END:case m.ui.keyCode.PAGE_UP:case m.ui.keyCode.PAGE_DOWN:case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(y.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(m(y.target),null,"ui-state-active"),this._start(y,S)===!1))return}switch(k=this.options.step,x=w=this._hasMultipleValues()?this.values(S):this.value(),y.keyCode){case m.ui.keyCode.HOME:w=this._valueMin();break;case m.ui.keyCode.END:w=this._valueMax();break;case m.ui.keyCode.PAGE_UP:w=this._trimAlignValue(x+(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(x-(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:if(x===this._valueMax())return;w=this._trimAlignValue(x+k);break;case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(x===this._valueMin())return;w=this._trimAlignValue(x-k)}this._slide(y,S,w)},keyup:function(y){var x=m(y.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(y,x),this._change(y,x),this._removeClass(m(y.target),null,"ui-state-active"))}}})},(g=u.apply(c,p))===void 0||(o.exports=g)},1669:function(o){"use strict";o.exports=jQuery},9306:function(o,c,n){"use strict";var u=n(4901),p=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not a function")}},5548:function(o,c,n){"use strict";var u=n(3517),p=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not a constructor")}},3506:function(o,c,n){"use strict";var u=n(3925),p=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g("Can't set "+p(m)+" as a prototype")}},6469:function(o,c,n){"use strict";var u=n(8227),p=n(2360),g=n(4913).f,m=u("unscopables"),y=Array.prototype;y[m]===void 0&&g(y,m,{configurable:!0,value:p(null)}),o.exports=function(x){y[m][x]=!0}},7829:function(o,c,n){"use strict";var u=n(8183).charAt;o.exports=function(p,g,m){return g+(m?u(p,g).length:1)}},679:function(o,c,n){"use strict";var u=n(1625),p=TypeError;o.exports=function(g,m){if(u(m,g))return g;throw new p("Incorrect invocation")}},8551:function(o,c,n){"use strict";var u=n(34),p=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(p(m)+" is not an object")}},5652:function(o,c,n){"use strict";var u=n(9039);o.exports=u(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},4373:function(o,c,n){"use strict";var u=n(8981),p=n(5610),g=n(6198);o.exports=function(m){for(var y=u(this),x=g(y),w=arguments.length,k=p(w>1?arguments[1]:void 0,x),S=w>2?arguments[2]:void 0,P=S===void 0?x:p(S,x);P>k;)y[k++]=m;return y}},235:function(o,c,n){"use strict";var u=n(9213).forEach,p=n(4598)("forEach");o.exports=p?[].forEach:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}},7916:function(o,c,n){"use strict";var u=n(6080),p=n(9565),g=n(8981),m=n(6319),y=n(4209),x=n(3517),w=n(6198),k=n(4659),S=n(81),P=n(851),E=Array;o.exports=function(O){var a=g(O),h=x(this),v=arguments.length,d=v>1?arguments[1]:void 0,_=d!==void 0;_&&(d=u(d,v>2?arguments[2]:void 0));var C,N,G,q,K,ne,Q=P(a),ee=0;if(!Q||this===E&&y(Q))for(C=w(a),N=h?new this(C):E(C);C>ee;ee++)ne=_?d(a[ee],ee):a[ee],k(N,ee,ne);else for(N=h?new this:[],K=(q=S(a,Q)).next;!(G=p(K,q)).done;ee++)ne=_?m(q,d,[G.value,ee],!0):G.value,k(N,ee,ne);return N.length=ee,N}},9617:function(o,c,n){"use strict";var u=n(5397),p=n(5610),g=n(6198),m=function(y){return function(x,w,k){var S=u(x),P=g(S);if(P===0)return!y&&-1;var E,O=p(k,P);if(y&&w!=w){for(;P>O;)if((E=S[O++])!=E)return!0}else for(;P>O;O++)if((y||O in S)&&S[O]===w)return y||O||0;return!y&&-1}};o.exports={includes:m(!0),indexOf:m(!1)}},9213:function(o,c,n){"use strict";var u=n(6080),p=n(9504),g=n(7055),m=n(8981),y=n(6198),x=n(1469),w=p([].push),k=function(S){var P=S===1,E=S===2,O=S===3,a=S===4,h=S===6,v=S===7,d=S===5||h;return function(_,C,N,G){for(var q,K,ne=m(_),Q=g(ne),ee=y(Q),Me=u(C,N),pe=0,W=G||x,oe=P?W(_,ee):E||v?W(_,0):void 0;ee>pe;pe++)if((d||pe in Q)&&(K=Me(q=Q[pe],pe,ne),S))if(P)oe[pe]=K;else if(K)switch(S){case 3:return!0;case 5:return q;case 6:return pe;case 2:w(oe,q)}else switch(S){case 4:return!1;case 7:w(oe,q)}return h?-1:O||a?a:oe}};o.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},597:function(o,c,n){"use strict";var u=n(9039),p=n(8227),g=n(9519),m=p("species");o.exports=function(y){return g>=51||!u(function(){var x=[];return(x.constructor={})[m]=function(){return{foo:1}},x[y](Boolean).foo!==1})}},4598:function(o,c,n){"use strict";var u=n(9039);o.exports=function(p,g){var m=[][p];return!!m&&u(function(){m.call(null,g||function(){return 1},1)})}},926:function(o,c,n){"use strict";var u=n(9306),p=n(8981),g=n(7055),m=n(6198),y=TypeError,x="Reduce of empty array with no initial value",w=function(k){return function(S,P,E,O){var a=p(S),h=g(a),v=m(a);if(u(P),v===0&&E<2)throw new y(x);var d=k?v-1:0,_=k?-1:1;if(E<2)for(;;){if(d in h){O=h[d],d+=_;break}if(d+=_,k?d<0:v<=d)throw new y(x)}for(;k?d>=0:v>d;d+=_)d in h&&(O=P(O,h[d],d,a));return O}};o.exports={left:w(!1),right:w(!0)}},4527:function(o,c,n){"use strict";var u=n(3724),p=n(4376),g=TypeError,m=Object.getOwnPropertyDescriptor,y=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(x){return x instanceof TypeError}}();o.exports=y?function(x,w){if(p(x)&&!m(x,"length").writable)throw new g("Cannot set read only .length");return x.length=w}:function(x,w){return x.length=w}},7680:function(o,c,n){"use strict";var u=n(9504);o.exports=u([].slice)},4488:function(o,c,n){"use strict";var u=n(7680),p=Math.floor,g=function(m,y){var x=m.length;if(x<8)for(var w,k,S=1;S<x;){for(k=S,w=m[S];k&&y(m[k-1],w)>0;)m[k]=m[--k];k!==S++&&(m[k]=w)}else for(var P=p(x/2),E=g(u(m,0,P),y),O=g(u(m,P),y),a=E.length,h=O.length,v=0,d=0;v<a||d<h;)m[v+d]=v<a&&d<h?y(E[v],O[d])<=0?E[v++]:O[d++]:v<a?E[v++]:O[d++];return m};o.exports=g},7433:function(o,c,n){"use strict";var u=n(4376),p=n(3517),g=n(34),m=n(8227)("species"),y=Array;o.exports=function(x){var w;return u(x)&&(w=x.constructor,(p(w)&&(w===y||u(w.prototype))||g(w)&&(w=w[m])===null)&&(w=void 0)),w===void 0?y:w}},1469:function(o,c,n){"use strict";var u=n(7433);o.exports=function(p,g){return new(u(p))(g===0?0:g)}},6319:function(o,c,n){"use strict";var u=n(8551),p=n(9539);o.exports=function(g,m,y,x){try{return x?m(u(y)[0],y[1]):m(y)}catch(w){p(g,"throw",w)}}},4428:function(o,c,n){"use strict";var u=n(8227)("iterator"),p=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){p=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch(y){}o.exports=function(y,x){try{if(!x&&!p)return!1}catch(S){return!1}var w=!1;try{var k={};k[u]=function(){return{next:function(){return{done:w=!0}}}},y(k)}catch(S){}return w}},2195:function(o,c,n){"use strict";var u=n(9504),p=u({}.toString),g=u("".slice);o.exports=function(m){return g(p(m),8,-1)}},6955:function(o,c,n){"use strict";var u=n(2140),p=n(4901),g=n(2195),m=n(8227)("toStringTag"),y=Object,x=g(function(){return arguments}())==="Arguments";o.exports=u?g:function(w){var k,S,P;return w===void 0?"Undefined":w===null?"Null":typeof(S=function(E,O){try{return E[O]}catch(a){}}(k=y(w),m))=="string"?S:x?g(k):(P=g(k))==="Object"&&p(k.callee)?"Arguments":P}},6938:function(o,c,n){"use strict";var u=n(2360),p=n(2106),g=n(6279),m=n(6080),y=n(679),x=n(4117),w=n(2652),k=n(1088),S=n(2529),P=n(7633),E=n(3724),O=n(3451).fastKey,a=n(1181),h=a.set,v=a.getterFor;o.exports={getConstructor:function(d,_,C,N){var G=d(function(ee,Me){y(ee,q),h(ee,{type:_,index:u(null),first:null,last:null,size:0}),E||(ee.size=0),x(Me)||w(Me,ee[N],{that:ee,AS_ENTRIES:C})}),q=G.prototype,K=v(_),ne=function(ee,Me,pe){var W,oe,fe=K(ee),Z=Q(ee,Me);return Z?Z.value=pe:(fe.last=Z={index:oe=O(Me,!0),key:Me,value:pe,previous:W=fe.last,next:null,removed:!1},fe.first||(fe.first=Z),W&&(W.next=Z),E?fe.size++:ee.size++,oe!=="F"&&(fe.index[oe]=Z)),ee},Q=function(ee,Me){var pe,W=K(ee),oe=O(Me);if(oe!=="F")return W.index[oe];for(pe=W.first;pe;pe=pe.next)if(pe.key===Me)return pe};return g(q,{clear:function(){for(var ee=K(this),Me=ee.first;Me;)Me.removed=!0,Me.previous&&(Me.previous=Me.previous.next=null),Me=Me.next;ee.first=ee.last=null,ee.index=u(null),E?ee.size=0:this.size=0},delete:function(ee){var Me=this,pe=K(Me),W=Q(Me,ee);if(W){var oe=W.next,fe=W.previous;delete pe.index[W.index],W.removed=!0,fe&&(fe.next=oe),oe&&(oe.previous=fe),pe.first===W&&(pe.first=oe),pe.last===W&&(pe.last=fe),E?pe.size--:Me.size--}return!!W},forEach:function(ee){for(var Me,pe=K(this),W=m(ee,arguments.length>1?arguments[1]:void 0);Me=Me?Me.next:pe.first;)for(W(Me.value,Me.key,this);Me&&Me.removed;)Me=Me.previous},has:function(ee){return!!Q(this,ee)}}),g(q,C?{get:function(ee){var Me=Q(this,ee);return Me&&Me.value},set:function(ee,Me){return ne(this,ee===0?0:ee,Me)}}:{add:function(ee){return ne(this,ee=ee===0?0:ee,ee)}}),E&&p(q,"size",{configurable:!0,get:function(){return K(this).size}}),G},setStrong:function(d,_,C){var N=_+" Iterator",G=v(_),q=v(N);k(d,_,function(K,ne){h(this,{type:N,target:K,state:G(K),kind:ne,last:null})},function(){for(var K=q(this),ne=K.kind,Q=K.last;Q&&Q.removed;)Q=Q.previous;return K.target&&(K.last=Q=Q?Q.next:K.state.first)?S(ne==="keys"?Q.key:ne==="values"?Q.value:[Q.key,Q.value],!1):(K.target=null,S(void 0,!0))},C?"entries":"values",!C,!0),P(_)}}},4006:function(o,c,n){"use strict";var u=n(9504),p=n(6279),g=n(3451).getWeakData,m=n(679),y=n(8551),x=n(4117),w=n(34),k=n(2652),S=n(9213),P=n(9297),E=n(1181),O=E.set,a=E.getterFor,h=S.find,v=S.findIndex,d=u([].splice),_=0,C=function(q){return q.frozen||(q.frozen=new N)},N=function(){this.entries=[]},G=function(q,K){return h(q.entries,function(ne){return ne[0]===K})};N.prototype={get:function(q){var K=G(this,q);if(K)return K[1]},has:function(q){return!!G(this,q)},set:function(q,K){var ne=G(this,q);ne?ne[1]=K:this.entries.push([q,K])},delete:function(q){var K=v(this.entries,function(ne){return ne[0]===q});return~K&&d(this.entries,K,1),!!~K}},o.exports={getConstructor:function(q,K,ne,Q){var ee=q(function(oe,fe){m(oe,Me),O(oe,{type:K,id:_++,frozen:null}),x(fe)||k(fe,oe[Q],{that:oe,AS_ENTRIES:ne})}),Me=ee.prototype,pe=a(K),W=function(oe,fe,Z){var xe=pe(oe),Y=g(y(fe),!0);return Y===!0?C(xe).set(fe,Z):Y[xe.id]=Z,oe};return p(Me,{delete:function(oe){var fe=pe(this);if(!w(oe))return!1;var Z=g(oe);return Z===!0?C(fe).delete(oe):Z&&P(Z,fe.id)&&delete Z[fe.id]},has:function(oe){var fe=pe(this);if(!w(oe))return!1;var Z=g(oe);return Z===!0?C(fe).has(oe):Z&&P(Z,fe.id)}}),p(Me,ne?{get:function(oe){var fe=pe(this);if(w(oe)){var Z=g(oe);if(Z===!0)return C(fe).get(oe);if(Z)return Z[fe.id]}},set:function(oe,fe){return W(this,oe,fe)}}:{add:function(oe){return W(this,oe,!0)}}),ee}}},6468:function(o,c,n){"use strict";var u=n(6518),p=n(4576),g=n(9504),m=n(2796),y=n(6840),x=n(3451),w=n(2652),k=n(679),S=n(4901),P=n(4117),E=n(34),O=n(9039),a=n(4428),h=n(687),v=n(3167);o.exports=function(d,_,C){var N=d.indexOf("Map")!==-1,G=d.indexOf("Weak")!==-1,q=N?"set":"add",K=p[d],ne=K&&K.prototype,Q=K,ee={},Me=function(xe){var Y=g(ne[xe]);y(ne,xe,xe==="add"?function(he){return Y(this,he===0?0:he),this}:xe==="delete"?function(he){return!(G&&!E(he))&&Y(this,he===0?0:he)}:xe==="get"?function(he){return G&&!E(he)?void 0:Y(this,he===0?0:he)}:xe==="has"?function(he){return!(G&&!E(he))&&Y(this,he===0?0:he)}:function(he,Ke){return Y(this,he===0?0:he,Ke),this})};if(m(d,!S(K)||!(G||ne.forEach&&!O(function(){new K().entries().next()}))))Q=C.getConstructor(_,d,N,q),x.enable();else if(m(d,!0)){var pe=new Q,W=pe[q](G?{}:-0,1)!==pe,oe=O(function(){pe.has(1)}),fe=a(function(xe){new K(xe)}),Z=!G&&O(function(){for(var xe=new K,Y=5;Y--;)xe[q](Y,Y);return!xe.has(-0)});fe||((Q=_(function(xe,Y){k(xe,ne);var he=v(new K,xe,Q);return P(Y)||w(Y,he[q],{that:he,AS_ENTRIES:N}),he})).prototype=ne,ne.constructor=Q),(oe||Z)&&(Me("delete"),Me("has"),N&&Me("get")),(Z||W)&&Me(q),G&&ne.clear&&delete ne.clear}return ee[d]=Q,u({global:!0,constructor:!0,forced:Q!==K},ee),h(Q,d),G||C.setStrong(Q,d,N),Q}},7740:function(o,c,n){"use strict";var u=n(9297),p=n(5031),g=n(7347),m=n(4913);o.exports=function(y,x,w){for(var k=p(x),S=m.f,P=g.f,E=0;E<k.length;E++){var O=k[E];u(y,O)||w&&u(w,O)||S(y,O,P(x,O))}}},1436:function(o,c,n){"use strict";var u=n(8227)("match");o.exports=function(p){var g=/./;try{"/./"[p](g)}catch(m){try{return g[u]=!1,"/./"[p](g)}catch(y){}}return!1}},2211:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},2529:function(o){"use strict";o.exports=function(c,n){return{value:c,done:n}}},6699:function(o,c,n){"use strict";var u=n(3724),p=n(4913),g=n(6980);o.exports=u?function(m,y,x){return p.f(m,y,g(1,x))}:function(m,y,x){return m[y]=x,m}},6980:function(o){"use strict";o.exports=function(c,n){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:n}}},4659:function(o,c,n){"use strict";var u=n(3724),p=n(4913),g=n(6980);o.exports=function(m,y,x){u?p.f(m,y,g(0,x)):m[y]=x}},3640:function(o,c,n){"use strict";var u=n(8551),p=n(4270),g=TypeError;o.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new g("Incorrect hint");return p(this,m)}},2106:function(o,c,n){"use strict";var u=n(283),p=n(4913);o.exports=function(g,m,y){return y.get&&u(y.get,m,{getter:!0}),y.set&&u(y.set,m,{setter:!0}),p.f(g,m,y)}},6840:function(o,c,n){"use strict";var u=n(4901),p=n(4913),g=n(283),m=n(9433);o.exports=function(y,x,w,k){k||(k={});var S=k.enumerable,P=k.name!==void 0?k.name:x;if(u(w)&&g(w,P,k),k.global)S?y[x]=w:m(x,w);else{try{k.unsafe?y[x]&&(S=!0):delete y[x]}catch(E){}S?y[x]=w:p.f(y,x,{value:w,enumerable:!1,configurable:!k.nonConfigurable,writable:!k.nonWritable})}return y}},6279:function(o,c,n){"use strict";var u=n(6840);o.exports=function(p,g,m){for(var y in g)u(p,y,g[y],m);return p}},9433:function(o,c,n){"use strict";var u=n(4576),p=Object.defineProperty;o.exports=function(g,m){try{p(u,g,{value:m,configurable:!0,writable:!0})}catch(y){u[g]=m}return m}},4606:function(o,c,n){"use strict";var u=n(6823),p=TypeError;o.exports=function(g,m){if(!delete g[m])throw new p("Cannot delete property "+u(m)+" of "+u(g))}},3724:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(o,c,n){"use strict";var u=n(4576),p=n(34),g=u.document,m=p(g)&&p(g.createElement);o.exports=function(y){return m?g.createElement(y):{}}},6837:function(o){"use strict";var c=TypeError;o.exports=function(n){if(n>9007199254740991)throw c("Maximum allowed index exceeded");return n}},7400:function(o){"use strict";o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(o,c,n){"use strict";var u=n(4055)("span").classList,p=u&&u.constructor&&u.constructor.prototype;o.exports=p===Object.prototype?void 0:p},8727:function(o){"use strict";o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(o,c,n){"use strict";var u=n(2839).match(/firefox\/(\d+)/i);o.exports=!!u&&+u[1]},3763:function(o,c,n){"use strict";var u=n(2839);o.exports=/MSIE|Trident/.test(u)},4265:function(o,c,n){"use strict";var u=n(2839);o.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"},9544:function(o,c,n){"use strict";var u=n(2839);o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},6193:function(o,c,n){"use strict";var u=n(4215);o.exports=u==="NODE"},7860:function(o,c,n){"use strict";var u=n(2839);o.exports=/web0s(?!.*chrome)/i.test(u)},2839:function(o,c,n){"use strict";var u=n(4576).navigator,p=u&&u.userAgent;o.exports=p?String(p):""},9519:function(o,c,n){"use strict";var u,p,g=n(4576),m=n(2839),y=g.process,x=g.Deno,w=y&&y.versions||x&&x.version,k=w&&w.v8;k&&(p=(u=k.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!p&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(p=+u[1]),o.exports=p},3607:function(o,c,n){"use strict";var u=n(2839).match(/AppleWebKit\/(\d+)\./);o.exports=!!u&&+u[1]},4215:function(o,c,n){"use strict";var u=n(4576),p=n(2839),g=n(2195),m=function(y){return p.slice(0,y.length)===y};o.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":g(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(o,c,n){"use strict";var u=n(4576),p=n(7347).f,g=n(6699),m=n(6840),y=n(9433),x=n(7740),w=n(2796);o.exports=function(k,S){var P,E,O,a,h,v=k.target,d=k.global,_=k.stat;if(P=d?u:_?u[v]||y(v,{}):u[v]&&u[v].prototype)for(E in S){if(a=S[E],O=k.dontCallGetSet?(h=p(P,E))&&h.value:P[E],!w(d?E:v+(_?".":"#")+E,k.forced)&&O!==void 0){if(typeof a==typeof O)continue;x(a,O)}(k.sham||O&&O.sham)&&g(a,"sham",!0),m(P,E,a,k)}}},9039:function(o){"use strict";o.exports=function(c){try{return!!c()}catch(n){return!0}}},9228:function(o,c,n){"use strict";n(7495);var u=n(9565),p=n(6840),g=n(7323),m=n(9039),y=n(8227),x=n(6699),w=y("species"),k=RegExp.prototype;o.exports=function(S,P,E,O){var a=y(S),h=!m(function(){var C={};return C[a]=function(){return 7},""[S](C)!==7}),v=h&&!m(function(){var C=!1,N=/a/;return S==="split"&&((N={}).constructor={},N.constructor[w]=function(){return N},N.flags="",N[a]=/./[a]),N.exec=function(){return C=!0,null},N[a](""),!C});if(!h||!v||E){var d=/./[a],_=P(a,""[S],function(C,N,G,q,K){var ne=N.exec;return ne===g||ne===k.exec?h&&!K?{done:!0,value:u(d,N,G,q)}:{done:!0,value:u(C,G,N,q)}:{done:!1}});p(String.prototype,S,_[0]),p(k,a,_[1])}O&&x(k[a],"sham",!0)}},259:function(o,c,n){"use strict";var u=n(4376),p=n(6198),g=n(6837),m=n(6080),y=function(x,w,k,S,P,E,O,a){for(var h,v,d=P,_=0,C=!!O&&m(O,a);_<S;)_ in k&&(h=C?C(k[_],_,w):k[_],E>0&&u(h)?(v=p(h),d=y(x,w,h,v,d,E-1)-1):(g(d+1),x[d]=h),d++),_++;return d};o.exports=y},2744:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:function(o,c,n){"use strict";var u=n(616),p=Function.prototype,g=p.apply,m=p.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(g):function(){return m.apply(g,arguments)})},6080:function(o,c,n){"use strict";var u=n(7476),p=n(9306),g=n(616),m=u(u.bind);o.exports=function(y,x){return p(y),x===void 0?y:g?m(y,x):function(){return y.apply(x,arguments)}}},616:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){var p=function(){}.bind();return typeof p!="function"||p.hasOwnProperty("prototype")})},566:function(o,c,n){"use strict";var u=n(9504),p=n(9306),g=n(34),m=n(9297),y=n(7680),x=n(616),w=Function,k=u([].concat),S=u([].join),P={};o.exports=x?w.bind:function(E){var O=p(this),a=O.prototype,h=y(arguments,1),v=function(){var d=k(h,y(arguments));return this instanceof v?function(_,C,N){if(!m(P,C)){for(var G=[],q=0;q<C;q++)G[q]="a["+q+"]";P[C]=w("C,a","return new C("+S(G,",")+")")}return P[C](_,N)}(O,d.length,d):O.apply(E,d)};return g(a)&&(v.prototype=a),v}},9565:function(o,c,n){"use strict";var u=n(616),p=Function.prototype.call;o.exports=u?p.bind(p):function(){return p.apply(p,arguments)}},350:function(o,c,n){"use strict";var u=n(3724),p=n(9297),g=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,y=p(g,"name"),x=y&&function(){}.name==="something",w=y&&(!u||u&&m(g,"name").configurable);o.exports={EXISTS:y,PROPER:x,CONFIGURABLE:w}},6706:function(o,c,n){"use strict";var u=n(9504),p=n(9306);o.exports=function(g,m,y){try{return u(p(Object.getOwnPropertyDescriptor(g,m)[y]))}catch(x){}}},7476:function(o,c,n){"use strict";var u=n(2195),p=n(9504);o.exports=function(g){if(u(g)==="Function")return p(g)}},9504:function(o,c,n){"use strict";var u=n(616),p=Function.prototype,g=p.call,m=u&&p.bind.bind(g,g);o.exports=u?m:function(y){return function(){return g.apply(y,arguments)}}},7751:function(o,c,n){"use strict";var u=n(4576),p=n(4901);o.exports=function(g,m){return arguments.length<2?(y=u[g],p(y)?y:void 0):u[g]&&u[g][m];var y}},851:function(o,c,n){"use strict";var u=n(6955),p=n(5966),g=n(4117),m=n(6269),y=n(8227)("iterator");o.exports=function(x){if(!g(x))return p(x,y)||p(x,"@@iterator")||m[u(x)]}},81:function(o,c,n){"use strict";var u=n(9565),p=n(9306),g=n(8551),m=n(6823),y=n(851),x=TypeError;o.exports=function(w,k){var S=arguments.length<2?y(w):k;if(p(S))return g(u(S,w));throw new x(m(w)+" is not iterable")}},6933:function(o,c,n){"use strict";var u=n(9504),p=n(4376),g=n(4901),m=n(2195),y=n(655),x=u([].push);o.exports=function(w){if(g(w))return w;if(p(w)){for(var k=w.length,S=[],P=0;P<k;P++){var E=w[P];typeof E=="string"?x(S,E):typeof E!="number"&&m(E)!=="Number"&&m(E)!=="String"||x(S,y(E))}var O=S.length,a=!0;return function(h,v){if(a)return a=!1,v;if(p(this))return v;for(var d=0;d<O;d++)if(S[d]===h)return v}}}},5966:function(o,c,n){"use strict";var u=n(9306),p=n(4117);o.exports=function(g,m){var y=g[m];return p(y)?void 0:u(y)}},2478:function(o,c,n){"use strict";var u=n(9504),p=n(8981),g=Math.floor,m=u("".charAt),y=u("".replace),x=u("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;o.exports=function(S,P,E,O,a,h){var v=E+S.length,d=O.length,_=k;return a!==void 0&&(a=p(a),_=w),y(h,_,function(C,N){var G;switch(m(N,0)){case"$":return"$";case"&":return S;case"`":return x(P,0,E);case"'":return x(P,v);case"<":G=a[x(N,1,-1)];break;default:var q=+N;if(q===0)return C;if(q>d){var K=g(q/10);return K===0?C:K<=d?O[K-1]===void 0?m(N,1):O[K-1]+m(N,1):C}G=O[q-1]}return G===void 0?"":G})}},4576:function(o,c,n){"use strict";var u=function(p){return p&&p.Math===Math&&p};o.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof n.g=="object"&&n.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(o,c,n){"use strict";var u=n(9504),p=n(8981),g=u({}.hasOwnProperty);o.exports=Object.hasOwn||function(m,y){return g(p(m),y)}},421:function(o){"use strict";o.exports={}},3138:function(o){"use strict";o.exports=function(c,n){try{arguments.length===1?console.error(c):console.error(c,n)}catch(u){}}},397:function(o,c,n){"use strict";var u=n(7751);o.exports=u("document","documentElement")},5917:function(o,c,n){"use strict";var u=n(3724),p=n(9039),g=n(4055);o.exports=!u&&!p(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(2195),m=Object,y=u("".split);o.exports=p(function(){return!m("z").propertyIsEnumerable(0)})?function(x){return g(x)==="String"?y(x,""):m(x)}:m},3167:function(o,c,n){"use strict";var u=n(4901),p=n(34),g=n(2967);o.exports=function(m,y,x){var w,k;return g&&u(w=y.constructor)&&w!==x&&p(k=w.prototype)&&k!==x.prototype&&g(m,k),m}},3706:function(o,c,n){"use strict";var u=n(9504),p=n(4901),g=n(7629),m=u(Function.toString);p(g.inspectSource)||(g.inspectSource=function(y){return m(y)}),o.exports=g.inspectSource},3451:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(421),m=n(34),y=n(9297),x=n(4913).f,w=n(8480),k=n(298),S=n(4124),P=n(3392),E=n(2744),O=!1,a=P("meta"),h=0,v=function(_){x(_,a,{value:{objectID:"O"+h++,weakData:{}}})},d=o.exports={enable:function(){d.enable=function(){},O=!0;var _=w.f,C=p([].splice),N={};N[a]=1,_(N).length&&(w.f=function(G){for(var q=_(G),K=0,ne=q.length;K<ne;K++)if(q[K]===a){C(q,K,1);break}return q},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(_,C){if(!m(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!y(_,a)){if(!S(_))return"F";if(!C)return"E";v(_)}return _[a].objectID},getWeakData:function(_,C){if(!y(_,a)){if(!S(_))return!0;if(!C)return!1;v(_)}return _[a].weakData},onFreeze:function(_){return E&&O&&S(_)&&!y(_,a)&&v(_),_}};g[a]=!0},1181:function(o,c,n){"use strict";var u,p,g,m=n(8622),y=n(4576),x=n(34),w=n(6699),k=n(9297),S=n(7629),P=n(6119),E=n(421),O="Object already initialized",a=y.TypeError,h=y.WeakMap;if(m||S.state){var v=S.state||(S.state=new h);v.get=v.get,v.has=v.has,v.set=v.set,u=function(_,C){if(v.has(_))throw new a(O);return C.facade=_,v.set(_,C),C},p=function(_){return v.get(_)||{}},g=function(_){return v.has(_)}}else{var d=P("state");E[d]=!0,u=function(_,C){if(k(_,d))throw new a(O);return C.facade=_,w(_,d,C),C},p=function(_){return k(_,d)?_[d]:{}},g=function(_){return k(_,d)}}o.exports={set:u,get:p,has:g,enforce:function(_){return g(_)?p(_):u(_,{})},getterFor:function(_){return function(C){var N;if(!x(C)||(N=p(C)).type!==_)throw new a("Incompatible receiver, "+_+" required");return N}}}},4209:function(o,c,n){"use strict";var u=n(8227),p=n(6269),g=u("iterator"),m=Array.prototype;o.exports=function(y){return y!==void 0&&(p.Array===y||m[g]===y)}},4376:function(o,c,n){"use strict";var u=n(2195);o.exports=Array.isArray||function(p){return u(p)==="Array"}},4901:function(o){"use strict";var c=typeof document=="object"&&document.all;o.exports=c===void 0&&c!==void 0?function(n){return typeof n=="function"||n===c}:function(n){return typeof n=="function"}},3517:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(4901),m=n(6955),y=n(7751),x=n(3706),w=function(){},k=y("Reflect","construct"),S=/^\s*(?:class|function)\b/,P=u(S.exec),E=!S.test(w),O=function(h){if(!g(h))return!1;try{return k(w,[],h),!0}catch(v){return!1}},a=function(h){if(!g(h))return!1;switch(m(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return E||!!P(S,x(h))}catch(v){return!0}};a.sham=!0,o.exports=!k||p(function(){var h;return O(O.call)||!O(Object)||!O(function(){h=!0})||h})?a:O},6575:function(o,c,n){"use strict";var u=n(9297);o.exports=function(p){return p!==void 0&&(u(p,"value")||u(p,"writable"))}},2796:function(o,c,n){"use strict";var u=n(9039),p=n(4901),g=/#|\.prototype\./,m=function(S,P){var E=x[y(S)];return E===k||E!==w&&(p(P)?u(P):!!P)},y=m.normalize=function(S){return String(S).replace(g,".").toLowerCase()},x=m.data={},w=m.NATIVE="N",k=m.POLYFILL="P";o.exports=m},4117:function(o){"use strict";o.exports=function(c){return c==null}},34:function(o,c,n){"use strict";var u=n(4901);o.exports=function(p){return typeof p=="object"?p!==null:u(p)}},3925:function(o,c,n){"use strict";var u=n(34);o.exports=function(p){return u(p)||p===null}},6395:function(o){"use strict";o.exports=!1},788:function(o,c,n){"use strict";var u=n(34),p=n(2195),g=n(8227)("match");o.exports=function(m){var y;return u(m)&&((y=m[g])!==void 0?!!y:p(m)==="RegExp")}},757:function(o,c,n){"use strict";var u=n(7751),p=n(4901),g=n(1625),m=n(7040),y=Object;o.exports=m?function(x){return typeof x=="symbol"}:function(x){var w=u("Symbol");return p(w)&&g(w.prototype,y(x))}},2652:function(o,c,n){"use strict";var u=n(6080),p=n(9565),g=n(8551),m=n(6823),y=n(4209),x=n(6198),w=n(1625),k=n(81),S=n(851),P=n(9539),E=TypeError,O=function(h,v){this.stopped=h,this.result=v},a=O.prototype;o.exports=function(h,v,d){var _,C,N,G,q,K,ne,Q=d&&d.that,ee=!(!d||!d.AS_ENTRIES),Me=!(!d||!d.IS_RECORD),pe=!(!d||!d.IS_ITERATOR),W=!(!d||!d.INTERRUPTED),oe=u(v,Q),fe=function(xe){return _&&P(_,"normal",xe),new O(!0,xe)},Z=function(xe){return ee?(g(xe),W?oe(xe[0],xe[1],fe):oe(xe[0],xe[1])):W?oe(xe,fe):oe(xe)};if(Me)_=h.iterator;else if(pe)_=h;else{if(!(C=S(h)))throw new E(m(h)+" is not iterable");if(y(C)){for(N=0,G=x(h);G>N;N++)if((q=Z(h[N]))&&w(a,q))return q;return new O(!1)}_=k(h,C)}for(K=Me?h.next:_.next;!(ne=p(K,_)).done;){try{q=Z(ne.value)}catch(xe){P(_,"throw",xe)}if(typeof q=="object"&&q&&w(a,q))return q}return new O(!1)}},9539:function(o,c,n){"use strict";var u=n(9565),p=n(8551),g=n(5966);o.exports=function(m,y,x){var w,k;p(m);try{if(!(w=g(m,"return"))){if(y==="throw")throw x;return x}w=u(w,m)}catch(S){k=!0,w=S}if(y==="throw")throw x;if(k)throw w;return p(w),x}},3994:function(o,c,n){"use strict";var u=n(7657).IteratorPrototype,p=n(2360),g=n(6980),m=n(687),y=n(6269),x=function(){return this};o.exports=function(w,k,S,P){var E=k+" Iterator";return w.prototype=p(u,{next:g(+!P,S)}),m(w,E,!1,!0),y[E]=x,w}},1088:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(6395),m=n(350),y=n(4901),x=n(3994),w=n(2787),k=n(2967),S=n(687),P=n(6699),E=n(6840),O=n(8227),a=n(6269),h=n(7657),v=m.PROPER,d=m.CONFIGURABLE,_=h.IteratorPrototype,C=h.BUGGY_SAFARI_ITERATORS,N=O("iterator"),G="keys",q="values",K="entries",ne=function(){return this};o.exports=function(Q,ee,Me,pe,W,oe,fe){x(Me,ee,pe);var Z,xe,Y,he=function(je){if(je===W&&Se)return Se;if(!C&&je&&je in lt)return lt[je];switch(je){case G:case q:case K:return function(){return new Me(this,je)}}return function(){return new Me(this)}},Ke=ee+" Iterator",ht=!1,lt=Q.prototype,We=lt[N]||lt["@@iterator"]||W&&lt[W],Se=!C&&We||he(W),Le=ee==="Array"&&lt.entries||We;if(Le&&(Z=w(Le.call(new Q)))!==Object.prototype&&Z.next&&(g||w(Z)===_||(k?k(Z,_):y(Z[N])||E(Z,N,ne)),S(Z,Ke,!0,!0),g&&(a[Ke]=ne)),v&&W===q&&We&&We.name!==q&&(!g&&d?P(lt,"name",q):(ht=!0,Se=function(){return p(We,this)})),W)if(xe={values:he(q),keys:oe?Se:he(G),entries:he(K)},fe)for(Y in xe)(C||ht||!(Y in lt))&&E(lt,Y,xe[Y]);else u({target:ee,proto:!0,forced:C||ht},xe);return g&&!fe||lt[N]===Se||E(lt,N,Se,{name:W}),a[ee]=Se,xe}},7657:function(o,c,n){"use strict";var u,p,g,m=n(9039),y=n(4901),x=n(34),w=n(2360),k=n(2787),S=n(6840),P=n(8227),E=n(6395),O=P("iterator"),a=!1;[].keys&&("next"in(g=[].keys())?(p=k(k(g)))!==Object.prototype&&(u=p):a=!0),!x(u)||m(function(){var h={};return u[O].call(h)!==h})?u={}:E&&(u=w(u)),y(u[O])||S(u,O,function(){return this}),o.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:a}},6269:function(o){"use strict";o.exports={}},6198:function(o,c,n){"use strict";var u=n(8014);o.exports=function(p){return u(p.length)}},283:function(o,c,n){"use strict";var u=n(9504),p=n(9039),g=n(4901),m=n(9297),y=n(3724),x=n(350).CONFIGURABLE,w=n(3706),k=n(1181),S=k.enforce,P=k.get,E=String,O=Object.defineProperty,a=u("".slice),h=u("".replace),v=u([].join),d=y&&!p(function(){return O(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),C=o.exports=function(N,G,q){a(E(G),0,7)==="Symbol("&&(G="["+h(E(G),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),q&&q.getter&&(G="get "+G),q&&q.setter&&(G="set "+G),(!m(N,"name")||x&&N.name!==G)&&(y?O(N,"name",{value:G,configurable:!0}):N.name=G),d&&q&&m(q,"arity")&&N.length!==q.arity&&O(N,"length",{value:q.arity});try{q&&m(q,"constructor")&&q.constructor?y&&O(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch(ne){}var K=S(N);return m(K,"source")||(K.source=v(_,typeof G=="string"?G:"")),N};Function.prototype.toString=C(function(){return g(this)&&P(this).source||w(this)},"toString")},7782:function(o){"use strict";o.exports=Math.sign||function(c){var n=+c;return n===0||n!=n?n:n<0?-1:1}},741:function(o){"use strict";var c=Math.ceil,n=Math.floor;o.exports=Math.trunc||function(u){var p=+u;return(p>0?n:c)(p)}},1955:function(o,c,n){"use strict";var u,p,g,m,y,x=n(4576),w=n(3389),k=n(6080),S=n(9225).set,P=n(8265),E=n(9544),O=n(4265),a=n(7860),h=n(6193),v=x.MutationObserver||x.WebKitMutationObserver,d=x.document,_=x.process,C=x.Promise,N=w("queueMicrotask");if(!N){var G=new P,q=function(){var K,ne;for(h&&(K=_.domain)&&K.exit();ne=G.get();)try{ne()}catch(Q){throw G.head&&u(),Q}K&&K.enter()};E||h||a||!v||!d?!O&&C&&C.resolve?((m=C.resolve(void 0)).constructor=C,y=k(m.then,m),u=function(){y(q)}):h?u=function(){_.nextTick(q)}:(S=k(S,x),u=function(){S(q)}):(p=!0,g=d.createTextNode(""),new v(q).observe(g,{characterData:!0}),u=function(){g.data=p=!p}),N=function(K){G.head||u(),G.add(K)}}o.exports=N},6043:function(o,c,n){"use strict";var u=n(9306),p=TypeError,g=function(m){var y,x;this.promise=new m(function(w,k){if(y!==void 0||x!==void 0)throw new p("Bad Promise constructor");y=w,x=k}),this.resolve=u(y),this.reject=u(x)};o.exports.f=function(m){return new g(m)}},2892:function(o,c,n){"use strict";var u=n(788),p=TypeError;o.exports=function(g){if(u(g))throw new p("The method doesn't accept regular expressions");return g}},3904:function(o,c,n){"use strict";var u=n(4576),p=n(9039),g=n(9504),m=n(655),y=n(3802).trim,x=n(7452),w=g("".charAt),k=u.parseFloat,S=u.Symbol,P=S&&S.iterator,E=1/k(x+"-0")!=-1/0||P&&!p(function(){k(Object(P))});o.exports=E?function(O){var a=y(m(O)),h=k(a);return h===0&&w(a,0)==="-"?-0:h}:k},2703:function(o,c,n){"use strict";var u=n(4576),p=n(9039),g=n(9504),m=n(655),y=n(3802).trim,x=n(7452),w=u.parseInt,k=u.Symbol,S=k&&k.iterator,P=/^[+-]?0x/i,E=g(P.exec),O=w(x+"08")!==8||w(x+"0x16")!==22||S&&!p(function(){w(Object(S))});o.exports=O?function(a,h){var v=y(m(a));return w(v,h>>>0||(E(P,v)?16:10))}:w},4213:function(o,c,n){"use strict";var u=n(3724),p=n(9504),g=n(9565),m=n(9039),y=n(1072),x=n(3717),w=n(8773),k=n(8981),S=n(7055),P=Object.assign,E=Object.defineProperty,O=p([].concat);o.exports=!P||m(function(){if(u&&P({b:1},P(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},h={},v=Symbol("assign detection"),d="abcdefghijklmnopqrst";return a[v]=7,d.split("").forEach(function(_){h[_]=_}),P({},a)[v]!==7||y(P({},h)).join("")!==d})?function(a,h){for(var v=k(a),d=arguments.length,_=1,C=x.f,N=w.f;d>_;)for(var G,q=S(arguments[_++]),K=C?O(y(q),C(q)):y(q),ne=K.length,Q=0;ne>Q;)G=K[Q++],u&&!g(N,q,G)||(v[G]=q[G]);return v}:P},2360:function(o,c,n){"use strict";var u,p=n(8551),g=n(6801),m=n(8727),y=n(421),x=n(397),w=n(4055),k=n(6119),S="prototype",P="script",E=k("IE_PROTO"),O=function(){},a=function(d){return"<"+P+">"+d+"</"+P+">"},h=function(d){d.write(a("")),d.close();var _=d.parentWindow.Object;return d=null,_},v=function(){try{u=new ActiveXObject("htmlfile")}catch(G){}var d,_,C;v=typeof document<"u"?document.domain&&u?h(u):(_=w("iframe"),C="java"+P+":",_.style.display="none",x.appendChild(_),_.src=String(C),(d=_.contentWindow.document).open(),d.write(a("document.F=Object")),d.close(),d.F):h(u);for(var N=m.length;N--;)delete v[S][m[N]];return v()};y[E]=!0,o.exports=Object.create||function(d,_){var C;return d!==null?(O[S]=p(d),C=new O,O[S]=null,C[E]=d):C=v(),_===void 0?C:g.f(C,_)}},6801:function(o,c,n){"use strict";var u=n(3724),p=n(8686),g=n(4913),m=n(8551),y=n(5397),x=n(1072);c.f=u&&!p?Object.defineProperties:function(w,k){m(w);for(var S,P=y(k),E=x(k),O=E.length,a=0;O>a;)g.f(w,S=E[a++],P[S]);return w}},4913:function(o,c,n){"use strict";var u=n(3724),p=n(5917),g=n(8686),m=n(8551),y=n(6969),x=TypeError,w=Object.defineProperty,k=Object.getOwnPropertyDescriptor,S="enumerable",P="configurable",E="writable";c.f=u?g?function(O,a,h){if(m(O),a=y(a),m(h),typeof O=="function"&&a==="prototype"&&"value"in h&&E in h&&!h[E]){var v=k(O,a);v&&v[E]&&(O[a]=h.value,h={configurable:P in h?h[P]:v[P],enumerable:S in h?h[S]:v[S],writable:!1})}return w(O,a,h)}:w:function(O,a,h){if(m(O),a=y(a),m(h),p)try{return w(O,a,h)}catch(v){}if("get"in h||"set"in h)throw new x("Accessors not supported");return"value"in h&&(O[a]=h.value),O}},7347:function(o,c,n){"use strict";var u=n(3724),p=n(9565),g=n(8773),m=n(6980),y=n(5397),x=n(6969),w=n(9297),k=n(5917),S=Object.getOwnPropertyDescriptor;c.f=u?S:function(P,E){if(P=y(P),E=x(E),k)try{return S(P,E)}catch(O){}if(w(P,E))return m(!p(g.f,P,E),P[E])}},298:function(o,c,n){"use strict";var u=n(2195),p=n(5397),g=n(8480).f,m=n(7680),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(x){return y&&u(x)==="Window"?function(w){try{return g(w)}catch(k){return m(y)}}(x):g(p(x))}},8480:function(o,c,n){"use strict";var u=n(1828),p=n(8727).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(g){return u(g,p)}},3717:function(o,c){"use strict";c.f=Object.getOwnPropertySymbols},2787:function(o,c,n){"use strict";var u=n(9297),p=n(4901),g=n(8981),m=n(6119),y=n(2211),x=m("IE_PROTO"),w=Object,k=w.prototype;o.exports=y?w.getPrototypeOf:function(S){var P=g(S);if(u(P,x))return P[x];var E=P.constructor;return p(E)&&P instanceof E?E.prototype:P instanceof w?k:null}},4124:function(o,c,n){"use strict";var u=n(9039),p=n(34),g=n(2195),m=n(5652),y=Object.isExtensible,x=u(function(){y(1)});o.exports=x||m?function(w){return!!p(w)&&(!m||g(w)!=="ArrayBuffer")&&(!y||y(w))}:y},1625:function(o,c,n){"use strict";var u=n(9504);o.exports=u({}.isPrototypeOf)},1828:function(o,c,n){"use strict";var u=n(9504),p=n(9297),g=n(5397),m=n(9617).indexOf,y=n(421),x=u([].push);o.exports=function(w,k){var S,P=g(w),E=0,O=[];for(S in P)!p(y,S)&&p(P,S)&&x(O,S);for(;k.length>E;)p(P,S=k[E++])&&(~m(O,S)||x(O,S));return O}},1072:function(o,c,n){"use strict";var u=n(1828),p=n(8727);o.exports=Object.keys||function(g){return u(g,p)}},8773:function(o,c){"use strict";var n={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,p=u&&!n.call({1:2},1);c.f=p?function(g){var m=u(this,g);return!!m&&m.enumerable}:n},2967:function(o,c,n){"use strict";var u=n(6706),p=n(34),g=n(7750),m=n(3506);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,x=!1,w={};try{(y=u(Object.prototype,"__proto__","set"))(w,[]),x=w instanceof Array}catch(k){}return function(k,S){return g(k),m(S),p(k)&&(x?y(k,S):k.__proto__=S),k}}():void 0)},2357:function(o,c,n){"use strict";var u=n(3724),p=n(9039),g=n(9504),m=n(2787),y=n(1072),x=n(5397),w=g(n(8773).f),k=g([].push),S=u&&p(function(){var E=Object.create(null);return E[2]=2,!w(E,2)}),P=function(E){return function(O){for(var a,h=x(O),v=y(h),d=S&&m(h)===null,_=v.length,C=0,N=[];_>C;)a=v[C++],u&&!(d?a in h:w(h,a))||k(N,E?[a,h[a]]:h[a]);return N}};o.exports={entries:P(!0),values:P(!1)}},3179:function(o,c,n){"use strict";var u=n(2140),p=n(6955);o.exports=u?{}.toString:function(){return"[object "+p(this)+"]"}},4270:function(o,c,n){"use strict";var u=n(9565),p=n(4901),g=n(34),m=TypeError;o.exports=function(y,x){var w,k;if(x==="string"&&p(w=y.toString)&&!g(k=u(w,y))||p(w=y.valueOf)&&!g(k=u(w,y))||x!=="string"&&p(w=y.toString)&&!g(k=u(w,y)))return k;throw new m("Can't convert object to primitive value")}},5031:function(o,c,n){"use strict";var u=n(7751),p=n(9504),g=n(8480),m=n(3717),y=n(8551),x=p([].concat);o.exports=u("Reflect","ownKeys")||function(w){var k=g.f(y(w)),S=m.f;return S?x(k,S(w)):k}},9167:function(o,c,n){"use strict";var u=n(4576);o.exports=u},1103:function(o){"use strict";o.exports=function(c){try{return{error:!1,value:c()}}catch(n){return{error:!0,value:n}}}},916:function(o,c,n){"use strict";var u=n(4576),p=n(550),g=n(4901),m=n(2796),y=n(3706),x=n(8227),w=n(4215),k=n(6395),S=n(9519),P=p&&p.prototype,E=x("species"),O=!1,a=g(u.PromiseRejectionEvent),h=m("Promise",function(){var v=y(p),d=v!==String(p);if(!d&&S===66||k&&(!P.catch||!P.finally))return!0;if(!S||S<51||!/native code/.test(v)){var _=new p(function(N){N(1)}),C=function(N){N(function(){},function(){})};if((_.constructor={})[E]=C,!(O=_.then(function(){})instanceof C))return!0}return!(d||w!=="BROWSER"&&w!=="DENO"||a)});o.exports={CONSTRUCTOR:h,REJECTION_EVENT:a,SUBCLASSING:O}},550:function(o,c,n){"use strict";var u=n(4576);o.exports=u.Promise},3438:function(o,c,n){"use strict";var u=n(8551),p=n(34),g=n(6043);o.exports=function(m,y){if(u(m),p(y)&&y.constructor===m)return y;var x=g.f(m);return(0,x.resolve)(y),x.promise}},537:function(o,c,n){"use strict";var u=n(550),p=n(4428),g=n(916).CONSTRUCTOR;o.exports=g||!p(function(m){u.all(m).then(void 0,function(){})})},1056:function(o,c,n){"use strict";var u=n(4913).f;o.exports=function(p,g,m){m in p||u(p,m,{configurable:!0,get:function(){return g[m]},set:function(y){g[m]=y}})}},8265:function(o){"use strict";var c=function(){this.head=null,this.tail=null};c.prototype={add:function(n){var u={item:n,next:null},p=this.tail;p?p.next=u:this.head=u,this.tail=u},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},o.exports=c},6682:function(o,c,n){"use strict";var u=n(9565),p=n(8551),g=n(4901),m=n(2195),y=n(7323),x=TypeError;o.exports=function(w,k){var S=w.exec;if(g(S)){var P=u(S,w,k);return P!==null&&p(P),P}if(m(w)==="RegExp")return u(y,w,k);throw new x("RegExp#exec called on incompatible receiver")}},7323:function(o,c,n){"use strict";var u,p,g=n(9565),m=n(9504),y=n(655),x=n(7979),w=n(8429),k=n(5745),S=n(2360),P=n(1181).get,E=n(3635),O=n(8814),a=k("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,v=h,d=m("".charAt),_=m("".indexOf),C=m("".replace),N=m("".slice),G=(p=/b*/g,g(h,u=/a/,"a"),g(h,p,"a"),u.lastIndex!==0||p.lastIndex!==0),q=w.BROKEN_CARET,K=/()??/.exec("")[1]!==void 0;(G||K||q||E||O)&&(v=function(ne){var Q,ee,Me,pe,W,oe,fe,Z=this,xe=P(Z),Y=y(ne),he=xe.raw;if(he)return he.lastIndex=Z.lastIndex,Q=g(v,he,Y),Z.lastIndex=he.lastIndex,Q;var Ke=xe.groups,ht=q&&Z.sticky,lt=g(x,Z),We=Z.source,Se=0,Le=Y;if(ht&&(lt=C(lt,"y",""),_(lt,"g")===-1&&(lt+="g"),Le=N(Y,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&d(Y,Z.lastIndex-1)!==`
`)&&(We="(?: "+We+")",Le=" "+Le,Se++),ee=new RegExp("^(?:"+We+")",lt)),K&&(ee=new RegExp("^"+We+"$(?!\\s)",lt)),G&&(Me=Z.lastIndex),pe=g(h,ht?ee:Z,Le),ht?pe?(pe.input=N(pe.input,Se),pe[0]=N(pe[0],Se),pe.index=Z.lastIndex,Z.lastIndex+=pe[0].length):Z.lastIndex=0:G&&pe&&(Z.lastIndex=Z.global?pe.index+pe[0].length:Me),K&&pe&&pe.length>1&&g(a,pe[0],ee,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(pe[W]=void 0)}),pe&&Ke)for(pe.groups=oe=S(null),W=0;W<Ke.length;W++)oe[(fe=Ke[W])[0]]=pe[fe[1]];return pe}),o.exports=v},7979:function(o,c,n){"use strict";var u=n(8551);o.exports=function(){var p=u(this),g="";return p.hasIndices&&(g+="d"),p.global&&(g+="g"),p.ignoreCase&&(g+="i"),p.multiline&&(g+="m"),p.dotAll&&(g+="s"),p.unicode&&(g+="u"),p.unicodeSets&&(g+="v"),p.sticky&&(g+="y"),g}},1034:function(o,c,n){"use strict";var u=n(9565),p=n(9297),g=n(1625),m=n(7979),y=RegExp.prototype;o.exports=function(x){var w=x.flags;return w!==void 0||"flags"in y||p(x,"flags")||!g(y,x)?w:u(m,x)}},8429:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp,g=u(function(){var x=p("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),m=g||u(function(){return!p("a","y").sticky}),y=g||u(function(){var x=p("^r","gy");return x.lastIndex=2,x.exec("str")!==null});o.exports={BROKEN_CARET:y,MISSED_STICKY:m,UNSUPPORTED_Y:g}},3635:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp;o.exports=u(function(){var g=p(".","s");return!(g.dotAll&&g.test(`
`)&&g.flags==="s")})},8814:function(o,c,n){"use strict";var u=n(9039),p=n(4576).RegExp;o.exports=u(function(){var g=p("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},7750:function(o,c,n){"use strict";var u=n(4117),p=TypeError;o.exports=function(g){if(u(g))throw new p("Can't call method on "+g);return g}},3389:function(o,c,n){"use strict";var u=n(4576),p=n(3724),g=Object.getOwnPropertyDescriptor;o.exports=function(m){if(!p)return u[m];var y=g(u,m);return y&&y.value}},3470:function(o){"use strict";o.exports=Object.is||function(c,n){return c===n?c!==0||1/c==1/n:c!=c&&n!=n}},7633:function(o,c,n){"use strict";var u=n(7751),p=n(2106),g=n(8227),m=n(3724),y=g("species");o.exports=function(x){var w=u(x);m&&w&&!w[y]&&p(w,y,{configurable:!0,get:function(){return this}})}},687:function(o,c,n){"use strict";var u=n(4913).f,p=n(9297),g=n(8227)("toStringTag");o.exports=function(m,y,x){m&&!x&&(m=m.prototype),m&&!p(m,g)&&u(m,g,{configurable:!0,value:y})}},6119:function(o,c,n){"use strict";var u=n(5745),p=n(3392),g=u("keys");o.exports=function(m){return g[m]||(g[m]=p(m))}},7629:function(o,c,n){"use strict";var u=n(6395),p=n(4576),g=n(9433),m="__core-js_shared__",y=o.exports=p[m]||g(m,{});(y.versions||(y.versions=[])).push({version:"3.38.1",mode:u?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(o,c,n){"use strict";var u=n(7629);o.exports=function(p,g){return u[p]||(u[p]=g||{})}},2293:function(o,c,n){"use strict";var u=n(8551),p=n(5548),g=n(4117),m=n(8227)("species");o.exports=function(y,x){var w,k=u(y).constructor;return k===void 0||g(w=u(k)[m])?x:p(w)}},8183:function(o,c,n){"use strict";var u=n(9504),p=n(1291),g=n(655),m=n(7750),y=u("".charAt),x=u("".charCodeAt),w=u("".slice),k=function(S){return function(P,E){var O,a,h=g(m(P)),v=p(E),d=h.length;return v<0||v>=d?S?"":void 0:(O=x(h,v))<55296||O>56319||v+1===d||(a=x(h,v+1))<56320||a>57343?S?y(h,v):O:S?w(h,v,v+2):a-56320+(O-55296<<10)+65536}};o.exports={codeAt:k(!1),charAt:k(!0)}},3802:function(o,c,n){"use strict";var u=n(9504),p=n(7750),g=n(655),m=n(7452),y=u("".replace),x=RegExp("^["+m+"]+"),w=RegExp("(^|[^"+m+"])["+m+"]+$"),k=function(S){return function(P){var E=g(p(P));return 1&S&&(E=y(E,x,"")),2&S&&(E=y(E,w,"$1")),E}};o.exports={start:k(1),end:k(2),trim:k(3)}},4495:function(o,c,n){"use strict";var u=n(9519),p=n(9039),g=n(4576).String;o.exports=!!Object.getOwnPropertySymbols&&!p(function(){var m=Symbol("symbol detection");return!g(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(o,c,n){"use strict";var u=n(9565),p=n(7751),g=n(8227),m=n(6840);o.exports=function(){var y=p("Symbol"),x=y&&y.prototype,w=x&&x.valueOf,k=g("toPrimitive");x&&!x[k]&&m(x,k,function(S){return u(w,this)},{arity:1})}},1296:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!!Symbol.for&&!!Symbol.keyFor},9225:function(o,c,n){"use strict";var u,p,g,m,y=n(4576),x=n(8745),w=n(6080),k=n(4901),S=n(9297),P=n(9039),E=n(397),O=n(7680),a=n(4055),h=n(2812),v=n(9544),d=n(6193),_=y.setImmediate,C=y.clearImmediate,N=y.process,G=y.Dispatch,q=y.Function,K=y.MessageChannel,ne=y.String,Q=0,ee={},Me="onreadystatechange";P(function(){u=y.location});var pe=function(Z){if(S(ee,Z)){var xe=ee[Z];delete ee[Z],xe()}},W=function(Z){return function(){pe(Z)}},oe=function(Z){pe(Z.data)},fe=function(Z){y.postMessage(ne(Z),u.protocol+"//"+u.host)};_&&C||(_=function(Z){h(arguments.length,1);var xe=k(Z)?Z:q(Z),Y=O(arguments,1);return ee[++Q]=function(){x(xe,void 0,Y)},p(Q),Q},C=function(Z){delete ee[Z]},d?p=function(Z){N.nextTick(W(Z))}:G&&G.now?p=function(Z){G.now(W(Z))}:K&&!v?(m=(g=new K).port2,g.port1.onmessage=oe,p=w(m.postMessage,m)):y.addEventListener&&k(y.postMessage)&&!y.importScripts&&u&&u.protocol!=="file:"&&!P(fe)?(p=fe,y.addEventListener("message",oe,!1)):p=Me in a("script")?function(Z){E.appendChild(a("script"))[Me]=function(){E.removeChild(this),pe(Z)}}:function(Z){setTimeout(W(Z),0)}),o.exports={set:_,clear:C}},1240:function(o,c,n){"use strict";var u=n(9504);o.exports=u(1 .valueOf)},5610:function(o,c,n){"use strict";var u=n(1291),p=Math.max,g=Math.min;o.exports=function(m,y){var x=u(m);return x<0?p(x+y,0):g(x,y)}},5397:function(o,c,n){"use strict";var u=n(7055),p=n(7750);o.exports=function(g){return u(p(g))}},1291:function(o,c,n){"use strict";var u=n(741);o.exports=function(p){var g=+p;return g!=g||g===0?0:u(g)}},8014:function(o,c,n){"use strict";var u=n(1291),p=Math.min;o.exports=function(g){var m=u(g);return m>0?p(m,9007199254740991):0}},8981:function(o,c,n){"use strict";var u=n(7750),p=Object;o.exports=function(g){return p(u(g))}},2777:function(o,c,n){"use strict";var u=n(9565),p=n(34),g=n(757),m=n(5966),y=n(4270),x=n(8227),w=TypeError,k=x("toPrimitive");o.exports=function(S,P){if(!p(S)||g(S))return S;var E,O=m(S,k);if(O){if(P===void 0&&(P="default"),E=u(O,S,P),!p(E)||g(E))return E;throw new w("Can't convert object to primitive value")}return P===void 0&&(P="number"),y(S,P)}},6969:function(o,c,n){"use strict";var u=n(2777),p=n(757);o.exports=function(g){var m=u(g,"string");return p(m)?m:m+""}},2140:function(o,c,n){"use strict";var u={};u[n(8227)("toStringTag")]="z",o.exports=String(u)==="[object z]"},655:function(o,c,n){"use strict";var u=n(6955),p=String;o.exports=function(g){if(u(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return p(g)}},6823:function(o){"use strict";var c=String;o.exports=function(n){try{return c(n)}catch(u){return"Object"}}},3392:function(o,c,n){"use strict";var u=n(9504),p=0,g=Math.random(),m=u(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+m(++p+g,36)}},7416:function(o,c,n){"use strict";var u=n(9039),p=n(8227),g=n(3724),m=n(6395),y=p("iterator");o.exports=!u(function(){var x=new URL("b?a=1&b=2&c=3","https://a"),w=x.searchParams,k=new URLSearchParams("a=1&a=2&b=3"),S="";return x.pathname="c%20d",w.forEach(function(P,E){w.delete("b"),S+=E+P}),k.delete("a",2),k.delete("b",void 0),m&&(!x.toJSON||!k.has("a",1)||k.has("a",2)||!k.has("a",void 0)||k.has("b"))||!w.size&&(m||!g)||!w.sort||x.href!=="https://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[y]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||S!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7040:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(o,c,n){"use strict";var u=n(3724),p=n(9039);o.exports=u&&p(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:function(o){"use strict";var c=TypeError;o.exports=function(n,u){if(n<u)throw new c("Not enough arguments");return n}},8622:function(o,c,n){"use strict";var u=n(4576),p=n(4901),g=u.WeakMap;o.exports=p(g)&&/native code/.test(String(g))},511:function(o,c,n){"use strict";var u=n(9167),p=n(9297),g=n(1951),m=n(4913).f;o.exports=function(y){var x=u.Symbol||(u.Symbol={});p(x,y)||m(x,y,{value:g.f(y)})}},1951:function(o,c,n){"use strict";var u=n(8227);c.f=u},8227:function(o,c,n){"use strict";var u=n(4576),p=n(5745),g=n(9297),m=n(3392),y=n(4495),x=n(7040),w=u.Symbol,k=p("wks"),S=x?w.for||w:w&&w.withoutSetter||m;o.exports=function(P){return g(k,P)||(k[P]=y&&g(w,P)?w[P]:S("Symbol."+P)),k[P]}},7452:function(o){"use strict";o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},8706:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(4376),m=n(34),y=n(8981),x=n(6198),w=n(6837),k=n(4659),S=n(1469),P=n(597),E=n(8227),O=n(9519),a=E("isConcatSpreadable"),h=O>=51||!p(function(){var d=[];return d[a]=!1,d.concat()[0]!==d}),v=function(d){if(!m(d))return!1;var _=d[a];return _!==void 0?!!_:g(d)};u({target:"Array",proto:!0,arity:1,forced:!h||!P("concat")},{concat:function(d){var _,C,N,G,q,K=y(this),ne=S(K,0),Q=0;for(_=-1,N=arguments.length;_<N;_++)if(v(q=_===-1?K:arguments[_]))for(G=x(q),w(Q+G),C=0;C<G;C++,Q++)C in q&&k(ne,Q,q[C]);else w(Q+1),k(ne,Q++,q);return ne.length=Q,ne}})},3771:function(o,c,n){"use strict";var u=n(6518),p=n(4373),g=n(6469);u({target:"Array",proto:!0},{fill:p}),g("fill")},2008:function(o,c,n){"use strict";var u=n(6518),p=n(9213).filter;u({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}})},8980:function(o,c,n){"use strict";var u=n(6518),p=n(9213).findIndex,g=n(6469),m="findIndex",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{findIndex:function(x){return p(this,x,arguments.length>1?arguments[1]:void 0)}}),g(m)},113:function(o,c,n){"use strict";var u=n(6518),p=n(9213).find,g=n(6469),m="find",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{find:function(x){return p(this,x,arguments.length>1?arguments[1]:void 0)}}),g(m)},8350:function(o,c,n){"use strict";var u=n(6518),p=n(259),g=n(9306),m=n(8981),y=n(6198),x=n(1469);u({target:"Array",proto:!0},{flatMap:function(w){var k,S=m(this),P=y(S);return g(w),(k=x(S,0)).length=p(k,S,S,P,0,1,w,arguments.length>1?arguments[1]:void 0),k}})},6449:function(o,c,n){"use strict";var u=n(6518),p=n(259),g=n(8981),m=n(6198),y=n(1291),x=n(1469);u({target:"Array",proto:!0},{flat:function(){var w=arguments.length?arguments[0]:void 0,k=g(this),S=m(k),P=x(k,0);return P.length=p(P,k,k,S,0,w===void 0?1:y(w)),P}})},3418:function(o,c,n){"use strict";var u=n(6518),p=n(7916);u({target:"Array",stat:!0,forced:!n(4428)(function(g){Array.from(g)})},{from:p})},4423:function(o,c,n){"use strict";var u=n(6518),p=n(9617).includes,g=n(9039),m=n(6469);u({target:"Array",proto:!0,forced:g(function(){return!Array(1).includes()})},{includes:function(y){return p(this,y,arguments.length>1?arguments[1]:void 0)}}),m("includes")},3792:function(o,c,n){"use strict";var u=n(5397),p=n(6469),g=n(6269),m=n(1181),y=n(4913).f,x=n(1088),w=n(2529),k=n(6395),S=n(3724),P="Array Iterator",E=m.set,O=m.getterFor(P);o.exports=x(Array,"Array",function(h,v){E(this,{type:P,target:u(h),index:0,kind:v})},function(){var h=O(this),v=h.target,d=h.index++;if(!v||d>=v.length)return h.target=null,w(void 0,!0);switch(h.kind){case"keys":return w(d,!1);case"values":return w(v[d],!1)}return w([d,v[d]],!1)},"values");var a=g.Arguments=g.Array;if(p("keys"),p("values"),p("entries"),!k&&S&&a.name!=="values")try{y(a,"name",{value:"values"})}catch(h){}},8598:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(7055),m=n(5397),y=n(4598),x=p([].join);u({target:"Array",proto:!0,forced:g!==Object||!y("join",",")},{join:function(w){return x(m(this),w===void 0?",":w)}})},2062:function(o,c,n){"use strict";var u=n(6518),p=n(9213).map;u({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(g){return p(this,g,arguments.length>1?arguments[1]:void 0)}})},2712:function(o,c,n){"use strict";var u=n(6518),p=n(926).left,g=n(4598),m=n(9519);u({target:"Array",proto:!0,forced:!n(6193)&&m>79&&m<83||!g("reduce")},{reduce:function(y){var x=arguments.length;return p(this,y,x,x>1?arguments[1]:void 0)}})},4490:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(4376),m=p([].reverse),y=[1,2];u({target:"Array",proto:!0,forced:String(y)===String(y.reverse())},{reverse:function(){return g(this)&&(this.length=this.length),m(this)}})},4782:function(o,c,n){"use strict";var u=n(6518),p=n(4376),g=n(3517),m=n(34),y=n(5610),x=n(6198),w=n(5397),k=n(4659),S=n(8227),P=n(597),E=n(7680),O=P("slice"),a=S("species"),h=Array,v=Math.max;u({target:"Array",proto:!0,forced:!O},{slice:function(d,_){var C,N,G,q=w(this),K=x(q),ne=y(d,K),Q=y(_===void 0?K:_,K);if(p(q)&&(C=q.constructor,(g(C)&&(C===h||p(C.prototype))||m(C)&&(C=C[a])===null)&&(C=void 0),C===h||C===void 0))return E(q,ne,Q);for(N=new(C===void 0?h:C)(v(Q-ne,0)),G=0;ne<Q;ne++,G++)ne in q&&k(N,G,q[ne]);return N.length=G,N}})},6910:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(9306),m=n(8981),y=n(6198),x=n(4606),w=n(655),k=n(9039),S=n(4488),P=n(4598),E=n(3709),O=n(3763),a=n(9519),h=n(3607),v=[],d=p(v.sort),_=p(v.push),C=k(function(){v.sort(void 0)}),N=k(function(){v.sort(null)}),G=P("sort"),q=!k(function(){if(a)return a<70;if(!(E&&E>3)){if(O)return!0;if(h)return h<603;var K,ne,Q,ee,Me="";for(K=65;K<76;K++){switch(ne=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:Q=3;break;case 68:case 71:Q=4;break;default:Q=2}for(ee=0;ee<47;ee++)v.push({k:ne+ee,v:Q})}for(v.sort(function(pe,W){return W.v-pe.v}),ee=0;ee<v.length;ee++)ne=v[ee].k.charAt(0),Me.charAt(Me.length-1)!==ne&&(Me+=ne);return Me!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:C||!N||!G||!q},{sort:function(K){K!==void 0&&g(K);var ne=m(this);if(q)return K===void 0?d(ne):d(ne,K);var Q,ee,Me=[],pe=y(ne);for(ee=0;ee<pe;ee++)ee in ne&&_(Me,ne[ee]);for(S(Me,function(W){return function(oe,fe){return fe===void 0?-1:oe===void 0?1:W!==void 0?+W(oe,fe)||0:w(oe)>w(fe)?1:-1}}(K)),Q=y(Me),ee=0;ee<Q;)ne[ee]=Me[ee++];for(;ee<pe;)x(ne,ee++);return ne}})},4554:function(o,c,n){"use strict";var u=n(6518),p=n(8981),g=n(5610),m=n(1291),y=n(6198),x=n(4527),w=n(6837),k=n(1469),S=n(4659),P=n(4606),E=n(597)("splice"),O=Math.max,a=Math.min;u({target:"Array",proto:!0,forced:!E},{splice:function(h,v){var d,_,C,N,G,q,K=p(this),ne=y(K),Q=g(h,ne),ee=arguments.length;for(ee===0?d=_=0:ee===1?(d=0,_=ne-Q):(d=ee-2,_=a(O(m(v),0),ne-Q)),w(ne+d-_),C=k(K,_),N=0;N<_;N++)(G=Q+N)in K&&S(C,N,K[G]);if(C.length=_,d<_){for(N=Q;N<ne-_;N++)q=N+d,(G=N+_)in K?K[q]=K[G]:P(K,q);for(N=ne;N>ne-_+d;N--)P(K,N-1)}else if(d>_)for(N=ne-_;N>Q;N--)q=N+d-1,(G=N+_-1)in K?K[q]=K[G]:P(K,q);for(N=0;N<d;N++)K[N+Q]=arguments[N+2];return x(K,ne-_+d),C}})},237:function(o,c,n){"use strict";n(6469)("flatMap")},3514:function(o,c,n){"use strict";n(6469)("flat")},739:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(8981),m=n(2777);u({target:"Date",proto:!0,arity:1,forced:p(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(y){var x=g(this),w=m(x,"number");return typeof w!="number"||isFinite(w)?x.toISOString():null}})},9572:function(o,c,n){"use strict";var u=n(9297),p=n(6840),g=n(3640),m=n(8227)("toPrimitive"),y=Date.prototype;u(y,m)||p(y,m,g)},2010:function(o,c,n){"use strict";var u=n(3724),p=n(350).EXISTS,g=n(9504),m=n(2106),y=Function.prototype,x=g(y.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=g(w.exec);u&&!p&&m(y,"name",{configurable:!0,get:function(){try{return k(w,x(this))[1]}catch(S){return""}}})},5081:function(o,c,n){"use strict";var u=n(6518),p=n(4576);u({global:!0,forced:p.globalThis!==p},{globalThis:p})},3110:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(8745),m=n(9565),y=n(9504),x=n(9039),w=n(4901),k=n(757),S=n(7680),P=n(6933),E=n(4495),O=String,a=p("JSON","stringify"),h=y(/./.exec),v=y("".charAt),d=y("".charCodeAt),_=y("".replace),C=y(1 .toString),N=/[\uD800-\uDFFF]/g,G=/^[\uD800-\uDBFF]$/,q=/^[\uDC00-\uDFFF]$/,K=!E||x(function(){var Me=p("Symbol")("stringify detection");return a([Me])!=="[null]"||a({a:Me})!=="{}"||a(Object(Me))!=="{}"}),ne=x(function(){return a("\uDF06\uD834")!=='"\\udf06\\ud834"'||a("\uDEAD")!=='"\\udead"'}),Q=function(Me,pe){var W=S(arguments),oe=P(pe);if(w(oe)||Me!==void 0&&!k(Me))return W[1]=function(fe,Z){if(w(oe)&&(Z=m(oe,this,O(fe),Z)),!k(Z))return Z},g(a,null,W)},ee=function(Me,pe,W){var oe=v(W,pe-1),fe=v(W,pe+1);return h(G,Me)&&!h(q,fe)||h(q,Me)&&!h(G,oe)?"\\u"+C(d(Me,0),16):Me};a&&u({target:"JSON",stat:!0,arity:3,forced:K||ne},{stringify:function(Me,pe,W){var oe=S(arguments),fe=g(K?Q:a,null,oe);return ne&&typeof fe=="string"?_(fe,N,ee):fe}})},4731:function(o,c,n){"use strict";var u=n(4576);n(687)(u.JSON,"JSON",!0)},8523:function(o,c,n){"use strict";n(6468)("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},6033:function(o,c,n){"use strict";n(8523)},1367:function(o,c,n){"use strict";var u=n(6518),p=Math.log,g=Math.LN2;u({target:"Math",stat:!0},{log2:function(m){return p(m)/g}})},5914:function(o,c,n){"use strict";n(6518)({target:"Math",stat:!0},{sign:n(7782)})},479:function(o,c,n){"use strict";n(687)(Math,"Math",!0)},8130:function(o,c,n){"use strict";var u=n(6518),p=n(6395),g=n(3724),m=n(4576),y=n(9167),x=n(9504),w=n(2796),k=n(9297),S=n(3167),P=n(1625),E=n(757),O=n(2777),a=n(9039),h=n(8480).f,v=n(7347).f,d=n(4913).f,_=n(1240),C=n(3802).trim,N="Number",G=m[N],q=y[N],K=G.prototype,ne=m.TypeError,Q=x("".slice),ee=x("".charCodeAt),Me=w(N,!G(" 0o1")||!G("0b1")||G("+0x1")),pe=function(oe){var fe,Z=arguments.length<1?0:G(function(xe){var Y=O(xe,"number");return typeof Y=="bigint"?Y:function(he){var Ke,ht,lt,We,Se,Le,je,Ne,Ge=O(he,"number");if(E(Ge))throw new ne("Cannot convert a Symbol value to a number");if(typeof Ge=="string"&&Ge.length>2){if(Ge=C(Ge),(Ke=ee(Ge,0))===43||Ke===45){if((ht=ee(Ge,2))===88||ht===120)return NaN}else if(Ke===48){switch(ee(Ge,1)){case 66:case 98:lt=2,We=49;break;case 79:case 111:lt=8,We=55;break;default:return+Ge}for(Le=(Se=Q(Ge,2)).length,je=0;je<Le;je++)if((Ne=ee(Se,je))<48||Ne>We)return NaN;return parseInt(Se,lt)}}return+Ge}(Y)}(oe));return P(K,fe=this)&&a(function(){_(fe)})?S(Object(Z),this,pe):Z};pe.prototype=K,Me&&!p&&(K.constructor=pe),u({global:!0,constructor:!0,wrap:!0,forced:Me},{Number:pe});var W=function(oe,fe){for(var Z,xe=g?h(fe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Y=0;xe.length>Y;Y++)k(fe,Z=xe[Y])&&!k(oe,Z)&&d(oe,Z,v(fe,Z))};p&&q&&W(y[N],q),(Me||p)&&W(y[N],G)},9085:function(o,c,n){"use strict";var u=n(6518),p=n(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==p},{assign:p})},5506:function(o,c,n){"use strict";var u=n(6518),p=n(2357).entries;u({target:"Object",stat:!0},{entries:function(g){return p(g)}})},2811:function(o,c,n){"use strict";var u=n(6518),p=n(2744),g=n(9039),m=n(34),y=n(3451).onFreeze,x=Object.freeze;u({target:"Object",stat:!0,forced:g(function(){x(1)}),sham:!p},{freeze:function(w){return x&&m(w)?x(y(w)):w}})},3851:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(5397),m=n(7347).f,y=n(3724);u({target:"Object",stat:!0,forced:!y||p(function(){m(1)}),sham:!y},{getOwnPropertyDescriptor:function(x,w){return m(g(x),w)}})},1278:function(o,c,n){"use strict";var u=n(6518),p=n(3724),g=n(5031),m=n(5397),y=n(7347),x=n(4659);u({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(w){for(var k,S,P=m(w),E=y.f,O=g(P),a={},h=0;O.length>h;)(S=E(P,k=O[h++]))!==void 0&&x(a,k,S);return a}})},1480:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(298).f;u({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},9773:function(o,c,n){"use strict";var u=n(6518),p=n(4495),g=n(9039),m=n(3717),y=n(8981);u({target:"Object",stat:!0,forced:!p||g(function(){m.f(1)})},{getOwnPropertySymbols:function(x){var w=m.f;return w?w(y(x)):[]}})},875:function(o,c,n){"use strict";var u=n(6518),p=n(9039),g=n(8981),m=n(2787),y=n(2211);u({target:"Object",stat:!0,forced:p(function(){m(1)}),sham:!y},{getPrototypeOf:function(x){return m(g(x))}})},9432:function(o,c,n){"use strict";var u=n(6518),p=n(8981),g=n(1072);u({target:"Object",stat:!0,forced:n(9039)(function(){g(1)})},{keys:function(m){return g(p(m))}})},6099:function(o,c,n){"use strict";var u=n(2140),p=n(6840),g=n(3179);u||p(Object.prototype,"toString",g,{unsafe:!0})},6034:function(o,c,n){"use strict";var u=n(6518),p=n(2357).values;u({target:"Object",stat:!0},{values:function(g){return p(g)}})},8459:function(o,c,n){"use strict";var u=n(6518),p=n(3904);u({global:!0,forced:parseFloat!==p},{parseFloat:p})},8940:function(o,c,n){"use strict";var u=n(6518),p=n(2703);u({global:!0,forced:parseInt!==p},{parseInt:p})},6499:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(9306),m=n(6043),y=n(1103),x=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{all:function(w){var k=this,S=m.f(k),P=S.resolve,E=S.reject,O=y(function(){var a=g(k.resolve),h=[],v=0,d=1;x(w,function(_){var C=v++,N=!1;d++,p(a,k,_).then(function(G){N||(N=!0,h[C]=G,--d||P(h))},E)}),--d||P(h)});return O.error&&E(O.value),S.promise}})},2003:function(o,c,n){"use strict";var u=n(6518),p=n(6395),g=n(916).CONSTRUCTOR,m=n(550),y=n(7751),x=n(4901),w=n(6840),k=m&&m.prototype;if(u({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(P){return this.then(void 0,P)}}),!p&&x(m)){var S=y("Promise").prototype.catch;k.catch!==S&&w(k,"catch",S,{unsafe:!0})}},436:function(o,c,n){"use strict";var u,p,g,m=n(6518),y=n(6395),x=n(6193),w=n(4576),k=n(9565),S=n(6840),P=n(2967),E=n(687),O=n(7633),a=n(9306),h=n(4901),v=n(34),d=n(679),_=n(2293),C=n(9225).set,N=n(1955),G=n(3138),q=n(1103),K=n(8265),ne=n(1181),Q=n(550),ee=n(916),Me=n(6043),pe="Promise",W=ee.CONSTRUCTOR,oe=ee.REJECTION_EVENT,fe=ee.SUBCLASSING,Z=ne.getterFor(pe),xe=ne.set,Y=Q&&Q.prototype,he=Q,Ke=Y,ht=w.TypeError,lt=w.document,We=w.process,Se=Me.f,Le=Se,je=!!(lt&&lt.createEvent&&w.dispatchEvent),Ne="unhandledrejection",Ge=function(Ee){var Qe;return!(!v(Ee)||!h(Qe=Ee.then))&&Qe},it=function(Ee,Qe){var nt,Ut,ut,mt=Qe.value,Mt=Qe.state===1,ti=Mt?Ee.ok:Ee.fail,oi=Ee.resolve,ci=Ee.reject,Lt=Ee.domain;try{ti?(Mt||(Qe.rejection===2&&_t(Qe),Qe.rejection=1),ti===!0?nt=mt:(Lt&&Lt.enter(),nt=ti(mt),Lt&&(Lt.exit(),ut=!0)),nt===Ee.promise?ci(new ht("Promise-chain cycle")):(Ut=Ge(nt))?k(Ut,nt,oi,ci):oi(nt)):ci(mt)}catch(It){Lt&&!ut&&Lt.exit(),ci(It)}},Re=function(Ee,Qe){Ee.notified||(Ee.notified=!0,N(function(){for(var nt,Ut=Ee.reactions;nt=Ut.get();)it(nt,Ee);Ee.notified=!1,Qe&&!Ee.rejection&&J(Ee)}))},te=function(Ee,Qe,nt){var Ut,ut;je?((Ut=lt.createEvent("Event")).promise=Qe,Ut.reason=nt,Ut.initEvent(Ee,!1,!0),w.dispatchEvent(Ut)):Ut={promise:Qe,reason:nt},!oe&&(ut=w["on"+Ee])?ut(Ut):Ee===Ne&&G("Unhandled promise rejection",nt)},J=function(Ee){k(C,w,function(){var Qe,nt=Ee.facade,Ut=Ee.value;if(qe(Ee)&&(Qe=q(function(){x?We.emit("unhandledRejection",Ut,nt):te(Ne,nt,Ut)}),Ee.rejection=x||qe(Ee)?2:1,Qe.error))throw Qe.value})},qe=function(Ee){return Ee.rejection!==1&&!Ee.parent},_t=function(Ee){k(C,w,function(){var Qe=Ee.facade;x?We.emit("rejectionHandled",Qe):te("rejectionhandled",Qe,Ee.value)})},be=function(Ee,Qe,nt){return function(Ut){Ee(Qe,Ut,nt)}},$e=function(Ee,Qe,nt){Ee.done||(Ee.done=!0,nt&&(Ee=nt),Ee.value=Qe,Ee.state=2,Re(Ee,!0))},st=function(Ee,Qe,nt){if(!Ee.done){Ee.done=!0,nt&&(Ee=nt);try{if(Ee.facade===Qe)throw new ht("Promise can't be resolved itself");var Ut=Ge(Qe);Ut?N(function(){var ut={done:!1};try{k(Ut,Qe,be(st,ut,Ee),be($e,ut,Ee))}catch(mt){$e(ut,mt,Ee)}}):(Ee.value=Qe,Ee.state=1,Re(Ee,!1))}catch(ut){$e({done:!1},ut,Ee)}}};if(W&&(Ke=(he=function(Ee){d(this,Ke),a(Ee),k(u,this);var Qe=Z(this);try{Ee(be(st,Qe),be($e,Qe))}catch(nt){$e(Qe,nt)}}).prototype,(u=function(Ee){xe(this,{type:pe,done:!1,notified:!1,parent:!1,reactions:new K,rejection:!1,state:0,value:null})}).prototype=S(Ke,"then",function(Ee,Qe){var nt=Z(this),Ut=Se(_(this,he));return nt.parent=!0,Ut.ok=!h(Ee)||Ee,Ut.fail=h(Qe)&&Qe,Ut.domain=x?We.domain:void 0,nt.state===0?nt.reactions.add(Ut):N(function(){it(Ut,nt)}),Ut.promise}),p=function(){var Ee=new u,Qe=Z(Ee);this.promise=Ee,this.resolve=be(st,Qe),this.reject=be($e,Qe)},Me.f=Se=function(Ee){return Ee===he||Ee===void 0?new p(Ee):Le(Ee)},!y&&h(Q)&&Y!==Object.prototype)){g=Y.then,fe||S(Y,"then",function(Ee,Qe){var nt=this;return new he(function(Ut,ut){k(g,nt,Ut,ut)}).then(Ee,Qe)},{unsafe:!0});try{delete Y.constructor}catch(Ee){}P&&P(Y,Ke)}m({global:!0,constructor:!0,wrap:!0,forced:W},{Promise:he}),E(he,pe,!1,!0),O(pe)},3362:function(o,c,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},7743:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(9306),m=n(6043),y=n(1103),x=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{race:function(w){var k=this,S=m.f(k),P=S.reject,E=y(function(){var O=g(k.resolve);x(w,function(a){p(O,k,a).then(S.resolve,P)})});return E.error&&P(E.value),S.promise}})},1481:function(o,c,n){"use strict";var u=n(6518),p=n(6043);u({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(g){var m=p.f(this);return(0,m.reject)(g),m.promise}})},280:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(6395),m=n(550),y=n(916).CONSTRUCTOR,x=n(3438),w=p("Promise"),k=g&&!y;u({target:"Promise",stat:!0,forced:g||y},{resolve:function(S){return x(k&&this===w?m:this,S)}})},825:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(8745),m=n(566),y=n(5548),x=n(8551),w=n(34),k=n(2360),S=n(9039),P=p("Reflect","construct"),E=Object.prototype,O=[].push,a=S(function(){function d(){}return!(P(function(){},[],d)instanceof d)}),h=!S(function(){P(function(){})}),v=a||h;u({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(d,_){y(d),x(_);var C=arguments.length<3?d:y(arguments[2]);if(h&&!a)return P(d,_,C);if(d===C){switch(_.length){case 0:return new d;case 1:return new d(_[0]);case 2:return new d(_[0],_[1]);case 3:return new d(_[0],_[1],_[2]);case 4:return new d(_[0],_[1],_[2],_[3])}var N=[null];return g(O,N,_),new(g(m,d,N))}var G=C.prototype,q=k(w(G)?G:E),K=g(d,q,_);return w(K)?K:q}})},888:function(o,c,n){"use strict";var u=n(6518),p=n(9565),g=n(34),m=n(8551),y=n(6575),x=n(7347),w=n(2787);u({target:"Reflect",stat:!0},{get:function k(S,P){var E,O,a=arguments.length<3?S:arguments[2];return m(S)===a?S[P]:(E=x.f(S,P))?y(E)?E.value:E.get===void 0?void 0:p(E.get,a):g(O=w(S))?k(O,P,a):void 0}})},4864:function(o,c,n){"use strict";var u=n(3724),p=n(4576),g=n(9504),m=n(2796),y=n(3167),x=n(6699),w=n(2360),k=n(8480).f,S=n(1625),P=n(788),E=n(655),O=n(1034),a=n(8429),h=n(1056),v=n(6840),d=n(9039),_=n(9297),C=n(1181).enforce,N=n(7633),G=n(8227),q=n(3635),K=n(8814),ne=G("match"),Q=p.RegExp,ee=Q.prototype,Me=p.SyntaxError,pe=g(ee.exec),W=g("".charAt),oe=g("".replace),fe=g("".indexOf),Z=g("".slice),xe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,he=/a/g,Ke=new Q(Y)!==Y,ht=a.MISSED_STICKY,lt=a.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ke||ht||q||K||d(function(){return he[ne]=!1,Q(Y)!==Y||Q(he)===he||String(Q(Y,"i"))!=="/a/i"})))){for(var We=function(je,Ne){var Ge,it,Re,te,J,qe,_t=S(ee,this),be=P(je),$e=Ne===void 0,st=[],Ee=je;if(!_t&&be&&$e&&je.constructor===We)return je;if((be||S(ee,je))&&(je=je.source,$e&&(Ne=O(Ee))),je=je===void 0?"":E(je),Ne=Ne===void 0?"":E(Ne),Ee=je,q&&"dotAll"in Y&&(it=!!Ne&&fe(Ne,"s")>-1)&&(Ne=oe(Ne,/s/g,"")),Ge=Ne,ht&&"sticky"in Y&&(Re=!!Ne&&fe(Ne,"y")>-1)&&lt&&(Ne=oe(Ne,/y/g,"")),K&&(te=function(Qe){for(var nt,Ut=Qe.length,ut=0,mt="",Mt=[],ti=w(null),oi=!1,ci=!1,Lt=0,It="";ut<=Ut;ut++){if((nt=W(Qe,ut))==="\\")nt+=W(Qe,++ut);else if(nt==="]")oi=!1;else if(!oi)switch(!0){case nt==="[":oi=!0;break;case nt==="(":if(mt+=nt,Z(Qe,ut+1,ut+3)==="?:")continue;pe(xe,Z(Qe,ut+1))&&(ut+=2,ci=!0),Lt++;continue;case(nt===">"&&ci):if(It===""||_(ti,It))throw new Me("Invalid capture group name");ti[It]=!0,Mt[Mt.length]=[It,Lt],ci=!1,It="";continue}ci?It+=nt:mt+=nt}return[mt,Mt]}(je),je=te[0],st=te[1]),J=y(Q(je,Ne),_t?this:ee,We),(it||Re||st.length)&&(qe=C(J),it&&(qe.dotAll=!0,qe.raw=We(function(Qe){for(var nt,Ut=Qe.length,ut=0,mt="",Mt=!1;ut<=Ut;ut++)(nt=W(Qe,ut))!=="\\"?Mt||nt!=="."?(nt==="["?Mt=!0:nt==="]"&&(Mt=!1),mt+=nt):mt+="[\\s\\S]":mt+=nt+W(Qe,++ut);return mt}(je),Ge)),Re&&(qe.sticky=!0),st.length&&(qe.groups=st)),je!==Ee)try{x(J,"source",Ee===""?"(?:)":Ee)}catch(Qe){}return J},Se=k(Q),Le=0;Se.length>Le;)h(We,Q,Se[Le++]);ee.constructor=We,We.prototype=ee,v(p,"RegExp",We,{constructor:!0})}N("RegExp")},7495:function(o,c,n){"use strict";var u=n(6518),p=n(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},8781:function(o,c,n){"use strict";var u=n(350).PROPER,p=n(6840),g=n(8551),m=n(655),y=n(9039),x=n(1034),w="toString",k=RegExp.prototype,S=k[w],P=y(function(){return S.call({source:"a",flags:"b"})!=="/a/b"}),E=u&&S.name!==w;(P||E)&&p(k,w,function(){var O=g(this);return"/"+m(O.source)+"/"+m(x(O))},{unsafe:!0})},2405:function(o,c,n){"use strict";n(6468)("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},1415:function(o,c,n){"use strict";n(2405)},9449:function(o,c,n){"use strict";var u,p=n(6518),g=n(7476),m=n(7347).f,y=n(8014),x=n(655),w=n(2892),k=n(7750),S=n(1436),P=n(6395),E=g("".slice),O=Math.min,a=S("endsWith");p({target:"String",proto:!0,forced:!(!P&&!a&&(u=m(String.prototype,"endsWith"),u&&!u.writable)||a)},{endsWith:function(h){var v=x(k(this));w(h);var d=arguments.length>1?arguments[1]:void 0,_=v.length,C=d===void 0?_:O(y(d),_),N=x(h);return E(v,C-N.length,C)===N}})},7337:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(5610),m=RangeError,y=String.fromCharCode,x=String.fromCodePoint,w=p([].join);u({target:"String",stat:!0,arity:1,forced:!!x&&x.length!==1},{fromCodePoint:function(k){for(var S,P=[],E=arguments.length,O=0;E>O;){if(S=+arguments[O++],g(S,1114111)!==S)throw new m(S+" is not a valid code point");P[O]=S<65536?y(S):y(55296+((S-=65536)>>10),S%1024+56320)}return w(P,"")}})},1699:function(o,c,n){"use strict";var u=n(6518),p=n(9504),g=n(2892),m=n(7750),y=n(655),x=n(1436),w=p("".indexOf);u({target:"String",proto:!0,forced:!x("includes")},{includes:function(k){return!!~w(y(m(this)),y(g(k)),arguments.length>1?arguments[1]:void 0)}})},7764:function(o,c,n){"use strict";var u=n(8183).charAt,p=n(655),g=n(1181),m=n(1088),y=n(2529),x="String Iterator",w=g.set,k=g.getterFor(x);m(String,"String",function(S){w(this,{type:x,string:p(S),index:0})},function(){var S,P=k(this),E=P.string,O=P.index;return O>=E.length?y(void 0,!0):(S=u(E,O),P.index+=S.length,y(S,!1))})},1761:function(o,c,n){"use strict";var u=n(9565),p=n(9228),g=n(8551),m=n(4117),y=n(8014),x=n(655),w=n(7750),k=n(5966),S=n(7829),P=n(6682);p("match",function(E,O,a){return[function(h){var v=w(this),d=m(h)?void 0:k(h,E);return d?u(d,h,v):new RegExp(h)[E](x(v))},function(h){var v=g(this),d=x(h),_=a(O,v,d);if(_.done)return _.value;if(!v.global)return P(v,d);var C=v.unicode;v.lastIndex=0;for(var N,G=[],q=0;(N=P(v,d))!==null;){var K=x(N[0]);G[q]=K,K===""&&(v.lastIndex=S(d,y(v.lastIndex),C)),q++}return q===0?null:G}]})},5440:function(o,c,n){"use strict";var u=n(8745),p=n(9565),g=n(9504),m=n(9228),y=n(9039),x=n(8551),w=n(4901),k=n(4117),S=n(1291),P=n(8014),E=n(655),O=n(7750),a=n(7829),h=n(5966),v=n(2478),d=n(6682),_=n(8227)("replace"),C=Math.max,N=Math.min,G=g([].concat),q=g([].push),K=g("".indexOf),ne=g("".slice),Q="a".replace(/./,"$0")==="$0",ee=!!/./[_]&&/./[_]("a","$0")==="";m("replace",function(Me,pe,W){var oe=ee?"$":"$0";return[function(fe,Z){var xe=O(this),Y=k(fe)?void 0:h(fe,_);return Y?p(Y,fe,xe,Z):p(pe,E(xe),fe,Z)},function(fe,Z){var xe=x(this),Y=E(fe);if(typeof Z=="string"&&K(Z,oe)===-1&&K(Z,"$<")===-1){var he=W(pe,xe,Y,Z);if(he.done)return he.value}var Ke=w(Z);Ke||(Z=E(Z));var ht,lt=xe.global;lt&&(ht=xe.unicode,xe.lastIndex=0);for(var We,Se=[];(We=d(xe,Y))!==null&&(q(Se,We),lt);)E(We[0])===""&&(xe.lastIndex=a(Y,P(xe.lastIndex),ht));for(var Le,je="",Ne=0,Ge=0;Ge<Se.length;Ge++){for(var it,Re=E((We=Se[Ge])[0]),te=C(N(S(We.index),Y.length),0),J=[],qe=1;qe<We.length;qe++)q(J,(Le=We[qe])===void 0?Le:String(Le));var _t=We.groups;if(Ke){var be=G([Re],J,te,Y);_t!==void 0&&q(be,_t),it=E(u(Z,void 0,be))}else it=v(Re,Y,te,J,_t,Z);te>=Ne&&(je+=ne(Y,Ne,te)+it,Ne=te+Re.length)}return je+ne(Y,Ne)}]},!!y(function(){var Me=/./;return Me.exec=function(){var pe=[];return pe.groups={a:"7"},pe},"".replace(Me,"$<a>")!=="7"})||!Q||ee)},5746:function(o,c,n){"use strict";var u=n(9565),p=n(9228),g=n(8551),m=n(4117),y=n(7750),x=n(3470),w=n(655),k=n(5966),S=n(6682);p("search",function(P,E,O){return[function(a){var h=y(this),v=m(a)?void 0:k(a,P);return v?u(v,a,h):new RegExp(a)[P](w(h))},function(a){var h=g(this),v=w(a),d=O(E,h,v);if(d.done)return d.value;var _=h.lastIndex;x(_,0)||(h.lastIndex=0);var C=S(h,v);return x(h.lastIndex,_)||(h.lastIndex=_),C===null?-1:C.index}]})},744:function(o,c,n){"use strict";var u=n(9565),p=n(9504),g=n(9228),m=n(8551),y=n(4117),x=n(7750),w=n(2293),k=n(7829),S=n(8014),P=n(655),E=n(5966),O=n(6682),a=n(8429),h=n(9039),v=a.UNSUPPORTED_Y,d=Math.min,_=p([].push),C=p("".slice),N=!h(function(){var q=/(?:)/,K=q.exec;q.exec=function(){return K.apply(this,arguments)};var ne="ab".split(q);return ne.length!==2||ne[0]!=="a"||ne[1]!=="b"}),G="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;g("split",function(q,K,ne){var Q="0".split(void 0,0).length?function(ee,Me){return ee===void 0&&Me===0?[]:u(K,this,ee,Me)}:K;return[function(ee,Me){var pe=x(this),W=y(ee)?void 0:E(ee,q);return W?u(W,ee,pe,Me):u(Q,P(pe),ee,Me)},function(ee,Me){var pe=m(this),W=P(ee);if(!G){var oe=ne(Q,pe,W,Me,Q!==K);if(oe.done)return oe.value}var fe=w(pe,RegExp),Z=pe.unicode,xe=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(v?"g":"y"),Y=new fe(v?"^(?:"+pe.source+")":pe,xe),he=Me===void 0?4294967295:Me>>>0;if(he===0)return[];if(W.length===0)return O(Y,W)===null?[W]:[];for(var Ke=0,ht=0,lt=[];ht<W.length;){Y.lastIndex=v?0:ht;var We,Se=O(Y,v?C(W,ht):W);if(Se===null||(We=d(S(Y.lastIndex+(v?ht:0)),W.length))===Ke)ht=k(W,ht,Z);else{if(_(lt,C(W,Ke,ht)),lt.length===he)return lt;for(var Le=1;Le<=Se.length-1;Le++)if(_(lt,Se[Le]),lt.length===he)return lt;ht=Ke=We}}return _(lt,C(W,Ke)),lt}]},G||!N,v)},1392:function(o,c,n){"use strict";var u,p=n(6518),g=n(7476),m=n(7347).f,y=n(8014),x=n(655),w=n(2892),k=n(7750),S=n(1436),P=n(6395),E=g("".slice),O=Math.min,a=S("startsWith");p({target:"String",proto:!0,forced:!(!P&&!a&&(u=m(String.prototype,"startsWith"),u&&!u.writable)||a)},{startsWith:function(h){var v=x(k(this));w(h);var d=y(O(arguments.length>1?arguments[1]:void 0,v.length)),_=x(h);return E(v,d,d+_.length)===_}})},6412:function(o,c,n){"use strict";n(511)("asyncIterator")},6761:function(o,c,n){"use strict";var u=n(6518),p=n(4576),g=n(9565),m=n(9504),y=n(6395),x=n(3724),w=n(4495),k=n(9039),S=n(9297),P=n(1625),E=n(8551),O=n(5397),a=n(6969),h=n(655),v=n(6980),d=n(2360),_=n(1072),C=n(8480),N=n(298),G=n(3717),q=n(7347),K=n(4913),ne=n(6801),Q=n(8773),ee=n(6840),Me=n(2106),pe=n(5745),W=n(6119),oe=n(421),fe=n(3392),Z=n(8227),xe=n(1951),Y=n(511),he=n(8242),Ke=n(687),ht=n(1181),lt=n(9213).forEach,We=W("hidden"),Se="Symbol",Le="prototype",je=ht.set,Ne=ht.getterFor(Se),Ge=Object[Le],it=p.Symbol,Re=it&&it[Le],te=p.RangeError,J=p.TypeError,qe=p.QObject,_t=q.f,be=K.f,$e=N.f,st=Q.f,Ee=m([].push),Qe=pe("symbols"),nt=pe("op-symbols"),Ut=pe("wks"),ut=!qe||!qe[Le]||!qe[Le].findChild,mt=function(kt,I,Ve){var ke=_t(Ge,I);ke&&delete Ge[I],be(kt,I,Ve),ke&&kt!==Ge&&be(Ge,I,ke)},Mt=x&&k(function(){return d(be({},"a",{get:function(){return be(this,"a",{value:7}).a}})).a!==7})?mt:be,ti=function(kt,I){var Ve=Qe[kt]=d(Re);return je(Ve,{type:Se,tag:kt,description:I}),x||(Ve.description=I),Ve},oi=function(kt,I,Ve){kt===Ge&&oi(nt,I,Ve),E(kt);var ke=a(I);return E(Ve),S(Qe,ke)?(Ve.enumerable?(S(kt,We)&&kt[We][ke]&&(kt[We][ke]=!1),Ve=d(Ve,{enumerable:v(0,!1)})):(S(kt,We)||be(kt,We,v(1,d(null))),kt[We][ke]=!0),Mt(kt,ke,Ve)):be(kt,ke,Ve)},ci=function(kt,I){E(kt);var Ve=O(I),ke=_(Ve).concat(St(Ve));return lt(ke,function(Ye){x&&!g(Lt,Ve,Ye)||oi(kt,Ye,Ve[Ye])}),kt},Lt=function(kt){var I=a(kt),Ve=g(st,this,I);return!(this===Ge&&S(Qe,I)&&!S(nt,I))&&(!(Ve||!S(this,I)||!S(Qe,I)||S(this,We)&&this[We][I])||Ve)},It=function(kt,I){var Ve=O(kt),ke=a(I);if(Ve!==Ge||!S(Qe,ke)||S(nt,ke)){var Ye=_t(Ve,ke);return!Ye||!S(Qe,ke)||S(Ve,We)&&Ve[We][ke]||(Ye.enumerable=!0),Ye}},Ct=function(kt){var I=$e(O(kt)),Ve=[];return lt(I,function(ke){S(Qe,ke)||S(oe,ke)||Ee(Ve,ke)}),Ve},St=function(kt){var I=kt===Ge,Ve=$e(I?nt:O(kt)),ke=[];return lt(Ve,function(Ye){!S(Qe,Ye)||I&&!S(Ge,Ye)||Ee(ke,Qe[Ye])}),ke};w||(it=function(){if(P(Re,this))throw new J("Symbol is not a constructor");var kt=arguments.length&&arguments[0]!==void 0?h(arguments[0]):void 0,I=fe(kt),Ve=function(ke){var Ye=this===void 0?p:this;Ye===Ge&&g(Ve,nt,ke),S(Ye,We)&&S(Ye[We],I)&&(Ye[We][I]=!1);var Ze=v(1,ke);try{Mt(Ye,I,Ze)}catch(dt){if(!(dt instanceof te))throw dt;mt(Ye,I,Ze)}};return x&&ut&&Mt(Ge,I,{configurable:!0,set:Ve}),ti(I,kt)},ee(Re=it[Le],"toString",function(){return Ne(this).tag}),ee(it,"withoutSetter",function(kt){return ti(fe(kt),kt)}),Q.f=Lt,K.f=oi,ne.f=ci,q.f=It,C.f=N.f=Ct,G.f=St,xe.f=function(kt){return ti(Z(kt),kt)},x&&(Me(Re,"description",{configurable:!0,get:function(){return Ne(this).description}}),y||ee(Ge,"propertyIsEnumerable",Lt,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:it}),lt(_(Ut),function(kt){Y(kt)}),u({target:Se,stat:!0,forced:!w},{useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),u({target:"Object",stat:!0,forced:!w,sham:!x},{create:function(kt,I){return I===void 0?d(kt):ci(d(kt),I)},defineProperty:oi,defineProperties:ci,getOwnPropertyDescriptor:It}),u({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:Ct}),he(),Ke(it,Se),oe[We]=!0},9463:function(o,c,n){"use strict";var u=n(6518),p=n(3724),g=n(4576),m=n(9504),y=n(9297),x=n(4901),w=n(1625),k=n(655),S=n(2106),P=n(7740),E=g.Symbol,O=E&&E.prototype;if(p&&x(E)&&(!("description"in O)||E().description!==void 0)){var a={},h=function(){var q=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),K=w(O,this)?new E(q):q===void 0?E():E(q);return q===""&&(a[K]=!0),K};P(h,E),h.prototype=O,O.constructor=h;var v=String(E("description detection"))==="Symbol(description detection)",d=m(O.valueOf),_=m(O.toString),C=/^Symbol\((.*)\)[^)]+$/,N=m("".replace),G=m("".slice);S(O,"description",{configurable:!0,get:function(){var q=d(this);if(y(a,q))return"";var K=_(q),ne=v?G(K,7,-1):N(K,C,"$1");return ne===""?void 0:ne}}),u({global:!0,constructor:!0,forced:!0},{Symbol:h})}},1510:function(o,c,n){"use strict";var u=n(6518),p=n(7751),g=n(9297),m=n(655),y=n(5745),x=n(1296),w=y("string-to-symbol-registry"),k=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!x},{for:function(S){var P=m(S);if(g(w,P))return w[P];var E=p("Symbol")(P);return w[P]=E,k[E]=P,E}})},2259:function(o,c,n){"use strict";n(511)("iterator")},2675:function(o,c,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(o,c,n){"use strict";var u=n(6518),p=n(9297),g=n(757),m=n(6823),y=n(5745),x=n(1296),w=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!x},{keyFor:function(k){if(!g(k))throw new TypeError(m(k)+" is not a symbol");if(p(w,k))return w[k]}})},5700:function(o,c,n){"use strict";var u=n(511),p=n(8242);u("toPrimitive"),p()},8125:function(o,c,n){"use strict";var u=n(7751),p=n(511),g=n(687);p("toStringTag"),g(u("Symbol"),"Symbol")},3365:function(o,c,n){"use strict";var u,p=n(2744),g=n(4576),m=n(9504),y=n(6279),x=n(3451),w=n(6468),k=n(4006),S=n(34),P=n(1181).enforce,E=n(9039),O=n(8622),a=Object,h=Array.isArray,v=a.isExtensible,d=a.isFrozen,_=a.isSealed,C=a.freeze,N=a.seal,G=!g.ActiveXObject&&"ActiveXObject"in g,q=function(W){return function(){return W(this,arguments.length?arguments[0]:void 0)}},K=w("WeakMap",q,k),ne=K.prototype,Q=m(ne.set);if(O)if(G){u=k.getConstructor(q,"WeakMap",!0),x.enable();var ee=m(ne.delete),Me=m(ne.has),pe=m(ne.get);y(ne,{delete:function(W){if(S(W)&&!v(W)){var oe=P(this);return oe.frozen||(oe.frozen=new u),ee(this,W)||oe.frozen.delete(W)}return ee(this,W)},has:function(W){if(S(W)&&!v(W)){var oe=P(this);return oe.frozen||(oe.frozen=new u),Me(this,W)||oe.frozen.has(W)}return Me(this,W)},get:function(W){if(S(W)&&!v(W)){var oe=P(this);return oe.frozen||(oe.frozen=new u),Me(this,W)?pe(this,W):oe.frozen.get(W)}return pe(this,W)},set:function(W,oe){if(S(W)&&!v(W)){var fe=P(this);fe.frozen||(fe.frozen=new u),Me(this,W)?Q(this,W,oe):fe.frozen.set(W,oe)}else Q(this,W,oe);return this}})}else p&&E(function(){var W=C([]);return Q(new K,W,1),!d(W)})&&y(ne,{set:function(W,oe){var fe;return h(W)&&(d(W)?fe=C:_(W)&&(fe=N)),Q(this,W,oe),fe&&fe(W),this}})},3772:function(o,c,n){"use strict";n(3365)},2480:function(o,c,n){"use strict";n(5081)},3500:function(o,c,n){"use strict";var u=n(4576),p=n(7400),g=n(9296),m=n(235),y=n(6699),x=function(k){if(k&&k.forEach!==m)try{y(k,"forEach",m)}catch(S){k.forEach=m}};for(var w in p)p[w]&&x(u[w]&&u[w].prototype);x(g)},2953:function(o,c,n){"use strict";var u=n(4576),p=n(7400),g=n(9296),m=n(3792),y=n(6699),x=n(687),w=n(8227)("iterator"),k=m.values,S=function(E,O){if(E){if(E[w]!==k)try{y(E,w,k)}catch(h){E[w]=k}if(x(E,O,!0),p[O]){for(var a in m)if(E[a]!==m[a])try{y(E,a,m[a])}catch(h){E[a]=m[a]}}}};for(var P in p)S(u[P]&&u[P].prototype,P);S(g,"DOMTokenList")},8406:function(o,c,n){"use strict";n(3792),n(7337);var u=n(6518),p=n(4576),g=n(3389),m=n(7751),y=n(9565),x=n(9504),w=n(3724),k=n(7416),S=n(6840),P=n(2106),E=n(6279),O=n(687),a=n(3994),h=n(1181),v=n(679),d=n(4901),_=n(9297),C=n(6080),N=n(6955),G=n(8551),q=n(34),K=n(655),ne=n(2360),Q=n(6980),ee=n(81),Me=n(851),pe=n(2529),W=n(2812),oe=n(8227),fe=n(4488),Z=oe("iterator"),xe="URLSearchParams",Y=xe+"Iterator",he=h.set,Ke=h.getterFor(xe),ht=h.getterFor(Y),lt=g("fetch"),We=g("Request"),Se=g("Headers"),Le=We&&We.prototype,je=Se&&Se.prototype,Ne=p.TypeError,Ge=p.encodeURIComponent,it=String.fromCharCode,Re=m("String","fromCodePoint"),te=parseInt,J=x("".charAt),qe=x([].join),_t=x([].push),be=x("".replace),$e=x([].shift),st=x([].splice),Ee=x("".split),Qe=x("".slice),nt=x(/./.exec),Ut=/\+/g,ut=/^[0-9a-f]+$/i,mt=function(ae,Ie){var Ue=Qe(ae,Ie,Ie+2);return nt(ut,Ue)?te(Ue,16):NaN},Mt=function(ae){for(var Ie=0,Ue=128;Ue>0&&ae&Ue;Ue>>=1)Ie++;return Ie},ti=function(ae){var Ie=null;switch(ae.length){case 1:Ie=ae[0];break;case 2:Ie=(31&ae[0])<<6|63&ae[1];break;case 3:Ie=(15&ae[0])<<12|(63&ae[1])<<6|63&ae[2];break;case 4:Ie=(7&ae[0])<<18|(63&ae[1])<<12|(63&ae[2])<<6|63&ae[3]}return Ie>1114111?null:Ie},oi=function(ae){for(var Ie=(ae=be(ae,Ut," ")).length,Ue="",gt=0;gt<Ie;){var ct=J(ae,gt);if(ct==="%"){if(J(ae,gt+1)==="%"||gt+3>Ie){Ue+="%",gt++;continue}var Et=mt(ae,gt+1);if(Et!=Et){Ue+=ct,gt++;continue}gt+=2;var zt=Mt(Et);if(zt===0)ct=it(Et);else{if(zt===1||zt>4){Ue+="\uFFFD",gt++;continue}for(var Xt=[Et],Ot=1;Ot<zt&&!(3+ ++gt>Ie||J(ae,gt)!=="%");){var Bt=mt(ae,gt+1);if(Bt!=Bt){gt+=3;break}if(Bt>191||Bt<128)break;_t(Xt,Bt),gt+=2,Ot++}if(Xt.length!==zt){Ue+="\uFFFD";continue}var Xe=ti(Xt);Xe===null?Ue+="\uFFFD":ct=Re(Xe)}}Ue+=ct,gt++}return Ue},ci=/[!'()~]|%20/g,Lt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},It=function(ae){return Lt[ae]},Ct=function(ae){return be(Ge(ae),ci,It)},St=a(function(ae,Ie){he(this,{type:Y,target:Ke(ae).entries,index:0,kind:Ie})},xe,function(){var ae=ht(this),Ie=ae.target,Ue=ae.index++;if(!Ie||Ue>=Ie.length)return ae.target=null,pe(void 0,!0);var gt=Ie[Ue];switch(ae.kind){case"keys":return pe(gt.key,!1);case"values":return pe(gt.value,!1)}return pe([gt.key,gt.value],!1)},!0),kt=function(ae){this.entries=[],this.url=null,ae!==void 0&&(q(ae)?this.parseObject(ae):this.parseQuery(typeof ae=="string"?J(ae,0)==="?"?Qe(ae,1):ae:K(ae)))};kt.prototype={type:xe,bindURL:function(ae){this.url=ae,this.update()},parseObject:function(ae){var Ie,Ue,gt,ct,Et,zt,Xt,Ot=this.entries,Bt=Me(ae);if(Bt)for(Ue=(Ie=ee(ae,Bt)).next;!(gt=y(Ue,Ie)).done;){if(Et=(ct=ee(G(gt.value))).next,(zt=y(Et,ct)).done||(Xt=y(Et,ct)).done||!y(Et,ct).done)throw new Ne("Expected sequence with length 2");_t(Ot,{key:K(zt.value),value:K(Xt.value)})}else for(var Xe in ae)_(ae,Xe)&&_t(Ot,{key:Xe,value:K(ae[Xe])})},parseQuery:function(ae){if(ae)for(var Ie,Ue,gt=this.entries,ct=Ee(ae,"&"),Et=0;Et<ct.length;)(Ie=ct[Et++]).length&&(Ue=Ee(Ie,"="),_t(gt,{key:oi($e(Ue)),value:oi(qe(Ue,"="))}))},serialize:function(){for(var ae,Ie=this.entries,Ue=[],gt=0;gt<Ie.length;)ae=Ie[gt++],_t(Ue,Ct(ae.key)+"="+Ct(ae.value));return qe(Ue,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var I=function(){v(this,Ve);var ae=he(this,new kt(arguments.length>0?arguments[0]:void 0));w||(this.size=ae.entries.length)},Ve=I.prototype;if(E(Ve,{append:function(ae,Ie){var Ue=Ke(this);W(arguments.length,2),_t(Ue.entries,{key:K(ae),value:K(Ie)}),w||this.length++,Ue.updateURL()},delete:function(ae){for(var Ie=Ke(this),Ue=W(arguments.length,1),gt=Ie.entries,ct=K(ae),Et=Ue<2?void 0:arguments[1],zt=Et===void 0?Et:K(Et),Xt=0;Xt<gt.length;){var Ot=gt[Xt];if(Ot.key!==ct||zt!==void 0&&Ot.value!==zt)Xt++;else if(st(gt,Xt,1),zt!==void 0)break}w||(this.size=gt.length),Ie.updateURL()},get:function(ae){var Ie=Ke(this).entries;W(arguments.length,1);for(var Ue=K(ae),gt=0;gt<Ie.length;gt++)if(Ie[gt].key===Ue)return Ie[gt].value;return null},getAll:function(ae){var Ie=Ke(this).entries;W(arguments.length,1);for(var Ue=K(ae),gt=[],ct=0;ct<Ie.length;ct++)Ie[ct].key===Ue&&_t(gt,Ie[ct].value);return gt},has:function(ae){for(var Ie=Ke(this).entries,Ue=W(arguments.length,1),gt=K(ae),ct=Ue<2?void 0:arguments[1],Et=ct===void 0?ct:K(ct),zt=0;zt<Ie.length;){var Xt=Ie[zt++];if(Xt.key===gt&&(Et===void 0||Xt.value===Et))return!0}return!1},set:function(ae,Ie){var Ue=Ke(this);W(arguments.length,1);for(var gt,ct=Ue.entries,Et=!1,zt=K(ae),Xt=K(Ie),Ot=0;Ot<ct.length;Ot++)(gt=ct[Ot]).key===zt&&(Et?st(ct,Ot--,1):(Et=!0,gt.value=Xt));Et||_t(ct,{key:zt,value:Xt}),w||(this.size=ct.length),Ue.updateURL()},sort:function(){var ae=Ke(this);fe(ae.entries,function(Ie,Ue){return Ie.key>Ue.key?1:-1}),ae.updateURL()},forEach:function(ae){for(var Ie,Ue=Ke(this).entries,gt=C(ae,arguments.length>1?arguments[1]:void 0),ct=0;ct<Ue.length;)gt((Ie=Ue[ct++]).value,Ie.key,this)},keys:function(){return new St(this,"keys")},values:function(){return new St(this,"values")},entries:function(){return new St(this,"entries")}},{enumerable:!0}),S(Ve,Z,Ve.entries,{name:"entries"}),S(Ve,"toString",function(){return Ke(this).serialize()},{enumerable:!0}),w&&P(Ve,"size",{get:function(){return Ke(this).entries.length},configurable:!0,enumerable:!0}),O(I,xe),u({global:!0,constructor:!0,forced:!k},{URLSearchParams:I}),!k&&d(Se)){var ke=x(je.has),Ye=x(je.set),Ze=function(ae){if(q(ae)){var Ie,Ue=ae.body;if(N(Ue)===xe)return Ie=ae.headers?new Se(ae.headers):new Se,ke(Ie,"content-type")||Ye(Ie,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ne(ae,{body:Q(0,K(Ue)),headers:Q(0,Ie)})}return ae};if(d(lt)&&u({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ae){return lt(ae,arguments.length>1?Ze(arguments[1]):{})}}),d(We)){var dt=function(ae){return v(this,Le),new We(ae,arguments.length>1?Ze(arguments[1]):{})};Le.constructor=dt,dt.prototype=Le,u({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:dt})}}o.exports={URLSearchParams:I,getState:Ke}},8408:function(o,c,n){"use strict";n(8406)},1091:function(o,c,n){"use strict";function u(k){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(k)}function p(k,S){(S==null||S>k.length)&&(S=k.length);for(var P=0,E=Array(S);P<S;P++)E[P]=k[P];return E}function g(k,S){for(var P=0;P<S.length;P++){var E=S[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,m(E.key),E)}}function m(k){var S=function(P,E){if(u(P)!="object"||!P)return P;var O=P[Symbol.toPrimitive];if(O!==void 0){var a=O.call(P,"string");if(u(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(k);return u(S)=="symbol"?S:S+""}n.d(c,{OA:function(){return y},WL:function(){return w},u$:function(){return x}}),n(2675),n(9463),n(2259),n(5700),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(6099),n(7495),n(8781),n(7764),n(2953);var y={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},x=function(k){return function(){for(var S=arguments.length,P=new Array(S),E=0;E<S;E++)P[E]=arguments[E];return{_$litDirective$:k,values:P}}},w=function(){return function(k,S,P){return S&&g(k.prototype,S),Object.defineProperty(k,"prototype",{writable:!1}),k}(function k(S){(function(P,E){if(!(P instanceof E))throw new TypeError("Cannot call a class as a function")})(this,k)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(k,S,P){this._$Ct=k,this._$AM=S,this._$Ci=P}},{key:"_$AS",value:function(k,S){return this.update(k,S)}},{key:"update",value:function(k,S){return this.render.apply(this,function(E){if(Array.isArray(E))return p(E)}(P=S)||function(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}(P)||function(E,O){if(E){if(typeof E=="string")return p(E,O);var a={}.toString.call(E).slice(8,-1);return a==="Object"&&E.constructor&&(a=E.constructor.name),a==="Map"||a==="Set"?Array.from(E):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(E,O):void 0}}(P)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var P}}])}()},6681:function(o,c,n){"use strict";var u;function p(ut,mt,Mt){return mt=m(mt),function(ti,oi){if(oi&&(h(oi)=="object"||typeof oi=="function"))return oi;if(oi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ci){if(ci===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ci}(ti)}(ut,g()?Reflect.construct(mt,Mt||[],m(ut).constructor):mt.apply(ut,Mt))}function g(){try{var ut=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(mt){}return(g=function(){return!!ut})()}function m(ut){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},m(ut)}function y(ut,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");ut.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ut,writable:!0,configurable:!0}}),Object.defineProperty(ut,"prototype",{writable:!1}),mt&&x(ut,mt)}function x(ut,mt){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,ti){return Mt.__proto__=ti,Mt},x(ut,mt)}function w(ut,mt){var Mt=typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(!Mt){if(Array.isArray(ut)||(Mt=k(ut))||mt&&ut&&typeof ut.length=="number"){Mt&&(ut=Mt);var ti=0,oi=function(){};return{s:oi,n:function(){return ti>=ut.length?{done:!0}:{done:!1,value:ut[ti++]}},e:function(Ct){throw Ct},f:oi}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ci,Lt=!0,It=!1;return{s:function(){Mt=Mt.call(ut)},n:function(){var Ct=Mt.next();return Lt=Ct.done,Ct},e:function(Ct){It=!0,ci=Ct},f:function(){try{Lt||Mt.return==null||Mt.return()}finally{if(It)throw ci}}}}function k(ut,mt){if(ut){if(typeof ut=="string")return S(ut,mt);var Mt={}.toString.call(ut).slice(8,-1);return Mt==="Object"&&ut.constructor&&(Mt=ut.constructor.name),Mt==="Map"||Mt==="Set"?Array.from(ut):Mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mt)?S(ut,mt):void 0}}function S(ut,mt){(mt==null||mt>ut.length)&&(mt=ut.length);for(var Mt=0,ti=Array(mt);Mt<mt;Mt++)ti[Mt]=ut[Mt];return ti}function P(ut,mt){if(!(ut instanceof mt))throw new TypeError("Cannot call a class as a function")}function E(ut,mt){for(var Mt=0;Mt<mt.length;Mt++){var ti=mt[Mt];ti.enumerable=ti.enumerable||!1,ti.configurable=!0,"value"in ti&&(ti.writable=!0),Object.defineProperty(ut,a(ti.key),ti)}}function O(ut,mt,Mt){return mt&&E(ut.prototype,mt),Mt&&E(ut,Mt),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function a(ut){var mt=function(Mt,ti){if(h(Mt)!="object"||!Mt)return Mt;var oi=Mt[Symbol.toPrimitive];if(oi!==void 0){var ci=oi.call(Mt,"string");if(h(ci)!="object")return ci;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Mt)}(ut);return h(mt)=="symbol"?mt:mt+""}function h(ut){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},h(ut)}n.d(c,{JW:function(){return lt},XX:function(){return Ut},c0:function(){return We},ge:function(){return Qe},qy:function(){return ht},s6:function(){return Se}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3771),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(825),n(4864),n(7495),n(8781),n(9449),n(7764),n(744),n(1392),n(3772),n(2953);var v=window,d=v.trustedTypes,_=d?d.createPolicy("lit-html",{createHTML:function(ut){return ut}}):void 0,C="$lit$",N="lit$".concat((Math.random()+"").slice(9),"$"),G="?"+N,q="<".concat(G,">"),K=document,ne=function(){return K.createComment("")},Q=function(ut){return ut===null||h(ut)!="object"&&typeof ut!="function"},ee=Array.isArray,Me=function(ut){return ee(ut)||typeof(ut==null?void 0:ut[Symbol.iterator])=="function"},pe=`[ 	
\f\r]`,W=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,oe=/-->/g,fe=/>/g,Z=RegExp(">|".concat(pe,`(?:([^\\s"'>=/]+)(`).concat(pe,"*=").concat(pe,`*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`),"g"),xe=/'/g,Y=/"/g,he=/^(?:script|style|textarea|title)$/i,Ke=function(ut){return function(mt){for(var Mt=arguments.length,ti=new Array(Mt>1?Mt-1:0),oi=1;oi<Mt;oi++)ti[oi-1]=arguments[oi];return{_$litType$:ut,strings:mt,values:ti}}},ht=Ke(1),lt=Ke(2),We=Symbol.for("lit-noChange"),Se=Symbol.for("lit-nothing"),Le=new WeakMap,je=K.createTreeWalker(K,129,null,!1);function Ne(ut,mt){if(!Array.isArray(ut)||!ut.hasOwnProperty("raw"))throw Error("invalid template strings array");return _!==void 0?_.createHTML(mt):mt}var Ge=function(ut,mt){for(var Mt,ti=ut.length-1,oi=[],ci=mt===2?"<svg>":"",Lt=W,It=0;It<ti;It++){for(var Ct=ut[It],St=void 0,kt=void 0,I=-1,Ve=0;Ve<Ct.length&&(Lt.lastIndex=Ve,(kt=Lt.exec(Ct))!==null);)Ve=Lt.lastIndex,Lt===W?kt[1]==="!--"?Lt=oe:kt[1]!==void 0?Lt=fe:kt[2]!==void 0?(he.test(kt[2])&&(Mt=RegExp("</"+kt[2],"g")),Lt=Z):kt[3]!==void 0&&(Lt=Z):Lt===Z?kt[0]===">"?(Lt=Mt!=null?Mt:W,I=-1):kt[1]===void 0?I=-2:(I=Lt.lastIndex-kt[2].length,St=kt[1],Lt=kt[3]===void 0?Z:kt[3]==='"'?Y:xe):Lt===Y||Lt===xe?Lt=Z:Lt===oe||Lt===fe?Lt=W:(Lt=Z,Mt=void 0);var ke=Lt===Z&&ut[It+1].startsWith("/>")?" ":"";ci+=Lt===W?Ct+q:I>=0?(oi.push(St),Ct.slice(0,I)+C+Ct.slice(I)+N+ke):Ct+N+(I===-2?(oi.push(void 0),It):ke)}return[Ne(ut,ci+(ut[ti]||"<?>")+(mt===2?"</svg>":"")),oi]},it=function(){return O(function ut(mt,Mt){var ti,oi=mt.strings,ci=mt._$litType$;P(this,ut),this.parts=[];var Lt=0,It=0,Ct=oi.length-1,St=this.parts,kt=function(Fe,et){return function(Pt){if(Array.isArray(Pt))return Pt}(Fe)||function(Pt,Nt){var Je=Pt==null?null:typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(Je!=null){var wt,At,Kt,Jt,Ai=[],Si=!0,Mi=!1;try{if(Kt=(Je=Je.call(Pt)).next,Nt===0){if(Object(Je)!==Je)return;Si=!1}else for(;!(Si=(wt=Kt.call(Je)).done)&&(Ai.push(wt.value),Ai.length!==Nt);Si=!0);}catch(Gt){Mi=!0,At=Gt}finally{try{if(!Si&&Je.return!=null&&(Jt=Je.return(),Object(Jt)!==Jt))return}finally{if(Mi)throw At}}return Ai}}(Fe,et)||k(Fe,et)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ge(oi,ci),2),I=kt[0],Ve=kt[1];if(this.el=ut.createElement(I,Mt),je.currentNode=this.el.content,ci===2){var ke=this.el.content,Ye=ke.firstChild;Ye.remove(),ke.append.apply(ke,function(Fe){return function(et){if(Array.isArray(et))return S(et)}(Fe)||function(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(Fe)||k(Fe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ye.childNodes))}for(;(ti=je.nextNode())!==null&&St.length<Ct;){if(ti.nodeType===1){if(ti.hasAttributes()){var Ze,dt=[],ae=w(ti.getAttributeNames());try{for(ae.s();!(Ze=ae.n()).done;){var Ie=Ze.value;if(Ie.endsWith(C)||Ie.startsWith(N)){var Ue=Ve[It++];if(dt.push(Ie),Ue!==void 0){var gt=ti.getAttribute(Ue.toLowerCase()+C).split(N),ct=/([.?@])?(.*)/.exec(Ue);St.push({type:1,index:Lt,name:ct[2],strings:gt,ctor:ct[1]==="."?_t:ct[1]==="?"?$e:ct[1]==="@"?st:qe})}else St.push({type:6,index:Lt})}}}catch(Fe){ae.e(Fe)}finally{ae.f()}for(var Et=0,zt=dt;Et<zt.length;Et++){var Xt=zt[Et];ti.removeAttribute(Xt)}}if(he.test(ti.tagName)){var Ot=ti.textContent.split(N),Bt=Ot.length-1;if(Bt>0){ti.textContent=d?d.emptyScript:"";for(var Xe=0;Xe<Bt;Xe++)ti.append(Ot[Xe],ne()),je.nextNode(),St.push({type:2,index:++Lt});ti.append(Ot[Bt],ne())}}}else if(ti.nodeType===8)if(ti.data===G)St.push({type:2,index:Lt});else for(var De=-1;(De=ti.data.indexOf(N,De+1))!==-1;)St.push({type:7,index:Lt}),De+=N.length-1;Lt++}},null,[{key:"createElement",value:function(ut,mt){var Mt=K.createElement("template");return Mt.innerHTML=ut,Mt}}])}();function Re(ut,mt){var Mt,ti,oi,ci,Lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut,It=arguments.length>3?arguments[3]:void 0;if(mt===We)return mt;var Ct=It!==void 0?(Mt=Lt._$Co)===null||Mt===void 0?void 0:Mt[It]:Lt._$Cl,St=Q(mt)?void 0:mt._$litDirective$;return(Ct==null?void 0:Ct.constructor)!==St&&((ti=Ct==null?void 0:Ct._$AO)===null||ti===void 0||ti.call(Ct,!1),St===void 0?Ct=void 0:(Ct=new St(ut))._$AT(ut,Lt,It),It!==void 0?((oi=(ci=Lt)._$Co)!==null&&oi!==void 0?oi:ci._$Co=[])[It]=Ct:Lt._$Cl=Ct),Ct!==void 0&&(mt=Re(ut,Ct._$AS(ut,mt.values),Ct,It)),mt}var te=function(){return O(function ut(mt,Mt){P(this,ut),this._$AV=[],this._$AN=void 0,this._$AD=mt,this._$AM=Mt},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(ut){var mt,Mt=this._$AD,ti=Mt.el.content,oi=Mt.parts,ci=((mt=ut==null?void 0:ut.creationScope)!==null&&mt!==void 0?mt:K).importNode(ti,!0);je.currentNode=ci;for(var Lt=je.nextNode(),It=0,Ct=0,St=oi[0];St!==void 0;){if(It===St.index){var kt=void 0;St.type===2?kt=new J(Lt,Lt.nextSibling,this,ut):St.type===1?kt=new St.ctor(Lt,St.name,St.strings,this,ut):St.type===6&&(kt=new Ee(Lt,this,ut)),this._$AV.push(kt),St=oi[++Ct]}It!==(St==null?void 0:St.index)&&(Lt=je.nextNode(),It++)}return je.currentNode=K,ci}},{key:"v",value:function(ut){var mt,Mt=0,ti=w(this._$AV);try{for(ti.s();!(mt=ti.n()).done;){var oi=mt.value;oi!==void 0&&(oi.strings!==void 0?(oi._$AI(ut,oi,Mt),Mt+=oi.strings.length-2):oi._$AI(ut[Mt])),Mt++}}catch(ci){ti.e(ci)}finally{ti.f()}}}])}(),J=function(){function ut(mt,Mt,ti,oi){var ci;P(this,ut),this.type=2,this._$AH=Se,this._$AN=void 0,this._$AA=mt,this._$AB=Mt,this._$AM=ti,this.options=oi,this._$Cp=(ci=oi==null?void 0:oi.isConnected)===null||ci===void 0||ci}return O(ut,[{key:"_$AU",get:function(){var mt,Mt;return(Mt=(mt=this._$AM)===null||mt===void 0?void 0:mt._$AU)!==null&&Mt!==void 0?Mt:this._$Cp}},{key:"parentNode",get:function(){var mt=this._$AA.parentNode,Mt=this._$AM;return Mt!==void 0&&(mt==null?void 0:mt.nodeType)===11&&(mt=Mt.parentNode),mt}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(mt){mt=Re(this,mt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),Q(mt)?mt===Se||mt==null||mt===""?(this._$AH!==Se&&this._$AR(),this._$AH=Se):mt!==this._$AH&&mt!==We&&this._(mt):mt._$litType$!==void 0?this.g(mt):mt.nodeType!==void 0?this.$(mt):Me(mt)?this.T(mt):this._(mt)}},{key:"k",value:function(mt){return this._$AA.parentNode.insertBefore(mt,this._$AB)}},{key:"$",value:function(mt){this._$AH!==mt&&(this._$AR(),this._$AH=this.k(mt))}},{key:"_",value:function(mt){this._$AH!==Se&&Q(this._$AH)?this._$AA.nextSibling.data=mt:this.$(K.createTextNode(mt)),this._$AH=mt}},{key:"g",value:function(mt){var Mt,ti=mt.values,oi=mt._$litType$,ci=typeof oi=="number"?this._$AC(mt):(oi.el===void 0&&(oi.el=it.createElement(Ne(oi.h,oi.h[0]),this.options)),oi);if(((Mt=this._$AH)===null||Mt===void 0?void 0:Mt._$AD)===ci)this._$AH.v(ti);else{var Lt=new te(ci,this),It=Lt.u(this.options);Lt.v(ti),this.$(It),this._$AH=Lt}}},{key:"_$AC",value:function(mt){var Mt=Le.get(mt.strings);return Mt===void 0&&Le.set(mt.strings,Mt=new it(mt)),Mt}},{key:"T",value:function(mt){ee(this._$AH)||(this._$AH=[],this._$AR());var Mt,ti,oi=this._$AH,ci=0,Lt=w(mt);try{for(Lt.s();!(ti=Lt.n()).done;){var It=ti.value;ci===oi.length?oi.push(Mt=new ut(this.k(ne()),this.k(ne()),this,this.options)):Mt=oi[ci],Mt._$AI(It),ci++}}catch(Ct){Lt.e(Ct)}finally{Lt.f()}ci<oi.length&&(this._$AR(Mt&&Mt._$AB.nextSibling,ci),oi.length=ci)}},{key:"_$AR",value:function(){var mt,Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,ti=arguments.length>1?arguments[1]:void 0;for((mt=this._$AP)===null||mt===void 0||mt.call(this,!1,!0,ti);Mt&&Mt!==this._$AB;){var oi=Mt.nextSibling;Mt.remove(),Mt=oi}}},{key:"setConnected",value:function(mt){var Mt;this._$AM===void 0&&(this._$Cp=mt,(Mt=this._$AP)===null||Mt===void 0||Mt.call(this,mt))}}])}(),qe=function(){return O(function ut(mt,Mt,ti,oi,ci){P(this,ut),this.type=1,this._$AH=Se,this._$AN=void 0,this.element=mt,this.name=Mt,this._$AM=oi,this.options=ci,ti.length>2||ti[0]!==""||ti[1]!==""?(this._$AH=Array(ti.length-1).fill(new String),this.strings=ti):this._$AH=Se},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(ut){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,Mt=arguments.length>2?arguments[2]:void 0,ti=arguments.length>3?arguments[3]:void 0,oi=this.strings,ci=!1;if(oi===void 0)ut=Re(this,ut,mt,0),(ci=!Q(ut)||ut!==this._$AH&&ut!==We)&&(this._$AH=ut);else{var Lt,It,Ct=ut;for(ut=oi[0],Lt=0;Lt<oi.length-1;Lt++)(It=Re(this,Ct[Mt+Lt],mt,Lt))===We&&(It=this._$AH[Lt]),ci||(ci=!Q(It)||It!==this._$AH[Lt]),It===Se?ut=Se:ut!==Se&&(ut+=(It!=null?It:"")+oi[Lt+1]),this._$AH[Lt]=It}ci&&!ti&&this.j(ut)}},{key:"j",value:function(ut){ut===Se?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,ut!=null?ut:"")}}])}(),_t=function(ut){function mt(){var Mt;return P(this,mt),(Mt=p(this,mt,arguments)).type=3,Mt}return y(mt,ut),O(mt,[{key:"j",value:function(Mt){this.element[this.name]=Mt===Se?void 0:Mt}}])}(qe),be=d?d.emptyScript:"",$e=function(ut){function mt(){var Mt;return P(this,mt),(Mt=p(this,mt,arguments)).type=4,Mt}return y(mt,ut),O(mt,[{key:"j",value:function(Mt){Mt&&Mt!==Se?this.element.setAttribute(this.name,be):this.element.removeAttribute(this.name)}}])}(qe),st=function(ut){function mt(Mt,ti,oi,ci,Lt){var It;return P(this,mt),(It=p(this,mt,[Mt,ti,oi,ci,Lt])).type=5,It}return y(mt,ut),O(mt,[{key:"_$AI",value:function(Mt){var ti;if((Mt=(ti=Re(this,Mt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&ti!==void 0?ti:Se)!==We){var oi=this._$AH,ci=Mt===Se&&oi!==Se||Mt.capture!==oi.capture||Mt.once!==oi.once||Mt.passive!==oi.passive,Lt=Mt!==Se&&(oi===Se||ci);ci&&this.element.removeEventListener(this.name,this,oi),Lt&&this.element.addEventListener(this.name,this,Mt),this._$AH=Mt}}},{key:"handleEvent",value:function(Mt){var ti,oi;typeof this._$AH=="function"?this._$AH.call((oi=(ti=this.options)===null||ti===void 0?void 0:ti.host)!==null&&oi!==void 0?oi:this.element,Mt):this._$AH.handleEvent(Mt)}}])}(qe),Ee=function(){return O(function ut(mt,Mt,ti){P(this,ut),this.element=mt,this.type=6,this._$AN=void 0,this._$AM=Mt,this.options=ti},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(ut){Re(this,ut)}}])}(),Qe={O:C,P:N,A:G,C:1,M:Ge,L:te,R:Me,D:Re,I:J,V:qe,H:$e,N:st,U:_t,F:Ee},nt=v.litHtmlPolyfillSupport;nt==null||nt(it,J),((u=v.litHtmlVersions)!==null&&u!==void 0?u:v.litHtmlVersions=[]).push("2.8.0");var Ut=function(ut,mt,Mt){var ti,oi,ci=(ti=Mt==null?void 0:Mt.renderBefore)!==null&&ti!==void 0?ti:mt,Lt=ci._$litPart$;if(Lt===void 0){var It=(oi=Mt==null?void 0:Mt.renderBefore)!==null&&oi!==void 0?oi:null;ci._$litPart$=Lt=new J(mt.insertBefore(ne(),It),It,void 0,Mt!=null?Mt:{})}return Lt._$AI(ut),Lt}},9696:function(o,c,n){"use strict";n.d(c,{EM:function(){return u},MZ:function(){return k},P:function(){return q},wk:function(){return a}});var u=function(K){return function(ne){return typeof ne=="function"?function(Q,ee){return customElements.define(Q,ee),ee}(K,ne):function(Q,ee){return{kind:ee.kind,elements:ee.elements,finisher:function(Me){customElements.define(Q,Me)}}}(K,ne)}};function p(K){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},p(K)}function g(K,ne){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(K);ne&&(ee=ee.filter(function(Me){return Object.getOwnPropertyDescriptor(K,Me).enumerable})),Q.push.apply(Q,ee)}return Q}function m(K){for(var ne=1;ne<arguments.length;ne++){var Q=arguments[ne]!=null?arguments[ne]:{};ne%2?g(Object(Q),!0).forEach(function(ee){y(K,ee,Q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):g(Object(Q)).forEach(function(ee){Object.defineProperty(K,ee,Object.getOwnPropertyDescriptor(Q,ee))})}return K}function y(K,ne,Q){return(ne=function(ee){var Me=function(pe,W){if(p(pe)!="object"||!pe)return pe;var oe=pe[Symbol.toPrimitive];if(oe!==void 0){var fe=oe.call(pe,"string");if(p(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(ee);return p(Me)=="symbol"?Me:Me+""}(ne))in K?Object.defineProperty(K,ne,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ne]=Q,K}n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(8130),n(3851),n(1278),n(9432),n(6099),n(7764),n(3500),n(2953);var x=function(K,ne){return ne.kind==="method"&&ne.descriptor&&!("value"in ne.descriptor)?m(m({},ne),{},{finisher:function(Q){Q.createProperty(ne.key,K)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:ne.key,initializer:function(){typeof ne.initializer=="function"&&(this[ne.key]=ne.initializer.call(this))},finisher:function(Q){Q.createProperty(ne.key,K)}}},w=function(K,ne,Q){ne.constructor.createProperty(Q,K)};function k(K){return function(ne,Q){return Q!==void 0?w(K,ne,Q):x(K,ne)}}function S(K){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},S(K)}function P(K,ne){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(K);ne&&(ee=ee.filter(function(Me){return Object.getOwnPropertyDescriptor(K,Me).enumerable})),Q.push.apply(Q,ee)}return Q}function E(K){for(var ne=1;ne<arguments.length;ne++){var Q=arguments[ne]!=null?arguments[ne]:{};ne%2?P(Object(Q),!0).forEach(function(ee){O(K,ee,Q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):P(Object(Q)).forEach(function(ee){Object.defineProperty(K,ee,Object.getOwnPropertyDescriptor(Q,ee))})}return K}function O(K,ne,Q){return(ne=function(ee){var Me=function(pe,W){if(S(pe)!="object"||!pe)return pe;var oe=pe[Symbol.toPrimitive];if(oe!==void 0){var fe=oe.call(pe,"string");if(S(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(ee);return S(Me)=="symbol"?Me:Me+""}(ne))in K?Object.defineProperty(K,ne,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ne]=Q,K}function a(K){return k(E(E({},K),{},{state:!0}))}function h(K){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},h(K)}function v(K,ne){var Q=Object.keys(K);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(K);ne&&(ee=ee.filter(function(Me){return Object.getOwnPropertyDescriptor(K,Me).enumerable})),Q.push.apply(Q,ee)}return Q}function d(K){for(var ne=1;ne<arguments.length;ne++){var Q=arguments[ne]!=null?arguments[ne]:{};ne%2?v(Object(Q),!0).forEach(function(ee){_(K,ee,Q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Q)):v(Object(Q)).forEach(function(ee){Object.defineProperty(K,ee,Object.getOwnPropertyDescriptor(Q,ee))})}return K}function _(K,ne,Q){return(ne=function(ee){var Me=function(pe,W){if(h(pe)!="object"||!pe)return pe;var oe=pe[Symbol.toPrimitive];if(oe!==void 0){var fe=oe.call(pe,"string");if(h(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pe)}(ee);return h(Me)=="symbol"?Me:Me+""}(ne))in K?Object.defineProperty(K,ne,{value:Q,enumerable:!0,configurable:!0,writable:!0}):K[ne]=Q,K}n(9085);var C,N=function(K){var ne=K.finisher,Q=K.descriptor;return function(ee,Me){var pe;if(Me===void 0){var W=(pe=ee.originalKey)!==null&&pe!==void 0?pe:ee.key,oe=Q!=null?{kind:"method",placement:"prototype",key:W,descriptor:Q(ee.key)}:d(d({},ee),{},{key:W});return ne!=null&&(oe.finisher=function(Z){ne(Z,W)}),oe}var fe=ee.constructor;Q!==void 0&&Object.defineProperty(ee,Me,Q(Me)),ne==null||ne(fe,Me)}};function G(K){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},G(K)}function q(K,ne){return N({descriptor:function(Q){var ee={get:function(){var pe,W;return(W=(pe=this.renderRoot)===null||pe===void 0?void 0:pe.querySelector(K))!==null&&W!==void 0?W:null},enumerable:!0,configurable:!0};if(ne){var Me=G(Q)=="symbol"?Symbol():"__"+Q;ee.get=function(){var pe,W;return this[Me]===void 0&&(this[Me]=(W=(pe=this.renderRoot)===null||pe===void 0?void 0:pe.querySelector(K))!==null&&W!==void 0?W:null),this[Me]}}return ee}})}n(6412),n(8125),n(4490),n(4782),n(2010),n(4731),n(479),n(875),n(3362),(C=window.HTMLSlotElement)===null||C===void 0||C.prototype.assignedElements},8900:function(o,c,n){"use strict";n.d(c,{W:function(){return a}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(4423),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(9432),n(6099),n(825),n(7495),n(8781),n(1415),n(9449),n(1699),n(7764),n(5440),n(3500),n(2953);var u=n(6681),p=n(1091);function g(h){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(h)}function m(h,v){(v==null||v>h.length)&&(v=h.length);for(var d=0,_=Array(v);d<v;d++)_[d]=h[d];return _}function y(h,v){for(var d=0;d<v.length;d++){var _=v[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,x(_.key),_)}}function x(h){var v=function(d,_){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(h);return g(v)=="symbol"?v:v+""}function w(h,v,d){return v=S(v),function(_,C){if(C&&(g(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(_)}(h,k()?Reflect.construct(v,d||[],S(h).constructor):v.apply(h,d))}function k(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(v){}return(k=function(){return!!h})()}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},S(h)}function P(h,v){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,_){return d.__proto__=_,d},P(h,v)}var E="important",O=" !"+E,a=(0,p.u$)(function(h){function v(C){var N,G;if(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}(this,v),N=w(this,v,[C]),C.type!==p.OA.ATTRIBUTE||C.name!=="style"||((G=C.strings)===null||G===void 0?void 0:G.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return N}return function(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),N&&P(C,N)}(v,h),d=v,_=[{key:"render",value:function(C){return Object.keys(C).reduce(function(N,G){var q=C[G];return q==null?N:N+"".concat(G=G.includes("-")?G:G.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(q,";")},"")}},{key:"update",value:function(C,N){var G=this,q=function(pe,W){return function(oe){if(Array.isArray(oe))return oe}(pe)||function(oe,fe){var Z=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(Z!=null){var xe,Y,he,Ke,ht=[],lt=!0,We=!1;try{if(he=(Z=Z.call(oe)).next,fe===0){if(Object(Z)!==Z)return;lt=!1}else for(;!(lt=(xe=he.call(Z)).done)&&(ht.push(xe.value),ht.length!==fe);lt=!0);}catch(Se){We=!0,Y=Se}finally{try{if(!lt&&Z.return!=null&&(Ke=Z.return(),Object(Ke)!==Ke))return}finally{if(We)throw Y}}return ht}}(pe,W)||function(oe,fe){if(oe){if(typeof oe=="string")return m(oe,fe);var Z={}.toString.call(oe).slice(8,-1);return Z==="Object"&&oe.constructor&&(Z=oe.constructor.name),Z==="Map"||Z==="Set"?Array.from(oe):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?m(oe,fe):void 0}}(pe,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(N,1)[0],K=C.element.style;if(this.ht===void 0){for(var ne in this.ht=new Set,q)this.ht.add(ne);return this.render(q)}for(var Q in this.ht.forEach(function(pe){q[pe]==null&&(G.ht.delete(pe),pe.includes("-")?K.removeProperty(pe):K[pe]="")}),q){var ee=q[Q];if(ee!=null){this.ht.add(Q);var Me=typeof ee=="string"&&ee.endsWith(O);Q.includes("-")||Me?K.setProperty(Q,Me?ee.slice(0,-11):ee,Me?E:""):K[Q]=ee}}return u.c0}}],_&&y(d.prototype,_),Object.defineProperty(d,"prototype",{writable:!1}),d;var d,_}(p.WL))},420:function(o,c,n){"use strict";function u(be){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},u(be)}function p(be,$e){($e==null||$e>be.length)&&($e=be.length);for(var st=0,Ee=Array($e);st<$e;st++)Ee[st]=be[st];return Ee}function g(be,$e){for(var st=0;st<$e.length;st++){var Ee=$e[st];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(be,m(Ee.key),Ee)}}function m(be){var $e=function(st,Ee){if(u(st)!="object"||!st)return st;var Qe=st[Symbol.toPrimitive];if(Qe!==void 0){var nt=Qe.call(st,"string");if(u(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(st)}(be);return u($e)=="symbol"?$e:$e+""}n.d(c,{WF:function(){return qe},AH:function(){return E},qy:function(){return lt.qy},s6:function(){return lt.s6},XX:function(){return lt.XX},JW:function(){return lt.JW}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(6449),n(3418),n(3792),n(4490),n(4782),n(4554),n(3514),n(739),n(9572),n(2010),n(4731),n(6033),n(479),n(8130),n(1480),n(875),n(9432),n(6099),n(3362),n(825),n(7495),n(8781),n(1415),n(7764),n(3500),n(2953),n(2062),n(2712),n(3772);var y,x=window,w=x.ShadowRoot&&(x.ShadyCSS===void 0||x.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k=Symbol(),S=new WeakMap,P=function(){return function(be,$e,st){return $e&&g(be.prototype,$e),Object.defineProperty(be,"prototype",{writable:!1}),be}(function be($e,st,Ee){if(function(Qe,nt){if(!(Qe instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,be),this._$cssResult$=!0,Ee!==k)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=$e,this.t=st},[{key:"styleSheet",get:function(){var be=this.o,$e=this.t;if(w&&be===void 0){var st=$e!==void 0&&$e.length===1;st&&(be=S.get($e)),be===void 0&&((this.o=be=new CSSStyleSheet).replaceSync(this.cssText),st&&S.set($e,be))}return be}},{key:"toString",value:function(){return this.cssText}}])}(),E=function(be){for(var $e=arguments.length,st=new Array($e>1?$e-1:0),Ee=1;Ee<$e;Ee++)st[Ee-1]=arguments[Ee];var Qe=be.length===1?be[0]:st.reduce(function(nt,Ut,ut){return nt+function(mt){if(mt._$cssResult$===!0)return mt.cssText;if(typeof mt=="number")return mt;throw Error("Value passed to 'css' function must be a 'css' function result: "+mt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(Ut)+be[ut+1]},be[0]);return new P(Qe,be,k)},O=w?function(be){return be}:function(be){return be instanceof CSSStyleSheet?function($e){var st,Ee="",Qe=function(nt,Ut){var ut=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!ut){if(Array.isArray(nt)||(ut=function(Lt,It){if(Lt){if(typeof Lt=="string")return p(Lt,It);var Ct={}.toString.call(Lt).slice(8,-1);return Ct==="Object"&&Lt.constructor&&(Ct=Lt.constructor.name),Ct==="Map"||Ct==="Set"?Array.from(Lt):Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct)?p(Lt,It):void 0}}(nt))||Ut&&nt&&typeof nt.length=="number"){ut&&(nt=ut);var mt=0,Mt=function(){};return{s:Mt,n:function(){return mt>=nt.length?{done:!0}:{done:!1,value:nt[mt++]}},e:function(Lt){throw Lt},f:Mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ti,oi=!0,ci=!1;return{s:function(){ut=ut.call(nt)},n:function(){var Lt=ut.next();return oi=Lt.done,Lt},e:function(Lt){ci=!0,ti=Lt},f:function(){try{oi||ut.return==null||ut.return()}finally{if(ci)throw ti}}}}($e.cssRules);try{for(Qe.s();!(st=Qe.n()).done;)Ee+=st.value.cssText}catch(nt){Qe.e(nt)}finally{Qe.f()}return function(nt){return new P(typeof nt=="string"?nt:nt+"",void 0,k)}(Ee)}(be):be};function a(be,$e){var st=typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(!st){if(Array.isArray(be)||(st=v(be))||$e&&be&&typeof be.length=="number"){st&&(be=st);var Ee=0,Qe=function(){};return{s:Qe,n:function(){return Ee>=be.length?{done:!0}:{done:!1,value:be[Ee++]}},e:function(mt){throw mt},f:Qe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt,Ut=!0,ut=!1;return{s:function(){st=st.call(be)},n:function(){var mt=st.next();return Ut=mt.done,mt},e:function(mt){ut=!0,nt=mt},f:function(){try{Ut||st.return==null||st.return()}finally{if(ut)throw nt}}}}function h(be){return function($e){if(Array.isArray($e))return d($e)}(be)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(be)||v(be)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(be,$e){if(be){if(typeof be=="string")return d(be,$e);var st={}.toString.call(be).slice(8,-1);return st==="Object"&&be.constructor&&(st=be.constructor.name),st==="Map"||st==="Set"?Array.from(be):st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st)?d(be,$e):void 0}}function d(be,$e){($e==null||$e>be.length)&&($e=be.length);for(var st=0,Ee=Array($e);st<$e;st++)Ee[st]=be[st];return Ee}function _(be){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},_(be)}function C(){C=function(){return $e};var be,$e={},st=Object.prototype,Ee=st.hasOwnProperty,Qe=Object.defineProperty||function(Ot,Bt,Xe){Ot[Bt]=Xe.value},nt=typeof Symbol=="function"?Symbol:{},Ut=nt.iterator||"@@iterator",ut=nt.asyncIterator||"@@asyncIterator",mt=nt.toStringTag||"@@toStringTag";function Mt(Ot,Bt,Xe){return Object.defineProperty(Ot,Bt,{value:Xe,enumerable:!0,configurable:!0,writable:!0}),Ot[Bt]}try{Mt({},"")}catch(Ot){Mt=function(Bt,Xe,De){return Bt[Xe]=De}}function ti(Ot,Bt,Xe,De){var Fe=Bt&&Bt.prototype instanceof kt?Bt:kt,et=Object.create(Fe.prototype),Pt=new zt(De||[]);return Qe(et,"_invoke",{value:Ue(Ot,Xe,Pt)}),et}function oi(Ot,Bt,Xe){try{return{type:"normal",arg:Ot.call(Bt,Xe)}}catch(De){return{type:"throw",arg:De}}}$e.wrap=ti;var ci="suspendedStart",Lt="suspendedYield",It="executing",Ct="completed",St={};function kt(){}function I(){}function Ve(){}var ke={};Mt(ke,Ut,function(){return this});var Ye=Object.getPrototypeOf,Ze=Ye&&Ye(Ye(Xt([])));Ze&&Ze!==st&&Ee.call(Ze,Ut)&&(ke=Ze);var dt=Ve.prototype=kt.prototype=Object.create(ke);function ae(Ot){["next","throw","return"].forEach(function(Bt){Mt(Ot,Bt,function(Xe){return this._invoke(Bt,Xe)})})}function Ie(Ot,Bt){function Xe(Fe,et,Pt,Nt){var Je=oi(Ot[Fe],Ot,et);if(Je.type!=="throw"){var wt=Je.arg,At=wt.value;return At&&_(At)=="object"&&Ee.call(At,"__await")?Bt.resolve(At.__await).then(function(Kt){Xe("next",Kt,Pt,Nt)},function(Kt){Xe("throw",Kt,Pt,Nt)}):Bt.resolve(At).then(function(Kt){wt.value=Kt,Pt(wt)},function(Kt){return Xe("throw",Kt,Pt,Nt)})}Nt(Je.arg)}var De;Qe(this,"_invoke",{value:function(Fe,et){function Pt(){return new Bt(function(Nt,Je){Xe(Fe,et,Nt,Je)})}return De=De?De.then(Pt,Pt):Pt()}})}function Ue(Ot,Bt,Xe){var De=ci;return function(Fe,et){if(De===It)throw Error("Generator is already running");if(De===Ct){if(Fe==="throw")throw et;return{value:be,done:!0}}for(Xe.method=Fe,Xe.arg=et;;){var Pt=Xe.delegate;if(Pt){var Nt=gt(Pt,Xe);if(Nt){if(Nt===St)continue;return Nt}}if(Xe.method==="next")Xe.sent=Xe._sent=Xe.arg;else if(Xe.method==="throw"){if(De===ci)throw De=Ct,Xe.arg;Xe.dispatchException(Xe.arg)}else Xe.method==="return"&&Xe.abrupt("return",Xe.arg);De=It;var Je=oi(Ot,Bt,Xe);if(Je.type==="normal"){if(De=Xe.done?Ct:Lt,Je.arg===St)continue;return{value:Je.arg,done:Xe.done}}Je.type==="throw"&&(De=Ct,Xe.method="throw",Xe.arg=Je.arg)}}}function gt(Ot,Bt){var Xe=Bt.method,De=Ot.iterator[Xe];if(De===be)return Bt.delegate=null,Xe==="throw"&&Ot.iterator.return&&(Bt.method="return",Bt.arg=be,gt(Ot,Bt),Bt.method==="throw")||Xe!=="return"&&(Bt.method="throw",Bt.arg=new TypeError("The iterator does not provide a '"+Xe+"' method")),St;var Fe=oi(De,Ot.iterator,Bt.arg);if(Fe.type==="throw")return Bt.method="throw",Bt.arg=Fe.arg,Bt.delegate=null,St;var et=Fe.arg;return et?et.done?(Bt[Ot.resultName]=et.value,Bt.next=Ot.nextLoc,Bt.method!=="return"&&(Bt.method="next",Bt.arg=be),Bt.delegate=null,St):et:(Bt.method="throw",Bt.arg=new TypeError("iterator result is not an object"),Bt.delegate=null,St)}function ct(Ot){var Bt={tryLoc:Ot[0]};1 in Ot&&(Bt.catchLoc=Ot[1]),2 in Ot&&(Bt.finallyLoc=Ot[2],Bt.afterLoc=Ot[3]),this.tryEntries.push(Bt)}function Et(Ot){var Bt=Ot.completion||{};Bt.type="normal",delete Bt.arg,Ot.completion=Bt}function zt(Ot){this.tryEntries=[{tryLoc:"root"}],Ot.forEach(ct,this),this.reset(!0)}function Xt(Ot){if(Ot||Ot===""){var Bt=Ot[Ut];if(Bt)return Bt.call(Ot);if(typeof Ot.next=="function")return Ot;if(!isNaN(Ot.length)){var Xe=-1,De=function Fe(){for(;++Xe<Ot.length;)if(Ee.call(Ot,Xe))return Fe.value=Ot[Xe],Fe.done=!1,Fe;return Fe.value=be,Fe.done=!0,Fe};return De.next=De}}throw new TypeError(_(Ot)+" is not iterable")}return I.prototype=Ve,Qe(dt,"constructor",{value:Ve,configurable:!0}),Qe(Ve,"constructor",{value:I,configurable:!0}),I.displayName=Mt(Ve,mt,"GeneratorFunction"),$e.isGeneratorFunction=function(Ot){var Bt=typeof Ot=="function"&&Ot.constructor;return!!Bt&&(Bt===I||(Bt.displayName||Bt.name)==="GeneratorFunction")},$e.mark=function(Ot){return Object.setPrototypeOf?Object.setPrototypeOf(Ot,Ve):(Ot.__proto__=Ve,Mt(Ot,mt,"GeneratorFunction")),Ot.prototype=Object.create(dt),Ot},$e.awrap=function(Ot){return{__await:Ot}},ae(Ie.prototype),Mt(Ie.prototype,ut,function(){return this}),$e.AsyncIterator=Ie,$e.async=function(Ot,Bt,Xe,De,Fe){Fe===void 0&&(Fe=Promise);var et=new Ie(ti(Ot,Bt,Xe,De),Fe);return $e.isGeneratorFunction(Bt)?et:et.next().then(function(Pt){return Pt.done?Pt.value:et.next()})},ae(dt),Mt(dt,mt,"Generator"),Mt(dt,Ut,function(){return this}),Mt(dt,"toString",function(){return"[object Generator]"}),$e.keys=function(Ot){var Bt=Object(Ot),Xe=[];for(var De in Bt)Xe.push(De);return Xe.reverse(),function Fe(){for(;Xe.length;){var et=Xe.pop();if(et in Bt)return Fe.value=et,Fe.done=!1,Fe}return Fe.done=!0,Fe}},$e.values=Xt,zt.prototype={constructor:zt,reset:function(Ot){if(this.prev=0,this.next=0,this.sent=this._sent=be,this.done=!1,this.delegate=null,this.method="next",this.arg=be,this.tryEntries.forEach(Et),!Ot)for(var Bt in this)Bt.charAt(0)==="t"&&Ee.call(this,Bt)&&!isNaN(+Bt.slice(1))&&(this[Bt]=be)},stop:function(){this.done=!0;var Ot=this.tryEntries[0].completion;if(Ot.type==="throw")throw Ot.arg;return this.rval},dispatchException:function(Ot){if(this.done)throw Ot;var Bt=this;function Xe(Je,wt){return et.type="throw",et.arg=Ot,Bt.next=Je,wt&&(Bt.method="next",Bt.arg=be),!!wt}for(var De=this.tryEntries.length-1;De>=0;--De){var Fe=this.tryEntries[De],et=Fe.completion;if(Fe.tryLoc==="root")return Xe("end");if(Fe.tryLoc<=this.prev){var Pt=Ee.call(Fe,"catchLoc"),Nt=Ee.call(Fe,"finallyLoc");if(Pt&&Nt){if(this.prev<Fe.catchLoc)return Xe(Fe.catchLoc,!0);if(this.prev<Fe.finallyLoc)return Xe(Fe.finallyLoc)}else if(Pt){if(this.prev<Fe.catchLoc)return Xe(Fe.catchLoc,!0)}else{if(!Nt)throw Error("try statement without catch or finally");if(this.prev<Fe.finallyLoc)return Xe(Fe.finallyLoc)}}}},abrupt:function(Ot,Bt){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var De=this.tryEntries[Xe];if(De.tryLoc<=this.prev&&Ee.call(De,"finallyLoc")&&this.prev<De.finallyLoc){var Fe=De;break}}Fe&&(Ot==="break"||Ot==="continue")&&Fe.tryLoc<=Bt&&Bt<=Fe.finallyLoc&&(Fe=null);var et=Fe?Fe.completion:{};return et.type=Ot,et.arg=Bt,Fe?(this.method="next",this.next=Fe.finallyLoc,St):this.complete(et)},complete:function(Ot,Bt){if(Ot.type==="throw")throw Ot.arg;return Ot.type==="break"||Ot.type==="continue"?this.next=Ot.arg:Ot.type==="return"?(this.rval=this.arg=Ot.arg,this.method="return",this.next="end"):Ot.type==="normal"&&Bt&&(this.next=Bt),St},finish:function(Ot){for(var Bt=this.tryEntries.length-1;Bt>=0;--Bt){var Xe=this.tryEntries[Bt];if(Xe.finallyLoc===Ot)return this.complete(Xe.completion,Xe.afterLoc),Et(Xe),St}},catch:function(Ot){for(var Bt=this.tryEntries.length-1;Bt>=0;--Bt){var Xe=this.tryEntries[Bt];if(Xe.tryLoc===Ot){var De=Xe.completion;if(De.type==="throw"){var Fe=De.arg;Et(Xe)}return Fe}}throw Error("illegal catch attempt")},delegateYield:function(Ot,Bt,Xe){return this.delegate={iterator:Xt(Ot),resultName:Bt,nextLoc:Xe},this.method==="next"&&(this.arg=be),St}},$e}function N(be,$e,st,Ee,Qe,nt,Ut){try{var ut=be[nt](Ut),mt=ut.value}catch(Mt){return void st(Mt)}ut.done?$e(mt):Promise.resolve(mt).then(Ee,Qe)}function G(be,$e){for(var st=0;st<$e.length;st++){var Ee=$e[st];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(be,q(Ee.key),Ee)}}function q(be){var $e=function(st,Ee){if(_(st)!="object"||!st)return st;var Qe=st[Symbol.toPrimitive];if(Qe!==void 0){var nt=Qe.call(st,"string");if(_(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(st)}(be);return _($e)=="symbol"?$e:$e+""}function K(be){var $e=typeof Map=="function"?new Map:void 0;return K=function(st){if(st===null||!function(Qe){try{return Function.toString.call(Qe).indexOf("[native code]")!==-1}catch(nt){return typeof Qe=="function"}}(st))return st;if(typeof st!="function")throw new TypeError("Super expression must either be null or a function");if($e!==void 0){if($e.has(st))return $e.get(st);$e.set(st,Ee)}function Ee(){return function(Qe,nt,Ut){if(ne())return Reflect.construct.apply(null,arguments);var ut=[null];ut.push.apply(ut,nt);var mt=new(Qe.bind.apply(Qe,ut));return Ut&&Q(mt,Ut.prototype),mt}(st,arguments,ee(this).constructor)}return Ee.prototype=Object.create(st.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}}),Q(Ee,st)},K(be)}function ne(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(ne=function(){return!!be})()}function Q(be,$e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,Ee){return st.__proto__=Ee,st},Q(be,$e)}function ee(be){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},ee(be)}var Me=window,pe=Me.trustedTypes,W=pe?pe.emptyScript:"",oe=Me.reactiveElementPolyfillSupport,fe={toAttribute:function(be,$e){switch($e){case Boolean:be=be?W:null;break;case Object:case Array:be=be==null?be:JSON.stringify(be)}return be},fromAttribute:function(be,$e){var st=be;switch($e){case Boolean:st=be!==null;break;case Number:st=be===null?null:Number(be);break;case Object:case Array:try{st=JSON.parse(be)}catch(Ee){st=null}}return st}},Z=function(be,$e){return $e!==be&&($e==$e||be==be)},xe={attribute:!0,type:String,converter:fe,reflect:!1,hasChanged:Z},Y="finalized",he=function(be){function $e(){var Ee;return function(Qe,nt){if(!(Qe instanceof nt))throw new TypeError("Cannot call a class as a function")}(this,$e),(Ee=function(Qe,nt,Ut){return nt=ee(nt),function(ut,mt){if(mt&&(_(mt)=="object"||typeof mt=="function"))return mt;if(mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}(ut)}(Qe,ne()?Reflect.construct(nt,Ut||[],ee(Qe).constructor):nt.apply(Qe,Ut))}(this,$e))._$Ei=new Map,Ee.isUpdatePending=!1,Ee.hasUpdated=!1,Ee._$El=null,Ee._$Eu(),Ee}return function(Ee,Qe){if(typeof Qe!="function"&&Qe!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),Qe&&Q(Ee,Qe)}($e,be),function(Ee,Qe,nt){return Qe&&G(Ee.prototype,Qe),nt&&G(Ee,nt),Object.defineProperty(Ee,"prototype",{writable:!1}),Ee}($e,[{key:"_$Eu",value:function(){var Ee,Qe=this;this._$E_=new Promise(function(nt){return Qe.enableUpdating=nt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(Ee=this.constructor.h)===null||Ee===void 0||Ee.forEach(function(nt){return nt(Qe)})}},{key:"addController",value:function(Ee){var Qe,nt;((Qe=this._$ES)!==null&&Qe!==void 0?Qe:this._$ES=[]).push(Ee),this.renderRoot!==void 0&&this.isConnected&&((nt=Ee.hostConnected)===null||nt===void 0||nt.call(Ee))}},{key:"removeController",value:function(Ee){var Qe;(Qe=this._$ES)===null||Qe===void 0||Qe.splice(this._$ES.indexOf(Ee)>>>0,1)}},{key:"_$Eg",value:function(){var Ee=this;this.constructor.elementProperties.forEach(function(Qe,nt){Ee.hasOwnProperty(nt)&&(Ee._$Ei.set(nt,Ee[nt]),delete Ee[nt])})}},{key:"createRenderRoot",value:function(){var Ee,Qe=(Ee=this.shadowRoot)!==null&&Ee!==void 0?Ee:this.attachShadow(this.constructor.shadowRootOptions);return function(nt,Ut){w?nt.adoptedStyleSheets=Ut.map(function(ut){return ut instanceof CSSStyleSheet?ut:ut.styleSheet}):Ut.forEach(function(ut){var mt=document.createElement("style"),Mt=x.litNonce;Mt!==void 0&&mt.setAttribute("nonce",Mt),mt.textContent=ut.cssText,nt.appendChild(mt)})}(Qe,this.constructor.elementStyles),Qe}},{key:"connectedCallback",value:function(){var Ee;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(Qe){var nt;return(nt=Qe.hostConnected)===null||nt===void 0?void 0:nt.call(Qe)})}},{key:"enableUpdating",value:function(Ee){}},{key:"disconnectedCallback",value:function(){var Ee;(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(Qe){var nt;return(nt=Qe.hostDisconnected)===null||nt===void 0?void 0:nt.call(Qe)})}},{key:"attributeChangedCallback",value:function(Ee,Qe,nt){this._$AK(Ee,nt)}},{key:"_$EO",value:function(Ee,Qe){var nt,Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,ut=this.constructor._$Ep(Ee,Ut);if(ut!==void 0&&Ut.reflect===!0){var mt=(((nt=Ut.converter)===null||nt===void 0?void 0:nt.toAttribute)!==void 0?Ut.converter:fe).toAttribute(Qe,Ut.type);this._$El=Ee,mt==null?this.removeAttribute(ut):this.setAttribute(ut,mt),this._$El=null}}},{key:"_$AK",value:function(Ee,Qe){var nt,Ut=this.constructor,ut=Ut._$Ev.get(Ee);if(ut!==void 0&&this._$El!==ut){var mt=Ut.getPropertyOptions(ut),Mt=typeof mt.converter=="function"?{fromAttribute:mt.converter}:((nt=mt.converter)===null||nt===void 0?void 0:nt.fromAttribute)!==void 0?mt.converter:fe;this._$El=ut,this[ut]=Mt.fromAttribute(Qe,mt.type),this._$El=null}}},{key:"requestUpdate",value:function(Ee,Qe,nt){var Ut=!0;Ee!==void 0&&(((nt=nt||this.constructor.getPropertyOptions(Ee)).hasChanged||Z)(this[Ee],Qe)?(this._$AL.has(Ee)||this._$AL.set(Ee,Qe),nt.reflect===!0&&this._$El!==Ee&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(Ee,nt))):Ut=!1),!this.isUpdatePending&&Ut&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(st=function(Ee){return function(){var Qe=this,nt=arguments;return new Promise(function(Ut,ut){var mt=Ee.apply(Qe,nt);function Mt(oi){N(mt,Ut,ut,Mt,ti,"next",oi)}function ti(oi){N(mt,Ut,ut,Mt,ti,"throw",oi)}Mt(void 0)})}}(C().mark(function Ee(){var Qe;return C().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return this.isUpdatePending=!0,nt.prev=1,nt.next=4,this._$E_;case 4:nt.next=9;break;case 6:nt.prev=6,nt.t0=nt.catch(1),Promise.reject(nt.t0);case 9:if(Qe=this.scheduleUpdate(),nt.t1=Qe!=null,!nt.t1){nt.next=14;break}return nt.next=14,Qe;case 14:return nt.abrupt("return",!this.isUpdatePending);case 15:case"end":return nt.stop()}},Ee,this,[[1,6]])})),function(){return st.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var Ee,Qe=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(ut,mt){return Qe[mt]=ut}),this._$Ei=void 0);var nt=!1,Ut=this._$AL;try{(nt=this.shouldUpdate(Ut))?(this.willUpdate(Ut),(Ee=this._$ES)===null||Ee===void 0||Ee.forEach(function(ut){var mt;return(mt=ut.hostUpdate)===null||mt===void 0?void 0:mt.call(ut)}),this.update(Ut)):this._$Ek()}catch(ut){throw nt=!1,this._$Ek(),ut}nt&&this._$AE(Ut)}}},{key:"willUpdate",value:function(Ee){}},{key:"_$AE",value:function(Ee){var Qe;(Qe=this._$ES)===null||Qe===void 0||Qe.forEach(function(nt){var Ut;return(Ut=nt.hostUpdated)===null||Ut===void 0?void 0:Ut.call(nt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Ee)),this.updated(Ee)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(Ee){return!0}},{key:"update",value:function(Ee){var Qe=this;this._$EC!==void 0&&(this._$EC.forEach(function(nt,Ut){return Qe._$EO(Ut,Qe[Ut],nt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(Ee){}},{key:"firstUpdated",value:function(Ee){}}],[{key:"addInitializer",value:function(Ee){var Qe;this.finalize(),((Qe=this.h)!==null&&Qe!==void 0?Qe:this.h=[]).push(Ee)}},{key:"observedAttributes",get:function(){var Ee=this;this.finalize();var Qe=[];return this.elementProperties.forEach(function(nt,Ut){var ut=Ee._$Ep(Ut,nt);ut!==void 0&&(Ee._$Ev.set(ut,Ut),Qe.push(ut))}),Qe}},{key:"createProperty",value:function(Ee){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe;if(Qe.state&&(Qe.attribute=!1),this.finalize(),this.elementProperties.set(Ee,Qe),!Qe.noAccessor&&!this.prototype.hasOwnProperty(Ee)){var nt=_(Ee)=="symbol"?Symbol():"__"+Ee,Ut=this.getPropertyDescriptor(Ee,nt,Qe);Ut!==void 0&&Object.defineProperty(this.prototype,Ee,Ut)}}},{key:"getPropertyDescriptor",value:function(Ee,Qe,nt){return{get:function(){return this[Qe]},set:function(Ut){var ut=this[Ee];this[Qe]=Ut,this.requestUpdate(Ee,ut,nt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(Ee){return this.elementProperties.get(Ee)||xe}},{key:"finalize",value:function(){if(this.hasOwnProperty(Y))return!1;this[Y]=!0;var Ee=Object.getPrototypeOf(this);if(Ee.finalize(),Ee.h!==void 0&&(this.h=h(Ee.h)),this.elementProperties=new Map(Ee.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var Qe,nt=this.properties,Ut=a([].concat(h(Object.getOwnPropertyNames(nt)),h(Object.getOwnPropertySymbols(nt))));try{for(Ut.s();!(Qe=Ut.n()).done;){var ut=Qe.value;this.createProperty(ut,nt[ut])}}catch(mt){Ut.e(mt)}finally{Ut.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(Ee){var Qe=[];if(Array.isArray(Ee)){var nt,Ut=a(new Set(Ee.flat(1/0).reverse()));try{for(Ut.s();!(nt=Ut.n()).done;){var ut=nt.value;Qe.unshift(O(ut))}}catch(mt){Ut.e(mt)}finally{Ut.f()}}else Ee!==void 0&&Qe.push(O(Ee));return Qe}},{key:"_$Ep",value:function(Ee,Qe){var nt=Qe.attribute;return nt===!1?void 0:typeof nt=="string"?nt:typeof Ee=="string"?Ee.toLowerCase():void 0}}]);var st}(K(HTMLElement));he[Y]=!0,he.elementProperties=new Map,he.elementStyles=[],he.shadowRootOptions={mode:"open"},oe==null||oe({ReactiveElement:he}),((y=Me.reactiveElementVersions)!==null&&y!==void 0?y:Me.reactiveElementVersions=[]).push("1.6.3");var Ke,ht,lt=n(6681);function We(be){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},We(be)}function Se(be,$e){for(var st=0;st<$e.length;st++){var Ee=$e[st];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(be,Le(Ee.key),Ee)}}function Le(be){var $e=function(st,Ee){if(We(st)!="object"||!st)return st;var Qe=st[Symbol.toPrimitive];if(Qe!==void 0){var nt=Qe.call(st,"string");if(We(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(st)}(be);return We($e)=="symbol"?$e:$e+""}function je(be,$e,st){return $e=te($e),function(Ee,Qe){if(Qe&&(We(Qe)=="object"||typeof Qe=="function"))return Qe;if(Qe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(Ee)}(be,Ge()?Reflect.construct($e,st||[],te(be).constructor):$e.apply(be,st))}function Ne(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}function Ge(){try{var be=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(Ge=function(){return!!be})()}function it(be,$e,st,Ee){var Qe=Re(te(1&Ee?be.prototype:be),$e,st);return 2&Ee&&typeof Qe=="function"?function(nt){return Qe.apply(st,nt)}:Qe}function Re(){return Re=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(be,$e,st){var Ee=function(nt,Ut){for(;!{}.hasOwnProperty.call(nt,Ut)&&(nt=te(nt))!==null;);return nt}(be,$e);if(Ee){var Qe=Object.getOwnPropertyDescriptor(Ee,$e);return Qe.get?Qe.get.call(arguments.length<3?be:st):Qe.value}},Re.apply(null,arguments)}function te(be){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},te(be)}function J(be,$e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,Ee){return st.__proto__=Ee,st},J(be,$e)}n(3851),n(888),n(2480);var qe=function(be){function $e(){var st;return function(Ee,Qe){if(!(Ee instanceof Qe))throw new TypeError("Cannot call a class as a function")}(this,$e),(st=je(this,$e,arguments)).renderOptions={host:Ne(st)},st._$Do=void 0,st}return function(st,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");st.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:st,writable:!0,configurable:!0}}),Object.defineProperty(st,"prototype",{writable:!1}),Ee&&J(st,Ee)}($e,be),function(st,Ee,Qe){return Ee&&Se(st.prototype,Ee),Object.defineProperty(st,"prototype",{writable:!1}),st}($e,[{key:"createRenderRoot",value:function(){var st,Ee,Qe=it($e,"createRenderRoot",this,3)([]);return(st=(Ee=this.renderOptions).renderBefore)!==null&&st!==void 0||(Ee.renderBefore=Qe.firstChild),Qe}},{key:"update",value:function(st){var Ee=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),it($e,"update",this,3)([st]),this._$Do=(0,lt.XX)(Ee,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var st;it($e,"connectedCallback",this,3)([]),(st=this._$Do)===null||st===void 0||st.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var st;it($e,"disconnectedCallback",this,3)([]),(st=this._$Do)===null||st===void 0||st.setConnected(!1)}},{key:"render",value:function(){return lt.c0}}])}(he);qe.finalized=!0,qe._$litElement$=!0,(Ke=globalThis.litElementHydrateSupport)===null||Ke===void 0||Ke.call(globalThis,{LitElement:qe});var _t=globalThis.litElementPolyfillSupport;_t==null||_t({LitElement:qe}),((ht=globalThis.litElementVersions)!==null&&ht!==void 0?ht:globalThis.litElementVersions=[]).push("3.3.3")},4907:function(o,c,n){"use strict";n.d(c,{KL:function(){return a},LN:function(){return P},Ql:function(){return E}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(3418),n(3792),n(2712),n(4490),n(4782),n(9572),n(2010),n(4731),n(479),n(8130),n(875),n(6099),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953);var u=n(8004),p=n(1669);function g(h){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(h)}function m(h,v){if(h){if(typeof h=="string")return y(h,v);var d={}.toString.call(h).slice(8,-1);return d==="Object"&&h.constructor&&(d=h.constructor.name),d==="Map"||d==="Set"?Array.from(h):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?y(h,v):void 0}}function y(h,v){(v==null||v>h.length)&&(v=h.length);for(var d=0,_=Array(v);d<v;d++)_[d]=h[d];return _}function x(){x=function(){return v};var h,v={},d=Object.prototype,_=d.hasOwnProperty,C=Object.defineProperty||function(te,J,qe){te[J]=qe.value},N=typeof Symbol=="function"?Symbol:{},G=N.iterator||"@@iterator",q=N.asyncIterator||"@@asyncIterator",K=N.toStringTag||"@@toStringTag";function ne(te,J,qe){return Object.defineProperty(te,J,{value:qe,enumerable:!0,configurable:!0,writable:!0}),te[J]}try{ne({},"")}catch(te){ne=function(J,qe,_t){return J[qe]=_t}}function Q(te,J,qe,_t){var be=J&&J.prototype instanceof Z?J:Z,$e=Object.create(be.prototype),st=new it(_t||[]);return C($e,"_invoke",{value:Le(te,qe,st)}),$e}function ee(te,J,qe){try{return{type:"normal",arg:te.call(J,qe)}}catch(_t){return{type:"throw",arg:_t}}}v.wrap=Q;var Me="suspendedStart",pe="suspendedYield",W="executing",oe="completed",fe={};function Z(){}function xe(){}function Y(){}var he={};ne(he,G,function(){return this});var Ke=Object.getPrototypeOf,ht=Ke&&Ke(Ke(Re([])));ht&&ht!==d&&_.call(ht,G)&&(he=ht);var lt=Y.prototype=Z.prototype=Object.create(he);function We(te){["next","throw","return"].forEach(function(J){ne(te,J,function(qe){return this._invoke(J,qe)})})}function Se(te,J){function qe(be,$e,st,Ee){var Qe=ee(te[be],te,$e);if(Qe.type!=="throw"){var nt=Qe.arg,Ut=nt.value;return Ut&&g(Ut)=="object"&&_.call(Ut,"__await")?J.resolve(Ut.__await).then(function(ut){qe("next",ut,st,Ee)},function(ut){qe("throw",ut,st,Ee)}):J.resolve(Ut).then(function(ut){nt.value=ut,st(nt)},function(ut){return qe("throw",ut,st,Ee)})}Ee(Qe.arg)}var _t;C(this,"_invoke",{value:function(be,$e){function st(){return new J(function(Ee,Qe){qe(be,$e,Ee,Qe)})}return _t=_t?_t.then(st,st):st()}})}function Le(te,J,qe){var _t=Me;return function(be,$e){if(_t===W)throw Error("Generator is already running");if(_t===oe){if(be==="throw")throw $e;return{value:h,done:!0}}for(qe.method=be,qe.arg=$e;;){var st=qe.delegate;if(st){var Ee=je(st,qe);if(Ee){if(Ee===fe)continue;return Ee}}if(qe.method==="next")qe.sent=qe._sent=qe.arg;else if(qe.method==="throw"){if(_t===Me)throw _t=oe,qe.arg;qe.dispatchException(qe.arg)}else qe.method==="return"&&qe.abrupt("return",qe.arg);_t=W;var Qe=ee(te,J,qe);if(Qe.type==="normal"){if(_t=qe.done?oe:pe,Qe.arg===fe)continue;return{value:Qe.arg,done:qe.done}}Qe.type==="throw"&&(_t=oe,qe.method="throw",qe.arg=Qe.arg)}}}function je(te,J){var qe=J.method,_t=te.iterator[qe];if(_t===h)return J.delegate=null,qe==="throw"&&te.iterator.return&&(J.method="return",J.arg=h,je(te,J),J.method==="throw")||qe!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+qe+"' method")),fe;var be=ee(_t,te.iterator,J.arg);if(be.type==="throw")return J.method="throw",J.arg=be.arg,J.delegate=null,fe;var $e=be.arg;return $e?$e.done?(J[te.resultName]=$e.value,J.next=te.nextLoc,J.method!=="return"&&(J.method="next",J.arg=h),J.delegate=null,fe):$e:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,fe)}function Ne(te){var J={tryLoc:te[0]};1 in te&&(J.catchLoc=te[1]),2 in te&&(J.finallyLoc=te[2],J.afterLoc=te[3]),this.tryEntries.push(J)}function Ge(te){var J=te.completion||{};J.type="normal",delete J.arg,te.completion=J}function it(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(Ne,this),this.reset(!0)}function Re(te){if(te||te===""){var J=te[G];if(J)return J.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var qe=-1,_t=function be(){for(;++qe<te.length;)if(_.call(te,qe))return be.value=te[qe],be.done=!1,be;return be.value=h,be.done=!0,be};return _t.next=_t}}throw new TypeError(g(te)+" is not iterable")}return xe.prototype=Y,C(lt,"constructor",{value:Y,configurable:!0}),C(Y,"constructor",{value:xe,configurable:!0}),xe.displayName=ne(Y,K,"GeneratorFunction"),v.isGeneratorFunction=function(te){var J=typeof te=="function"&&te.constructor;return!!J&&(J===xe||(J.displayName||J.name)==="GeneratorFunction")},v.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,Y):(te.__proto__=Y,ne(te,K,"GeneratorFunction")),te.prototype=Object.create(lt),te},v.awrap=function(te){return{__await:te}},We(Se.prototype),ne(Se.prototype,q,function(){return this}),v.AsyncIterator=Se,v.async=function(te,J,qe,_t,be){be===void 0&&(be=Promise);var $e=new Se(Q(te,J,qe,_t),be);return v.isGeneratorFunction(J)?$e:$e.next().then(function(st){return st.done?st.value:$e.next()})},We(lt),ne(lt,K,"Generator"),ne(lt,G,function(){return this}),ne(lt,"toString",function(){return"[object Generator]"}),v.keys=function(te){var J=Object(te),qe=[];for(var _t in J)qe.push(_t);return qe.reverse(),function be(){for(;qe.length;){var $e=qe.pop();if($e in J)return be.value=$e,be.done=!1,be}return be.done=!0,be}},v.values=Re,it.prototype={constructor:it,reset:function(te){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(Ge),!te)for(var J in this)J.charAt(0)==="t"&&_.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=h)},stop:function(){this.done=!0;var te=this.tryEntries[0].completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(te){if(this.done)throw te;var J=this;function qe(Qe,nt){return $e.type="throw",$e.arg=te,J.next=Qe,nt&&(J.method="next",J.arg=h),!!nt}for(var _t=this.tryEntries.length-1;_t>=0;--_t){var be=this.tryEntries[_t],$e=be.completion;if(be.tryLoc==="root")return qe("end");if(be.tryLoc<=this.prev){var st=_.call(be,"catchLoc"),Ee=_.call(be,"finallyLoc");if(st&&Ee){if(this.prev<be.catchLoc)return qe(be.catchLoc,!0);if(this.prev<be.finallyLoc)return qe(be.finallyLoc)}else if(st){if(this.prev<be.catchLoc)return qe(be.catchLoc,!0)}else{if(!Ee)throw Error("try statement without catch or finally");if(this.prev<be.finallyLoc)return qe(be.finallyLoc)}}}},abrupt:function(te,J){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var _t=this.tryEntries[qe];if(_t.tryLoc<=this.prev&&_.call(_t,"finallyLoc")&&this.prev<_t.finallyLoc){var be=_t;break}}be&&(te==="break"||te==="continue")&&be.tryLoc<=J&&J<=be.finallyLoc&&(be=null);var $e=be?be.completion:{};return $e.type=te,$e.arg=J,be?(this.method="next",this.next=be.finallyLoc,fe):this.complete($e)},complete:function(te,J){if(te.type==="throw")throw te.arg;return te.type==="break"||te.type==="continue"?this.next=te.arg:te.type==="return"?(this.rval=this.arg=te.arg,this.method="return",this.next="end"):te.type==="normal"&&J&&(this.next=J),fe},finish:function(te){for(var J=this.tryEntries.length-1;J>=0;--J){var qe=this.tryEntries[J];if(qe.finallyLoc===te)return this.complete(qe.completion,qe.afterLoc),Ge(qe),fe}},catch:function(te){for(var J=this.tryEntries.length-1;J>=0;--J){var qe=this.tryEntries[J];if(qe.tryLoc===te){var _t=qe.completion;if(_t.type==="throw"){var be=_t.arg;Ge(qe)}return be}}throw Error("illegal catch attempt")},delegateYield:function(te,J,qe){return this.delegate={iterator:Re(te),resultName:J,nextLoc:qe},this.method==="next"&&(this.arg=h),fe}},v}function w(h,v,d,_,C,N,G){try{var q=h[N](G),K=q.value}catch(ne){return void d(ne)}q.done?v(K):Promise.resolve(K).then(_,C)}function k(h,v){for(var d=0;d<v.length;d++){var _=v[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,S(_.key),_)}}function S(h){var v=function(d,_){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(h);return g(v)=="symbol"?v:v+""}var P=function(){return h=function d(_,C){var N=C.isProtected,G=C.imageCache;(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")})(this,d),this.page=_,this.imageCache=G,this.$container=p("<div />",{class:"BRpagecontainer ".concat(_?"pagediv".concat(_.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",_==null?void 0:_.pageSide).attr("data-index",_==null?void 0:_.index).attr("data-page-num",_==null?void 0:_.getPageNum()),N&&(this.$container.append(p('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},v=[{key:"update",value:function(d){var _,C=this,N=d.dimensions,G=N===void 0?null:N,q=d.reduce,K=q===void 0?null:q;if(G&&this.$container.css(G),K!=null&&this.page){var ne=this.imageCache.getFinalReduce(this.page.index,K),Q=this.page.getURI(ne,0),ee=this.imageCache.imageLoaded(this.page.index,ne),Me=this.imageCache.getBestLoadedReduce(this.page.index,K);if(((_=this.$img)===null||_===void 0?void 0:_.data("src"))==Q)return this;var pe=this.$img;if(this.$img=this.imageCache.image(this.page.index,ne),pe?this.$img.insertAfter(pe):this.$img.prependTo(this.$container),ee||this.$container.addClass("BRpageloading"),!ee&&Me){var W=this.page.getURI(Me,0);pe?pe.data("src")==W||this.imageCache.image(this.page.index,Me,pe[0]):(pe=this.imageCache.image(this.page.index,Me)).prependTo(this.$container)}return this.$img.one("load",function(){var oe,fe=(oe=x().mark(function Z(xe){var Y;return x().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return C.$container.removeClass("BRpageloading"),he.next=3,(0,u.sleep)(100);case 3:(Y=pe)===null||Y===void 0||Y.remove();case 4:case"end":return he.stop()}},Z)}),function(){var Z=this,xe=arguments;return new Promise(function(Y,he){var Ke=oe.apply(Z,xe);function ht(We){w(Ke,Y,he,ht,lt,"next",We)}function lt(We){w(Ke,Y,he,ht,lt,"throw",We)}ht(void 0)})});return function(Z){return fe.apply(this,arguments)}}()),this}}}],v&&k(h.prototype,v),Object.defineProperty(h,"prototype",{writable:!1}),h;var h,v}();function E(h,v){var d=document.createElement("div");return d.style.width="".concat(h.width,"px"),d.style.height="".concat(h.height,"px"),d.setAttribute("class","BRPageLayer ".concat(v)),d}function O(h){var v=h.l,d=h.r,_=h.b,C=h.t,N=document.createElementNS("http://www.w3.org/2000/svg","rect");return N.setAttribute("x",v.toString()),N.setAttribute("y",C.toString()),N.setAttribute("width",(d-v).toString()),N.setAttribute("height",(_-C).toString()),N.setAttribute("rx","4"),N.setAttribute("ry","4"),N}function a(h,v,d,_){var C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,N=_.querySelector(".".concat(h)),G=N||function(oe,fe){var Z=document.createElementNS("http://www.w3.org/2000/svg","svg");return Z.setAttribute("xmlns","http://www.w3.org/2000/svg"),Z.setAttribute("viewBox","0 0 ".concat(oe.width," ").concat(oe.height)),Z.setAttribute("class","BRPageLayer ".concat(fe)),Z.setAttribute("preserveAspectRatio","none"),Z}(d,h);if(!N){var q=_.querySelector(".BRpageimage");q?p(G).insertAfter(q):p(G).prependTo(_)}var K,ne,Q,ee=function(oe,fe){var Z=typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(!Z){if(Array.isArray(oe)||(Z=m(oe))){Z&&(oe=Z);var xe=0,Y=function(){};return{s:Y,n:function(){return xe>=oe.length?{done:!0}:{done:!1,value:oe[xe++]}},e:function(lt){throw lt},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,Ke=!0,ht=!1;return{s:function(){Z=Z.call(oe)},n:function(){var lt=Z.next();return Ke=lt.done,lt},e:function(lt){ht=!0,he=lt},f:function(){try{Ke||Z.return==null||Z.return()}finally{if(ht)throw he}}}}(v.entries());try{for(ee.s();!(K=ee.n()).done;){var Me=(ne=K.value,Q=2,function(oe){if(Array.isArray(oe))return oe}(ne)||function(oe,fe){var Z=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(Z!=null){var xe,Y,he,Ke,ht=[],lt=!0,We=!1;try{if(he=(Z=Z.call(oe)).next,fe===0){if(Object(Z)!==Z)return;lt=!1}else for(;!(lt=(xe=he.call(Z)).done)&&(ht.push(xe.value),ht.length!==fe);lt=!0);}catch(Se){We=!0,Y=Se}finally{try{if(!lt&&Z.return!=null&&(Ke=Z.return(),Object(Ke)!==Ke))return}finally{if(We)throw Y}}return ht}}(ne,Q)||m(ne,Q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),pe=Me[0],W=O(Me[1]);C&&W.setAttribute("class",C[pe]),G.appendChild(W)}}catch(oe){ee.e(oe)}finally{ee.f()}}},8340:function(o,c,n){"use strict";n.d(c,{q:function(){return u}});var u={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"}},8004:function(o,c,n){"use strict";function u(Y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},u(Y)}function p(){p=function(){return he};var Y,he={},Ke=Object.prototype,ht=Ke.hasOwnProperty,lt=Object.defineProperty||function(Ct,St,kt){Ct[St]=kt.value},We=typeof Symbol=="function"?Symbol:{},Se=We.iterator||"@@iterator",Le=We.asyncIterator||"@@asyncIterator",je=We.toStringTag||"@@toStringTag";function Ne(Ct,St,kt){return Object.defineProperty(Ct,St,{value:kt,enumerable:!0,configurable:!0,writable:!0}),Ct[St]}try{Ne({},"")}catch(Ct){Ne=function(St,kt,I){return St[kt]=I}}function Ge(Ct,St,kt,I){var Ve=St&&St.prototype instanceof be?St:be,ke=Object.create(Ve.prototype),Ye=new Lt(I||[]);return lt(ke,"_invoke",{value:Mt(Ct,kt,Ye)}),ke}function it(Ct,St,kt){try{return{type:"normal",arg:Ct.call(St,kt)}}catch(I){return{type:"throw",arg:I}}}he.wrap=Ge;var Re="suspendedStart",te="suspendedYield",J="executing",qe="completed",_t={};function be(){}function $e(){}function st(){}var Ee={};Ne(Ee,Se,function(){return this});var Qe=Object.getPrototypeOf,nt=Qe&&Qe(Qe(It([])));nt&&nt!==Ke&&ht.call(nt,Se)&&(Ee=nt);var Ut=st.prototype=be.prototype=Object.create(Ee);function ut(Ct){["next","throw","return"].forEach(function(St){Ne(Ct,St,function(kt){return this._invoke(St,kt)})})}function mt(Ct,St){function kt(Ve,ke,Ye,Ze){var dt=it(Ct[Ve],Ct,ke);if(dt.type!=="throw"){var ae=dt.arg,Ie=ae.value;return Ie&&u(Ie)=="object"&&ht.call(Ie,"__await")?St.resolve(Ie.__await).then(function(Ue){kt("next",Ue,Ye,Ze)},function(Ue){kt("throw",Ue,Ye,Ze)}):St.resolve(Ie).then(function(Ue){ae.value=Ue,Ye(ae)},function(Ue){return kt("throw",Ue,Ye,Ze)})}Ze(dt.arg)}var I;lt(this,"_invoke",{value:function(Ve,ke){function Ye(){return new St(function(Ze,dt){kt(Ve,ke,Ze,dt)})}return I=I?I.then(Ye,Ye):Ye()}})}function Mt(Ct,St,kt){var I=Re;return function(Ve,ke){if(I===J)throw Error("Generator is already running");if(I===qe){if(Ve==="throw")throw ke;return{value:Y,done:!0}}for(kt.method=Ve,kt.arg=ke;;){var Ye=kt.delegate;if(Ye){var Ze=ti(Ye,kt);if(Ze){if(Ze===_t)continue;return Ze}}if(kt.method==="next")kt.sent=kt._sent=kt.arg;else if(kt.method==="throw"){if(I===Re)throw I=qe,kt.arg;kt.dispatchException(kt.arg)}else kt.method==="return"&&kt.abrupt("return",kt.arg);I=J;var dt=it(Ct,St,kt);if(dt.type==="normal"){if(I=kt.done?qe:te,dt.arg===_t)continue;return{value:dt.arg,done:kt.done}}dt.type==="throw"&&(I=qe,kt.method="throw",kt.arg=dt.arg)}}}function ti(Ct,St){var kt=St.method,I=Ct.iterator[kt];if(I===Y)return St.delegate=null,kt==="throw"&&Ct.iterator.return&&(St.method="return",St.arg=Y,ti(Ct,St),St.method==="throw")||kt!=="return"&&(St.method="throw",St.arg=new TypeError("The iterator does not provide a '"+kt+"' method")),_t;var Ve=it(I,Ct.iterator,St.arg);if(Ve.type==="throw")return St.method="throw",St.arg=Ve.arg,St.delegate=null,_t;var ke=Ve.arg;return ke?ke.done?(St[Ct.resultName]=ke.value,St.next=Ct.nextLoc,St.method!=="return"&&(St.method="next",St.arg=Y),St.delegate=null,_t):ke:(St.method="throw",St.arg=new TypeError("iterator result is not an object"),St.delegate=null,_t)}function oi(Ct){var St={tryLoc:Ct[0]};1 in Ct&&(St.catchLoc=Ct[1]),2 in Ct&&(St.finallyLoc=Ct[2],St.afterLoc=Ct[3]),this.tryEntries.push(St)}function ci(Ct){var St=Ct.completion||{};St.type="normal",delete St.arg,Ct.completion=St}function Lt(Ct){this.tryEntries=[{tryLoc:"root"}],Ct.forEach(oi,this),this.reset(!0)}function It(Ct){if(Ct||Ct===""){var St=Ct[Se];if(St)return St.call(Ct);if(typeof Ct.next=="function")return Ct;if(!isNaN(Ct.length)){var kt=-1,I=function Ve(){for(;++kt<Ct.length;)if(ht.call(Ct,kt))return Ve.value=Ct[kt],Ve.done=!1,Ve;return Ve.value=Y,Ve.done=!0,Ve};return I.next=I}}throw new TypeError(u(Ct)+" is not iterable")}return $e.prototype=st,lt(Ut,"constructor",{value:st,configurable:!0}),lt(st,"constructor",{value:$e,configurable:!0}),$e.displayName=Ne(st,je,"GeneratorFunction"),he.isGeneratorFunction=function(Ct){var St=typeof Ct=="function"&&Ct.constructor;return!!St&&(St===$e||(St.displayName||St.name)==="GeneratorFunction")},he.mark=function(Ct){return Object.setPrototypeOf?Object.setPrototypeOf(Ct,st):(Ct.__proto__=st,Ne(Ct,je,"GeneratorFunction")),Ct.prototype=Object.create(Ut),Ct},he.awrap=function(Ct){return{__await:Ct}},ut(mt.prototype),Ne(mt.prototype,Le,function(){return this}),he.AsyncIterator=mt,he.async=function(Ct,St,kt,I,Ve){Ve===void 0&&(Ve=Promise);var ke=new mt(Ge(Ct,St,kt,I),Ve);return he.isGeneratorFunction(St)?ke:ke.next().then(function(Ye){return Ye.done?Ye.value:ke.next()})},ut(Ut),Ne(Ut,je,"Generator"),Ne(Ut,Se,function(){return this}),Ne(Ut,"toString",function(){return"[object Generator]"}),he.keys=function(Ct){var St=Object(Ct),kt=[];for(var I in St)kt.push(I);return kt.reverse(),function Ve(){for(;kt.length;){var ke=kt.pop();if(ke in St)return Ve.value=ke,Ve.done=!1,Ve}return Ve.done=!0,Ve}},he.values=It,Lt.prototype={constructor:Lt,reset:function(Ct){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(ci),!Ct)for(var St in this)St.charAt(0)==="t"&&ht.call(this,St)&&!isNaN(+St.slice(1))&&(this[St]=Y)},stop:function(){this.done=!0;var Ct=this.tryEntries[0].completion;if(Ct.type==="throw")throw Ct.arg;return this.rval},dispatchException:function(Ct){if(this.done)throw Ct;var St=this;function kt(dt,ae){return ke.type="throw",ke.arg=Ct,St.next=dt,ae&&(St.method="next",St.arg=Y),!!ae}for(var I=this.tryEntries.length-1;I>=0;--I){var Ve=this.tryEntries[I],ke=Ve.completion;if(Ve.tryLoc==="root")return kt("end");if(Ve.tryLoc<=this.prev){var Ye=ht.call(Ve,"catchLoc"),Ze=ht.call(Ve,"finallyLoc");if(Ye&&Ze){if(this.prev<Ve.catchLoc)return kt(Ve.catchLoc,!0);if(this.prev<Ve.finallyLoc)return kt(Ve.finallyLoc)}else if(Ye){if(this.prev<Ve.catchLoc)return kt(Ve.catchLoc,!0)}else{if(!Ze)throw Error("try statement without catch or finally");if(this.prev<Ve.finallyLoc)return kt(Ve.finallyLoc)}}}},abrupt:function(Ct,St){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var I=this.tryEntries[kt];if(I.tryLoc<=this.prev&&ht.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var Ve=I;break}}Ve&&(Ct==="break"||Ct==="continue")&&Ve.tryLoc<=St&&St<=Ve.finallyLoc&&(Ve=null);var ke=Ve?Ve.completion:{};return ke.type=Ct,ke.arg=St,Ve?(this.method="next",this.next=Ve.finallyLoc,_t):this.complete(ke)},complete:function(Ct,St){if(Ct.type==="throw")throw Ct.arg;return Ct.type==="break"||Ct.type==="continue"?this.next=Ct.arg:Ct.type==="return"?(this.rval=this.arg=Ct.arg,this.method="return",this.next="end"):Ct.type==="normal"&&St&&(this.next=St),_t},finish:function(Ct){for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St];if(kt.finallyLoc===Ct)return this.complete(kt.completion,kt.afterLoc),ci(kt),_t}},catch:function(Ct){for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St];if(kt.tryLoc===Ct){var I=kt.completion;if(I.type==="throw"){var Ve=I.arg;ci(kt)}return Ve}}throw Error("illegal catch attempt")},delegateYield:function(Ct,St,kt){return this.delegate={iterator:It(Ct),resultName:St,nextLoc:kt},this.method==="next"&&(this.arg=Y),_t}},he}function g(Y,he,Ke,ht,lt,We,Se){try{var Le=Y[We](Se),je=Le.value}catch(Ne){return void Ke(Ne)}Le.done?he(je):Promise.resolve(je).then(ht,lt)}function m(Y){return function(){var he=this,Ke=arguments;return new Promise(function(ht,lt){var We=Y.apply(he,Ke);function Se(je){g(We,ht,lt,Se,Le,"next",je)}function Le(je){g(We,ht,lt,Se,Le,"throw",je)}Se(void 0)})}}function y(Y,he){(he==null||he>Y.length)&&(he=Y.length);for(var Ke=0,ht=Array(he);Ke<he;Ke++)ht[Ke]=Y[Ke];return ht}function x(Y){Y.bind("mousedown",function(){return!1}),Y[0].onselectstart=function(){return!1}}function w(Y,he,Ke){return Math.min(Math.max(Y,he),Ke)}function k(Y,he){return Y/he*100+"%"}function S(Y,he){return!he.includes(Y)}function P(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,he=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ke=Y.activeElement;return he&&Ke!=null&&Ke.shadowRoot?P(Ke.shadowRoot,!0):Ke}function E(){var Y=P(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(Y==null?void 0:Y.tagName)=="INPUT"||(Y==null?void 0:Y.tagName)=="TEXTAREA"}function O(Y){var he=Y.contentWindow||Y.contentDocument;return he.document||he}function a(Y){return Y.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(Y){return decodeURIComponent(Y).replace(/\+/g," ")}function v(Y){return encodeURIComponent(Y).replace(/%20/g,"+")}function d(Y,he,Ke){var ht;return function(){var lt=this,We=arguments,Se=Ke&&!ht;clearTimeout(ht),ht=setTimeout(function(){ht=null,Ke||Y.apply(lt,We)},he),Se&&Y.apply(lt,We)}}function _(Y,he,Ke){var ht,lt;return he||(he=250),Ke&&(ht=+new Date),function(){var We=this,Se=+new Date,Le=arguments;ht&&Se<ht+he?(clearTimeout(lt),lt=setTimeout(function(){ht=Se,Y.apply(We,Le)},he)):(ht=Se,Y.apply(We,Le))}}function C(Y){if(typeof Y.CustomEvent=="function")return!1;Y.CustomEvent=N}function N(Y){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=he.bubbles,ht=Ke!==void 0&&Ke,lt=he.cancelable,We=lt!==void 0&&lt,Se=he.detail,Le=Se===void 0?null:Se,je=document.createEvent("CustomEvent");return je.initCustomEvent(Y,ht,We,Le),je}function G(){var Y=document.createElement("div");Y.style.width="1in",document.body.appendChild(Y);var he=Y.offsetWidth;document.body.removeChild(Y);var Ke=1.25*he;return Ke==0?100:Ke}function q(Y){return Y.reduce(function(he,Ke){return he+Ke},0)}function K(Y){var he,Ke=[],ht=function(We,Se){var Le=typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(!Le){if(Array.isArray(We)||(Le=function(te,J){if(te){if(typeof te=="string")return y(te,J);var qe={}.toString.call(te).slice(8,-1);return qe==="Object"&&te.constructor&&(qe=te.constructor.name),qe==="Map"||qe==="Set"?Array.from(te):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?y(te,J):void 0}}(We))||Se&&We&&typeof We.length=="number"){Le&&(We=Le);var je=0,Ne=function(){};return{s:Ne,n:function(){return je>=We.length?{done:!0}:{done:!1,value:We[je++]}},e:function(te){throw te},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ge,it=!0,Re=!1;return{s:function(){Le=Le.call(We)},n:function(){var te=Le.next();return it=te.done,te},e:function(te){Re=!0,Ge=te},f:function(){try{it||Le.return==null||Le.return()}finally{if(Re)throw Ge}}}}(Y);try{for(ht.s();!(he=ht.n()).done;){var lt=he.value;Ke.push(lt)}}catch(We){ht.e(We)}finally{ht.f()}return Ke}function ne(Y,he){return Y.length==he.length&&Y.every(function(Ke,ht){return Ke==he[ht]})}function Q(Y,he){return Y&&he&&!ne(Y,he)}function ee(Y){return Me.apply(this,arguments)}function Me(){return(Me=m(p().mark(function Y(he){return p().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Ke.abrupt("return",new Promise(function(ht){return setTimeout(ht,he)}));case 1:case"end":return Ke.stop()}},Y)}))).apply(this,arguments)}function pe(Y){return W.apply(this,arguments)}function W(){return W=m(p().mark(function Y(he){var Ke,ht,lt,We,Se,Le,je,Ne,Ge,it,Re,te=arguments;return p().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:ht=(Ke=te.length>1&&te[1]!==void 0?te[1]:{}).step,lt=ht===void 0?50:ht,We=Ke.timeout,Se=We===void 0?500:We,Le=Ke.until,je=Le===void 0?function(qe){return!!qe}:Le,Ne=Ke._sleep,Ge=Ne===void 0?ee:Ne,it=Date.now();case 2:if(!(Date.now()-it<Se)){J.next=10;break}if(Re=he(),!je(Re)){J.next=6;break}return J.abrupt("return",Re);case 6:return J.next=8,Ge(lt);case 8:J.next=2;break;case 10:case"end":return J.stop()}},Y)})),W.apply(this,arguments)}function oe(Y,he){return new Promise(function(Ke){var ht=function(lt){Y.removeEventListener(he,ht),Ke(lt)};Y.addEventListener(he,ht)})}function fe(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(Y){return Y==="slow"?600:Y==="fast"?200:parseInt(Y,10)}function xe(Y,he){return Y.sort(function(Ke,ht){var lt=he?he(Ke):Ke,We=he?he(ht):ht;return lt<We?-1:lt>We?1:0})}n.r(c),n.d(c,{PolyfilledCustomEvent:function(){return N},arrChanged:function(){return Q},arrEquals:function(){return ne},calcScreenDPI:function(){return G},clamp:function(){return w},cssPercentage:function(){return k},debounce:function(){return d},decodeURIComponentPlus:function(){return h},disableSelect:function(){return x},encodeURIComponentPlus:function(){return v},escapeHTML:function(){return a},escapeRegExp:function(){return fe},genToArray:function(){return K},getActiveElement:function(){return P},getIFrameDocument:function(){return O},isInputActive:function(){return E},notInArray:function(){return S},parseAnimationSpeed:function(){return Z},poll:function(){return pe},polyfillCustomEvent:function(){return C},promisifyEvent:function(){return oe},sleep:function(){return ee},sortBy:function(){return xe},sum:function(){return q},throttle:function(){return _}}),n(2675),n(9463),n(6412),n(2259),n(8125),n(3418),n(4423),n(3792),n(2712),n(4490),n(4782),n(6910),n(2010),n(4731),n(479),n(875),n(6099),n(8940),n(3362),n(7495),n(8781),n(1699),n(7764),n(5440),n(3500),n(2953)},7583:function(o,c,n){"use strict";function u(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(y)&&/google inc/i.test(x)&&!function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/chrome/i.test(w)&&/\bEdg(e|A|iOS)?\b/i.test(w)}(y)}function p(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(y)}function g(){return"ongesturestart"in window&&navigator.maxTouchPoints>0}function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(y)}n.d(c,{H8:function(){return u},gm:function(){return p},ij:function(){return m},un:function(){return g}}),n(7495)}},r={};function s(o){var c=r[o];if(c!==void 0)return c.exports;var n=r[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,e=[],s.O=function(o,c,n,u){if(!c){var p=1/0;for(x=0;x<e.length;x++){c=e[x][0],n=e[x][1],u=e[x][2];for(var g=!0,m=0;m<c.length;m++)(!1&u||p>=u)&&Object.keys(s.O).every(function(w){return s.O[w](c[m])})?c.splice(m--,1):(g=!1,u<p&&(p=u));if(g){e.splice(x--,1);var y=n();y!==void 0&&(o=y)}}return o}u=u||0;for(var x=e.length;x>0&&e[x-1][2]>u;x--)e[x]=e[x-1];e[x]=[c,n,u]},s.d=function(o,c){for(var n in c)s.o(c,n)&&!s.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}(),s.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.nmd=function(o){return o.paths=[],o.children||(o.children=[]),o},function(){var o={340:0};s.O.j=function(u){return o[u]===0};var c=function(u,p){var g,m,y=p[0],x=p[1],w=p[2],k=0;if(y.some(function(P){return o[P]!==0})){for(g in x)s.o(x,g)&&(s.m[g]=x[g]);if(w)var S=w(s)}for(u&&u(p);k<y.length;k++)m=y[k],s.o(o,m)&&o[m]&&o[m][0](),o[m]=0;return s.O(S)},n=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];n.forEach(c.bind(null,0)),n.push=c.bind(null,n.push.bind(n))}();var l={};(function(){"use strict";s(2675),s(9463),s(6412),s(2259),s(8125),s(8706),s(2008),s(113),s(3418),s(4423),s(3792),s(8598),s(2062),s(2712),s(4490),s(4782),s(2010),s(4731),s(479),s(5506),s(875),s(9432),s(6099),s(6034),s(8940),s(3362),s(7495),s(8781),s(1699),s(7764),s(5746),s(3500),s(2953),s(8408),s(9139),s(3662),s(8497);var o=s(8004);s(5700),s(9572),s(8130),s(8459),s(4720);var c=s(8340),n=s(1669);function u(D){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},u(D)}function p(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,g(U.key),U)}}function g(D){var L=function(j,U){if(u(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(u(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return u(L)=="symbol"?L:L+""}var m=function(){return D=function j(U){(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,o.throttle)(this.updateNavIndex.bind(this),250,!1)},L=[{key:"controlFor",value:function(j){var U=this.br.options.controls[j];return U.visible?U.template?"<li>".concat(U.template(this.br),"</li>"):`<li>
      <button class="BRicon `.concat(U.className,'" title="').concat(U.label,`">
        <div class="icon icon-`).concat(U.iconClassName,`"></div>
        <span class="BRtooltip">`).concat(U.label,`</span>
      </button>
    </li>`):""}},{key:"_renderControls",value:function(){var j=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(U){return j.controlFor(U)}).join("")}},{key:"_bindViewModeButton",value:function(){var j=this,U=this.br,se=U.options.controls.viewmode,me=[{mode:U.constMode1up,className:"onepg",title:"One-page view"},{mode:U.constMode2up,className:"twopg",title:"Two-page view"},{mode:U.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(qt){return!se.excludedModes.includes(qt.mode)}),Ce=me.map(function(qt){return qt.mode});se.excludedModes.includes(U.mode)&&U.switchMode(Ce[0]);for(var Rt=Ce.indexOf(U.mode),vt=0;vt<=Rt;vt++)Ce.push(Ce.shift());me.length<2&&this.$nav.find(".".concat(se.className)).remove(),this.br.bind(c.q.PostInit,function(){var qt=j.$nav.find(".".concat(se.className)).off(".bindNavigationHandlers").on("click",function(Ei){var Ii=Ce.shift(),Oi=me.find(function(Wi){return Wi.mode===Ii}),ar=me.find(function(Wi){return Wi.mode===Ce[0]});Ce.push(Ii),U.viewModeOrder=Ce,j.updateViewModeButton(n(Ei.currentTarget),ar.className,ar.title),U.switchMode(Oi.mode)}),ai=me.find(function(Ei){return Ei.mode===Ce[0]});j.updateViewModeButton(qt,ai.className,ai.title)})}},{key:"updateViewModeButton",value:function(j,U,se){j.attr("title",se).find(".icon").removeClass().addClass("icon icon-".concat(U)).end().find(".BRtooltip").text(se)}},{key:"switchNavbarControls",value:function(){this.br.refs.$brContainer.prop("clientWidth")<640?(this.showMinimumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMinimumNavbarControls()):(this.showMaximumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMaximumNavbarControls())}},{key:"showMinimumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.remove("hide"),U&&U.classList.add("hide")}},{key:"showMaximumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.add("hide"),U&&U.classList.remove("hide")}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"init",value:function(){var j=this,U=this.br,se=U.options.navbarTitle,me=U.pageProgression==="rl",Ce=me?"book_flip_next":"book_flip_prev",Rt=me?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(Ce),this.br.options.controls.bookRight.className="book_right ".concat(Rt),U.refs.$BRfooter=this.$root=n('<div class="BRfooter"></div>'),U.refs.$BRnav=this.$nav=n(`<div class="BRnav BRnavDesktop">
          `.concat(se?'<div class="BRnavTitle">'.concat(se,"</div>"):"",`
          <nav class="BRcontrols">
            <ul class="controls">
              <li class="scrubber">
                <div class="BRnavpos">
                  <div class="BRpager"></div>
                  <div class="BRnavline"></div>
                </div>
                <p>
                  <span class="BRcurrentpage BRmax"></span>
                  <span class="BRcurrentpage BRmin"></span>
                </p>
              </li>
              `).concat(this._renderControls(),`
            </ul>
          </nav>
        </div>`)),this.$root.append(this.$nav),U.refs.$br.append(this.$root);var vt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:U.book.getNumLeafs()-1,value:U.currentIndex(),range:"min"});return vt.on("slide",function(qt,ai){return j.updateNavPageNum(ai.value),!0}),vt.on("slidechange",function(qt,ai){return j.updateNavPageNum(ai.value),vt.data("swallowchange")?vt.data("swallowchange",!1):U.jumpToIndex(ai.value),!0}),U.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(U.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],se=this.br,me=se.book.getPageNum(j),Ce=se.book.getPageProp(j,"pageType"),Rt=se.book.getNumLeafs();if(!this.maxPageNum){for(var vt,qt=0,ai=0;ai<Rt;ai++)vt=parseFloat(se.book.getPageNum(ai)),!isNaN(vt)&&vt>qt&&(qt=vt);this.maxPageNum=qt}return function(Ei,Ii,Oi,ar,Wi){var Ri=arguments.length>5&&arguments[5]!==void 0&&arguments[5],Yi=Oi[0]!="n",Qi=Ei+1;if(Yi||(Oi="\u2014"),Ri===!0)return"Page ".concat(Oi," (").concat(Qi,"/").concat(Ii,")");if(!Yi)return"(".concat(Qi," of ").concat(Ii,")");var Ki=Wi&&parseFloat(Oi)?" of ".concat(Wi):"";return"".concat(Oi).concat(Ki)}(j,Rt,me,Ce,this.maxPageNum,U)}},{key:"updateNavPageNum",value:function(j){this.$root.find(".BRcurrentpage.BRmax").html(this.getNavPageNumString(j,!0)),this.$root.find(".BRcurrentpage.BRmin").html(this.getNavPageNumString(j))}},{key:"updateNavIndex",value:function(j){j=j!==void 0?j:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",j)}}],L&&p(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,L}();function y(D){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},y(D)}function x(D){var L=typeof Map=="function"?new Map:void 0;return x=function(j){if(j===null||!function(se){try{return Function.toString.call(se).indexOf("[native code]")!==-1}catch(me){return typeof se=="function"}}(j))return j;if(typeof j!="function")throw new TypeError("Super expression must either be null or a function");if(L!==void 0){if(L.has(j))return L.get(j);L.set(j,U)}function U(){return function(se,me,Ce){if(w())return Reflect.construct.apply(null,arguments);var Rt=[null];Rt.push.apply(Rt,me);var vt=new(se.bind.apply(se,Rt));return Ce&&k(vt,Ce.prototype),vt}(j,arguments,S(this).constructor)}return U.prototype=Object.create(j.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k(U,j)},x(D)}function w(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(w=function(){return!!D})()}function k(D,L){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},k(D,L)}function S(D){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},S(D)}s(6033),s(825);var P={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookUri:null,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{archiveAnalytics:null,autoplay:null,chapters:null,iiif:null,resume:null,search:null,textSelection:null,tts:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,renderPageURI:function(D,L){D.src=L},getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},E=function(D){function L(){return function(Ce,Rt){if(!(Ce instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this,L),U=this,me=arguments,se=S(se=L),function(Ce,Rt){if(Rt&&(y(Rt)=="object"||typeof Rt=="function"))return Rt;if(Rt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}(Ce)}(U,w()?Reflect.construct(se,me||[],S(U).constructor):se.apply(U,me));var U,se,me}return function(U,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(se&&se.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),se&&k(U,se)}(L,D),j=L,Object.defineProperty(j,"prototype",{writable:!1}),j;var j}(x(Error)),O=(s(5440),s(4638),s(1669));function a(D){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},a(D)}function h(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function v(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,d(U.key),U)}}function d(D){var L=function(j,U){if(a(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(a(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return a(L)=="symbol"?L:L+""}var _=function(){return D=function j(U){(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U},L=[{key:"buildToolbarElement",value:function(){var j=this.br,U=j.showLogo?`
      <span class="BRtoolbarSection BRtoolbarSectionLogo">
        <a class="logo" href="`.concat(j.logoURL,`"></a>
      </span>`):"";j.refs.$BRtoolbar=O(`
      <div class="BRtoolbar header">
        <div class="BRtoolbarbuttons">
          <div class="BRtoolbarLeft">
            `.concat(U,`
            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>
          </div>
          <div class="BRtoolbarRight">
            <span class="BRtoolbarSection BRtoolbarSectionInfo">
              <button class="BRpill info js-tooltip">Info</button>
              <button class="BRpill share js-tooltip">Share</button>
            </span>
          </div>
        </div>
      </div>`));var se=j.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");j.bookUrl&&j.options.enableBookTitleLink?se.append(O("<a>").attr({href:j.bookUrl,title:j.bookUrlTitle}).addClass("BRreturn").html(j.bookUrlText||j.bookTitle)):j.bookTitle&&se.append(j.bookUrlText||j.bookTitle);for(var me=0,Ce=Object.values(j.plugins);me<Ce.length;me++)Ce[me]._configureToolbar(j.refs.$BRtoolbar);return j.refs.$BRtoolbar}},{key:"initToolbar",value:function(j,U){var se=this.br;se.refs.$br.append(this.buildToolbarElement()),se.$(".BRnavCntl").addClass("BRup"),se.$(".pause").hide(),se.refs.$BRtoolbar.append(),se.canSwitchToMode(se.constMode2up)||se.$(".two_page_mode, .play, .pause").hide(),se.canSwitchToMode(se.constModeThumb)||se.$(".thumbnail_mode").hide(),se.canSwitchToMode(se.constMode2up)||se.canSwitchToMode(se.constModeThumb)||se.$(".one_page_mode").hide(),O('<div style="display: none;"></div>').append(O(`
    <div class="BRfloat BRshare">
      <div class="BRfloatHead">
        Share
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
    </div>`)).append(O(`
    <div class="BRfloat BRinfo">
      <div class="BRfloatHead">About this book
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
      <div class="BRfloatBody">
        <div class="BRfloatCover"></div>
        <div class="BRfloatMeta">
          <div class="BRfloatTitle">
            <h2><a /></h2>
          </div>
        </div>
      </div>
      <div class="BRfloatFoot">
        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>
      </div>
    </div>`)).appendTo(se.refs.$br),se.$(".BRinfo .BRfloatTitle a").attr({href:se.bookUrl}).text(se.bookTitle).addClass("title"),this.buildInfoDiv(se.$(".BRinfo")),this.buildShareDiv(se.$(".BRshare")),se.$(".share").colorbox({inline:!0,opacity:"0.5",href:se.$(".BRshare"),onLoad:function(){se.trigger(c.q.stop),se.$(".BRpageviewValue").val(window.location.href)}}),se.$(".info").colorbox({inline:!0,opacity:"0.5",href:se.$(".BRinfo"),onLoad:function(){se.trigger(c.q.stop)}})}},{key:"buildShareDiv",value:function(j){var U=this,se=this.br,me=document.location+"",Ce=(me+"").replace(/#.*/,""),Rt=se.getEmbedCode?`
      <div class="share-embed">
        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>
        <form method="post" action="">
          <fieldset class="fieldset-share-pageview">
            <label for="pageview">Link to this page view</label>
            <input type="text" name="pageview" class="BRpageviewValue" value="`.concat(me,`"/>
          </fieldset>
          <fieldset class="fieldset-share-book-link">
            <label for="booklink">Link to the book</label>
            <input type="text" name="booklink" class="booklink" value="`).concat(Ce,`"/>
          </fieldset>
          <fieldset class="fieldset-embed">
            <label for="iframe">Embed a mini Book Reader</label>
            <fieldset class="sub">
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(se.constMode1up,`" checked="checked"/>
                1 page
              </label>
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(se.constMode2up,`"/>
                2 pages
              </label>
              <label class="sub">
                <input type="checkbox" name="thispage" value="thispage"/>
                Open to this page?
              </label>
            </fieldset>
            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>
          </fieldset>
        </form>
      </div>`):"",vt=O(`
      <div class="share-title">Share this book</div>
      <div class="share-social">
        <label class="sub open-to-this-page">
          <input class="thispage-social" type="checkbox" />
          Open to this page?
        </label>
        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>
        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>
        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>
      </div>
      `.concat(Rt,`
      <div class="BRfloatFoot">
        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>
      </div>`));vt.appendTo(j),vt.find(".fieldset-embed input").on("change",function(qt){var ai=O(qt.target).parents("form").first(),Ei={};Ei.mode=O(ai.find(".fieldset-embed input[name=pages]:checked")).val(),ai.find(".fieldset-embed input[name=thispage]").prop("checked")&&(Ei.page=se.book.getPageNum(se.currentIndex())),se.getEmbedCode&&ai.find(".BRframeEmbed").val(se.getEmbedCode("480px","430px",Ei))}),vt.find("input, textarea").on("focus",function(qt){return qt.target.select()}),vt.find(".facebook-share-button").on("click",function(){C("https://www.facebook.com/sharer.php?"+O.param({u:U._getSocialShareUrl()}),600,400,"Share")}),vt.find(".twitter-share-button").on("click",function(){C("https://twitter.com/intent/tweet?"+O.param({url:U._getSocialShareUrl(),text:se.bookTitle}),600,400,"Share")}),vt.find(".email-share-button").on("click",function(){var qt="".concat(se.bookTitle,`

`).concat(U._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(se.bookTitle),"&body=").concat(encodeURI(qt))}),vt.find("input[name=thispage]").trigger("change"),vt.appendTo(j)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(j){var U=this.br;j.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var se=O('<div class="BRinfoLeftCol"></div>');U.thumbnail&&se.append(O(`
        <div class="BRimageW">
          <img src="`.concat(U.thumbnail,'" alt="').concat((0,o.escapeHTML)(U.bookTitle),`" />
        </div>`)));var me,Ce=O('<div class="BRinfoRightCol">'),Rt=function(Yi,Qi){var Ki=typeof Symbol<"u"&&Yi[Symbol.iterator]||Yi["@@iterator"];if(!Ki){if(Array.isArray(Yi)||(Ki=function(mr,Br){if(mr){if(typeof mr=="string")return h(mr,Br);var Lr={}.toString.call(mr).slice(8,-1);return Lr==="Object"&&mr.constructor&&(Lr=mr.constructor.name),Lr==="Map"||Lr==="Set"?Array.from(mr):Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr)?h(mr,Br):void 0}}(Yi))||Qi&&Yi&&typeof Yi.length=="number"){Ki&&(Yi=Ki);var gr=0,Dr=function(){};return{s:Dr,n:function(){return gr>=Yi.length?{done:!0}:{done:!1,value:Yi[gr++]}},e:function(mr){throw mr},f:Dr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Li,sr=!0,Kr=!1;return{s:function(){Ki=Ki.call(Yi)},n:function(){var mr=Ki.next();return sr=mr.done,mr},e:function(mr){Kr=!0,Li=mr},f:function(){try{sr||Ki.return==null||Ki.return()}finally{if(Kr)throw Li}}}}(U.metadata);try{for(Rt.s();!(me=Rt.n()).done;){var vt=me.value,qt=vt.extraValueClass,ai=qt===void 0?"":qt,Ei=vt.label,Ii=vt.value,Oi=Ei==="Title"?(0,o.escapeHTML)(Ii):Ii;Ce.append(O(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoLabel">`.concat(Ei,`</div>
          <div class="BRinfoValue `).concat(ai,'">').concat(Oi,`</div>
        </div>`)))}}catch(Yi){Rt.e(Yi)}finally{Rt.f()}var ar=U.bookUrlMoreInfo?U.bookUrlMoreInfo:U.bookTitle;ar&&U.bookUrl&&Ce.append(O(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoMoreInfoWrapper">
            <a class="BRinfoMoreInfo" href="`.concat(U.bookUrl,`">
              `).concat((0,o.escapeHTML)(ar),`
            </a>
          </div>
        </div>`)));var Wi=O('<div class="BRfloatFoot BRinfoFooter"></div>'),Ri=O('<div class="BRinfoW mv20-lg">').append([se,Ce,O('<br style="clear:both"/>')]);j.append(Ri,Wi).addClass("wide")}},{key:"getToolBarHeight",value:function(){var j=this.br.refs.$BRtoolbar;return j&&j.css("display")==="block"?j.outerHeight()+parseInt(j.css("top")):0}}],L&&v(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,L}();function C(D,L,j,U){var se=window.screenLeft!=null?window.screenLeft:screen.left,me=window.screenTop!=null?window.screenTop:screen.top,Ce=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-L/2+se,Rt=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-j/2+me,vt="status=1,width=".concat(L,",height=").concat(j,",top=").concat(Rt,",left=").concat(Ce);window.open(D,U,vt)}function N(D){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},N(D)}function G(){G=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&N(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError(N(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function q(D,L){var j=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!j){if(Array.isArray(D)||(j=function(vt,qt){if(vt){if(typeof vt=="string")return K(vt,qt);var ai={}.toString.call(vt).slice(8,-1);return ai==="Object"&&vt.constructor&&(ai=vt.constructor.name),ai==="Map"||ai==="Set"?Array.from(vt):ai==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ai)?K(vt,qt):void 0}}(D))||L&&D&&typeof D.length=="number"){j&&(D=j);var U=0,se=function(){};return{s:se,n:function(){return U>=D.length?{done:!0}:{done:!1,value:D[U++]}},e:function(vt){throw vt},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,Ce=!0,Rt=!1;return{s:function(){j=j.call(D)},n:function(){var vt=j.next();return Ce=vt.done,vt},e:function(vt){Rt=!0,me=vt},f:function(){try{Ce||j.return==null||j.return()}finally{if(Rt)throw me}}}}function K(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function ne(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function Q(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,Me(U.key),U)}}function ee(D,L,j){return L&&Q(D.prototype,L),j&&Q(D,j),Object.defineProperty(D,"prototype",{writable:!1}),D}function Me(D){var L=function(j,U){if(N(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(N(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return N(L)=="symbol"?L:L+""}s(8980),s(8350),s(6910),s(237),s(1392);var pe=function(){return ee(function D(L){var j,U,se,me;ne(this,D),this.br=L,this.reduceSet=L.reduceSet,this.ppi=(j=(U=L.options)===null||U===void 0?void 0:U.ppi)!==null&&j!==void 0?j:P.ppi,this.pageProgression=(se=(me=L.options)===null||me===void 0?void 0:me.pageProgression)!==null&&se!==void 0?se:P.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var D,L=[],j=[],U=q(this.pagesIterator());try{for(U.s();!(D=U.n()).done;){var se=D.value;L.push(se.widthInches),j.push(se.heightInches)}}catch(me){U.e(me)}finally{U.f()}return L.sort(function(me,Ce){return me-Ce}),j.sort(function(me,Ce){return me-Ce}),this._medianPageSize={width:L[Math.floor(L.length/2)],height:j[Math.floor(j.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(D){return D=(0,o.clamp)(D,0,this.getNumLeafs()-1),this.getPageWidth(D)}},{key:"_getPageHeight",value:function(D){var L=(0,o.clamp)(D,0,this.getNumLeafs()-1);return this.getPageHeight(L)}},{key:"getPageIndex",value:function(D){var L=this.getPageIndices(D);return L.length?L[L.length-1]:void 0}},{key:"getPageIndices",value:function(D){var L=[];if(D.slice(0,1)=="n")try{var j=D.slice(1,D.length),U=parseInt(j);return L.push(U),L}catch(me){}for(var se=0;se<this.getNumLeafs();se++)this.getPageNum(se)==D&&L.push(se);return L}},{key:"getPageName",value:function(D){return"Page "+this.getPageNum(D)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(D){return this.getPageProp(D,"width")}},{key:"getPageHeight",value:function(D){return this.getPageProp(D,"height")}},{key:"getPageURI",value:function(D,L,j){if(this.getPageProp(D,"viewable",!0))return this.getPageProp(D,"uri");var U=this.br.options.unviewablePageURI;return U.startsWith(".")?this.br.options.imagesBaseURL+U:U}},{key:"getPageSide",value:function(D){return this.getPageProp(D,"pageSide")||(D%2==0?"R":"L")}},{key:"getPageNum",value:function(D){var L=this.getPageProp(D,"pageNum");return L===void 0?"n".concat(D):L}},{key:"getPageProp",value:function(D,L){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(D,L,j)}},{key:"getSpreadIndices",value:function(D){return this.pageProgression=="rl"?this.getPageSide(D)=="R"?[D+1,D]:[D,D-1]:this.getPageSide(D)=="L"?[D,D+1]:[D-1,D]}},{key:"leafNumToIndex",value:function(D){var L=this._getDataFlattened().findIndex(function(j){return j.leafNum==D});return L>-1?L:D}},{key:"parsePageString",value:function(D){var L,j=/^leaf(\d+)/.exec(D);return j?(L=this.leafNumToIndex(parseInt(j[1],10)))===null&&(L=void 0):L=this.getPageIndex(D),L}},{key:"getPage",value:function(D){var L=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],j=this.getNumLeafs();if(L||!(D<0||D>=j))return D<0&&D>=-j&&(D+=j),new W(this,D%=j)}},{key:"pagesIterator",value:function(){var D=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=L.start,U=j===void 0?0:j,se=L.end,me=se===void 0?1/0:se,Ce=L.combineConsecutiveUnviewables,Rt=Ce!==void 0&&Ce;return G().mark(function vt(){var qt,ai;return G().wrap(function(Ei){for(;;)switch(Ei.prev=Ei.next){case 0:U=Math.max(0,U),me=Math.min(me,D.getNumLeafs()),qt=U;case 3:if(!(qt<me)){Ei.next=12;break}if(ai=D.getPage(qt),!Rt||!ai.isConsecutiveUnviewable){Ei.next=7;break}return Ei.abrupt("continue",9);case 7:return Ei.next=9,ai;case 9:qt++,Ei.next=3;break;case 12:case"end":return Ei.stop()}},vt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var D=null,L=null,j=0,U=this.br.data.flatMap(function(se){return se.map(function(me){return me.pageSide||(me.pageSide=D===null?se.length===2?"L":"R":D==="L"?"R":"L"),D=me.pageSide,me.viewable===!1?me.unviewablesStart=L===null?L=j:L:L=null,j++,me})});return this._getDataFlattenedCached=[U,this.br.data.length],U}},{key:"_getDataProp",value:function(D,L){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this._getDataFlattened();return isNaN(D)||D<0||D>=U.length||U[D][L]===void 0?j:U[D][L]}}])}(),W=function(){function D(L,j){ne(this,D);var U=L._getDataProp(j,"ppi",L.ppi);this.ppi=Math.max(U<10?L.ppi:U,10),this.book=L,this.index=j,this.width=L.getPageWidth(j),this.widthInches=this.width/this.ppi,this.height=L.getPageHeight(j),this.heightInches=this.height/this.ppi,this.pageSide=L.getPageSide(j),this.leafNum=L._getDataProp(j,"leafNum",this.index),this.isViewable=L._getDataProp(j,"viewable",!0),this.unviewablesStart=L._getDataProp(j,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return ee(D,[{key:"makeViewable",value:function(){var L=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=L)if(L){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var j,U=q(this.book.pagesIterator({start:this.index+1}));try{for(U.s();!(j=U.n()).done;){var se=j.value;if(se.isViewable)break;se._rawData.unviewablesStart=this.index+1}}catch(vt){U.e(vt)}finally{U.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var me,Ce=q(this.book.pagesIterator({start:this.index+1}));try{for(Ce.s();!(me=Ce.n()).done;){var Rt=me.value;if(!Rt.isViewable)break;Rt._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(vt){Ce.e(vt)}finally{Ce.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(L){var j=this.book.pageProgression==="lr"?this.index-L:this.index+L;return this.book.getPage(j)}},{key:"goRight",value:function(L){var j=this.book.pageProgression==="lr"?this.index+L:this.index-L;return this.book.getPage(j)}},{key:"getURI",value:function(L,j){return this.book.getPageURI(this.index,L,j)}},{key:"getPageNum",value:function(){return this.book.getPageNum(this.index)}},{key:"getURISrcSet",value:function(L){for(var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,se=this.book.reduceSet,me=se.floor(L),Ce=[],Rt=se.decr(me);Rt>=1;Rt=se.decr(Rt))Ce.push(Rt);return Ce.map(function(vt){return"".concat(j.getURI(vt,U)," ").concat(me/vt,"x")}).join(", ")}},{key:"findNext",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=L!==void 0&&L;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:j}).next().value}},{key:"findPrev",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=L!==void 0&&L;if(this.index!=0){if(j){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var U=new D(this.book,this.index-1);return U.isViewable?U:U.findPrev({combineConsecutiveUnviewables:j})}return new D(this.book,this.index-1)}}},{key:"findLeft",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=L!==void 0&&L;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:j}):this.findNext({combineConsecutiveUnviewables:j})}},{key:"findRight",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=L!==void 0&&L;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:j}):this.findPrev({combineConsecutiveUnviewables:j})}}])}(),oe=(s(4554),s(9085),s(2811),s(3851),s(888),s(9696)),fe=s(420),Z=s(8900),xe=(s(5914),s(2617)),Y=s(7583);function he(D){return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},he(D)}function Ke(){Ke=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&he(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError(he(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function ht(D,L,j,U,se,me,Ce){try{var Rt=D[me](Ce),vt=Rt.value}catch(qt){return void j(qt)}Rt.done?L(vt):Promise.resolve(vt).then(U,se)}function lt(D){return function(){var L=this,j=arguments;return new Promise(function(U,se){var me=D.apply(L,j);function Ce(vt){ht(me,U,se,Ce,Rt,"next",vt)}function Rt(vt){ht(me,U,se,Ce,Rt,"throw",vt)}Ce(void 0)})}}function We(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function Se(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,Ne(U.key),U)}}function Le(D,L,j){return L&&Se(D.prototype,L),j&&Se(D,j),Object.defineProperty(D,"prototype",{writable:!1}),D}function je(D,L,j){return(L=Ne(L))in D?Object.defineProperty(D,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[L]=j,D}function Ne(D){var L=function(j,U){if(he(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(he(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return he(L)=="symbol"?L:L+""}var Ge=function(){return Le(function D(L){var j=this;We(this,D),je(this,"scaleCenter",{x:.5,y:.5}),je(this,"_preventEvent",function(U){return U.preventDefault(),!1}),je(this,"_pinchStart",lt(Ke().mark(function U(){var se,me;return Ke().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:if(!(0,Y.un)()){Ce.next=7;break}return Ce.next=5,(0,o.sleep)(0);case 5:if(!(j.touchesMonitor.touches<2)){Ce.next=7;break}return Ce.abrupt("return");case 7:j.pinching=!0,j.oldScale=1,j.mode.$visibleWorld.classList.add("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="transform",j.mode.autoFit="none",j.detachCtrlZoom(),(se=(me=j.mode).detachScrollListeners)===null||se===void 0||se.call(me),j.interact.gesturable({listeners:{start:j._pinchStart,move:j._pinchMove,end:j._pinchEnd}});case 15:case"end":return Ce.stop()}},U)}))),je(this,"_pinchMove",function(){var U=lt(Ke().mark(function se(me){return Ke().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:j.lastEvent={scale:me.scale,clientX:me.clientX,clientY:me.clientY},j.pinchMoveFrame||(j.pinchMoveFrame=j.bufferFn(j._drawPinchZoomFrame));case 4:case"end":return Ce.stop()}},se)}));return function(se){return U.apply(this,arguments)}}()),je(this,"_pinchEnd",lt(Ke().mark(function U(){var se,me;return Ke().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=2;break}return Ce.abrupt("return");case 2:return j.pinching=!1,j.interact.gesturable({listeners:{start:j._pinchStart,end:j._pinchEnd}}),Ce.next=6,j.pinchMoveFramePromise;case 6:j.scaleCenter={x:.5,y:.5},j.oldScale=1,j.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="auto",j.attachCtrlZoom(),(se=(me=j.mode).attachScrollListeners)===null||se===void 0||se.call(me);case 12:case"end":return Ce.stop()}},U)}))),je(this,"_drawPinchZoomFrame",lt(Ke().mark(function U(){var se,me;return Ke().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j.pinching){Ce.next=3;break}return j.pinchMoveFrame=null,Ce.abrupt("return");case 3:if(j.mode.$container.style.overflow="hidden",j.pinchMoveFramePromiseRes=null,j.pinchMoveFramePromise=new Promise(function(Rt){return j.pinchMoveFramePromiseRes=Rt}),j.updateScaleCenter({clientX:j.lastEvent.clientX,clientY:j.lastEvent.clientY}),se=j.mode.scale,me=se*j.lastEvent.scale/j.oldScale,se==me){Ce.next=13;break}return j.mode.scale=me,Ce.next=13,j.pinchMoveFramePromise;case 13:j.mode.$container.style.overflow="auto",j.oldScale=j.lastEvent.scale,j.pinchMoveFrame=null;case 16:case"end":return Ce.stop()}},U)}))),je(this,"_dragMove",function(){var U=lt(Ke().mark(function se(me){return Ke().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!j.pinching){Ce.next=3;break}return Ce.next=3,j._pinchEnd();case 3:j.mode.$container.scrollTop-=me.dy,j.mode.$container.scrollLeft-=me.dx;case 5:case"end":return Ce.stop()}},se)}));return function(se){return U.apply(this,arguments)}}()),je(this,"_handleCtrlWheel",function(U){if(U.ctrlKey){U.preventDefault();var se=/Mac/i.test(navigator.platform)?.045:.03;j.updateScaleCenter(U),j.mode.autoFit="none",j.mode.scale*=1-Math.sign(U.deltaY)*se}}),this.mode=L,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,Y.un)()&&(this.touchesMonitor=new it(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=xe(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,Y.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var D,L;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(D=this.touchesMonitor)===null||D===void 0||(L=D.detach)===null||L===void 0||L.call(D),this.interact.unset(),xe.removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(D){var L=D.clientX,j=D.clientY,U=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(L-U.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(j-U.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(D,L){var j,U=this.mode.$container,se=U.scrollTop,me=U.scrollLeft,Ce=this.mode.htmlDimensionsCacher.clientWidth,Rt=this.mode.htmlDimensionsCacher.clientHeight,vt=D/L,qt=this.scaleCenter.x,ai=this.scaleCenter.y,Ei=vt*(me+qt*Ce),Ii=vt*(se+ai*Rt);U.scrollTop=Ii-ai*Rt,U.scrollLeft=Ei-qt*Ce,(j=this.pinchMoveFramePromiseRes)===null||j===void 0||j.call(this)}}])}(),it=function(){return Le(function D(L){var j=this;We(this,D),je(this,"_updateTouchCount",function(U){j.touches=U.touches.length}),this.container=L,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function Re(D){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Re(D)}function te(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,qe(U.key),U)}}function J(D,L,j){return(L=qe(L))in D?Object.defineProperty(D,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[L]=j,D}function qe(D){var L=function(j,U){if(Re(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(Re(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return Re(L)=="symbol"?L:L+""}var _t=function(){return D=function j(U){var se=this;(function(me,Ce){if(!(me instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,j),J(this,"clientWidth",100),J(this,"clientHeight",100),J(this,"boundingClientRect",{top:0,left:0}),J(this,"updateClientSizes",function(){var me=se.element.getBoundingClientRect();se.clientWidth=se.element.clientWidth,se.clientHeight=se.element.clientHeight,se.boundingClientRect.top=me.top,se.boundingClientRect.left=me.left}),J(this,"debouncedUpdateClientSizes",(0,o.debounce)(this.updateClientSizes,150,!1)),this.element=U},L=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],L&&te(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,L}();function be(D){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},be(D)}function $e(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,st(U.key),U)}}function st(D){var L=function(j,U){if(be(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(be(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return be(L)=="symbol"?L:L+""}var Ee=function(){return D=function j(U,se){var me,Ce,Rt,vt=this;(function(qt,ai){if(!(qt instanceof ai))throw new TypeError("Cannot call a class as a function")})(this,j),me=this,Rt=function(){vt.element.classList.add(vt.className),clearTimeout(vt.timeout),vt.timeout=setTimeout(function(){vt.element.classList.remove(vt.className)},600)},(Ce=st(Ce="onScroll"))in me?Object.defineProperty(me,Ce,{value:Rt,enumerable:!0,configurable:!0,writable:!0}):me[Ce]=Rt,this.element=U,this.className=se,this.timeout=null},(L=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&$e(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,L}();function Qe(D){return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Qe(D)}function nt(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,mt(U.key),U)}}function Ut(D,L,j){return L&&nt(D.prototype,L),j&&nt(D,j),Object.defineProperty(D,"prototype",{writable:!1}),D}function ut(D,L,j){return(L=mt(L))in D?Object.defineProperty(D,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[L]=j,D}function mt(D){var L=function(j,U){if(Qe(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(Qe(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return Qe(L)=="symbol"?L:L+""}var Mt,ti=Ut(function D(L){var j=this;(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,D),ut(this,"screenDPI",(0,o.calcScreenDPI)()),ut(this,"worldUnitsToRenderedPixels",function(U){return U*j.screenDPI}),ut(this,"renderedPixelsToWorldUnits",function(U){return U/j.screenDPI}),ut(this,"renderedPixelsToVisiblePixels",function(U){return U*j.mode.scale}),ut(this,"visiblePixelsToRenderedPixels",function(U){return U/j.mode.scale}),ut(this,"worldUnitsToVisiblePixels",function(U){return j.renderedPixelsToVisiblePixels(j.worldUnitsToRenderedPixels(U))}),ut(this,"visiblePixelsToWorldUnits",function(U){return j.renderedPixelsToWorldUnits(j.visiblePixelsToRenderedPixels(U))}),this.mode=L});function oi(D){return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},oi(D)}function ci(D){return function(L){if(Array.isArray(L))return Ie(L)}(D)||Ue(D)||ae(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lt(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,dt(U.key),U)}}function It(D,L,j){return L=Et(L),function(U,se){if(se&&(oi(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(U)}(D,Ct()?Reflect.construct(L,j||[],Et(D).constructor):L.apply(D,j))}function Ct(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(Ct=function(){return!!D})()}function St(D,L){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},St(D,L)}function kt(){kt=function(){return D};var D={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(L,j){["method","field"].forEach(function(U){j.forEach(function(se){se.kind===U&&se.placement==="own"&&this.defineClassElement(L,se)},this)},this)},initializeClassElements:function(L,j){var U=L.prototype;["method","field"].forEach(function(se){j.forEach(function(me){var Ce=me.placement;if(me.kind===se&&(Ce==="static"||Ce==="prototype")){var Rt=Ce==="static"?L:U;this.defineClassElement(Rt,me)}},this)},this)},defineClassElement:function(L,j){var U=j.descriptor;if(j.kind==="field"){var se=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:se===void 0?void 0:se.call(L)}}Object.defineProperty(L,j.key,U)},decorateClass:function(L,j){var U=[],se=[],me={static:[],prototype:[],own:[]};if(L.forEach(function(Rt){this.addElementPlacement(Rt,me)},this),L.forEach(function(Rt){if(!ke(Rt))return U.push(Rt);var vt=this.decorateElement(Rt,me);U.push(vt.element),U.push.apply(U,vt.extras),se.push.apply(se,vt.finishers)},this),!j)return{elements:U,finishers:se};var Ce=this.decorateConstructor(U,j);return se.push.apply(se,Ce.finishers),Ce.finishers=se,Ce},addElementPlacement:function(L,j,U){var se=j[L.placement];if(!U&&se.indexOf(L.key)!==-1)throw new TypeError("Duplicated element ("+L.key+")");se.push(L.key)},decorateElement:function(L,j){for(var U=[],se=[],me=L.decorators,Ce=me.length-1;Ce>=0;Ce--){var Rt=j[L.placement];Rt.splice(Rt.indexOf(L.key),1);var vt=this.fromElementDescriptor(L),qt=this.toElementFinisherExtras((0,me[Ce])(vt)||vt);L=qt.element,this.addElementPlacement(L,j),qt.finisher&&se.push(qt.finisher);var ai=qt.extras;if(ai){for(var Ei=0;Ei<ai.length;Ei++)this.addElementPlacement(ai[Ei],j);U.push.apply(U,ai)}}return{element:L,finishers:se,extras:U}},decorateConstructor:function(L,j){for(var U=[],se=j.length-1;se>=0;se--){var me=this.fromClassDescriptor(L),Ce=this.toClassDescriptor((0,j[se])(me)||me);if(Ce.finisher!==void 0&&U.push(Ce.finisher),Ce.elements!==void 0){L=Ce.elements;for(var Rt=0;Rt<L.length-1;Rt++)for(var vt=Rt+1;vt<L.length;vt++)if(L[Rt].key===L[vt].key&&L[Rt].placement===L[vt].placement)throw new TypeError("Duplicated element ("+L[Rt].key+")")}}return{elements:L,finishers:U}},fromElementDescriptor:function(L){var j={kind:L.kind,key:L.key,placement:L.placement,descriptor:L.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L.kind==="field"&&(j.initializer=L.initializer),j},toElementDescriptors:function(L){if(L!==void 0)return(j=L,function(U){if(Array.isArray(U))return U}(j)||Ue(j)||ae(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var se=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),se},this);var j},toElementDescriptor:function(L){var j=L.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=dt(L.key),se=L.placement+"";if(se!=="static"&&se!=="prototype"&&se!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+se+'"');var me=L.descriptor;this.disallowProperty(L,"elements","An element descriptor");var Ce={kind:j,key:U,placement:se,descriptor:Object.assign({},me)};return j!=="field"?this.disallowProperty(L,"initializer","A method descriptor"):(this.disallowProperty(me,"get","The property descriptor of a field descriptor"),this.disallowProperty(me,"set","The property descriptor of a field descriptor"),this.disallowProperty(me,"value","The property descriptor of a field descriptor"),Ce.initializer=L.initializer),Ce},toElementFinisherExtras:function(L){return{element:this.toElementDescriptor(L),finisher:Ze(L,"finisher"),extras:this.toElementDescriptors(L.extras)}},fromClassDescriptor:function(L){var j={kind:"class",elements:L.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(L){var j=L.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(L,"key","A class descriptor"),this.disallowProperty(L,"placement","A class descriptor"),this.disallowProperty(L,"descriptor","A class descriptor"),this.disallowProperty(L,"initializer","A class descriptor"),this.disallowProperty(L,"extras","A class descriptor");var U=Ze(L,"finisher");return{elements:this.toElementDescriptors(L.elements),finisher:U}},runClassFinishers:function(L,j){for(var U=0;U<j.length;U++){var se=(0,j[U])(L);if(se!==void 0){if(typeof se!="function")throw new TypeError("Finishers must return a constructor.");L=se}}return L},disallowProperty:function(L,j,U){if(L[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return D}function I(D){var L,j=dt(D.key);D.kind==="method"?L={value:D.value,writable:!0,configurable:!0,enumerable:!1}:D.kind==="get"?L={get:D.value,configurable:!0,enumerable:!1}:D.kind==="set"?L={set:D.value,configurable:!0,enumerable:!1}:D.kind==="field"&&(L={configurable:!0,writable:!0,enumerable:!0});var U={kind:D.kind==="field"?"field":"method",key:j,placement:D.static?"static":D.kind==="field"?"own":"prototype",descriptor:L};return D.decorators&&(U.decorators=D.decorators),D.kind==="field"&&(U.initializer=D.value),U}function Ve(D,L){D.descriptor.get!==void 0?L.descriptor.get=D.descriptor.get:L.descriptor.set=D.descriptor.set}function ke(D){return D.decorators&&D.decorators.length}function Ye(D){return D!==void 0&&!(D.value===void 0&&D.writable===void 0)}function Ze(D,L){var j=D[L];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+L+"' to be a function");return j}function dt(D){var L=function(j,U){if(oi(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(oi(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return oi(L)=="symbol"?L:L+""}function ae(D,L){if(D){if(typeof D=="string")return Ie(D,L);var j={}.toString.call(D).slice(8,-1);return j==="Object"&&D.constructor&&(j=D.constructor.name),j==="Map"||j==="Set"?Array.from(D):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Ie(D,L):void 0}}function Ie(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function Ue(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}function gt(D,L,j,U){var se=ct(Et(1&U?D.prototype:D),L,j);return 2&U&&typeof se=="function"?function(me){return se.apply(j,me)}:se}function ct(){return ct=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(D,L,j){var U=function(me,Ce){for(;!{}.hasOwnProperty.call(me,Ce)&&(me=Et(me))!==null;);return me}(D,L);if(U){var se=Object.getOwnPropertyDescriptor(U,L);return se.get?se.get.call(arguments.length<3?D:j):se.value}},ct.apply(null,arguments)}function Et(D){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},Et(D)}var zt,Xt,Ot,Bt,Xe,De=(zt=[(0,oe.EM)("br-mode-1up")],Xt=fe.WF,Ot=kt(),Bt=function(D,L){var j=function(U){function se(me,Ce){var Rt;return function(vt,qt){if(!(vt instanceof qt))throw new TypeError("Cannot call a class as a function")}(this,se),Rt=It(this,se),D(Rt),Rt.book=me,Rt.br=Ce,Rt}return function(me,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),Ce&&St(me,Ce)}(se,U),function(me,Ce,Rt){return Ce&&Lt(me.prototype,Ce),Rt&&Lt(me,Rt),Object.defineProperty(me,"prototype",{writable:!1}),me}(se)}(L);return{F:j,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,oe.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,oe.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,oe.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new ti(this)}},{kind:"field",decorators:[(0,oe.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,oe.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,oe.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,oe.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,oe.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var U=this.coordSpace.worldUnitsToRenderedPixels;return{width:U(this.worldDimensions.width)+"px",height:U(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,oe.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new _t(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Ge(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Ee(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(U){var se=this,me=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,Ce=me!==void 0&&me;Ce&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[U]-this.SPACING_IN/2),Ce&&setTimeout(function(){return se.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(U){gt(j,"firstUpdated",this,3)([U]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(U){var se=this.book.getPage(U);this.scale=this.computeDefaultScale(se)}},{kind:"method",key:"updated",value:function(U){if(U.has("book")&&this.updatePages(),U.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),U.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),U.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(me){return me.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),U.has("scale")){var se=U.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,se),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,o.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){gt(j,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),gt(j,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var U=this;return(0,fe.qy)(Mt||(Mt=function(se,me){return me||(me=se.slice(0)),Object.freeze(Object.defineProperties(se,{raw:{value:Object.freeze(me)}}))}([`
      <div class="br-mode-1up__world" style=`,`></div>
      <div class="br-mode-1up__visible-world">
        `,`
      </div>`])),(0,Z.W)(this.worldStyle),this.renderedPages.map(function(se){return U.renderPage(se)}))}},{kind:"field",key:"createPageContainer",value:function(){var U=this;return function(se){return U.pageContainerCache[se.index]||(U.pageContainerCache[se.index]=U.br._createPageContainer(se.index))}}},{kind:"field",key:"renderPage",value:function(){var U=this;return function(se){var me=U.coordSpace.worldUnitsToRenderedPixels,Ce=U.coordSpace.worldUnitsToVisiblePixels,Rt=U.coordSpace.visiblePixelsToWorldUnits(U.htmlDimensionsCacher.clientWidth),vt=me(se.widthInches),qt=me(se.heightInches),ai=Math.max(U.SPACING_IN,(Rt-se.widthInches)/2),Ei=U.pageTops[se.index],Ii="translate(".concat(me(ai),"px, ").concat(me(Ei),"px)"),Oi=U.createPageContainer(se).update({dimensions:{width:vt,height:qt,top:0,left:0},reduce:se.width/Ce(se.widthInches)}).$container[0];return Oi.style.transform=Ii,Oi.classList.toggle("BRpage-visible",U.visiblePages.includes(se)),Oi}}},{kind:"field",key:"updateVisibleRegion",value:function(){var U=this;return function(){var se=U.scrollTop,me=U.scrollLeft,Ce=U.htmlDimensionsCacher.clientWidth,Rt=U.htmlDimensionsCacher.clientHeight,vt=U.coordSpace.visiblePixelsToWorldUnits;U.visibleRegion={top:vt(se),height:vt(Rt),left:vt(me),width:vt(Ce)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var U,se;return[(U=this.visiblePages[0])===null||U===void 0?void 0:U.prev].concat(ci(this.visiblePages),[(se=this.visiblePages[this.visiblePages.length-1])===null||se===void 0?void 0:se.next]).filter(function(me){return me}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var U=this;return(0,o.throttle)(function(){U.renderedPages=U.computeRenderedPages(),U.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(U,se){var me,Ce={},Rt=se,vt=function(ai,Ei){var Ii=typeof Symbol<"u"&&ai[Symbol.iterator]||ai["@@iterator"];if(!Ii){if(Array.isArray(ai)||(Ii=ae(ai))||Ei&&ai&&typeof ai.length=="number"){Ii&&(ai=Ii);var Oi=0,ar=function(){};return{s:ar,n:function(){return Oi>=ai.length?{done:!0}:{done:!1,value:ai[Oi++]}},e:function(Qi){throw Qi},f:ar}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wi,Ri=!0,Yi=!1;return{s:function(){Ii=Ii.call(ai)},n:function(){var Qi=Ii.next();return Ri=Qi.done,Qi},e:function(Qi){Yi=!0,Wi=Qi},f:function(){try{Ri||Ii.return==null||Ii.return()}finally{if(Yi)throw Wi}}}}(U);try{for(vt.s();!(me=vt.n()).done;){var qt=me.value;Ce[qt.index]=Rt,Rt+=qt.heightInches+se}}catch(ai){vt.e(ai)}finally{vt.f()}return Ce}},{kind:"method",key:"computeDefaultScale",value:function(U){var se=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,se/(U.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,ci(this.pages.map(function(U){return U.widthInches})))+2*this.SPACING_IN,height:(0,o.sum)(this.pages.map(function(U){return U.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var U=this;return this.pages.filter(function(se){var me=U.pageTops[se.index],Ce=me+se.heightInches,Rt=U.visibleRegion.top;return me<=Rt+U.visibleRegion.height&&Ce>=Rt})}},{kind:"field",key:"attachScrollListeners",value:function(){var U=this;return function(){U.addEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var U=this;return function(){U.removeEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.detach()}}}]}}(function(D){Ot.initializeInstanceElements(D,Xe.elements)},Xt),Xe=Ot.decorateClass(function(D){for(var L=[],j=function(Ce){return Ce.kind==="method"&&Ce.key===me.key&&Ce.placement===me.placement},U=0;U<D.length;U++){var se,me=D[U];if(me.kind==="method"&&(se=L.find(j)))if(Ye(me.descriptor)||Ye(se.descriptor)){if(ke(me)||ke(se))throw new ReferenceError("Duplicated methods ("+me.key+") can't be decorated.");se.descriptor=me.descriptor}else{if(ke(me)){if(ke(se))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+me.key+").");se.decorators=me.decorators}Ve(me,se)}else L.push(me)}return L}(Bt.d.map(I)),zt),Ot.initializeClassElements(Bt.F,Xe.elements),Ot.runClassFinishers(Bt.F,Xe.finishers)),Fe=s(1669);function et(D){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},et(D)}function Pt(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,Je(U.key),U)}}function Nt(D,L,j){return(L=Je(L))in D?Object.defineProperty(D,L,{value:j,enumerable:!0,configurable:!0,writable:!0}):D[L]=j,D}function Je(D){var L=function(j,U){if(et(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(et(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return et(L)=="symbol"?L:L+""}function wt(D,L){return D.split(" ").map(function(j){return j+L}).join(" ")}function At(D){var L,j;return D.clientX!==void 0?(L=D.clientX,j=D.clientY):D.screenX!==void 0?(L=D.screenX,j=D.screenY):D.targetTouches!==void 0?(L=D.targetTouches[0].pageX,j=D.targetTouches[0].pageY):D.originalEvent===void 0?console.error("don't understand x and y for "+D.type,D):D.originalEvent.clientX!==void 0?(L=D.originalEvent.clientX,j=D.originalEvent.clientY):D.originalEvent.screenX!==void 0?(L=D.originalEvent.screenX,j=D.originalEvent.screenY):D.originalEvent.targetTouches!==void 0&&(L=D.originalEvent.targetTouches[0].pageX,j=D.originalEvent.targetTouches[0].pageY),{left:L,top:j}}var Kt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},Jt=function(){return function(D,L,j){return L&&Pt(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}(function D(L){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")})(this,D),Nt(this,"_dragStartHandler",function(se){return!!j._shouldAbort()||!(se.which>1||!j.settings.acceptPropagatedEvent&&se.target!=j.handling_element[0])&&(j.lastCoord=j.firstCoord=At(se),j.handling_element.on(j.settings.dragcontinue,j._dragContinueHandler),j.settings.dragend.split(" ").forEach(function(me){j.handling_element[0].addEventListener(me,j._dragEndHandler,!0)}),j.settings.preventDefault?(se.preventDefault(),!1):void 0)}),Nt(this,"_dragContinueHandler",function(se){if(j._shouldAbort())return!0;var me=At(se),Ce=me.left-j.lastCoord.left,Rt=me.top-j.lastCoord.top,vt=j.settings.scrollWindow?Fe(window):j.handling_element;return vt.scrollLeft(vt.scrollLeft()-Ce),vt.scrollTop(vt.scrollTop()-Rt),j.lastCoord=me,j.settings.preventDefault?(se.preventDefault(),!1):void 0}),Nt(this,"_dragEndHandler",function(se){if(j._shouldAbort())return!0;j.handling_element.off(j.settings.dragcontinue).off(j.settings.dragend),j.settings.dragend.split(" ").forEach(function(Rt){j.handling_element[0].removeEventListener(Rt,j._dragEndHandler,!0)});var me={left:Math.abs(j.lastCoord.left-j.firstCoord.left),top:Math.abs(j.lastCoord.top-j.firstCoord.top)},Ce=Math.max(me.left,me.top);return j.settings.preventDefault&&Ce>j.settings.dragMinDistance?(se.preventDefault(),se.stopImmediatePropagation(),se.stopPropagation(),!1):void 0}),this.handling_element=Fe(L),this.settings=Fe.extend({},Kt,U||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=wt(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=wt(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}(),Ai=s(1669);function Si(D){return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Si(D)}function Mi(){Mi=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&Si(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError(Si(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function Gt(D,L,j,U,se,me,Ce){try{var Rt=D[me](Ce),vt=Rt.value}catch(qt){return void j(qt)}Rt.done?L(vt):Promise.resolve(vt).then(U,se)}function wi(D){return function(){var L=this,j=arguments;return new Promise(function(U,se){var me=D.apply(L,j);function Ce(vt){Gt(me,U,se,Ce,Rt,"next",vt)}function Rt(vt){Gt(me,U,se,Ce,Rt,"throw",vt)}Ce(void 0)})}}function Ti(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,Fi(U.key),U)}}function Fi(D){var L=function(j,U){if(Si(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(Si(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return Si(L)=="symbol"?L:L+""}var fr,Zi,lr,Er,or,vr,_r,Pr,Zr=function(){return function(D,L,j){return L&&Ti(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}(function D(L,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,D),function(U,se,me){(se=Fi(se))in U?Object.defineProperty(U,se,{value:"1up",enumerable:!0,configurable:!0,writable:!0}):U[se]="1up"}(this,"name"),this.br=L,this.book=j,this.mode1UpLit=new De(j,L),this.$el=Ai(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1},[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var D=this,L=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(wi(Mi().mark(function j(){return Mi().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(D.everShown){U.next=7;break}return D.mode1UpLit.initFirstRender(L),D.everShown=!0,D.mode1UpLit.requestUpdate(),U.next=6,D.mode1UpLit.updateComplete;case 6:new Jt(D.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:D.mode1UpLit.jumpToIndex(L),setTimeout(function(){D.mode1UpLit.updateVisibleRegion()});case 9:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(D,L,j,U){var se=Math.abs(this.br.currentIndex()-D),me=!U&&se>0&&se<=4;this.mode1UpLit.jumpToIndex(D,{smooth:me})}},{key:"zoom",value:function(D){switch(D){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(D))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),sn=(s(1761),s(1669));function $r(D){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},$r(D)}function Rr(D,L){return L||(L=D.slice(0)),Object.freeze(Object.defineProperties(D,{raw:{value:Object.freeze(L)}}))}function Yr(){Yr=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&$r(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError($r(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function Wr(D,L,j,U,se,me,Ce){try{var Rt=D[me](Ce),vt=Rt.value}catch(qt){return void j(qt)}Rt.done?L(vt):Promise.resolve(vt).then(U,se)}function ve(D){return function(){var L=this,j=arguments;return new Promise(function(U,se){var me=D.apply(L,j);function Ce(vt){Wr(me,U,se,Ce,Rt,"next",vt)}function Rt(vt){Wr(me,U,se,Ce,Rt,"throw",vt)}Ce(void 0)})}}function ce(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,yn(U.key),U)}}function B(D,L,j){return L&&ce(D.prototype,L),j&&ce(D,j),Object.defineProperty(D,"prototype",{writable:!1}),D}function ye(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function _e(D,L,j){return L=er(L),function(U,se){if(se&&($r(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(U)}(D,Tt()?Reflect.construct(L,j||[],er(D).constructor):L.apply(D,j))}function Tt(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(Tt=function(){return!!D})()}function Ft(D,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),L&&pi(D,L)}function pi(D,L){return pi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},pi(D,L)}function di(D,L,j,U){var se=zi();if(U)for(var me=0;me<U.length;me++)se=U[me](se);var Ce=L(function(vt){se.initializeInstanceElements(vt,Rt.elements)},j),Rt=se.decorateClass(function(vt){for(var qt=[],ai=function(ar){return ar.kind==="method"&&ar.key===Oi.key&&ar.placement===Oi.placement},Ei=0;Ei<vt.length;Ei++){var Ii,Oi=vt[Ei];if(Oi.kind==="method"&&(Ii=qt.find(ai)))if(le(Oi.descriptor)||le(Ii.descriptor)){if(Ur(Oi)||Ur(Ii))throw new ReferenceError("Duplicated methods ("+Oi.key+") can't be decorated.");Ii.descriptor=Oi.descriptor}else{if(Ur(Oi)){if(Ur(Ii))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Oi.key+").");Ii.decorators=Oi.decorators}ir(Oi,Ii)}else qt.push(Oi)}return qt}(Ce.d.map(dr)),D);return se.initializeClassElements(Ce.F,Rt.elements),se.runClassFinishers(Ce.F,Rt.finishers)}function zi(){zi=function(){return D};var D={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(L,j){["method","field"].forEach(function(U){j.forEach(function(se){se.kind===U&&se.placement==="own"&&this.defineClassElement(L,se)},this)},this)},initializeClassElements:function(L,j){var U=L.prototype;["method","field"].forEach(function(se){j.forEach(function(me){var Ce=me.placement;if(me.kind===se&&(Ce==="static"||Ce==="prototype")){var Rt=Ce==="static"?L:U;this.defineClassElement(Rt,me)}},this)},this)},defineClassElement:function(L,j){var U=j.descriptor;if(j.kind==="field"){var se=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:se===void 0?void 0:se.call(L)}}Object.defineProperty(L,j.key,U)},decorateClass:function(L,j){var U=[],se=[],me={static:[],prototype:[],own:[]};if(L.forEach(function(Rt){this.addElementPlacement(Rt,me)},this),L.forEach(function(Rt){if(!Ur(Rt))return U.push(Rt);var vt=this.decorateElement(Rt,me);U.push(vt.element),U.push.apply(U,vt.extras),se.push.apply(se,vt.finishers)},this),!j)return{elements:U,finishers:se};var Ce=this.decorateConstructor(U,j);return se.push.apply(se,Ce.finishers),Ce.finishers=se,Ce},addElementPlacement:function(L,j,U){var se=j[L.placement];if(!U&&se.indexOf(L.key)!==-1)throw new TypeError("Duplicated element ("+L.key+")");se.push(L.key)},decorateElement:function(L,j){for(var U=[],se=[],me=L.decorators,Ce=me.length-1;Ce>=0;Ce--){var Rt=j[L.placement];Rt.splice(Rt.indexOf(L.key),1);var vt=this.fromElementDescriptor(L),qt=this.toElementFinisherExtras((0,me[Ce])(vt)||vt);L=qt.element,this.addElementPlacement(L,j),qt.finisher&&se.push(qt.finisher);var ai=qt.extras;if(ai){for(var Ei=0;Ei<ai.length;Ei++)this.addElementPlacement(ai[Ei],j);U.push.apply(U,ai)}}return{element:L,finishers:se,extras:U}},decorateConstructor:function(L,j){for(var U=[],se=j.length-1;se>=0;se--){var me=this.fromClassDescriptor(L),Ce=this.toClassDescriptor((0,j[se])(me)||me);if(Ce.finisher!==void 0&&U.push(Ce.finisher),Ce.elements!==void 0){L=Ce.elements;for(var Rt=0;Rt<L.length-1;Rt++)for(var vt=Rt+1;vt<L.length;vt++)if(L[Rt].key===L[vt].key&&L[Rt].placement===L[vt].placement)throw new TypeError("Duplicated element ("+L[Rt].key+")")}}return{elements:L,finishers:U}},fromElementDescriptor:function(L){var j={kind:L.kind,key:L.key,placement:L.placement,descriptor:L.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L.kind==="field"&&(j.initializer=L.initializer),j},toElementDescriptors:function(L){if(L!==void 0)return(j=L,function(U){if(Array.isArray(U))return U}(j)||si(j)||An(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var se=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),se},this);var j},toElementDescriptor:function(L){var j=L.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=yn(L.key),se=L.placement+"";if(se!=="static"&&se!=="prototype"&&se!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+se+'"');var me=L.descriptor;this.disallowProperty(L,"elements","An element descriptor");var Ce={kind:j,key:U,placement:se,descriptor:Object.assign({},me)};return j!=="field"?this.disallowProperty(L,"initializer","A method descriptor"):(this.disallowProperty(me,"get","The property descriptor of a field descriptor"),this.disallowProperty(me,"set","The property descriptor of a field descriptor"),this.disallowProperty(me,"value","The property descriptor of a field descriptor"),Ce.initializer=L.initializer),Ce},toElementFinisherExtras:function(L){return{element:this.toElementDescriptor(L),finisher:On(L,"finisher"),extras:this.toElementDescriptors(L.extras)}},fromClassDescriptor:function(L){var j={kind:"class",elements:L.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(L){var j=L.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(L,"key","A class descriptor"),this.disallowProperty(L,"placement","A class descriptor"),this.disallowProperty(L,"descriptor","A class descriptor"),this.disallowProperty(L,"initializer","A class descriptor"),this.disallowProperty(L,"extras","A class descriptor");var U=On(L,"finisher");return{elements:this.toElementDescriptors(L.elements),finisher:U}},runClassFinishers:function(L,j){for(var U=0;U<j.length;U++){var se=(0,j[U])(L);if(se!==void 0){if(typeof se!="function")throw new TypeError("Finishers must return a constructor.");L=se}}return L},disallowProperty:function(L,j,U){if(L[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return D}function dr(D){var L,j=yn(D.key);D.kind==="method"?L={value:D.value,writable:!0,configurable:!0,enumerable:!1}:D.kind==="get"?L={get:D.value,configurable:!0,enumerable:!1}:D.kind==="set"?L={set:D.value,configurable:!0,enumerable:!1}:D.kind==="field"&&(L={configurable:!0,writable:!0,enumerable:!0});var U={kind:D.kind==="field"?"field":"method",key:j,placement:D.static?"static":D.kind==="field"?"own":"prototype",descriptor:L};return D.decorators&&(U.decorators=D.decorators),D.kind==="field"&&(U.initializer=D.value),U}function ir(D,L){D.descriptor.get!==void 0?L.descriptor.get=D.descriptor.get:L.descriptor.set=D.descriptor.set}function Ur(D){return D.decorators&&D.decorators.length}function le(D){return D!==void 0&&!(D.value===void 0&&D.writable===void 0)}function On(D,L){var j=D[L];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+L+"' to be a function");return j}function yn(D){var L=function(j,U){if($r(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if($r(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return $r(L)=="symbol"?L:L+""}function An(D,L){if(D){if(typeof D=="string")return bn(D,L);var j={}.toString.call(D).slice(8,-1);return j==="Object"&&D.constructor&&(j=D.constructor.name),j==="Map"||j==="Set"?Array.from(D):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?bn(D,L):void 0}}function bn(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function si(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}function bi(D,L,j,U){var se=fi(er(1&U?D.prototype:D),L,j);return 2&U&&typeof se=="function"?function(me){return se.apply(j,me)}:se}function fi(){return fi=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(D,L,j){var U=function(me,Ce){for(;!{}.hasOwnProperty.call(me,Ce)&&(me=er(me))!==null;);return me}(D,L);if(U){var se=Object.getOwnPropertyDescriptor(U,L);return se.get?se.get.call(arguments.length<3?D:j):se.value}},fi.apply(null,arguments)}function er(D){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},er(D)}var rr=di([(0,oe.EM)("br-mode-2up")],function(D,L){var j,U,se=function(me){function Ce(Rt,vt){var qt;return ye(this,Ce),qt=_e(this,Ce),D(qt),qt.book=Rt,qt.br=vt,qt}return Ft(Ce,me),B(Ce)}(L);return{F:se,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,oe.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new ti(this)}},{kind:"field",decorators:[(0,oe.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,oe.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,oe.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,oe.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(me){return me.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(me){return me.pageSide=="R"})}},{kind:"field",decorators:[(0,oe.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,oe.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(me){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(me){return me.widthInches*this.computePageHeight(me)/me.heightInches}},{kind:"method",key:"computePositions",value:function(me,Ce){var Rt,vt,qt,ai,Ei=this.computePageWidth.bind(this),Ii=this.book.getNumLeafs(),Oi=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,ar=this.book.pageProgression=="lr"?(Rt=me==null?void 0:me.index)!==null&&Rt!==void 0?Rt:0:me?Ii-me.index:0,Wi=this._leftCoverWidth+ar*this.PAGE_THICKNESS_IN,Ri=Wi,Yi=Ei(me||Ce.right),Qi=Wi-Yi,Ki=Qi,gr=((vt=this.activeFlip)===null||vt===void 0?void 0:vt.direction)!="left"?0:Oi,Dr=Math.ceil(ar/2)*this.PAGE_THICKNESS_IN-gr,Li=gr+Dr,sr=Ki-gr,Kr=sr-Dr,mr=Wi,Br=Ce?Ei(Ce):0,Lr=mr+Br,pn=this.book.pageProgression=="lr"?Ce?Ii-Ce.index:0:(qt=Ce==null?void 0:Ce.index)!==null&&qt!==void 0?qt:0,Nr=Lr,Ir=((ai=this.activeFlip)===null||ai===void 0?void 0:ai.direction)!="right"?0:Oi,Xr=Nr+Ir,ge=Math.ceil(pn/2)*this.PAGE_THICKNESS_IN-Ir,ue=Nr+ge+Ir;return{leafEdgesLeftStart:Kr,leafEdgesLeftMainWidth:Dr,leafEdgesLeftMovingStart:sr,leafEdgesLeftMovingWidth:gr,leafEdgesLeftEnd:Ki,leafEdgesLeftFullWidth:Li,pageLeftStart:Qi,pageLeftWidth:Yi,pageLeftEnd:Ri,gutter:Wi,pageRightStart:mr,pageRightWidth:Br,pageRightEnd:Lr,leafEdgesRightStart:Nr,leafEdgesRightMovingWidth:Ir,leafEdgesRightMainStart:Xr,leafEdgesRightMainWidth:ge,leafEdgesRightEnd:ue,leafEdgesRightFullWidth:Ir+ge,spreadWidth:Lr-Qi,bookWidth:ue-Kr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new _t(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Ge(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(U=ve(Yr().mark(function me(Ce){var Rt,vt,qt=arguments;return Yr().wrap(function(ai){for(;;)switch(ai.prev=ai.next){case 0:return Rt=(qt.length>1&&qt[1]!==void 0?qt[1]:{}).smooth,vt=Rt===void 0||Rt,ai.next=3,this.flipAnimation(Ce,{animate:vt});case 3:case"end":return ai.stop()}},me,this)})),function(me){return U.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(me){bi(se,"firstUpdated",this,3)([me]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){bi(se,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),bi(se,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(me){if(me.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),me.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Rt){return Rt.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),me.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),me.has("scale")){var Ce=me.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,Ce)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var me=this;return(0,fe.qy)(fr||(fr=Rr([`
      <div class="br-mode-2up__book" @mouseup=`,`>
        `,`
        `,`
        `,`
      </div>`])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(Ce){return me.renderPage(Ce)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var me=this;return function(Ce){return me.pageContainerCache[Ce.index]||(me.pageContainerCache[Ce.index]=me.br._createPageContainer(Ce.index))}}},{kind:"method",key:"initFirstRender",value:function(me){var Ce=this.book.getPage(me),Rt=Ce.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Rt.left,Rt.right]:[Rt.right,Rt.left]).filter(function(vt){return vt}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(Ce),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var me=this;return function(Ce){var Rt=me.coordSpace.worldUnitsToRenderedPixels,vt=me.coordSpace.worldUnitsToVisiblePixels,qt=Rt(me.computePageWidth(Ce)),ai=Rt(me.computePageHeight(Ce)),Ei=me.visiblePages.map(function(ar){return ar.index}).includes(Ce.index),Ii=me.computePositions(Ce.spread.left,Ce.spread.right),Oi=me.createPageContainer(Ce).update({dimensions:{width:qt,height:ai,top:0,left:Rt(Ce.pageSide=="L"?Ii.pageLeftStart:Ii.pageLeftEnd)},reduce:Ce.width/vt(me.computePageWidth(Ce))}).$container[0];return Oi.classList.toggle("BRpage-visible",Ei),Oi}}},{kind:"field",key:"renderLeafEdges",value:function(){var me=this;return function(Ce){var Rt;if(!me.visiblePages.length)return(0,fe.qy)(Zi||(Zi=Rr([""])));if(!(Ce=="left"?me.positions.leafEdgesLeftFullWidth:me.positions.leafEdgesRightFullWidth))return(0,fe.qy)(lr||(lr=Rr([""])));var vt=me.coordSpace.worldUnitsToRenderedPixels,qt=vt(me.computePageHeight(me.visiblePages[0])),ai=((Rt=me.activeFlip)===null||Rt===void 0?void 0:Rt.direction)==Ce,Ei=me.book.getPage(me.book.pageProgression=="lr"?0:me.book.getNumLeafs()-1),Ii=me.book.getPage(me.book.pageProgression=="lr"?me.book.getNumLeafs()-1:0),Oi=ai?me.activeFlip.pagesFlippingCount:0,ar=Ce=="left"?[Ei.index,me.pageLeft.goLeft(Oi).index]:[me.pageRight.goRight(Oi).index,Ii.index],Wi={width:"".concat(vt(Ce=="left"?me.positions.leafEdgesLeftMainWidth:me.positions.leafEdgesRightMainWidth),"px"),height:"".concat(qt,"px"),left:"".concat(vt(Ce=="left"?me.positions.leafEdgesLeftStart:me.positions.leafEdgesRightMainStart),"px")},Ri=(0,fe.qy)(Er||(Er=Rr([`
      <br-leaf-edges
        leftIndex=`,`
        rightIndex=`,`
        .book=`,`
        .pageClickHandler=`,`
        side=`,`
        class="br-mode-2up__leafs br-mode-2up__leafs--`,`"
        style=`,`
      ></br-leaf-edges>
    `])),ar[0],ar[1],me.book,function(gr){return me.br.jumpToIndex(gr)},Ce,Ce,(0,Z.W)(Wi));if(ai){var Yi=vt(Ce=="left"?me.positions.leafEdgesLeftMovingWidth:me.positions.leafEdgesRightMovingWidth),Qi={width:"".concat(Yi,"px"),height:"".concat(qt,"px"),left:"".concat(vt(Ce=="left"?me.positions.leafEdgesLeftMovingStart:me.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(vt(Ce=="left"?me.positions.pageLeftWidth:-me.positions.pageRightWidth)+Yi/2,"px 0")},Ki=(0,fe.qy)(or||(or=Rr([`
        <br-leaf-edges
          leftIndex=`,`
          rightIndex=`,`
          .book=`,`
          side=`,`
          class="br-mode-2up__leafs br-mode-2up__leafs--`,` br-mode-2up__leafs--flipping"
          style=`,`
        ></br-leaf-edges>
      `])),me.activeFlip.pagesFlipping[0],me.activeFlip.pagesFlipping[1],me.book,Ce,Ce,(0,Z.W)(Qi));return Ce=="left"?(0,fe.qy)(vr||(vr=Rr(["","",""])),Ri,Ki):(0,fe.qy)(_r||(_r=Rr(["","",""])),Ki,Ri)}return Ri}}},{kind:"method",key:"resizeViaAutofit",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(me,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],Ce=this.computeTranslate(me,this.scale);this.$book.style.transform="translateX(".concat(Ce.x,"px) translateY(").concat(Ce.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var me,Ce,Rt,vt,qt;return[(me=this.visiblePages[0])===null||me===void 0||(me=me.prev)===null||me===void 0?void 0:me.prev,(Ce=this.visiblePages[0])===null||Ce===void 0?void 0:Ce.prev].concat((qt=this.visiblePages,function(ai){if(Array.isArray(ai))return bn(ai)}(qt)||si(qt)||An(qt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),[(Rt=this.visiblePages[this.visiblePages.length-1])===null||Rt===void 0?void 0:Rt.next,(vt=this.visiblePages[this.visiblePages.length-1])===null||vt===void 0||(vt=vt.next)===null||vt===void 0?void 0:vt.next]).filter(function(ai){return ai}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(me,Ce){if(!me)return 1;var Rt=me.spread,vt=this.computePositions(Rt.left,Rt.right).bookWidth,qt=this.computePageHeight(Rt.left||Rt.right),ai=this.scale;this.scale=1;var Ei=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/vt,Ii=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/qt;this.scale=ai;var Oi=1;if(Ce=="width")Oi=Ei;else if(Ce=="height")Oi=Ii;else if(Ce=="auto")Oi=Math.min(Ei,Ii);else{if(Ce!="none")throw new Error("Invalid autoFit value: ".concat(Ce));Oi=this.scale}return Oi}},{kind:"method",key:"computeTranslate",value:function(me){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!me)return{x:0,y:0};var Rt=me.spread,vt=this.computePositions(Rt.left,Rt.right),qt=vt.bookWidth,ai=this.computePageHeight(Rt.left||Rt.right),Ei=this.coordSpace.worldUnitsToRenderedPixels(qt)*Ce,Ii=this.coordSpace.worldUnitsToRenderedPixels(ai)*Ce,Oi=this.coordSpace.worldUnitsToRenderedPixels(-vt.leafEdgesLeftStart)*Ce,ar=(this.htmlDimensionsCacher.clientWidth-Ei)/2+Oi,Wi=(this.htmlDimensionsCacher.clientHeight-Ii)/2;return{x:Math.max(Oi,ar),y:Math.max(0,Wi)}}},{kind:"method",key:"flipAnimation",value:(j=ve(Yr().mark(function me(Ce){var Rt,vt,qt,ai,Ei,Ii,Oi,ar,Wi,Ri,Yi,Qi,Ki,gr,Dr,Li,sr,Kr,mr,Br,Lr,pn,Nr,Ir,Xr,ge,ue,Te,Vt,bt,ni,vi,Ui=this,Di=arguments;return Yr().wrap(function(Ji){for(;;)switch(Ji.prev=Ji.next){case 0:if(Oi=(Ii=Di.length>1&&Di[1]!==void 0?Di[1]:{}).animate,ar=Oi===void 0||Oi,Wi=Ii.flipSpeed,Ri=Wi===void 0?this.flipSpeed:Wi,Yi=(Rt=this.pageLeft||this.pageRight)===null||Rt===void 0?void 0:Rt.spread){Ji.next=4;break}return Ji.abrupt("return");case 4:if(Ri=Ri||this.flipSpeed,Ce=this.parseNextSpread(Ce),!this.activeFlip&&Ce){Ji.next=8;break}return Ji.abrupt("return");case 8:if(Qi=this.book.pageProgression,Ki=(vt=(qt=Yi.left)===null||qt===void 0?void 0:qt.index)!==null&&vt!==void 0?vt:Qi=="lr"?-1:this.book.getNumLeafs(),gr=(ai=(Ei=Ce.left)===null||Ei===void 0?void 0:Ei.index)!==null&&ai!==void 0?ai:Qi=="lr"?-1:this.book.getNumLeafs(),Ki!=gr){Ji.next=13;break}return Ji.abrupt("return");case 13:Dr=this.renderedPages.map(function(pr){return pr.index}),Li=[],sr=0,Kr=[Ce.left,Ce.right];case 16:if(!(sr<Kr.length)){Ji.next=25;break}if(mr=Kr[sr]){Ji.next=20;break}return Ji.abrupt("continue",22);case 20:Li.push(this.createPageContainer(mr)),Dr.includes(mr.index)||this.renderedPages.push(mr);case 22:sr++,Ji.next=16;break;case 25:if(Br=this.computeTranslate(Yi.left||Yi.right,this.scale),Lr=this.computeTranslate(Ce.left||Ce.right,this.scale),pn=Math.sqrt(Math.pow(Lr.x-Br.x,2)+Math.pow(Lr.y-Br.y,2)),Nr="translate(".concat(Lr.x,"px, ").concat(Lr.y,"px)"),pn<50&&(Xr=(Ir=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Ir===void 0?void 0:Ir[0])&&(Nr=Xr),ge="".concat(Nr," scale(").concat(this.scale,")"),!ar||!("animate"in Element.prototype)){Ji.next=58;break}return ue=Qi=="lr"?gr>Ki?"right":"left":gr>Ki?"left":"right",this.activeFlip={direction:ue,pagesFlipping:[Ki,gr],pagesFlippingCount:Math.abs(gr-Ki)},this.classList.add("br-mode-2up--flipping-".concat(ue)),this.classList.add("BRpageFlipping"),this.requestUpdate(),Ji.next=39,this.updateComplete;case 39:return this.visiblePages.map(function(pr){return Ui.pageContainerCache[pr.index].$container}).forEach(function(pr){return pr.addClass("BRpage-exiting")}),Li.forEach(function(pr){return pr.$container.addClass("BRpage-entering")}),Te={duration:Ri+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Vt=this.$book.animate([{transform:ge}],Te),bt=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:ue=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],Te),ni=ue=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],Te):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],Te),vi=ue=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],Te):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],Te),Vt.play(),bt.play(),ni.play(),vi.play(),Li.forEach(function(pr){return pr.$container.addClass("BRpage-visible")}),Ji.next=53,Promise.race([(0,o.promisifyEvent)(Vt,"finish"),(0,o.promisifyEvent)(bt,"finish"),(0,o.promisifyEvent)(ni,"finish"),(0,o.promisifyEvent)(vi,"finish")]);case 53:this.classList.remove("br-mode-2up--flipping-".concat(ue)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(pr){return Ui.pageContainerCache[pr.index].$container}).forEach(function(pr){return pr.removeClass("BRpage-exiting BRpage-visible")}),Li.forEach(function(pr){return pr.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 58:this.$book.style.transform=ge,this.visiblePages=(Qi=="lr"?[Ce.left,Ce.right]:[Ce.right,Ce.left]).filter(function(pr){return pr});case 60:case"end":return Ji.stop()}},me,this)})),function(me){return j.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(me){me=="next"?me=this.book.pageProgression=="lr"?"right":"left":me=="prev"&&(me=this.book.pageProgression=="lr"?"left":"right");var Ce,Rt=(this.pageLeft||this.pageRight).spread;if(me=="left")me=(Ce=Rt.left)===null||Ce===void 0||(Ce=Ce.findLeft({combineConsecutiveUnviewables:!0}))===null||Ce===void 0?void 0:Ce.spread;else if(me=="right"){var vt;me=(vt=Rt.right)===null||vt===void 0||(vt=vt.findRight({combineConsecutiveUnviewables:!0}))===null||vt===void 0?void 0:vt.spread}return typeof me=="number"&&(me=this.book.getPage(me).spread),me instanceof W&&(me=me.spread),me}},{kind:"field",key:"handlePageClick",value:function(){var me=this;return function(Ce){if(Ce.which==3&&me.br.protected)return!1;if(Ce.which==1){var Rt=sn(Ce.target).closest(".BRpagecontainer");Rt.length&&(Rt.data("side")=="L"?me.flipAnimation("left"):Rt.data("side")=="R"&&me.flipAnimation("right"))}}}}]}},fe.WF),Sn=(di([(0,oe.EM)("br-leaf-edges")],function(D,L){var j=function(U){function se(){var me;ye(this,se);for(var Ce=arguments.length,Rt=new Array(Ce),vt=0;vt<Ce;vt++)Rt[vt]=arguments[vt];return me=_e(this,se,[].concat(Rt)),D(me),me}return Ft(se,U),B(se)}(L);return{F:j,d:[{kind:"field",decorators:[(0,oe.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,oe.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,oe.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,oe.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,oe.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,oe.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,oe.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,fe.qy)(Pr||(Pr=Rr([`
      <div
        class="br-leaf-edges__bar"
        style="`,`"
      ></div>
      <div class="br-leaf-edges__label">Page</div>`])),(0,Z.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){bi(j,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){bi(j,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var U=this;return function(se){U.addEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="block",U.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var U=this;return function(se){U.$hoverBar.style.left="".concat(se.offsetX,"px"),U.side=="right"?U.$hoverLabel.style.left="".concat(se.offsetX,"px"):U.$hoverLabel.style.right="".concat(U.offsetWidth-se.offsetX,"px"),U.$hoverLabel.style.top="".concat(se.offsetY,"px");var me=U.mouseEventToPageIndex(se);U.$hoverLabel.textContent=U.book.getPageName(me)}}},{kind:"field",key:"onMouseLeave",value:function(){var U=this;return function(se){U.removeEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="none",U.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var U=this;return function(se){U.pageClickHandler(U.mouseEventToPageIndex(se))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(U){return Math.floor(this.leftIndex+U.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},fe.WF),s(1669));function gn(D){return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},gn(D)}function po(){po=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&gn(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError(gn(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function so(D,L,j,U,se,me,Ce){try{var Rt=D[me](Ce),vt=Rt.value}catch(qt){return void j(qt)}Rt.done?L(vt):Promise.resolve(vt).then(U,se)}function Va(D){return function(){var L=this,j=arguments;return new Promise(function(U,se){var me=D.apply(L,j);function Ce(vt){so(me,U,se,Ce,Rt,"next",vt)}function Rt(vt){so(me,U,se,Ce,Rt,"throw",vt)}Ce(void 0)})}}function na(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,xo(U.key),U)}}function xo(D){var L=function(j,U){if(gn(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(gn(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return gn(L)=="symbol"?L:L+""}var Mn=function(){return function(D,L,j){return L&&na(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}(function D(L,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,D),function(U,se,me){(se=xo(se))in U?Object.defineProperty(U,se,{value:"2up",enumerable:!0,configurable:!0,writable:!0}):U[se]="2up"}(this,"name"),this.br=L,this.book=j,this.mode2UpLit=new rr(j,L),this.mode2UpLit.flipSpeed=L.flipSpeed,this.$el=Sn(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1},[{key:"prepare",value:function(){var D=this,L=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(Va(po().mark(function j(){return po().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(D.everShown){U.next=9;break}return D.mode2UpLit.initFirstRender(L),D.everShown=!0,D.mode2UpLit.requestUpdate(),U.next=6,D.mode2UpLit.updateComplete;case 6:new Jt(D.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),U.next=12;break;case 9:return U.next=11,D.mode2UpLit.jumpToIndex(L,{smooth:!1});case 11:D.resizePageView();case 12:D.mode2UpLit.style.opacity="1";case 13:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(D,L,j,U){this.mode2UpLit.jumpToIndex(D)}},{key:"zoom",value:function(D){switch(D){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(D))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),Qr=s(1669);function lo(D){return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},lo(D)}function _o(D,L){var j=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!j){if(Array.isArray(D)||(j=function(vt,qt){if(vt){if(typeof vt=="string")return oa(vt,qt);var ai={}.toString.call(vt).slice(8,-1);return ai==="Object"&&vt.constructor&&(ai=vt.constructor.name),ai==="Map"||ai==="Set"?Array.from(vt):ai==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ai)?oa(vt,qt):void 0}}(D))||L&&D&&typeof D.length=="number"){j&&(D=j);var U=0,se=function(){};return{s:se,n:function(){return U>=D.length?{done:!0}:{done:!1,value:D[U++]}},e:function(vt){throw vt},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me,Ce=!0,Rt=!1;return{s:function(){j=j.call(D)},n:function(){var vt=j.next();return Ce=vt.done,vt},e:function(vt){Rt=!0,me=vt},f:function(){try{Ce||j.return==null||j.return()}finally{if(Rt)throw me}}}}function oa(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function qn(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,wa(U.key),U)}}function wa(D){var L=function(j,U){if(lo(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(lo(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return lo(L)=="symbol"?L:L+""}var Wa=function(){return function(D,L,j){return L&&qn(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}(function D(L,j){(function(U,se){if(!(U instanceof se))throw new TypeError("Cannot call a class as a function")})(this,D),function(U,se,me){(se=wa(se))in U?Object.defineProperty(U,se,{value:me,enumerable:!0,configurable:!0,writable:!0}):U[se]=me}(this,"name","thumb"),this.br=L,this.book=j},[{key:"drawLeafs",value:function(D){var L,j,U,se=this,me=Math.floor,Ce=this.book,Rt=this.br.refs.$brContainer.prop("scrollWidth")-20,vt=0,qt=0,ai=0,Ei=0,Ii=0,Oi=[],ar=_o(Ce.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(ar.s();!(U=ar.n()).done;){var Wi=U.value,Ri=this.br.thumbWidth;vt+(Ri+this.br.thumbPadding)>Rt&&(Ei++,vt=0,Ii=0),Oi[Ei]||(Oi[Ei]={}),Oi[Ei].leafs||(Oi[Ei].leafs=[],Oi[Ei].height=0,Oi[Ei].top=0),Oi[Ei].leafs[Ii]={num:Wi.index,left:vt},(L=me(Wi.height*this.br.thumbWidth/Wi.width))>Oi[Ei].height&&(Oi[Ei].height=L),Ii===0&&(qt+=this.br.thumbPadding+Oi[Ei].height),(vt+=Ri+this.br.thumbPadding)>ai&&(ai=vt),Ii++,Wi.index==D&&(j=qt-this.br.thumbPadding-Oi[Ei].height)}}catch(ur){ar.e(ur)}finally{ar.f()}this.br.refs.$brPageViewEl.height(qt);var Yi=me((this.br.refs.$brContainer.prop("scrollWidth")-ai)/2)-14;j!==void 0&&this.br.refs.$brContainer.scrollTop(j);for(var Qi=this.br.refs.$brContainer.prop("scrollTop"),Ki=Qi+this.br.refs.$brContainer.height(),gr=0,Dr=0,Li=[],sr=[],Kr=Ce.getNumLeafs()-1,mr=0,Br=0;Br<Oi.length;Br++)Oi[Br]&&(Dr+=this.br.thumbPadding+Oi[Br].height,(gr>=Qi&&gr<=Ki||Dr>=Qi&&Dr<=Ki||gr<=Qi&&Dr>=Ki)&&(Li.push(Br),Oi[Br].leafs[0].num<Kr&&(Kr=Oi[Br].leafs[0].num),Oi[Br].leafs[Oi[Br].leafs.length-1].num>mr&&(mr=Oi[Br].leafs[Oi[Br].leafs.length-1].num)),gr>Oi[Br].top&&(Oi[Br].top=gr),gr=Dr);for(var Lr=Li[0],pn=Li[Li.length-1],Nr=1;Nr<this.br.thumbRowBuffer+1;Nr++)pn+Nr<Oi.length&&Li.push(pn+Nr);for(var Ir=1;Ir<this.br.thumbRowBuffer;Ir++)Lr-Ir>=0&&Li.push(Lr-Ir);Li.sort(function(ur,Cn){return ur-Cn});for(var Xr=0,ge=Li;Xr<ge.length;Xr++){var ue=ge[Xr];if((0,o.notInArray)(ue,this.br.displayedRows)){if(!Oi[ue])continue;var Te,Vt=_o(Oi[ue].leafs);try{var bt=function(){var ur=Te.value,Cn=ur.num,dn=ur.left,fn=se.br.thumbWidth,Fo=me(Ce.getPageHeight(Cn)*se.br.thumbWidth/Ce.getPageWidth(Cn)),fo=Oi[ue].top,zo=dn+Yi;se.br.pageProgression=="rl"&&(zo=Rt-fn-zo),zo+=se.br.thumbPadding,sr.push(Cn);var ka=me(Ce.getPageWidth(Cn)/se.br.thumbWidth),Aa=2*Math.round(ka/2),Rn=se.br._createPageContainer(Cn).update({dimensions:{width:fn,height:Fo,top:fo,left:zo},reduce:Aa});Rn.$container.data("leaf",Cn).on("mouseup",function(Uo){se.br.updateFirstIndex(Cn,{suppressFragmentChange:!0}),se.br.switchMode(se.br.constMode1up,{suppressFragmentChange:!0});var Sa=se.br.viewModeOrder.shift();se.br.viewModeOrder.push(Sa),se.br._components.navbar.updateViewModeButton(Qr(".viewmode"),"twopg","Two-page view"),se.br.trigger(c.q.fragmentChange),Uo.stopPropagation()}),se.br.refs.$brPageViewEl.append(Rn.$container)};for(Vt.s();!(Te=Vt.n()).done;)bt()}catch(ur){Vt.e(ur)}finally{Vt.f()}}}var ni,vi=_o(this.br.displayedRows);try{for(vi.s();!(ni=vi.n()).done;){var Ui=ni.value;if((0,o.notInArray)(Ui,Li)){var Di,Ji,pr=_o((Di=Oi[Ui])===null||Di===void 0?void 0:Di.leafs);try{for(pr.s();!(Ji=pr.n()).done;){var yr,ko=Ji.value.num;sr!=null&&sr.includes(ko)||(yr=this.br.$(".pagediv".concat(ko)))===null||yr===void 0||yr.remove()}}catch(ur){pr.e(ur)}finally{pr.f()}}}}catch(ur){vi.e(ur)}finally{vi.f()}var _a=this.br.currentIndex();_a<Kr?this.br.updateFirstIndex(Kr):_a>mr&&this.br.updateFirstIndex(mr),this.br.displayedRows=Li.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(D){var L=Qr(D).data("leaf"),j=Qr(D).data("reduce"),U=this.br.imageCache.image(L,j),se=Qr(D).parent();Qr(se).append(U),Qr(D).remove()}},{key:"zoom",value:function(D){var L=this.br.thumbColumns;switch(D){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(D))}this.br.thumbColumns=(0,o.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=L&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(D){var L=(D+1)*this.br.thumbPadding,j=(this.br.refs.$brPageViewEl.width()-L)/(D+.5),U=Math.floor(j);return U>0?U:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=Qr("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new Jt(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(D){for(var L=this,j=Math.floor,U=this.book,se=this.br.refs.$brContainer.prop("scrollWidth")-20,me=this.br.thumbWidth,Ce=0,Rt=0,vt=0,qt=0,ai=0,Ei=0;Ei<=D;Ei++){Rt+(me+this.br.thumbPadding)>se&&(Rt=0,qt=0,ai=0);var Ii=j(U.getPageHeight(ai)*this.br.thumbWidth/U.getPageWidth(ai));Ii>qt&&(qt=Ii),ai==0&&(Ce=vt,vt+=this.br.thumbPadding+qt),Rt+=me+this.br.thumbPadding,ai++}this.br.updateFirstIndex(D),this.br.refs.$brContainer.prop("scrollTop")==Ce?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:Ce},"fast",function(){L.br.animating=!1}))}}])}(),xa=(s(1367),{floor:Math.floor,decr:function(D){return D-1}}),no={floor:function(D){return Math.pow(2,Math.floor(Math.log2(Math.max(1,D))))},decr:function(D){return Math.pow(2,Math.log2(D)-1)}},Do={pow2:no,integer:xa},Bo=s(1669);function Ho(D){return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},Ho(D)}function co(D){return function(L){if(Array.isArray(L))return wn(L)}(D)||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(D)||function(L,j){if(L){if(typeof L=="string")return wn(L,j);var U={}.toString.call(L).slice(8,-1);return U==="Object"&&L.constructor&&(U=L.constructor.name),U==="Map"||U==="Set"?Array.from(L):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?wn(L,j):void 0}}(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wn(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function f(D,L){for(var j=0;j<L.length;j++){var U=L[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,b(U.key),U)}}function b(D){var L=function(j,U){if(Ho(j)!="object"||!j)return j;var se=j[Symbol.toPrimitive];if(se!==void 0){var me=se.call(j,"string");if(Ho(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(D);return Ho(L)=="symbol"?L:L+""}var A=function(){return function(D,L,j){return L&&f(D.prototype,L),Object.defineProperty(D,"prototype",{writable:!1}),D}(function D(L){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=j.useSrcSet,se=U!==void 0&&U,me=j.reduceSet,Ce=me===void 0?no:me,Rt=j.renderPageURI,vt=Rt===void 0?P.renderPageURI:Rt;(function(qt,ai){if(!(qt instanceof ai))throw new TypeError("Cannot call a class as a function")})(this,D),this.book=L,this.useSrcSet=se,this.reduceSet=Ce,this.renderPageURI=vt,this.cache={},this.defaultScale=8},[{key:"image",value:function(D,L){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=this.getFinalReduce(D,L);return this._serveImageElement(D,U,j)}},{key:"getFinalReduce",value:function(D,L){var j=(this.cache[D]||[]).filter(function(U){return U.loaded&&U.reduce<=L});return j.length?Math.max.apply(Math,co(j.map(function(U){return U.reduce}))):this.reduceSet.floor(L)}},{key:"imageLoaded",value:function(D,L){var j,U,se=(j=this.cache[D])===null||j===void 0?void 0:j.find(function(me){return me.reduce<=L});return(U=se==null?void 0:se.loaded)!==null&&U!==void 0&&U}},{key:"getBestLoadedReduce",value:function(D){var L,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,U=((L=this.cache[D])===null||L===void 0?void 0:L.filter(function(Ce){return Ce.loaded}))||[];if(!U.length)return null;var se=U.filter(function(Ce){return Ce.reduce>=j});if(se.length)return Math.min.apply(Math,co(se.map(function(Ce){return Ce.reduce})));var me=U.filter(function(Ce){return Ce.reduce<j});return Math.max.apply(Math,co(me.map(function(Ce){return Ce.reduce})))}},{key:"_serveImageElement",value:function(D,L){var j,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,se=(j=this.cache[D])===null||j===void 0?void 0:j.find(function(vt){return vt.reduce==L});se||(se={reduce:L,loaded:!1},(this.cache[D]||(this.cache[D]=[])).push(se));var me=this.book.getPage(D),Ce=me.getURI(L,0),Rt=Bo(U||document.createElement("img")).addClass("BRpageimage").attr("alt","Book page image").data("reduce",L).data("src",Ce);return this.renderPageURI(Rt[0],Ce),this.useSrcSet&&Rt.attr("srcset",me.getURISrcSet(L)),se.loaded||Rt.one("load",function(){return se.loaded=!0}),Rt}}])}(),M=s(4907),H=s(1669),F=s(1669);function X(D){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},X(D)}function Be(){Be=function(){return L};var D,L={},j=Object.prototype,U=j.hasOwnProperty,se=Object.defineProperty||function(ge,ue,Te){ge[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Ce=me.iterator||"@@iterator",Rt=me.asyncIterator||"@@asyncIterator",vt=me.toStringTag||"@@toStringTag";function qt(ge,ue,Te){return Object.defineProperty(ge,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),ge[ue]}try{qt({},"")}catch(ge){qt=function(ue,Te,Vt){return ue[Te]=Vt}}function ai(ge,ue,Te,Vt){var bt=ue&&ue.prototype instanceof Yi?ue:Yi,ni=Object.create(bt.prototype),vi=new Ir(Vt||[]);return se(ni,"_invoke",{value:Br(ge,Te,vi)}),ni}function Ei(ge,ue,Te){try{return{type:"normal",arg:ge.call(ue,Te)}}catch(Vt){return{type:"throw",arg:Vt}}}L.wrap=ai;var Ii="suspendedStart",Oi="suspendedYield",ar="executing",Wi="completed",Ri={};function Yi(){}function Qi(){}function Ki(){}var gr={};qt(gr,Ce,function(){return this});var Dr=Object.getPrototypeOf,Li=Dr&&Dr(Dr(Xr([])));Li&&Li!==j&&U.call(Li,Ce)&&(gr=Li);var sr=Ki.prototype=Yi.prototype=Object.create(gr);function Kr(ge){["next","throw","return"].forEach(function(ue){qt(ge,ue,function(Te){return this._invoke(ue,Te)})})}function mr(ge,ue){function Te(bt,ni,vi,Ui){var Di=Ei(ge[bt],ge,ni);if(Di.type!=="throw"){var Ji=Di.arg,pr=Ji.value;return pr&&X(pr)=="object"&&U.call(pr,"__await")?ue.resolve(pr.__await).then(function(yr){Te("next",yr,vi,Ui)},function(yr){Te("throw",yr,vi,Ui)}):ue.resolve(pr).then(function(yr){Ji.value=yr,vi(Ji)},function(yr){return Te("throw",yr,vi,Ui)})}Ui(Di.arg)}var Vt;se(this,"_invoke",{value:function(bt,ni){function vi(){return new ue(function(Ui,Di){Te(bt,ni,Ui,Di)})}return Vt=Vt?Vt.then(vi,vi):vi()}})}function Br(ge,ue,Te){var Vt=Ii;return function(bt,ni){if(Vt===ar)throw Error("Generator is already running");if(Vt===Wi){if(bt==="throw")throw ni;return{value:D,done:!0}}for(Te.method=bt,Te.arg=ni;;){var vi=Te.delegate;if(vi){var Ui=Lr(vi,Te);if(Ui){if(Ui===Ri)continue;return Ui}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(Vt===Ii)throw Vt=Wi,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);Vt=ar;var Di=Ei(ge,ue,Te);if(Di.type==="normal"){if(Vt=Te.done?Wi:Oi,Di.arg===Ri)continue;return{value:Di.arg,done:Te.done}}Di.type==="throw"&&(Vt=Wi,Te.method="throw",Te.arg=Di.arg)}}}function Lr(ge,ue){var Te=ue.method,Vt=ge.iterator[Te];if(Vt===D)return ue.delegate=null,Te==="throw"&&ge.iterator.return&&(ue.method="return",ue.arg=D,Lr(ge,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Ri;var bt=Ei(Vt,ge.iterator,ue.arg);if(bt.type==="throw")return ue.method="throw",ue.arg=bt.arg,ue.delegate=null,Ri;var ni=bt.arg;return ni?ni.done?(ue[ge.resultName]=ni.value,ue.next=ge.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=D),ue.delegate=null,Ri):ni:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Ri)}function pn(ge){var ue={tryLoc:ge[0]};1 in ge&&(ue.catchLoc=ge[1]),2 in ge&&(ue.finallyLoc=ge[2],ue.afterLoc=ge[3]),this.tryEntries.push(ue)}function Nr(ge){var ue=ge.completion||{};ue.type="normal",delete ue.arg,ge.completion=ue}function Ir(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(pn,this),this.reset(!0)}function Xr(ge){if(ge||ge===""){var ue=ge[Ce];if(ue)return ue.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var Te=-1,Vt=function bt(){for(;++Te<ge.length;)if(U.call(ge,Te))return bt.value=ge[Te],bt.done=!1,bt;return bt.value=D,bt.done=!0,bt};return Vt.next=Vt}}throw new TypeError(X(ge)+" is not iterable")}return Qi.prototype=Ki,se(sr,"constructor",{value:Ki,configurable:!0}),se(Ki,"constructor",{value:Qi,configurable:!0}),Qi.displayName=qt(Ki,vt,"GeneratorFunction"),L.isGeneratorFunction=function(ge){var ue=typeof ge=="function"&&ge.constructor;return!!ue&&(ue===Qi||(ue.displayName||ue.name)==="GeneratorFunction")},L.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,Ki):(ge.__proto__=Ki,qt(ge,vt,"GeneratorFunction")),ge.prototype=Object.create(sr),ge},L.awrap=function(ge){return{__await:ge}},Kr(mr.prototype),qt(mr.prototype,Rt,function(){return this}),L.AsyncIterator=mr,L.async=function(ge,ue,Te,Vt,bt){bt===void 0&&(bt=Promise);var ni=new mr(ai(ge,ue,Te,Vt),bt);return L.isGeneratorFunction(ue)?ni:ni.next().then(function(vi){return vi.done?vi.value:ni.next()})},Kr(sr),qt(sr,vt,"Generator"),qt(sr,Ce,function(){return this}),qt(sr,"toString",function(){return"[object Generator]"}),L.keys=function(ge){var ue=Object(ge),Te=[];for(var Vt in ue)Te.push(Vt);return Te.reverse(),function bt(){for(;Te.length;){var ni=Te.pop();if(ni in ue)return bt.value=ni,bt.done=!1,bt}return bt.done=!0,bt}},L.values=Xr,Ir.prototype={constructor:Ir,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Nr),!ge)for(var ue in this)ue.charAt(0)==="t"&&U.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=D)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ue=this;function Te(Di,Ji){return ni.type="throw",ni.arg=ge,ue.next=Di,Ji&&(ue.method="next",ue.arg=D),!!Ji}for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var bt=this.tryEntries[Vt],ni=bt.completion;if(bt.tryLoc==="root")return Te("end");if(bt.tryLoc<=this.prev){var vi=U.call(bt,"catchLoc"),Ui=U.call(bt,"finallyLoc");if(vi&&Ui){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}else if(vi){if(this.prev<bt.catchLoc)return Te(bt.catchLoc,!0)}else{if(!Ui)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Te(bt.finallyLoc)}}}},abrupt:function(ge,ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Vt=this.tryEntries[Te];if(Vt.tryLoc<=this.prev&&U.call(Vt,"finallyLoc")&&this.prev<Vt.finallyLoc){var bt=Vt;break}}bt&&(ge==="break"||ge==="continue")&&bt.tryLoc<=ue&&ue<=bt.finallyLoc&&(bt=null);var ni=bt?bt.completion:{};return ni.type=ge,ni.arg=ue,bt?(this.method="next",this.next=bt.finallyLoc,Ri):this.complete(ni)},complete:function(ge,ue){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&ue&&(this.next=ue),Ri},finish:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.finallyLoc===ge)return this.complete(Te.completion,Te.afterLoc),Nr(Te),Ri}},catch:function(ge){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var Te=this.tryEntries[ue];if(Te.tryLoc===ge){var Vt=Te.completion;if(Vt.type==="throw"){var bt=Vt.arg;Nr(Te)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(ge,ue,Te){return this.delegate={iterator:Xr(ge),resultName:ue,nextLoc:Te},this.method==="next"&&(this.arg=D),Ri}},L}function Pe(D,L,j,U,se,me,Ce){try{var Rt=D[me](Ce),vt=Rt.value}catch(qt){return void j(qt)}Rt.done?L(vt):Promise.resolve(vt).then(U,se)}function ft(D){return function(){var L=this,j=arguments;return new Promise(function(U,se){var me=D.apply(L,j);function Ce(vt){Pe(me,U,se,Ce,Rt,"next",vt)}function Rt(vt){Pe(me,U,se,Ce,Rt,"throw",vt)}Ce(void 0)})}}function Dt(D,L){return function(j){if(Array.isArray(j))return j}(D)||function(j,U){var se=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(se!=null){var me,Ce,Rt,vt,qt=[],ai=!0,Ei=!1;try{if(Rt=(se=se.call(j)).next,U===0){if(Object(se)!==se)return;ai=!1}else for(;!(ai=(me=Rt.call(se)).done)&&(qt.push(me.value),qt.length!==U);ai=!0);}catch(Ii){Ei=!0,Ce=Ii}finally{try{if(!ai&&se.return!=null&&(vt=se.return(),Object(vt)!==vt))return}finally{if(Ei)throw Ce}}return qt}}(D,L)||ei(D,L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ei(D,L){if(D){if(typeof D=="string")return $t(D,L);var j={}.toString.call(D).slice(8,-1);return j==="Object"&&D.constructor&&(j=D.constructor.name),j==="Map"||j==="Set"?Array.from(D):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?$t(D,L):void 0}}function $t(D,L){(L==null||L>D.length)&&(L=D.length);for(var j=0,U=Array(L);j<L;j++)U[j]=D[j];return U}function ot(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=H.extend(!0,{},ot.defaultOptions,D,ot.optionOverrides);this.setup(L)}function Pi(D,L,j){var U,se,me,Ce,Rt,vt,qt,ai;se=j,me=function(Ei){return Ei.br},Ce=ot,Rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j,vt=function(Ei){return Ei._overrideable[L]},qt=(U=D).prototype[se],ai=function(){return qt.apply(vt(this),arguments)},Object.defineProperty(Ce.prototype,Rt,{get:function(){return ai},set:function(Ei){U.prototype[se]=function(){var Ii=this instanceof U?me(this):this;return Ei.apply(Ii,arguments)},ai=Ei}})}ot.version="5.0.0-96",ot.constMode1up=1,ot.constMode2up=2,ot.constModeThumb=3,ot.PLUGINS={archiveAnalytics:null,autoplay:null,chapters:null,resume:null,search:null,textSelection:null,tts:null},ot.registerPlugin=function(D,L){ot.PLUGINS[D]&&console.warn("Plugin ".concat(D," already registered. Overwriting.")),ot.PLUGINS[D]=L},ot.imageCache=null,ot.constNavAnimationDuration=300,ot.constResizeAnimationDuration=100,ot.eventNames=c.q,ot.defaultOptions=P,ot.optionOverrides={},ot.prototype.setup=function(D){var L;this.options=D,this.shell,this.bookId=D.bookId,this.server=D.server,this.subPrefix=D.subPrefix,this.bookPath=D.bookPath,this.plugins={archiveAnalytics:ot.PLUGINS.archiveAnalytics?new ot.PLUGINS.archiveAnalytics(this):null,autoplay:ot.PLUGINS.autoplay?new ot.PLUGINS.autoplay(this):null,chapters:ot.PLUGINS.chapters?new ot.PLUGINS.chapters(this):null,search:ot.PLUGINS.search?new ot.PLUGINS.search(this):null,resume:ot.PLUGINS.resume?new ot.PLUGINS.resume(this):null,textSelection:ot.PLUGINS.textSelection?new ot.PLUGINS.textSelection(this):null,tts:ot.PLUGINS.tts?new ot.PLUGINS.tts(this):null};for(var j=0,U=Object.entries(this.plugins);j<U.length;j++){var se=Dt(U[j],2),me=se[0];se[1]||delete this.plugins[me]}for(var Ce=0,Rt=Object.entries(ot.PLUGINS);Ce<Rt.length;Ce++){var vt=Dt(Rt[Ce],2),qt=vt[0],ai=vt[1];!this.plugins[qt]&&ai&&(this.plugins[qt]=new ai(this))}for(var Ei=0,Ii=Object.entries(this.plugins);Ei<Ii.length;Ei++){var Oi=Dt(Ii[Ei],2),ar=Oi[0],Wi=Oi[1];try{var Ri,Yi;Wi.setup((Ri=(Yi=this.options.plugins)===null||Yi===void 0?void 0:Yi[ar])!==null&&Ri!==void 0?Ri:{}),this.options.plugins[ar]=Wi.options}catch(Qi){console.error("Error setting up plugin ".concat(ar),Qi)}}(L=this.plugins.search)!==null&&L!==void 0&&L.options.enabled&&(this.search=this.plugins.search.search.bind(this.plugins.search)),this.numLeafs=void 0,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=ot.constMode1up,this.constMode2up=ot.constMode2up,this.constModeThumb=ot.constModeThumb,this.reduce=8,this.defaults=D.defaults,this.padding=D.padding,this.reduceSet=Do[D.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(D.reduceSet,". Ignoring.")),this.reduceSet=Do[P.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=D.ui,this.uiAutoHide=D.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=D.thumbRowBuffer,this.thumbColumns=D.thumbColumns,this.thumbMaxLoading=D.thumbMaxLoading,this.thumbPadding=D.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=o.parseAnimationSpeed(D.flipSpeed)||400,this.firstIndex=null,this.isFullscreenActive=D.startFullscreen||!1,this.lastScroll=null,this.showLogo=D.showLogo,this.logoURL=D.logoURL,this.imagesBaseURL=D.imagesBaseURL,this.reductionFactors=D.reductionFactors,this.onePage=D.onePage,this.twoPage=D.twoPage,this.onePageMinBreakpoint=D.onePageMinBreakpoint,this.bookTitle=D.bookTitle,this.bookUrl=D.bookUrl,this.bookUrlText=D.bookUrlText,this.bookUrlTitle=D.bookUrlTitle,this.titleLeaf=D.titleLeaf,this.metadata=D.metadata,this.thumbnail=D.thumbnail,this.bookUrlMoreInfo=D.bookUrlMoreInfo,this.enableExperimentalControls=D.enableExperimentalControls,this.el=D.el,this.pageProgression=D.pageProgression,this.protected=D.protected,this.getEmbedCode=D.getEmbedCode,this.popup=null,this.data=D.data,this.refs={},this.book=new pe(this),D.getNumLeafs&&(this.book.getNumLeafs=D.getNumLeafs.bind(this)),D.getPageWidth&&(this.book.getPageWidth=D.getPageWidth.bind(this)),D.getPageHeight&&(this.book.getPageHeight=D.getPageHeight.bind(this)),D.getPageURI&&(this.book.getPageURI=D.getPageURI.bind(this)),D.getPageSide&&(this.book.getPageSide=D.getPageSide.bind(this)),D.getPageNum&&(this.book.getPageNum=D.getPageNum.bind(this)),D.getPageProp&&(this.book.getPageProp=D.getPageProp.bind(this)),D.getSpreadIndices&&(this.book.getSpreadIndices=D.getSpreadIndices.bind(this)),D.leafNumToIndex&&(this.book.leafNumToIndex=D.leafNumToIndex.bind(this)),this._components={navbar:new m(this),toolbar:new _(this)},this._modes={mode1Up:new Zr(this,this.book),mode2Up:new Mn(this,this.book),modeThumb:new Wa(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new A(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet,renderPageURI:D.renderPageURI.bind(this)}),this.hasKeyFocus=!0},ot.prototype.getActivePageContainerElements=function(){var D=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(L){return L.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(L){return L.$container[0]}));return this.mode==this.constModeThumb&&(D=D.concat(this.$(".BRpagecontainer").toArray())),D},ot.prototype.getActivePageContainerElementsForIndex=function(D){var L,j,U;return[(L=this._modes.mode2Up.mode2UpLit.pageContainerCache[D])===null||L===void 0||(L=L.$container)===null||L===void 0?void 0:L[0],(j=this._modes.mode1Up.mode1UpLit.pageContainerCache[D])===null||j===void 0||(j=j.$container)===null||j===void 0?void 0:j[0]].concat((U=this.mode==this.constModeThumb?this.$(".pagediv".concat(D)).toArray():[],function(se){if(Array.isArray(se))return $t(se)}(U)||function(se){if(typeof Symbol<"u"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}(U)||ei(U)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())).filter(function(se){return se})},Object.defineProperty(ot.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),ot.util=o,ot.prototype.extendParams=function(D,L){var j=F.extend({},L);if(j.page!==void 0){var U=this.book.parsePageString(j.page);isNaN(U)||(j.index=U),delete j.page}F.extend(D,j)},ot.prototype.initParams=function(){var D,L,j={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?j.index=this.book.leafNumToIndex(this.titleLeaf):j.index=0,this.defaults){var U=this.paramsFromFragment(this.defaults);U.page!==void 0&&(j.pageFound=!0),this.extendParams(j,U)}if((D=this.plugins.resume)!==null&&D!==void 0&&D.options.enabled){var se=this.plugins.resume.getResumeValue();se!==null&&(j.index!==se&&(j.fragmentChange=!0),j.index=se)}if(this.options.enableUrlPlugin){var me=this.paramsFromFragment(this.urlReadFragment());!Object.keys(me).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(me=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(me).length&&(me.page!==void 0&&(j.pageFound=!0),this.extendParams(j,me),j.fragmentChange=!0)}if((L=this.plugins.search)!==null&&L!==void 0&&L.options.enabled){var Ce=this.plugins.search;if(Ce.options.goToFirstResult=!j.pageFound,!Ce.initialSearchTerm)if(j.search)Ce.options.initialSearchTerm=j.search,Ce.searchTerm=j.search;else{var Rt=new URLSearchParams(this.readQueryString()).get("q");Rt&&(Ce.options.initialSearchTerm=o.decodeURIComponentPlus(Rt))}}return this.suppressFragmentChange=!j.fragmentChange,j},ot.prototype.getLocationSearch=function(){return window.location.search},ot.prototype.getLocationHash=function(){return window.location.hash},ot.prototype.readQueryString=function(){var D=this.getLocationSearch();if(D)return D;var L=this.getLocationHash(),j=L.search(/\?\w+=/);return j>-1?L.slice(j):""},ot.prototype.getInitialMode=function(D){var L,j=F(window).width(),U=j&&j<=this.onePageMinBreakpoint;if(L=D.mode?D.mode:U?this.constMode1up:this.constMode2up,this.canSwitchToMode(L)||(L=this.constMode1up),this.options.defaults)try{L=function(se){var me={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(se in me))throw new E("Invalid mode string: ".concat(se));return me[se]}(this.options.defaults)}catch(se){}return L},ot.prototype.init=function(){var D;this.init.initComplete=!1,this.pageScale=this.reduce;var L=this.initParams();if(this.firstIndex=L.index?L.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=F(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=F("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),L.mode=this.getInitialMode(L),this.mode=L.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar)for(var j=this.initNavbar(),U=0,se=Object.values(this.plugins);U<se.length;U++)se[U].extendNavBar(j);this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(L),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(ai){ai.data.lastScroll=new Date().getTime(),ai.data.constModeThumb==ai.data.mode&&ai.data.drawLeafsThrottled()}),this.options.autoResize&&(F(window).on("resize",this,function(ai){ai.data.resize()}),F(window).on("orientationchange",this,function(ai){ai.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),(D=this.plugins.search)!==null&&D!==void 0&&D.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0);for(var me=0,Ce=Object.entries(this.plugins);me<Ce.length;me++){var Rt=Dt(Ce[me],2),vt=Rt[0],qt=Rt[1];try{qt.init()}catch(ai){console.error("Error initializing plugin ".concat(vt),ai)}}this.init.initComplete=!0,this.trigger(ot.eventNames.PostInit)},ot.prototype.trigger=function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,j="BookReader:"+D;o.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(j,{bubbles:!0,composed:!0,detail:{props:L}})),F(document).trigger(j,L)},ot.prototype.on=function(D,L){F(document).on("BookReader:"+D,L)},ot.prototype.off=function(D,L){F(document).off("BookReader:"+D,L)},ot.prototype.bind=function(D,L){return this.on(D,L)},ot.prototype.unbind=function(D,L){return this.off(D,L)},ot.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(ot.eventNames.resize))},ot.prototype.setupKeyListeners=function(){var D=this;window.IntersectionObserver&&new IntersectionObserver(function(L){L.forEach(function(j){j.intersectionRatio===0?D.hasKeyFocus=!1:D.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(L){if(D.hasKeyFocus&&!(L.getModifierState("Control")||L.getModifierState("Alt")||L.getModifierState("Meta")||L.getModifierState("Win")||o.isInputActive()))switch(L.key){case"Home":L.preventDefault(),D.first();break;case"End":L.preventDefault(),D.last();break;case"ArrowDown":case"PageDown":case"Down":D.constMode2up===D.mode&&(L.preventDefault(),D.next());break;case"ArrowUp":case"PageUp":case"Up":D.constMode2up===D.mode&&(L.preventDefault(),D.prev());break;case"ArrowLeft":case"Left":D.constModeThumb!=D.mode&&(L.preventDefault(),D.left());break;case"ArrowRight":case"Right":D.constModeThumb!=D.mode&&(L.preventDefault(),D.right());break;case"-":case"Subtract":L.preventDefault(),D.zoom(-1);break;case"+":case"=":case"Add":L.preventDefault(),D.zoom(1);break;case"F":case"f":L.preventDefault(),D.toggleFullscreen()}})},ot.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},ot.prototype._createPageContainer=function(D){for(var L=new M.LN(this.book.getPage(D,!1),{isProtected:this.protected,imageCache:this.imageCache}),j=0,U=Object.values(this.plugins);j<U.length;j++)U[j]._configurePageContainer(L);return L},ot.prototype.bindGestures=function(D){var L=this,j=1;D.unbind("touchmove").bind("touchmove",function(U){U.originalEvent.cancelable&&(j=U.originalEvent.touches.length),U.stopPropagation()}),D.unbind("gesturechange").bind("gesturechange",function(U){U.preventDefault(),j!==2||new Date().getTime()-L.lastScroll<500||(U.originalEvent.scale>1.5?L.zoom(1):U.originalEvent.scale<.6&&L.zoom(-1))})},ot.prototype.drawLeafsThrottled=o.throttle(ot.prototype.drawLeafs,250),ot.prototype.zoom=function(D){var L;D==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(L=this.plugins.textSelection)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer)},ot.prototype.resizeBRcontainer=function(D){D?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},ot.prototype.centerPageView=function(){var D=this.refs.$brContainer.prop("scrollWidth"),L=this.refs.$brContainer.prop("clientWidth");D>L&&this.refs.$brContainer.prop("scrollLeft",(D-L)/2)},ot.prototype.quantizeReduce=function(D,L){for(var j=L[0].reduce,U=Math.abs(D-j),se=1;se<L.length;se++){var me=Math.abs(D-L[se].reduce);me<U&&(U=me,j=L[se].reduce)}return j},ot.prototype.nextReduce=function(D,L,j){if(L==="in"){for(var U=0,se=1;se<j.length;se++)j[se].reduce<D&&(U=se);return j[U]}if(L==="out"){for(var me=j.length-1,Ce=me,Rt=me;Rt>=0;Rt--)j[Rt].reduce>D&&(Ce=Rt);return j[Ce]}if(L==="auto"){var vt=j.find(function(Oi){return Oi.autofit=="auto"});if(vt)return vt;for(var qt=j.filter(function(Oi){var ar=Oi.autofit;return ar=="height"||ar=="width"}),ai=null,Ei=0;Ei<qt.length;Ei++)(ai===null||ai.reduce<qt[Ei].reduce)&&(ai=qt[Ei]);if(ai)return ai}else if(L==="height"||L==="width"){var Ii=j.find(function(Oi){return Oi.autofit==L});if(Ii)return Ii}return j[0]},ot.prototype._reduceSort=function(D,L){return D.reduce-L.reduce},ot.prototype.jumpToPage=function(D){var L=this.book.parsePageString(D);return L!==void 0&&(this.jumpToIndex(L),!0)},ot.prototype._isIndexDisplayed=function(D){return this.displayedIndices?this.displayedIndices.includes(D):this.currentIndex()==D},ot.prototype.jumpToIndex=function(D,L,j,U){var se=this.book.getPage(D);if(se.isViewable||se.unviewablesStart==se.index)this.trigger(ot.eventNames.stop),this.activeMode.jumpToIndex(D,L,j,U);else{var me,Ce=this._isIndexDisplayed(se.unviewablesStart)?(me=se.findNext({combineConsecutiveUnviewables:!0}))===null||me===void 0?void 0:me.index:se.unviewablesStart;Ce!==void 0&&this.jumpToIndex(Ce,L,j,U)}},ot.prototype.getPrevReadMode=function(D){return D===ot.constMode1up||D===ot.constMode2up?D:this.prevReadMode===null?ot.constMode1up:void 0},ot.prototype.switchMode=function(D){var L,j,U,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=se.suppressFragmentChange,Ce=me!==void 0&&me;if(se.init,se.pageFound,typeof D=="string"&&(D={"1up":this.constMode1up,"2up":this.constMode2up,thumb:this.constModeThumb}[D]),!D)throw new Error("Invalid mode: ".concat(D));if(!(this.init.initComplete&&(D===this.mode||!this.canSwitchToMode(D)))){this.trigger(ot.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=D&&((j=(U=this.activeMode).unprepare)===null||j===void 0||j.call(U)),this.mode=D,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==D?this._modes.mode1Up.prepare():this.constModeThumb==D?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||Ce||this.trigger(ot.eventNames.fragmentChange);var Rt=D+"PageViewSelected";this.trigger(ot.eventNames[Rt]),(L=this.plugins.textSelection)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer)}},ot.prototype.updateBrClasses=function(){var D={};D[this.constMode1up]="BRmode1up",D[this.constMode2up]="BRmode2up",D[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(D[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),F(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),F(document.body).removeClass("BRfullscreenActive"))},ot.prototype.isFullscreen=function(){return this.isFullscreenActive},ot.prototype.toggleFullscreen=ft(Be().mark(function D(){var L,j=arguments;return Be().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(L=!(j.length>0&&j[0]!==void 0)||j[0],!this.isFullscreen()){U.next=6;break}return U.next=4,this.exitFullScreen();case 4:U.next=8;break;case 6:return U.next=8,this.enterFullscreen(L);case 8:case"end":return U.stop()}},D,this)})),ot.prototype.enterFullscreen=ft(Be().mark(function D(){var L,j,U,se=this,me=arguments;return Be().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(j=!(me.length>0&&me[0]!==void 0)||me[0],this.refs.$br.addClass("BRfullscreenAnimation"),U=this.currentIndex(),j&&(this._fullscreenCloseHandler=function(Rt){Rt.keyCode===27&&se.toggleFullscreen()},F(document).on("keyup",this._fullscreenCloseHandler)),F(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!(this.activeMode instanceof Zr)){Ce.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(U)),this.activeMode.mode1UpLit.requestUpdate(),Ce.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(U),(L=this.plugins.textSelection)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer),this.trigger(ot.eventNames.fragmentChange),this.trigger(ot.eventNames.fullscreenToggled),Ce.next=19,new Promise(function(Rt){return setTimeout(Rt,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return Ce.stop()}},D,this)})),ot.prototype.exitFullScreen=ft(Be().mark(function D(){var L,j;return Be().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),F(document).off("keyup",this._fullscreenCloseHandler),j=F(window).width(),this.options.controls.twoPage.visible&&j<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(ot.eventNames.fullscreenToggled),this.updateBrClasses(),U.next=10,new Promise(function(se){return setTimeout(se,0)});case 10:if(this.resize(),!(this.activeMode instanceof Zr)){U.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),U.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(L=this.plugins.textSelection)===null||L===void 0||L.stopPageFlip(this.refs.$brContainer),this.trigger(ot.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return U.stop()}},D,this)})),ot.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return o.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},ot.prototype.updateFirstIndex=function(D){var L,j=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,U=j!==void 0&&j;this.firstIndex!==D&&(this.firstIndex=D,this.suppressFragmentChange||U||this.trigger(ot.eventNames.fragmentChange),(L=this.plugins.search)!==null&&L!==void 0&&L.options.initialSearchTerm&&!U&&(this.suppressFragmentChange=!1),this.trigger(ot.eventNames.pageChanged),this.trigger(ot.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(D))},ot.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},ot.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},ot.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},ot.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},ot.prototype.next=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=D.triggerStop,j=L===void 0||L,U=D.flipSpeed,se=U===void 0?null:U;this.constMode2up==this.mode?(j&&this.trigger(ot.eventNames.stop),se=o.parseAnimationSpeed(se)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("next",{flipSpeed:se})):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},ot.prototype.prev=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=D.triggerStop,j=L===void 0||L,U=D.flipSpeed,se=U===void 0?null:U;this.firstIndex<1||(this.constMode2up==this.mode?(j&&this.trigger(ot.eventNames.stop),se=o.parseAnimationSpeed(se)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("prev",{flipSpeed:se})):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},ot.prototype.first=function(){this.jumpToIndex(0)},ot.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},ot.prototype.initNavbar=m.prototype.init,Pi(m,"_components.navbar","init","initNavbar"),ot.prototype.buildToolbarElement=_.prototype.buildToolbarElement,Pi(_,"_components.toolbar","buildToolbarElement"),ot.prototype.initToolbar=_.prototype.initToolbar,Pi(_,"_components.toolbar","initToolbar"),ot.prototype.buildShareDiv=_.prototype.buildShareDiv,Pi(_,"_components.toolbar","buildShareDiv"),ot.prototype.buildInfoDiv=_.prototype.buildInfoDiv,Pi(_,"_components.toolbar","buildInfoDiv"),ot.prototype.getToolBarHeight=_.prototype.getToolBarHeight,Pi(_,"_components.toolbar","getToolBarHeight"),ot.prototype.bindNavigationHandlers=function(){var D=this,L=this,j=this.$(".BRicon"),U={book_left:function(){D.trigger(ot.eventNames.stop),D.left()},book_right:function(){D.trigger(ot.eventNames.stop),D.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){D.switchMode(L.constMode1up)},thumb:function(){D.switchMode(L.constModeThumb)},twopg:function(){D.switchMode(L.constMode2up)},zoom_in:function(){D.trigger(ot.eventNames.stop),D.zoom(1),D.trigger(ot.eventNames.zoomIn)},zoom_out:function(){D.trigger(ot.eventNames.stop),D.zoom(-1),D.trigger(ot.eventNames.zoomOut)},full:function(){if(D.ui=="embed"){var ai=D.$(".BRembedreturn a").attr("href");window.open(ai)}else D.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){D.trigger(ot.eventNames.userAction)});var se=function(ai){j.filter(".".concat(ai)).on("click.bindNavigationHandlers",function(){return U[ai](),!1})};for(var me in U)se(me);var Ce=this.$(".BRnavCntlBtm"),Rt=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var ai=[];Ce.hasClass("BRdn")?(L.refs.$BRtoolbar&&ai.push(L.refs.$BRtoolbar.animate({top:-1*L.getToolBarHeight()}).promise()),ai.push(L.$(".BRfooter").animate({bottom:-1*L.getFooterHeight()}).promise()),Ce.addClass("BRup").removeClass("BRdn"),Rt.addClass("BRdn").removeClass("BRup"),L.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),L.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(L.refs.$BRtoolbar&&ai.push(L.refs.$BRtoolbar.animate({top:0}).promise()),ai.push(L.$(".BRfooter").animate({bottom:0}).promise()),Ce.addClass("BRdn").removeClass("BRup"),Rt.addClass("BRup").removeClass("BRdn"),L.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),L.$(".BRvavCntl").animate({opacity:1})),F.when.apply(F,ai).done(function(){L.mode==L.constMode2up&&L.twoPage.autofit!=null&&L.twoPage.autofit!="none"||L.mode==L.constMode1up&&L.onePage.autofit!=null&&L.onePage.autofit!="none"?L.resize():L.resizeBRcontainer()})}),Ce.on("mouseover",function(){F(this).hasClass("BRup")&&L.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRup")&&L.$(".BRnavCntl").animate({opacity:.75},250)}),Rt.on("mouseover",function(){F(this).hasClass("BRdn")&&L.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRdn")&&L.$(".BRnavCntl").animate({opacity:.75},250)});for(var vt=0,qt=Object.values(this.plugins);vt<qt.length;vt++)qt[vt]._bindNavigationHandlers()},ot.prototype.getPageURI=pe.prototype.getPageURI,Pi(pe,"book","getPageURI"),ot.prototype.updateFromParams=function(D){var L,j=D.mode,U=j===void 0?0:j,se=D.init,me=se!==void 0&&se,Ce=D.fragmentChange,Rt=Ce!==void 0&&Ce;U&&this.switchMode(U,{init:me,suppressFragmentChange:!Rt}),D.index!==void 0?D.index!=this.currentIndex()&&this.jumpToIndex(D.index):D.page!==void 0&&D.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(D.page),(L=this.plugins.search)!==null&&L!==void 0&&L.enabled&&D.search!==void 0&&this.plugins.search.searchTerm!==D.search&&this.$(".BRsearchInput").val(D.search),this.enableThemesPlugin&&D.theme!==void 0&&this.updateTheme(D.theme)},ot.prototype.canSwitchToMode=function(D){return D!=this.constMode2up&&D!=this.constModeThumb||!(this.book.getNumLeafs()<2)},ot.prototype._getPageURI=function(D,L,j){var U=this.book.getPage(D,!1);return U?(L===void 0&&(L=U.height/this.twoPage.height),U.getURI(L,j)):this.imagesBaseURL+"transparent.png"},ot.prototype.showProgressPopup=function(D,L){var j=this;if(!this.popup){if(this.popup=document.createElement("div"),F(this.popup).prop("className","BRprogresspopup"),typeof L=="function"){var U=document.createElement("button");U.setAttribute("title","close"),U.setAttribute("class","close-popup");var se=document.createElement("span");se.setAttribute("class","icon icon-close-dark"),F(U).append(se),U.addEventListener("click",function(){L(),j.removeProgressPopup()}),F(this.popup).append(U)}var me=document.createElement("div");if(F(me).css({height:"20px"}).prop("className","BRprogressbar"),F(this.popup).append(me),D){var Ce=document.createElement("div");Ce.innerHTML=D,F(this.popup).append(Ce)}F(this.popup).appendTo(this.refs.$br)}},ot.prototype.removeProgressPopup=function(){F(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},ot.prototype.initUIStrings=function(){var D={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var L in this.pageProgression=="rl"&&(D[".book_leftmost"]="Last page",D[".book_rightmost"]="First page"),D)this.$(L).prop("title",D[L])},ot.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(D,L){if(!L.complete||L.naturalHeight===0){var j=L.src;L.src="",setTimeout(function(){L.src=j},1e3)}})},ot.prototype.getFooterHeight=function(){var D=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(D&&this.refs.$BRfooter){var L=D.outerHeight(),j=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(L)&&!isNaN(j))return L+j}return 0},ot.prototype.paramsFromCurrent=function(){var D,L={},j=this.currentIndex(),U=this.book.getPageNum(j);return(U===0||U)&&(L.page=U),L.index=j,L.mode=this.mode,this.isFullscreenActive&&(L.view="theater"),(D=this.plugins.search)!==null&&D!==void 0&&D.enabled&&(L.search=this.plugins.search.searchTerm),L},ot.prototype.paramsFromFragment=function(D){var L={};D.substr(0,1)=="#"&&(D=D.substr(1));var j=parseInt(/^\d+$/.exec(D));if(!isNaN(j))return L.index=j,L;for(var U=D.split("/"),se={},me=0;me<U.length;me+=2)se[U[me]]=U[me+1];return se.mode=="1up"?L.mode=this.constMode1up:se.mode=="2up"?L.mode=this.constMode2up:se.mode=="thumb"&&(L.mode=this.constModeThumb),se.page!==void 0&&(L.page=decodeURIComponent(se.page)),se.search!=null&&(L.search=o.decodeURIComponentPlus(se.search)),se.theme!=null&&(L.theme=se.theme),L},ot.prototype.fragmentFromParams=function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",j=[];if(D.page!==void 0?j.push("page",encodeURIComponent(D.page)):D.index!==void 0&&j.push("page","n"+D.index),D.mode!==void 0)if(D.mode==this.constMode1up)j.push("mode","1up");else if(D.mode==this.constMode2up)j.push("mode","2up");else{if(D.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+D.mode;j.push("mode","thumb")}return D.search&&L==="hash"&&j.push("search",o.encodeURIComponentPlus(D.search)),j.join("/")},ot.prototype.queryStringFromParams=function(D,L){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",U=new URLSearchParams(L);D.view?U.set("view",D.view):U.delete("view"),D.search&&j==="history"&&U.set("q",D.search);var se=U.toString();return se?"?"+se:""},ot.prototype.$=function(D){return this.refs.$br.find(D)},window.BookReader=ot})(),l=s.O(l)})();E1=k7,{default:T1}=E1,A7=nn(E1,["default"]),P1=T1!==void 0?T1:A7;});var $1={};Ln($1,{default:()=>P1});var O1=Zt(()=>{pm();pm()});var S7,M1,L1,C7,I1,fm=Zt(()=>{S7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},5372:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(9572),r(2010),r(4731),r(479),r(8130),r(5506),r(3851),r(875),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(5440),r(5746),r(3500),r(2953),r(8408);var s=r(8004),l=r(4907),o=(r(8940),r(1669));function c(Z){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},c(Z)}function n(Z,xe){for(var Y=0;Y<xe.length;Y++){var he=xe[Y];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Z,u(he.key),he)}}function u(Z){var xe=function(Y,he){if(c(Y)!="object"||!Y)return Y;var Ke=Y[Symbol.toPrimitive];if(Ke!==void 0){var ht=Ke.call(Y,"string");if(c(ht)!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return c(xe)=="symbol"?xe:xe+""}var p=function(){return Z=function Y(he){var Ke=he.br,ht=he.searchCancelledCallback,lt=ht===void 0?function(){}:ht;(function(We,Se){if(!(We instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,Y),this.br=Ke,this.matches=[],this.cacheDOMElements(),this.cancelSearch=lt},xe=[{key:"init",value:function(){this.bindEvents()}},{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(Y){this.br.$('[name="query"]').val(Y)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var Y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.plugins.search.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),Y&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var Y="BRsearch-navigation";o(".BRnav").before(`
      <div class="`.concat(Y,`">
        <button class="toggle-sidebar">
          <h4>
            <span class="icon icon-search"></span> Results
          </h4>
        </button>
        <div class="pagination">
          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>
          <span data-id="resultsCount">`).concat(this.resultsPosition(),`</span>
          <button class="next" title="Next result"><span class="icon icon-chevron"></button>
        </div>
        <button class="clear" title="Clear search results">
          <span class="icon icon-close"></span>
        </button>
      </div>
    `)),this.dom.searchNavigation=o(".".concat(Y))}},{key:"resultsPosition",value:function(){var Y="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(Y="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),Y}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var Y="searchNavigation";this.dom.searchNavigation.on("click.".concat(Y),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(Y),".prev",this.showPrevResult.bind(this)).on("click.".concat(Y),".next",this.showNextResult.bind(this)).on("click.".concat(Y),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(Y),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,he,Ke){return he[0]>Ke})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,he,Ke){return Y[Y.length-1]>Ke})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(Y){var he=this.matches.map(function(We){return We.par[0].page}),Ke=this.br.currentIndex()+1,ht=function(We,Se){if(We.length===1)return We[0];var Le=We.slice(0,We.length/2),je=We.slice(We.length/2);return ht(Y(Le,je,Se)?Le:je,Se)},lt=ht(he,Ke);return this.matches.indexOf(this.matches.find(function(We){return We.par[0].page===lt}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=o(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var Y;this.br.mode!==this.br.constModeThumb?(Y=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(Y)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(he){return Y.br.currentIndex()===he.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(he){return Y.br._isIndexDisplayed(he.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(Y){var he=Y?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:he})}},{key:"buildToolbarSearch",value:function(){var Y=document.createElement("span");return Y.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),Y.innerHTML=`
      <form class="BRbooksearch desktop">
        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>
        <button type="submit" class="BRsearchSubmit">
          <img src="`.concat(this.br.options.imagesBaseURL,`icon_search_button.svg" />
        </button>
      </form>
    `),Y}},{key:"renderPins",value:function(Y){var he=this;Y.forEach(function(Ke){var ht=he.br.book.leafNumToIndex(Ke.par[0].page),lt=he.br.constructor.util.cssPercentage(ht,he.br.book.getNumLeafs()-1),We=Ke.html;if(We.length>200){var Se=Math.max(0,We.indexOf("<mark>")-100);Se!=0&&(We="\u2026"+Ke.html.substring(Se).replace(/^\S+/,""))}o("<div>").addClass("BRsearch").css({left:lt}).attr("title","Search result").append(`
          <div class="BRquery">
            <main>`.concat(We,`</main>
            <footer>Page `).concat(Ke.displayPageNumber,`</footer>
          </div>
        `)).appendTo(he.br.$(".BRnavline")).on("mouseenter",function(Le){var je=Le.currentTarget,Ne=je.querySelector(".BRquery"),Ge=Ne.getBoundingClientRect(),it=je.getBoundingClientRect(),Re=2*parseInt(getComputedStyle(Ne).paddingLeft);Ge.x-Re<0&&Ne.style.setProperty("transform","translateX(-".concat(it.left-Re,"px)")),o(".BRsearch,.BRchapter").removeClass("front"),o(Le.target).addClass("front")}).on("mouseleave",function(Le){return o(Le.target).removeClass("front")}).on("click",function(){he.br.plugins.search.jumpToMatch(Ke.matchIndex)})})}},{key:"toggleSearchPending",value:function(){var Y=this;arguments.length>0&&arguments[0]!==void 0&&arguments[0]?this.br.showProgressPopup("Search results will appear below...",function(){return Y.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var Y="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage(`
      Sorry, there was an error with your search.
      <br />
      `.concat(Y,`
    `)),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage(`
      <p>
         This book hasn't been indexed for searching yet.
         We've just started indexing it, so search should be available soon.
         <br />
         Please try again later. Thanks!
      </p>
    `),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(Y){var he=document.createElement("div");he.classList.add("BRprogresspopup","search_modal"),he.innerHTML=Y,document.querySelector(this.br.el).append(he)}},{key:"delayModalRemovalFor",value:function(Y){setTimeout(this.br.removeProgressPopup.bind(this.br),Y)}},{key:"submitHandler",value:function(Y){Y.preventDefault();var he=Y.target.querySelector('[name="query"]').value;return!!he.length&&(this.br.search(he),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(Y,he){var Ke=this,ht=he.results,lt=he.options;this.matches=ht.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(ht.matches),this.toggleSearchPending(!1),lt.goToFirstResult?o(document).one("BookReader:pageChanged",function(){Ke.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.plugins.search.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.plugins.search.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var Y,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var Ke=he==null||(Y=he.detail)===null||Y===void 0||(Y=Y.props)===null||Y===void 0||(Y=Y.results)===null||Y===void 0?void 0:Y.indexed;this.renderErrorModal(Ke)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var Y="BookReader:";window.addEventListener("".concat(Y,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),o(document).on("".concat(Y,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(Y,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(Y,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(Y,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(Y,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],xe&&n(Z.prototype,xe),Object.defineProperty(Z,"prototype",{writable:!1}),Z;var Z,xe}(),g=p;function m(Z,xe){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,he){var Ke=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ke!=null){var ht,lt,We,Se,Le=[],je=!0,Ne=!1;try{if(We=(Ke=Ke.call(Y)).next,he===0){if(Object(Ke)!==Ke)return;je=!1}else for(;!(je=(ht=We.call(Ke)).done)&&(Le.push(ht.value),Le.length!==he);je=!0);}catch(Ge){Ne=!0,lt=Ge}finally{try{if(!je&&Ke.return!=null&&(Se=Ke.return(),Object(Se)!==Se))return}finally{if(Ne)throw lt}}return Le}}(Z,xe)||x(Z,xe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(Z,xe){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=x(Z))||xe&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var he=0,Ke=function(){};return{s:Ke,n:function(){return he>=Z.length?{done:!0}:{done:!1,value:Z[he++]}},e:function(Se){throw Se},f:Ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,lt=!0,We=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Se=Y.next();return lt=Se.done,Se},e:function(Se){We=!0,ht=Se},f:function(){try{lt||Y.return==null||Y.return()}finally{if(We)throw ht}}}}function x(Z,xe){if(Z){if(typeof Z=="string")return w(Z,xe);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?w(Z,xe):void 0}}function w(Z,xe){(xe==null||xe>Z.length)&&(xe=Z.length);for(var Y=0,he=Array(xe);Y<xe;Y++)he[Y]=Z[Y];return he}function k(Z,xe,Y){var he=(0,s.escapeRegExp)((0,s.escapeHTML)(xe)),Ke=(0,s.escapeRegExp)((0,s.escapeHTML)(Y)),ht=new RegExp("".concat(he,"([^]+?)").concat(Ke),"g");return(0,s.escapeHTML)(Z).replace(ht,"<mark>$1</mark>").replace(/(\b)- /g,"$1")}r(4864);var S=r(1041),P=r(9073),E=r(1669),O=r(1669);function a(Z){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},a(Z)}function h(Z,xe){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,he){var Ke=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ke!=null){var ht,lt,We,Se,Le=[],je=!0,Ne=!1;try{if(We=(Ke=Ke.call(Y)).next,he===0){if(Object(Ke)!==Ke)return;je=!1}else for(;!(je=(ht=We.call(Ke)).done)&&(Le.push(ht.value),Le.length!==he);je=!0);}catch(Ge){Ne=!0,lt=Ge}finally{try{if(!je&&Ke.return!=null&&(Se=Ke.return(),Object(Se)!==Se))return}finally{if(Ne)throw lt}}return Le}}(Z,xe)||d(Z,xe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(Z,xe){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=d(Z))||xe&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var he=0,Ke=function(){};return{s:Ke,n:function(){return he>=Z.length?{done:!0}:{done:!1,value:Z[he++]}},e:function(Se){throw Se},f:Ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,lt=!0,We=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Se=Y.next();return lt=Se.done,Se},e:function(Se){We=!0,ht=Se},f:function(){try{lt||Y.return==null||Y.return()}finally{if(We)throw ht}}}}function d(Z,xe){if(Z){if(typeof Z=="string")return _(Z,xe);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?_(Z,xe):void 0}}function _(Z,xe){(xe==null||xe>Z.length)&&(xe=Z.length);for(var Y=0,he=Array(xe);Y<xe;Y++)he[Y]=Z[Y];return he}function C(){C=function(){return xe};var Z,xe={},Y=Object.prototype,he=Y.hasOwnProperty,Ke=Object.defineProperty||function(Lt,It,Ct){Lt[It]=Ct.value},ht=typeof Symbol=="function"?Symbol:{},lt=ht.iterator||"@@iterator",We=ht.asyncIterator||"@@asyncIterator",Se=ht.toStringTag||"@@toStringTag";function Le(Lt,It,Ct){return Object.defineProperty(Lt,It,{value:Ct,enumerable:!0,configurable:!0,writable:!0}),Lt[It]}try{Le({},"")}catch(Lt){Le=function(It,Ct,St){return It[Ct]=St}}function je(Lt,It,Ct,St){var kt=It&&It.prototype instanceof qe?It:qe,I=Object.create(kt.prototype),Ve=new oi(St||[]);return Ke(I,"_invoke",{value:ut(Lt,Ct,Ve)}),I}function Ne(Lt,It,Ct){try{return{type:"normal",arg:Lt.call(It,Ct)}}catch(St){return{type:"throw",arg:St}}}xe.wrap=je;var Ge="suspendedStart",it="suspendedYield",Re="executing",te="completed",J={};function qe(){}function _t(){}function be(){}var $e={};Le($e,lt,function(){return this});var st=Object.getPrototypeOf,Ee=st&&st(st(ci([])));Ee&&Ee!==Y&&he.call(Ee,lt)&&($e=Ee);var Qe=be.prototype=qe.prototype=Object.create($e);function nt(Lt){["next","throw","return"].forEach(function(It){Le(Lt,It,function(Ct){return this._invoke(It,Ct)})})}function Ut(Lt,It){function Ct(kt,I,Ve,ke){var Ye=Ne(Lt[kt],Lt,I);if(Ye.type!=="throw"){var Ze=Ye.arg,dt=Ze.value;return dt&&a(dt)=="object"&&he.call(dt,"__await")?It.resolve(dt.__await).then(function(ae){Ct("next",ae,Ve,ke)},function(ae){Ct("throw",ae,Ve,ke)}):It.resolve(dt).then(function(ae){Ze.value=ae,Ve(Ze)},function(ae){return Ct("throw",ae,Ve,ke)})}ke(Ye.arg)}var St;Ke(this,"_invoke",{value:function(kt,I){function Ve(){return new It(function(ke,Ye){Ct(kt,I,ke,Ye)})}return St=St?St.then(Ve,Ve):Ve()}})}function ut(Lt,It,Ct){var St=Ge;return function(kt,I){if(St===Re)throw Error("Generator is already running");if(St===te){if(kt==="throw")throw I;return{value:Z,done:!0}}for(Ct.method=kt,Ct.arg=I;;){var Ve=Ct.delegate;if(Ve){var ke=mt(Ve,Ct);if(ke){if(ke===J)continue;return ke}}if(Ct.method==="next")Ct.sent=Ct._sent=Ct.arg;else if(Ct.method==="throw"){if(St===Ge)throw St=te,Ct.arg;Ct.dispatchException(Ct.arg)}else Ct.method==="return"&&Ct.abrupt("return",Ct.arg);St=Re;var Ye=Ne(Lt,It,Ct);if(Ye.type==="normal"){if(St=Ct.done?te:it,Ye.arg===J)continue;return{value:Ye.arg,done:Ct.done}}Ye.type==="throw"&&(St=te,Ct.method="throw",Ct.arg=Ye.arg)}}}function mt(Lt,It){var Ct=It.method,St=Lt.iterator[Ct];if(St===Z)return It.delegate=null,Ct==="throw"&&Lt.iterator.return&&(It.method="return",It.arg=Z,mt(Lt,It),It.method==="throw")||Ct!=="return"&&(It.method="throw",It.arg=new TypeError("The iterator does not provide a '"+Ct+"' method")),J;var kt=Ne(St,Lt.iterator,It.arg);if(kt.type==="throw")return It.method="throw",It.arg=kt.arg,It.delegate=null,J;var I=kt.arg;return I?I.done?(It[Lt.resultName]=I.value,It.next=Lt.nextLoc,It.method!=="return"&&(It.method="next",It.arg=Z),It.delegate=null,J):I:(It.method="throw",It.arg=new TypeError("iterator result is not an object"),It.delegate=null,J)}function Mt(Lt){var It={tryLoc:Lt[0]};1 in Lt&&(It.catchLoc=Lt[1]),2 in Lt&&(It.finallyLoc=Lt[2],It.afterLoc=Lt[3]),this.tryEntries.push(It)}function ti(Lt){var It=Lt.completion||{};It.type="normal",delete It.arg,Lt.completion=It}function oi(Lt){this.tryEntries=[{tryLoc:"root"}],Lt.forEach(Mt,this),this.reset(!0)}function ci(Lt){if(Lt||Lt===""){var It=Lt[lt];if(It)return It.call(Lt);if(typeof Lt.next=="function")return Lt;if(!isNaN(Lt.length)){var Ct=-1,St=function kt(){for(;++Ct<Lt.length;)if(he.call(Lt,Ct))return kt.value=Lt[Ct],kt.done=!1,kt;return kt.value=Z,kt.done=!0,kt};return St.next=St}}throw new TypeError(a(Lt)+" is not iterable")}return _t.prototype=be,Ke(Qe,"constructor",{value:be,configurable:!0}),Ke(be,"constructor",{value:_t,configurable:!0}),_t.displayName=Le(be,Se,"GeneratorFunction"),xe.isGeneratorFunction=function(Lt){var It=typeof Lt=="function"&&Lt.constructor;return!!It&&(It===_t||(It.displayName||It.name)==="GeneratorFunction")},xe.mark=function(Lt){return Object.setPrototypeOf?Object.setPrototypeOf(Lt,be):(Lt.__proto__=be,Le(Lt,Se,"GeneratorFunction")),Lt.prototype=Object.create(Qe),Lt},xe.awrap=function(Lt){return{__await:Lt}},nt(Ut.prototype),Le(Ut.prototype,We,function(){return this}),xe.AsyncIterator=Ut,xe.async=function(Lt,It,Ct,St,kt){kt===void 0&&(kt=Promise);var I=new Ut(je(Lt,It,Ct,St),kt);return xe.isGeneratorFunction(It)?I:I.next().then(function(Ve){return Ve.done?Ve.value:I.next()})},nt(Qe),Le(Qe,Se,"Generator"),Le(Qe,lt,function(){return this}),Le(Qe,"toString",function(){return"[object Generator]"}),xe.keys=function(Lt){var It=Object(Lt),Ct=[];for(var St in It)Ct.push(St);return Ct.reverse(),function kt(){for(;Ct.length;){var I=Ct.pop();if(I in It)return kt.value=I,kt.done=!1,kt}return kt.done=!0,kt}},xe.values=ci,oi.prototype={constructor:oi,reset:function(Lt){if(this.prev=0,this.next=0,this.sent=this._sent=Z,this.done=!1,this.delegate=null,this.method="next",this.arg=Z,this.tryEntries.forEach(ti),!Lt)for(var It in this)It.charAt(0)==="t"&&he.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=Z)},stop:function(){this.done=!0;var Lt=this.tryEntries[0].completion;if(Lt.type==="throw")throw Lt.arg;return this.rval},dispatchException:function(Lt){if(this.done)throw Lt;var It=this;function Ct(Ye,Ze){return I.type="throw",I.arg=Lt,It.next=Ye,Ze&&(It.method="next",It.arg=Z),!!Ze}for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St],I=kt.completion;if(kt.tryLoc==="root")return Ct("end");if(kt.tryLoc<=this.prev){var Ve=he.call(kt,"catchLoc"),ke=he.call(kt,"finallyLoc");if(Ve&&ke){if(this.prev<kt.catchLoc)return Ct(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return Ct(kt.finallyLoc)}else if(Ve){if(this.prev<kt.catchLoc)return Ct(kt.catchLoc,!0)}else{if(!ke)throw Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return Ct(kt.finallyLoc)}}}},abrupt:function(Lt,It){for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var St=this.tryEntries[Ct];if(St.tryLoc<=this.prev&&he.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var kt=St;break}}kt&&(Lt==="break"||Lt==="continue")&&kt.tryLoc<=It&&It<=kt.finallyLoc&&(kt=null);var I=kt?kt.completion:{};return I.type=Lt,I.arg=It,kt?(this.method="next",this.next=kt.finallyLoc,J):this.complete(I)},complete:function(Lt,It){if(Lt.type==="throw")throw Lt.arg;return Lt.type==="break"||Lt.type==="continue"?this.next=Lt.arg:Lt.type==="return"?(this.rval=this.arg=Lt.arg,this.method="return",this.next="end"):Lt.type==="normal"&&It&&(this.next=It),J},finish:function(Lt){for(var It=this.tryEntries.length-1;It>=0;--It){var Ct=this.tryEntries[It];if(Ct.finallyLoc===Lt)return this.complete(Ct.completion,Ct.afterLoc),ti(Ct),J}},catch:function(Lt){for(var It=this.tryEntries.length-1;It>=0;--It){var Ct=this.tryEntries[It];if(Ct.tryLoc===Lt){var St=Ct.completion;if(St.type==="throw"){var kt=St.arg;ti(Ct)}return kt}}throw Error("illegal catch attempt")},delegateYield:function(Lt,It,Ct){return this.delegate={iterator:ci(Lt),resultName:It,nextLoc:Ct},this.method==="next"&&(this.arg=Z),J}},xe}function N(Z,xe,Y,he,Ke,ht,lt){try{var We=Z[ht](lt),Se=We.value}catch(Le){return void Y(Le)}We.done?xe(Se):Promise.resolve(Se).then(he,Ke)}function G(Z){return function(){var xe=this,Y=arguments;return new Promise(function(he,Ke){var ht=Z.apply(xe,Y);function lt(Se){N(ht,he,Ke,lt,We,"next",Se)}function We(Se){N(ht,he,Ke,lt,We,"throw",Se)}lt(void 0)})}}function q(Z,xe){for(var Y=0;Y<xe.length;Y++){var he=xe[Y];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Z,W(he.key),he)}}function K(Z,xe,Y){return xe=Me(xe),function(he,Ke){if(Ke&&(a(Ke)=="object"||typeof Ke=="function"))return Ke;if(Ke!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ht){if(ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht}(he)}(Z,ne()?Reflect.construct(xe,Y||[],Me(Z).constructor):xe.apply(Z,Y))}function ne(){try{var Z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(xe){}return(ne=function(){return!!Z})()}function Q(Z,xe,Y,he){var Ke=ee(Me(1&he?Z.prototype:Z),xe,Y);return 2&he&&typeof Ke=="function"?function(ht){return Ke.apply(Y,ht)}:Ke}function ee(){return ee=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Z,xe,Y){var he=function(ht,lt){for(;!{}.hasOwnProperty.call(ht,lt)&&(ht=Me(ht))!==null;);return ht}(Z,xe);if(he){var Ke=Object.getOwnPropertyDescriptor(he,xe);return Ke.get?Ke.get.call(arguments.length<3?Z:Y):Ke.value}},ee.apply(null,arguments)}function Me(Z){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},Me(Z)}function pe(Z,xe){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,he){return Y.__proto__=he,Y},pe(Z,xe)}function W(Z){var xe=function(Y,he){if(a(Y)!="object"||!Y)return Y;var Ke=Y[Symbol.toPrimitive];if(Ke!==void 0){var ht=Ke.call(Y,"string");if(a(ht)!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return a(xe)=="symbol"?xe:xe+""}var oe=window.BookReader,fe=function(Z){function xe(){var lt,We,Se,Le;(function(it,Re){if(!(it instanceof Re))throw new TypeError("Cannot call a class as a function")})(this,xe);for(var je=arguments.length,Ne=new Array(je),Ge=0;Ge<je;Ge++)Ne[Ge]=arguments[Ge];return We=lt=K(this,xe,[].concat(Ne)),Se="options",Le={enabled:!0,preTag:"{{{",postTag:"}}}",searchInsideUrl:"/fulltext/inside.php?"+["q={{query|urlencode}}","pre_tag={{preTag|urlencode}}","post_tag={{postTag|urlencode}}"].join("&"),initialSearchTerm:null,goToFirstResult:!1},(Se=W(Se))in We?Object.defineProperty(We,Se,{value:Le,enumerable:!0,configurable:!0,writable:!0}):We[Se]=Le,lt}return function(lt,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(We&&We.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),We&&pe(lt,We)}(xe,Z),Y=xe,he=[{key:"setup",value:function(lt){var We=this;Q(xe,"setup",this,3)([lt]),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=this.options.searchInsideUrl,this.enabled=this.options.enabled,this.searchXHR=null,this._searchBoxesByIndex={},this.enabled?this.searchView=new g({br:this.br,searchCancelledCallback:function(){We._cancelSearch(),We.br.trigger("SearchCanceled",{term:We.searchTerm,instance:We.br})}}):this.searchView=null}},{key:"init",value:function(){Q(xe,"init",this,3)([]),this.enabled&&(this.searchView.init(),this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1}))}},{key:"_configureToolbar",value:function(lt){if(this.enabled)return this.searchView.dom.toolbarSearch&&lt.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),lt}},{key:"_configurePageContainer",value:function(lt){if(this.enabled&&lt.page&&lt.page.index in this._searchBoxesByIndex){var We=lt.page.index,Se=this._searchBoxesByIndex[We];(0,l.KL)("searchHiliteLayer",Se,lt.page,lt.$container[0],Se.map(function(Le){return"match-index-".concat(Le.matchIndex)}))}return lt}},{key:"search",value:(ht=G(C().mark(function lt(){var We,Se,Le,je,Ne,Ge,it=this,Re=arguments;return C().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return We=Re.length>0&&Re[0]!==void 0?Re[0]:"",Se=Re.length>1&&Re[1]!==void 0?Re[1]:{},Le={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},je=E.extend({},Le,Se),this.suppressFragmentChange=je.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=We.replace(/\//g," "),je.suppressFragmentChange||this.br.trigger(oe.eventNames.fragmentChange),Ne=(0,P.g)(this.options.searchInsideUrl,this.br.options.vars,{query:We,preTag:this.options.preTag,postTag:this.options.postTag}),Ge=function(J){if(!it.searchCancelled){var qe=J.error||!J.matches.length,_t=typeof je.error=="function",be=typeof je.success=="function";qe?(console.error("Search Inside Response Error",J.error||"matches.length == 0"),_t?je.error.call(it,J,je):it.BRSearchCallbackError(J)):be?je.success.call(it,J,je):it.BRSearchCallback(J,je)}},this.br.trigger("SearchStarted",{term:this.searchTerm,instance:this.br}),te.t0=Ge,te.next=14,O.ajax({url:Ne,cache:!0,xhrFields:{withCredentials:this.br.protected},beforeSend:function(J){it.searchXHR=J}});case 14:te.t1=te.sent,(0,te.t0)(te.t1);case 16:case"end":return te.stop()}},lt,this)})),function(){return ht.apply(this,arguments)})},{key:"_cancelSearch",value:function(){var lt;(lt=this.searchXHR)===null||lt===void 0||lt.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=null}},{key:"cancelSearchRequest",value:function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.br.trigger("SearchCanceled",{term:this.searchTerm,instance:this.br}))}},{key:"BRSearchCallback",value:function(lt,We){var Se=this;(function(Le,je,Ne,Ge){var it,Re,te=y(Le.matches.entries());try{for(te.s();!(it=te.n()).done;){var J=m(it.value,2),qe=J[0],_t=J[1];_t.matchIndex=qe,_t.displayPageNumber=(Re=_t.par[0].page,Se.br.book.getPageNum(Se.br.book.leafNumToIndex(Re))),_t.html=k(_t.text,Ne,Ge);var be,$e=y(_t.par);try{for($e.s();!(be=$e.n()).done;){var st,Ee=y(be.value.boxes);try{for(Ee.s();!(st=Ee.n()).done;)st.value.matchIndex=qe}catch(Qe){Ee.e(Qe)}finally{Ee.f()}}}catch(Qe){$e.e(Qe)}finally{$e.f()}}}catch(Qe){te.e(Qe)}finally{te.f()}})(lt,0,this.options.preTag,this.options.postTag),this.searchResults=lt||null,this.updateSearchHilites(),this.br.removeProgressPopup(),We.goToFirstResult&&this.jumpToMatch(0),this.br.trigger("SearchCallback",{results:lt,options:We,instance:this.br})}},{key:"BRSearchCallbackError",value:function(lt){this._BRSearchCallbackError(lt)}},{key:"_BRSearchCallbackError",value:function(lt){this.searchResults=lt;var We={term:this.searchTerm,results:lt,instance:this.br};if(lt.error)this.br.trigger("SearchCallbackError",We);else if(lt.matches.length==0){if(lt.indexed===!1)return void this.br.trigger("SearchCallbackBookNotIndexed",We);this.br.trigger("SearchCallbackEmpty",We)}}},{key:"updateSearchHilites",value:function(){var lt,We=((lt=this.searchResults)===null||lt===void 0?void 0:lt.matches)||[],Se={};this.removeSearchHilites();var Le,je=v(We);try{for(je.s();!(Le=je.n()).done;){var Ne,Ge=v(Le.value.par[0].boxes);try{for(Ge.s();!(Ne=Ge.n()).done;){var it=Ne.value,Re=this.br.book.leafNumToIndex(it.page);(Se[Re]||(Se[Re]=[])).push(it)}}catch(Ut){Ge.e(Ut)}finally{Ge.f()}}}catch(Ut){je.e(Ut)}finally{je.f()}for(var te=0,J=Object.entries(Se);te<J.length;te++){var qe,_t=h(J[te],2),be=_t[0],$e=_t[1],st=parseFloat(be),Ee=this.br.book.getPage(st),Qe=v(this.br.getActivePageContainerElementsForIndex(st));try{for(Qe.s();!(qe=Qe.n()).done;){var nt=qe.value;(0,l.KL)("searchHiliteLayer",$e,Ee,nt,$e.map(function(Ut){return"match-index-".concat(Ut.matchIndex)}))}}catch(Ut){Qe.e(Ut)}finally{Qe.f()}}this._searchBoxesByIndex=Se}},{key:"removeSearchHilites",value:function(){O(this.br.getActivePageContainerElements()).find(".searchHiliteLayer").remove()}},{key:"jumpToMatch",value:(Ke=G(C().mark(function lt(We){var Se,Le,je,Ne,Ge,it,Re,te,J,qe,_t,be;return C().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(Le=(Se=this.searchResults)===null||Se===void 0?void 0:Se.matches[We],je=this.br.book,Ne=je.leafNumToIndex(Le.par[0].page),Ge=je.getPage(Ne),it=Math.abs(this.br.currentIndex()-Ne)<3,Re=!1,Ge.isViewable){$e.next=17;break}return $e.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.br.options.bookId,subprefix:this.br.options.subPrefix,leafNum:Ge.leafNum})).then(function(st){return st.json()});case 9:te=$e.sent,J=v(te.value);try{for(J.s();!(qe=J.n()).done;)_t=qe.value,je.getPage(je.leafNumToIndex(_t)).makeViewable()}catch(st){J.e(st)}finally{J.f()}if(te.value.length||(je.getPage(Ne).makeViewable(),Re=!0),this.br._modes.mode1Up.mode1UpLit.updatePages(),this.br.activeMode!=this.br._modes.mode1Up){$e.next=17;break}return $e.next=17,this.br._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this.br._isIndexDisplayed(Ne)||(this.suppressFragmentChange=!1,this.br.jumpToIndex(Ne)),Re&&je.getPage(Ne).makeViewable(!1),$e.next=21,(0,s.poll)(function(){return O("rect.match-index-".concat(Le.matchIndex))},{until:function(st){return st.length>0}});case 21:if(!(be=$e.sent).length){$e.next=28;break}return be.css("animation","none"),be[0].scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:it?"smooth":"auto"}),$e.next=27,new Promise(function(st){return setTimeout(st,100)});case 27:be.removeAttr("style");case 28:case"end":return $e.stop()}},lt,this)})),function(lt){return Ke.apply(this,arguments)})},{key:"removeSearchResults",value:function(){var lt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,lt||this.br.trigger(oe.eventNames.fragmentChange)}}],he&&q(Y.prototype,he),Object.defineProperty(Y,"prototype",{writable:!1}),Y;var Y,he,Ke,ht}(S.S);oe==null||oe.registerPlugin("search",fe)},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return s(P,E);var O={}.toString.call(P).slice(8,-1);return O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?s(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=5372)}]);M1=S7,{default:L1}=M1,C7=nn(M1,["default"]),I1=L1!==void 0?L1:C7;});var D1={};Ln(D1,{default:()=>I1});var R1=Zt(()=>{fm();fm()});var E7,j1,N1,T7,B1,mm=Zt(()=>{E7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6165:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(9572),r(8130),r(875),r(6099),r(825),r(7495),r(7764),r(1761),r(2953);var s=r(1041);function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},l(w)}function o(w,k){for(var S=0;S<k.length;S++){var P=k[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,m(P.key),P)}}function c(w,k,S){return k=u(k),function(P,E){if(E&&(l(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(P)}(w,n()?Reflect.construct(k,S||[],u(w).constructor):k.apply(w,S))}function n(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(k){}return(n=function(){return!!w})()}function u(w){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},u(w)}function p(w,k){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,P){return S.__proto__=P,S},p(w,k)}function g(w,k,S){return(k=m(k))in w?Object.defineProperty(w,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[k]=S,w}function m(w){var k=function(S,P){if(l(S)!="object"||!S)return S;var E=S[Symbol.toPrimitive];if(E!==void 0){var O=E.call(S,"string");if(l(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(w);return l(k)=="symbol"?k:k+""}var y=window.BookReader,x=function(w){function k(){var E;(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,k);for(var O=arguments.length,a=new Array(O),h=0;h<O;h++)a[h]=arguments[h];return g(E=c(this,k,[].concat(a)),"options",{enabled:!0,debug:!1}),g(E,"_prevFragment",null),E}return function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),O&&p(E,O)}(k,w),S=k,P=[{key:"init",value:function(){var E=this;this.options.enabled&&this.br.bind(y.eventNames.fragmentChange,function(){return E.sendFragmentChange()})}},{key:"sendFragmentChange",value:function(){if(window.archive_analytics){var E=this._prevFragment,O=this.br.paramsFromCurrent(),a=this.br.fragmentFromParams(O);if(E!=a){var h,v={bookreader:"user_changed_view",itemid:this.br.bookId,cache_bust:Math.random(),offsite:1,details:0};try{v.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,v.details=!v.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(_){}window.archive_analytics.send_ping(v,null,"augment_for_ao_site");var d=(h=this.br.options.lendingInfo)!==null&&h!==void 0&&h.loanId?{loanId:this.br.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,d),this._prevFragment=a}}}},{key:"sendEvent",value:function(E,O,a,h){this.options.enabled&&(this.options.debug&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(h=h||{},typeof a=="number"&&(h.ev=a),window.archive_analytics.send_event(E,O,null,h)))}}],P&&o(S.prototype,P),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,P}(s.S);y==null||y.registerPlugin("archiveAnalytics",x)}},function(e){e(e.s=6165)}]);j1=E7,{default:N1}=j1,T7=nn(j1,["default"]),B1=N1!==void 0?N1:T7});var H1={};Ln(H1,{default:()=>B1});var F1=Zt(()=>{mm();mm()});var P7,z1,U1,$7,V1,gm=Zt(()=>{P7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{6098:function(e,t,r){var s=r(9504),l=2147483647,o=/[^\0-\u007E]/,c=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",u=RangeError,p=s(c.exec),g=Math.floor,m=String.fromCharCode,y=s("".charCodeAt),x=s([].join),w=s([].push),k=s("".replace),S=s("".split),P=s("".toLowerCase),E=function(h){return h+22+75*(h<26)},O=function(h,v,d){var _=0;for(h=d?g(h/700):h>>1,h+=g(h/v);h>455;)h=g(h/35),_+=36;return g(_+36*h/(h+38))},a=function(h){var v=[];h=function(Z){for(var xe=[],Y=0,he=Z.length;Y<he;){var Ke=y(Z,Y++);if(Ke>=55296&&Ke<=56319&&Y<he){var ht=y(Z,Y++);(64512&ht)==56320?w(xe,((1023&Ke)<<10)+(1023&ht)+65536):(w(xe,Ke),Y--)}else w(xe,Ke)}return xe}(h);var d,_,C=h.length,N=128,G=0,q=72;for(d=0;d<h.length;d++)(_=h[d])<128&&w(v,m(_));var K=v.length,ne=K;for(K&&w(v,"-");ne<C;){var Q=l;for(d=0;d<h.length;d++)(_=h[d])>=N&&_<Q&&(Q=_);var ee=ne+1;if(Q-N>g((l-G)/ee))throw new u(n);for(G+=(Q-N)*ee,N=Q,d=0;d<h.length;d++){if((_=h[d])<N&&++G>l)throw new u(n);if(_===N){for(var Me=G,pe=36;;){var W=pe<=q?1:pe>=q+26?26:pe-q;if(Me<W)break;var oe=Me-W,fe=36-W;w(v,m(E(W+oe%fe))),Me=g(oe/fe),pe+=36}w(v,m(E(Me))),q=O(G,ee,ne===K),G=0,ne++}}G++,N++}return x(v,"")};e.exports=function(h){var v,d,_=[],C=S(k(P(h),c,"."),".");for(v=0;v<C.length;v++)d=C[v],w(_,p(o,d)?"xn--"+a(d):d);return x(_,".")}},706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},3921:function(e,t,r){var s=r(6518),l=r(2652),o=r(4659);s({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,p){o(n,u,p)},{AS_ENTRIES:!0}),n}})},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},5806:function(e,t,r){r(7764);var s,l=r(6518),o=r(3724),c=r(7416),n=r(4576),u=r(6080),p=r(9504),g=r(6840),m=r(2106),y=r(679),x=r(9297),w=r(4213),k=r(7916),S=r(7680),P=r(8183).codeAt,E=r(6098),O=r(655),a=r(687),h=r(2812),v=r(8406),d=r(1181),_=d.set,C=d.getterFor("URL"),N=v.URLSearchParams,G=v.getState,q=n.URL,K=n.TypeError,ne=n.parseInt,Q=Math.floor,ee=Math.pow,Me=p("".charAt),pe=p(/./.exec),W=p([].join),oe=p(1 .toString),fe=p([].pop),Z=p([].push),xe=p("".replace),Y=p([].shift),he=p("".split),Ke=p("".slice),ht=p("".toLowerCase),lt=p([].unshift),We="Invalid scheme",Se="Invalid host",Le="Invalid port",je=/[a-z]/i,Ne=/[\d+-.a-z]/i,Ge=/\d/,it=/^0x/i,Re=/^[0-7]+$/,te=/^\d+$/,J=/^[\da-f]+$/i,qe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,_t=/[\0\t\n\r #/:<>?@[\\\]^|]/,be=/^[\u0000-\u0020]+/,$e=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,Ee=function(Je){var wt,At,Kt,Jt;if(typeof Je=="number"){for(wt=[],At=0;At<4;At++)lt(wt,Je%256),Je=Q(Je/256);return W(wt,".")}if(typeof Je=="object"){for(wt="",Kt=function(Ai){for(var Si=null,Mi=1,Gt=null,wi=0,Ti=0;Ti<8;Ti++)Ai[Ti]!==0?(wi>Mi&&(Si=Gt,Mi=wi),Gt=null,wi=0):(Gt===null&&(Gt=Ti),++wi);return wi>Mi?Gt:Si}(Je),At=0;At<8;At++)Jt&&Je[At]===0||(Jt&&(Jt=!1),Kt===At?(wt+=At?":":"::",Jt=!0):(wt+=oe(Je[At],16),At<7&&(wt+=":")));return"["+wt+"]"}return Je},Qe={},nt=w({},Qe,{" ":1,'"':1,"<":1,">":1,"`":1}),Ut=w({},nt,{"#":1,"?":1,"{":1,"}":1}),ut=w({},Ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),mt=function(Je,wt){var At=P(Je,0);return At>32&&At<127&&!x(wt,Je)?Je:encodeURIComponent(Je)},Mt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ti=function(Je,wt){var At;return Je.length===2&&pe(je,Me(Je,0))&&((At=Me(Je,1))===":"||!wt&&At==="|")},oi=function(Je){var wt;return Je.length>1&&ti(Ke(Je,0,2))&&(Je.length===2||(wt=Me(Je,2))==="/"||wt==="\\"||wt==="?"||wt==="#")},ci=function(Je){return Je==="."||ht(Je)==="%2e"},Lt={},It={},Ct={},St={},kt={},I={},Ve={},ke={},Ye={},Ze={},dt={},ae={},Ie={},Ue={},gt={},ct={},Et={},zt={},Xt={},Ot={},Bt={},Xe=function(Je,wt,At){var Kt,Jt,Ai,Si=O(Je);if(wt){if(Jt=this.parse(Si))throw new K(Jt);this.searchParams=null}else{if(At!==void 0&&(Kt=new Xe(At,!0)),Jt=this.parse(Si,null,Kt))throw new K(Jt);(Ai=G(new N)).bindURL(this),this.searchParams=Ai}};Xe.prototype={type:"URL",parse:function(Je,wt,At){var Kt,Jt,Ai,Si,Mi,Gt=this,wi=wt||Lt,Ti=0,Fi="",fr=!1,Zi=!1,lr=!1;for(Je=O(Je),wt||(Gt.scheme="",Gt.username="",Gt.password="",Gt.host=null,Gt.port=null,Gt.path=[],Gt.query=null,Gt.fragment=null,Gt.cannotBeABaseURL=!1,Je=xe(Je,be,""),Je=xe(Je,$e,"$1")),Je=xe(Je,st,""),Kt=k(Je);Ti<=Kt.length;){switch(Jt=Kt[Ti],wi){case Lt:if(!Jt||!pe(je,Jt)){if(wt)return We;wi=Ct;continue}Fi+=ht(Jt),wi=It;break;case It:if(Jt&&(pe(Ne,Jt)||Jt==="+"||Jt==="-"||Jt==="."))Fi+=ht(Jt);else{if(Jt!==":"){if(wt)return We;Fi="",wi=Ct,Ti=0;continue}if(wt&&(Gt.isSpecial()!==x(Mt,Fi)||Fi==="file"&&(Gt.includesCredentials()||Gt.port!==null)||Gt.scheme==="file"&&!Gt.host))return;if(Gt.scheme=Fi,wt)return void(Gt.isSpecial()&&Mt[Gt.scheme]===Gt.port&&(Gt.port=null));Fi="",Gt.scheme==="file"?wi=Ue:Gt.isSpecial()&&At&&At.scheme===Gt.scheme?wi=St:Gt.isSpecial()?wi=ke:Kt[Ti+1]==="/"?(wi=kt,Ti++):(Gt.cannotBeABaseURL=!0,Z(Gt.path,""),wi=Xt)}break;case Ct:if(!At||At.cannotBeABaseURL&&Jt!=="#")return We;if(At.cannotBeABaseURL&&Jt==="#"){Gt.scheme=At.scheme,Gt.path=S(At.path),Gt.query=At.query,Gt.fragment="",Gt.cannotBeABaseURL=!0,wi=Bt;break}wi=At.scheme==="file"?Ue:I;continue;case St:if(Jt!=="/"||Kt[Ti+1]!=="/"){wi=I;continue}wi=Ye,Ti++;break;case kt:if(Jt==="/"){wi=Ze;break}wi=zt;continue;case I:if(Gt.scheme=At.scheme,Jt===s)Gt.username=At.username,Gt.password=At.password,Gt.host=At.host,Gt.port=At.port,Gt.path=S(At.path),Gt.query=At.query;else if(Jt==="/"||Jt==="\\"&&Gt.isSpecial())wi=Ve;else if(Jt==="?")Gt.username=At.username,Gt.password=At.password,Gt.host=At.host,Gt.port=At.port,Gt.path=S(At.path),Gt.query="",wi=Ot;else{if(Jt!=="#"){Gt.username=At.username,Gt.password=At.password,Gt.host=At.host,Gt.port=At.port,Gt.path=S(At.path),Gt.path.length--,wi=zt;continue}Gt.username=At.username,Gt.password=At.password,Gt.host=At.host,Gt.port=At.port,Gt.path=S(At.path),Gt.query=At.query,Gt.fragment="",wi=Bt}break;case Ve:if(!Gt.isSpecial()||Jt!=="/"&&Jt!=="\\"){if(Jt!=="/"){Gt.username=At.username,Gt.password=At.password,Gt.host=At.host,Gt.port=At.port,wi=zt;continue}wi=Ze}else wi=Ye;break;case ke:if(wi=Ye,Jt!=="/"||Me(Fi,Ti+1)!=="/")continue;Ti++;break;case Ye:if(Jt!=="/"&&Jt!=="\\"){wi=Ze;continue}break;case Ze:if(Jt==="@"){fr&&(Fi="%40"+Fi),fr=!0,Ai=k(Fi);for(var Er=0;Er<Ai.length;Er++){var or=Ai[Er];if(or!==":"||lr){var vr=mt(or,ut);lr?Gt.password+=vr:Gt.username+=vr}else lr=!0}Fi=""}else if(Jt===s||Jt==="/"||Jt==="?"||Jt==="#"||Jt==="\\"&&Gt.isSpecial()){if(fr&&Fi==="")return"Invalid authority";Ti-=k(Fi).length+1,Fi="",wi=dt}else Fi+=Jt;break;case dt:case ae:if(wt&&Gt.scheme==="file"){wi=ct;continue}if(Jt!==":"||Zi){if(Jt===s||Jt==="/"||Jt==="?"||Jt==="#"||Jt==="\\"&&Gt.isSpecial()){if(Gt.isSpecial()&&Fi==="")return Se;if(wt&&Fi===""&&(Gt.includesCredentials()||Gt.port!==null))return;if(Si=Gt.parseHost(Fi))return Si;if(Fi="",wi=Et,wt)return;continue}Jt==="["?Zi=!0:Jt==="]"&&(Zi=!1),Fi+=Jt}else{if(Fi==="")return Se;if(Si=Gt.parseHost(Fi))return Si;if(Fi="",wi=Ie,wt===ae)return}break;case Ie:if(!pe(Ge,Jt)){if(Jt===s||Jt==="/"||Jt==="?"||Jt==="#"||Jt==="\\"&&Gt.isSpecial()||wt){if(Fi!==""){var _r=ne(Fi,10);if(_r>65535)return Le;Gt.port=Gt.isSpecial()&&_r===Mt[Gt.scheme]?null:_r,Fi=""}if(wt)return;wi=Et;continue}return Le}Fi+=Jt;break;case Ue:if(Gt.scheme="file",Jt==="/"||Jt==="\\")wi=gt;else{if(!At||At.scheme!=="file"){wi=zt;continue}switch(Jt){case s:Gt.host=At.host,Gt.path=S(At.path),Gt.query=At.query;break;case"?":Gt.host=At.host,Gt.path=S(At.path),Gt.query="",wi=Ot;break;case"#":Gt.host=At.host,Gt.path=S(At.path),Gt.query=At.query,Gt.fragment="",wi=Bt;break;default:oi(W(S(Kt,Ti),""))||(Gt.host=At.host,Gt.path=S(At.path),Gt.shortenPath()),wi=zt;continue}}break;case gt:if(Jt==="/"||Jt==="\\"){wi=ct;break}At&&At.scheme==="file"&&!oi(W(S(Kt,Ti),""))&&(ti(At.path[0],!0)?Z(Gt.path,At.path[0]):Gt.host=At.host),wi=zt;continue;case ct:if(Jt===s||Jt==="/"||Jt==="\\"||Jt==="?"||Jt==="#"){if(!wt&&ti(Fi))wi=zt;else if(Fi===""){if(Gt.host="",wt)return;wi=Et}else{if(Si=Gt.parseHost(Fi))return Si;if(Gt.host==="localhost"&&(Gt.host=""),wt)return;Fi="",wi=Et}continue}Fi+=Jt;break;case Et:if(Gt.isSpecial()){if(wi=zt,Jt!=="/"&&Jt!=="\\")continue}else if(wt||Jt!=="?")if(wt||Jt!=="#"){if(Jt!==s&&(wi=zt,Jt!=="/"))continue}else Gt.fragment="",wi=Bt;else Gt.query="",wi=Ot;break;case zt:if(Jt===s||Jt==="/"||Jt==="\\"&&Gt.isSpecial()||!wt&&(Jt==="?"||Jt==="#")){if((Mi=ht(Mi=Fi))===".."||Mi==="%2e."||Mi===".%2e"||Mi==="%2e%2e"?(Gt.shortenPath(),Jt==="/"||Jt==="\\"&&Gt.isSpecial()||Z(Gt.path,"")):ci(Fi)?Jt==="/"||Jt==="\\"&&Gt.isSpecial()||Z(Gt.path,""):(Gt.scheme==="file"&&!Gt.path.length&&ti(Fi)&&(Gt.host&&(Gt.host=""),Fi=Me(Fi,0)+":"),Z(Gt.path,Fi)),Fi="",Gt.scheme==="file"&&(Jt===s||Jt==="?"||Jt==="#"))for(;Gt.path.length>1&&Gt.path[0]==="";)Y(Gt.path);Jt==="?"?(Gt.query="",wi=Ot):Jt==="#"&&(Gt.fragment="",wi=Bt)}else Fi+=mt(Jt,Ut);break;case Xt:Jt==="?"?(Gt.query="",wi=Ot):Jt==="#"?(Gt.fragment="",wi=Bt):Jt!==s&&(Gt.path[0]+=mt(Jt,Qe));break;case Ot:wt||Jt!=="#"?Jt!==s&&(Jt==="'"&&Gt.isSpecial()?Gt.query+="%27":Gt.query+=Jt==="#"?"%23":mt(Jt,Qe)):(Gt.fragment="",wi=Bt);break;case Bt:Jt!==s&&(Gt.fragment+=mt(Jt,nt))}Ti++}},parseHost:function(Je){var wt,At,Kt;if(Me(Je,0)==="["){if(Me(Je,Je.length-1)!=="]"||(wt=function(Jt){var Ai,Si,Mi,Gt,wi,Ti,Fi,fr=[0,0,0,0,0,0,0,0],Zi=0,lr=null,Er=0,or=function(){return Me(Jt,Er)};if(or()===":"){if(Me(Jt,1)!==":")return;Er+=2,lr=++Zi}for(;or();){if(Zi===8)return;if(or()!==":"){for(Ai=Si=0;Si<4&&pe(J,or());)Ai=16*Ai+ne(or(),16),Er++,Si++;if(or()==="."){if(Si===0||(Er-=Si,Zi>6))return;for(Mi=0;or();){if(Gt=null,Mi>0){if(!(or()==="."&&Mi<4))return;Er++}if(!pe(Ge,or()))return;for(;pe(Ge,or());){if(wi=ne(or(),10),Gt===null)Gt=wi;else{if(Gt===0)return;Gt=10*Gt+wi}if(Gt>255)return;Er++}fr[Zi]=256*fr[Zi]+Gt,++Mi!=2&&Mi!==4||Zi++}if(Mi!==4)return;break}if(or()===":"){if(Er++,!or())return}else if(or())return;fr[Zi++]=Ai}else{if(lr!==null)return;Er++,lr=++Zi}}if(lr!==null)for(Ti=Zi-lr,Zi=7;Zi!==0&&Ti>0;)Fi=fr[Zi],fr[Zi--]=fr[lr+Ti-1],fr[lr+--Ti]=Fi;else if(Zi!==8)return;return fr}(Ke(Je,1,-1)),!wt))return Se;this.host=wt}else if(this.isSpecial()){if(Je=E(Je),pe(qe,Je)||(wt=function(Jt){var Ai,Si,Mi,Gt,wi,Ti,Fi,fr=he(Jt,".");if(fr.length&&fr[fr.length-1]===""&&fr.length--,(Ai=fr.length)>4)return Jt;for(Si=[],Mi=0;Mi<Ai;Mi++){if((Gt=fr[Mi])==="")return Jt;if(wi=10,Gt.length>1&&Me(Gt,0)==="0"&&(wi=pe(it,Gt)?16:8,Gt=Ke(Gt,wi===8?1:2)),Gt==="")Ti=0;else{if(!pe(wi===10?te:wi===8?Re:J,Gt))return Jt;Ti=ne(Gt,wi)}Z(Si,Ti)}for(Mi=0;Mi<Ai;Mi++)if(Ti=Si[Mi],Mi===Ai-1){if(Ti>=ee(256,5-Ai))return null}else if(Ti>255)return null;for(Fi=fe(Si),Mi=0;Mi<Si.length;Mi++)Fi+=Si[Mi]*ee(256,3-Mi);return Fi}(Je),wt===null))return Se;this.host=wt}else{if(pe(_t,Je))return Se;for(wt="",At=k(Je),Kt=0;Kt<At.length;Kt++)wt+=mt(At[Kt],Qe);this.host=wt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return x(Mt,this.scheme)},shortenPath:function(){var Je=this.path,wt=Je.length;!wt||this.scheme==="file"&&wt===1&&ti(Je[0],!0)||Je.length--},serialize:function(){var Je=this,wt=Je.scheme,At=Je.username,Kt=Je.password,Jt=Je.host,Ai=Je.port,Si=Je.path,Mi=Je.query,Gt=Je.fragment,wi=wt+":";return Jt!==null?(wi+="//",Je.includesCredentials()&&(wi+=At+(Kt?":"+Kt:"")+"@"),wi+=Ee(Jt),Ai!==null&&(wi+=":"+Ai)):wt==="file"&&(wi+="//"),wi+=Je.cannotBeABaseURL?Si[0]:Si.length?"/"+W(Si,"/"):"",Mi!==null&&(wi+="?"+Mi),Gt!==null&&(wi+="#"+Gt),wi},setHref:function(Je){var wt=this.parse(Je);if(wt)throw new K(wt);this.searchParams.update()},getOrigin:function(){var Je=this.scheme,wt=this.port;if(Je==="blob")try{return new De(Je.path[0]).origin}catch(At){return"null"}return Je!=="file"&&this.isSpecial()?Je+"://"+Ee(this.host)+(wt!==null?":"+wt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Je){this.parse(O(Je)+":",Lt)},getUsername:function(){return this.username},setUsername:function(Je){var wt=k(O(Je));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var At=0;At<wt.length;At++)this.username+=mt(wt[At],ut)}},getPassword:function(){return this.password},setPassword:function(Je){var wt=k(O(Je));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var At=0;At<wt.length;At++)this.password+=mt(wt[At],ut)}},getHost:function(){var Je=this.host,wt=this.port;return Je===null?"":wt===null?Ee(Je):Ee(Je)+":"+wt},setHost:function(Je){this.cannotBeABaseURL||this.parse(Je,dt)},getHostname:function(){var Je=this.host;return Je===null?"":Ee(Je)},setHostname:function(Je){this.cannotBeABaseURL||this.parse(Je,ae)},getPort:function(){var Je=this.port;return Je===null?"":O(Je)},setPort:function(Je){this.cannotHaveUsernamePasswordPort()||((Je=O(Je))===""?this.port=null:this.parse(Je,Ie))},getPathname:function(){var Je=this.path;return this.cannotBeABaseURL?Je[0]:Je.length?"/"+W(Je,"/"):""},setPathname:function(Je){this.cannotBeABaseURL||(this.path=[],this.parse(Je,Et))},getSearch:function(){var Je=this.query;return Je?"?"+Je:""},setSearch:function(Je){(Je=O(Je))===""?this.query=null:(Me(Je,0)==="?"&&(Je=Ke(Je,1)),this.query="",this.parse(Je,Ot)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Je=this.fragment;return Je?"#"+Je:""},setHash:function(Je){(Je=O(Je))!==""?(Me(Je,0)==="#"&&(Je=Ke(Je,1)),this.fragment="",this.parse(Je,Bt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function(Je){var wt=y(this,Fe),At=h(arguments.length,1)>1?arguments[1]:void 0,Kt=_(wt,new Xe(Je,!1,At));o||(wt.href=Kt.serialize(),wt.origin=Kt.getOrigin(),wt.protocol=Kt.getProtocol(),wt.username=Kt.getUsername(),wt.password=Kt.getPassword(),wt.host=Kt.getHost(),wt.hostname=Kt.getHostname(),wt.port=Kt.getPort(),wt.pathname=Kt.getPathname(),wt.search=Kt.getSearch(),wt.searchParams=Kt.getSearchParams(),wt.hash=Kt.getHash())},Fe=De.prototype,et=function(Je,wt){return{get:function(){return C(this)[Je]()},set:wt&&function(At){return C(this)[wt](At)},configurable:!0,enumerable:!0}};if(o&&(m(Fe,"href",et("serialize","setHref")),m(Fe,"origin",et("getOrigin")),m(Fe,"protocol",et("getProtocol","setProtocol")),m(Fe,"username",et("getUsername","setUsername")),m(Fe,"password",et("getPassword","setPassword")),m(Fe,"host",et("getHost","setHost")),m(Fe,"hostname",et("getHostname","setHostname")),m(Fe,"port",et("getPort","setPort")),m(Fe,"pathname",et("getPathname","setPathname")),m(Fe,"search",et("getSearch","setSearch")),m(Fe,"searchParams",et("getSearchParams")),m(Fe,"hash",et("getHash","setHash"))),g(Fe,"toJSON",function(){return C(this).serialize()},{enumerable:!0}),g(Fe,"toString",function(){return C(this).serialize()},{enumerable:!0}),q){var Pt=q.createObjectURL,Nt=q.revokeObjectURL;Pt&&g(De,"createObjectURL",u(Pt,q)),Nt&&g(De,"revokeObjectURL",u(Nt,q))}a(De,"URL"),l({global:!0,constructor:!0,forced:!c,sham:!o},{URL:De})},3296:function(e,t,r){r(5806)},7208:function(e,t,r){var s=r(6518),l=r(9565);s({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})},5857:function(e,t,r){function s(E){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},s(E)}function l(E,O){(O==null||O>E.length)&&(O=E.length);for(var a=0,h=Array(O);a<O;a++)h[a]=E[a];return h}function o(E,O){for(var a=0;a<O.length;a++){var h=O[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(E,c(h.key),h)}}function c(E){var O=function(a,h){if(s(a)!="object"||!a)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var d=v.call(a,"string");if(s(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(E);return s(O)=="symbol"?O:O+""}r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(2712),r(9572),r(8130),r(3851),r(875),r(6099),r(825),r(888),r(7495),r(7764),r(5440),r(2953),r(8408),r(2008),r(113),r(3418),r(8598),r(2062),r(4782),r(2010),r(5506),r(3921),r(9432),r(8781),r(1761),r(5746),r(2762),r(3500),r(3296),r(7208);var n,u=function(){return E=function a(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),this.bookReaderOptions=h,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},O=[{key:"urlStateToUrlString",value:function(a){var h=this,v=new URLSearchParams,d={};Object.keys(a).forEach(function(G){var q,K,ne,Q,ee=h.urlSchema.find(function(Me){return Me.name===G});(q=ee)!==null&&q!==void 0&&q.deprecated_for&&(ee=h.urlSchema.find(function(Me){return Me.name===ee.deprecated_for})),((K=ee)===null||K===void 0?void 0:K.position)=="path"?d[(ne=ee)===null||ne===void 0?void 0:ne.name]=a[G]:v.append(((Q=ee)===null||Q===void 0?void 0:Q.name)||G,a[G])});var _=this.urlSchema.filter(function(G){return G.position=="path"}).map(function(G){return d[G.name]?"".concat(G.name,"/").concat(encodeURIComponent(d[G.name])):""}).join("/"),C="".concat(_.replace(/\/+/g,"/").replace(/\/+$/,"")),N="".concat(C,"?").concat(v.toString());return v.toString()?N:"".concat(C)}},{key:"urlStringToUrlState",value:function(a){var h={},v=new URL(a,"http://example.com"),d=Object.fromEntries(v.searchParams.entries()),_=v.pathname.match(/[^\\/]+\/[^\\/]+/g),C=_?Object.fromEntries(_.map(function(G){return G.split("/")})):{},N=function(G,q){return Object.keys(G).some(function(K){return K==q})};return this.urlSchema.filter(function(G){return G.position=="path"}).forEach(function(G){var q=N(C,G.name),K=N(G,"deprecated_for")&&q;if(q||K){var ne=K?G.deprecated_for:G.name;h[ne]=decodeURIComponent(C[G.name])}}),Object.entries(d).forEach(function(G){var q=function(Q,ee){return function(Me){if(Array.isArray(Me))return Me}(Q)||function(Me,pe){var W=Me==null?null:typeof Symbol<"u"&&Me[Symbol.iterator]||Me["@@iterator"];if(W!=null){var oe,fe,Z,xe,Y=[],he=!0,Ke=!1;try{if(Z=(W=W.call(Me)).next,pe===0){if(Object(W)!==W)return;he=!1}else for(;!(he=(oe=Z.call(W)).done)&&(Y.push(oe.value),Y.length!==pe);he=!0);}catch(ht){Ke=!0,fe=ht}finally{try{if(!he&&W.return!=null&&(xe=W.return(),Object(xe)!==xe))return}finally{if(Ke)throw fe}}return Y}}(Q,ee)||function(Me,pe){if(Me){if(typeof Me=="string")return l(Me,pe);var W={}.toString.call(Me).slice(8,-1);return W==="Object"&&Me.constructor&&(W=Me.constructor.name),W==="Map"||W==="Set"?Array.from(Me):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?l(Me,pe):void 0}}(Q,ee)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(G,2),K=q[0],ne=q[1];h[K]=ne}),h}},{key:"setUrlParam",value:function(a,h){this.urlState[a]=h,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(a){delete this.urlState[a],this.pushToAddressBar()}},{key:"getUrlParam",value:function(a){return this.urlState[a]}},{key:"pushToAddressBar",value:function(){var a=this.urlStateToUrlString(this.urlState),h=a!=="/"?a:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var v="".concat(this.urlHistoryBasePath).concat(h).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,v)}catch(d){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+h),this.oldLocationHash=a}},{key:"listenForHashChanges",value:function(){var a=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var h=window.location.hash.substr(1);h!=a.oldLocationHash&&(a.urlState=a.urlStringToUrlState(h))},500)}},{key:"pullFromAddressBar",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,h=this.urlMode==="history"?a.pathname.substr(this.urlHistoryBasePath.length)+a.search:a.hash.substr(1);this.urlState=this.urlStringToUrlState(h)}}],O&&o(E.prototype,O),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,O}();function p(E){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},p(E)}function g(E,O){for(var a=0;a<O.length;a++){var h=O[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(E,m(h.key),h)}}function m(E){var O=function(a,h){if(p(a)!="object"||!a)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var d=v.call(a,"string");if(p(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(E);return p(O)=="symbol"?O:O+""}function y(E,O,a){return O=k(O),function(h,v){if(v&&(p(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(h)}(E,x()?Reflect.construct(O,a||[],k(E).constructor):O.apply(E,a))}function x(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(x=function(){return!!E})()}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,O,a){var h=function(d,_){for(;!{}.hasOwnProperty.call(d,_)&&(d=k(d))!==null;);return d}(E,O);if(h){var v=Object.getOwnPropertyDescriptor(h,O);return v.get?v.get.call(arguments.length<3?E:a):v.value}},w.apply(null,arguments)}function k(E){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},k(E)}function S(E,O){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,h){return a.__proto__=h,a},S(E,O)}r(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(n=BookReader.prototype.setup,function(E){n.call(this,E),this.bookId=E.bookId,this.defaults=E.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(E){return function(){var O=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var a=O.options,h=a.updateWindowTitle,v=a.urlMode;h&&(document.title=O.shortTitle(O.bookTitle,50)),v==="hash"&&O.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),E.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(E){return this.bookTitle.length<E?this.bookTitle:"".concat(this.bookTitle.substr(0,E-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var E=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var O=E.urlReadFragment();if(O!=E.oldLocationHash&&O!=E.oldUserHash){var a,h=E.paramsFromFragment(O),v=function(){return E.updateFromParams(h)};E.trigger(BookReader.eventNames.stop),E.animating?((a=E.plugins.autoplay)===null||a===void 0||a.stop(),E.animationFinishedCallback=v):v(),E.oldUserHash=O}},500)},BookReader.prototype.urlUpdateFragment=function(){var E=this.paramsFromCurrent(),O=this.options,a=O.urlTrackIndex0,h=O.urlTrackedParams;a||E.index===void 0||E.index!==0||(delete E.index,delete E.page);var v=h.reduce(function(Q,ee){return ee in E&&(Q[ee]=E[ee]),Q},{}),d=this.fragmentFromParams(v,this.options.urlMode),_=this.urlReadFragment(),C=this.getLocationSearch(),N=this.queryStringFromParams(v,C,this.options.urlMode);if(_!==d||C!==N){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var G=this.options.urlHistoryBasePath.replace(/\/+$/,""),q=d===""?"":"/".concat(d),K="".concat(G).concat(q).concat(N);try{window.history.replaceState({},null,K),this.oldLocationHash=d+N}catch(Q){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var ne=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+d+ne),this.oldLocationHash=d+ne}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(E){var O=new URLSearchParams(E);return O.has("q")?"?".concat(new URLSearchParams({q:O.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var E=this.options,O=E.urlMode,a=E.urlHistoryBasePath;return O==="history"?window.location.pathname.substr(a.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var P=function(E){function O(){return function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}(this,O),y(this,O,arguments)}return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),d&&S(v,d)}(O,BookReader),a=O,h=[{key:"init",value:function(){var v,d,_,C=this;this.options.enableUrlPlugin&&(this.urlPlugin=new u(this.options),this.bind(BookReader.eventNames.PostInit,function(){C.options.urlMode==="hash"&&C.urlPlugin.listenForHashChanges()})),(v=O,d=this,typeof(_=w(k(v.prototype),"init",d))=="function"?function(N){return _.apply(d,N)}:_)([])}}],h&&g(a.prototype,h),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,h}();window.BookReader=P}},function(e){e(e.s=5857)}]);z1=P7,{default:U1}=z1,$7=nn(z1,["default"]),V1=U1!==void 0?U1:$7});var W1={};Ln(W1,{default:()=>V1});var q1=Zt(()=>{gm();gm()});var O7,G1,Y1,M7,K1,vm=Zt(()=>{O7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{4031:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},1792:function(e,t,r){var s,l;s=[r(1669)],(l=function(o){return function(c){"use strict";function n(u){u===void 0&&(u=window.navigator.userAgent),u=u.toLowerCase();var p=/(edge)\/([\w.]+)/.exec(u)||/(opr)[\/]([\w.]+)/.exec(u)||/(chrome)[ \/]([\w.]+)/.exec(u)||/(iemobile)[\/]([\w.]+)/.exec(u)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],g=/(ipad)/.exec(u)||/(ipod)/.exec(u)||/(windows phone)/.exec(u)||/(iphone)/.exec(u)||/(kindle)/.exec(u)||/(silk)/.exec(u)||/(android)/.exec(u)||/(win)/.exec(u)||/(mac)/.exec(u)||/(linux)/.exec(u)||/(cros)/.exec(u)||/(playbook)/.exec(u)||/(bb)/.exec(u)||/(blackberry)/.exec(u)||[],m={},y={browser:p[5]||p[3]||p[1]||"",version:p[2]||p[4]||"0",versionNumber:p[4]||p[2]||"0",platform:g[0]||""};if(y.browser&&(m[y.browser]=!0,m.version=y.version,m.versionNumber=parseInt(y.versionNumber,10)),y.platform&&(m[y.platform]=!0),(m.android||m.bb||m.blackberry||m.ipad||m.iphone||m.ipod||m.kindle||m.playbook||m.silk||m["windows phone"])&&(m.mobile=!0),(m.cros||m.mac||m.linux||m.win)&&(m.desktop=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){var x="msie";y.browser=x,m[x]=!0}if(m.edge){delete m.edge;var w="msedge";y.browser=w,m[w]=!0}if(m.safari&&m.blackberry){var k="blackberry";y.browser=k,m[k]=!0}if(m.safari&&m.playbook){var S="playbook";y.browser=S,m[S]=!0}if(m.bb){var P="blackberry";y.browser=P,m[P]=!0}if(m.opr){var E="opera";y.browser=E,m[E]=!0}if(m.safari&&m.android){var O="android";y.browser=O,m[O]=!0}if(m.safari&&m.kindle){var a="kindle";y.browser=a,m[a]=!0}if(m.safari&&m.silk){var h="silk";y.browser=h,m[h]=!0}return m.name=y.browser,m.platform=y.platform,m}return window.jQBrowser=n(window.navigator.userAgent),window.jQBrowser.uaMatch=n,c&&(c.browser=window.jQBrowser),window.jQBrowser}(o)}.apply(t,s))===void 0||(e.exports=l)},2443:function(e,t,r){var s;e=r.nmd(e),function(l,o){"use strict";if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var c=null;function n(u,p){this.setupOptions={url:u||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=p||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var g,m,y,x,w,k,S,P,E,O,a,h,v,d,_,C,N,G,q,K,ne,Q,ee,Me,pe,W,oe,fe,Z,xe,Y,he,Ke,ht,lt,We,Se,Le,je,Ne,Ge,it,Re,te,J,qe,_t,be,$e,st,Ee,Qe,nt,Ut,ut,mt,Mt,ti,oi,ci,Lt,It,Ct,St,kt,I=this,Ve=null,ke=null,Ye="soundManager",Ze=Ye+": ",dt=navigator.userAgent,ae=l.location.href.toString(),Ie=document,Ue=[],gt=!0,ct=!1,Et=!1,zt=!1,Xt=!1,Ot=!1,Bt=0,Xe=["log","info","warn","error"],De=null,Fe=null,et=!1,Pt=!1,Nt=0,Je=null,wt=[],At=null,Kt=Array.prototype.slice,Jt=!1,Ai=0,Si=1e3,Mi=dt.match(/(ipad|iphone|ipod)/i),Gt=dt.match(/android/i),wi=dt.match(/msie|trident/i),Ti=dt.match(/webkit/i),Fi=dt.match(/safari/i)&&!dt.match(/chrome/i),fr=dt.match(/opera/i),Zi=dt.match(/(mobile|pre\/|xoom)/i)||Mi||Gt,lr=!ae.match(/usehtml5audio/i)&&!ae.match(/sm2-ignorebadua/i)&&Fi&&!dt.match(/silk/i)&&dt.match(/OS\sX\s10_6_([3-7])/i),Er=l.console!==o&&console.log!==o,or=Ie.hasFocus!==o?Ie.hasFocus():null,vr=Fi&&(Ie.hasFocus===o||!Ie.hasFocus()),_r=!vr,Pr=/(mp3|mp4|mpa|m4a|m4b)/i,Zr="about:blank",sn=Ie.location?Ie.location.protocol.match(/http/i):null,$r=sn?"":"//",Rr=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Yr=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Wr=new RegExp("\\.("+Yr.join("|")+")(\\?.*)?$","i");function ve(B){return I.preferFlash&&ti&&!I.ignoreFlash&&I.flash[B]!==o&&I.flash[B]}function ce(B){return function(ye){var _e,Tt=this._s;return Tt&&Tt._a?_e=B.call(this,ye):(Tt&&Tt.id?I._wD(Tt.id+": Ignoring "+ye.type):I._wD("HTML5::Ignoring "+ye.type),_e=null),_e}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!sn,Se={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Ee=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(fr&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(B){return!1}}(),this.setup=function(B){var ye=!I.url;return B!==o&&zt&&At&&I.ok()&&(B.flashVersion!==o||B.url!==o||B.html5Test!==o)&&Ge(ht("setupLate")),a(B),Jt||(Zi?I.setupOptions.ignoreMobileRestrictions&&!I.setupOptions.forceUseGlobalHTML5Audio||(wt.push(ne.globalHTML5),Jt=!0):I.setupOptions.forceUseGlobalHTML5Audio&&(wt.push(ne.globalHTML5),Jt=!0)),!kt&&Zi&&(I.setupOptions.ignoreMobileRestrictions?wt.push(ne.ignoreMobile):(I.setupOptions.useHTML5Audio&&!I.setupOptions.preferFlash||I._wD(ne.mobileUA),I.setupOptions.useHTML5Audio=!0,I.setupOptions.preferFlash=!1,Mi?I.ignoreFlash=!0:(Gt&&!dt.match(/android\s2\.3/i)||!Gt)&&(I._wD(ne.globalHTML5),Jt=!0))),B&&(ye&&pe&&B.url!==o&&I.beginDelayedInit(),pe||B.url===o||Ie.readyState!=="complete"||setTimeout(ee,1)),kt=!0,I},this.ok=function(){return At?zt&&!Xt:I.useHTML5Audio&&I.hasHTML5},this.supported=this.ok,this.getMovie=function(B){return m(B)||Ie[B]||l[B]},this.createSound=function(B,ye){var _e,Tt,Ft,pi=null;if(Tt=(_e=Ye+".createSound(): ")+ht(zt?"notOK":"notReady"),!zt||!I.ok())return Ge(Tt),!1;if(ye!==o&&(B={id:B,url:ye}),(Ft=O(B)).url=qe(Ft.url),Ft.id===o&&(Ft.id=I.setupOptions.idPrefix+Ai++),Ft.id.toString().charAt(0).match(/^[0-9]$/)&&I._wD(_e+ht("badID",Ft.id),2),I._wD(_e+Ft.id+(Ft.url?" ("+Ft.url+")":""),1),it(Ft.id,!0))return I._wD(_e+Ft.id+" exists",1),I.sounds[Ft.id];function di(){return Ft=je(Ft),I.sounds[Ft.id]=new g(Ft),I.soundIDs.push(Ft.id),I.sounds[Ft.id]}if($e(Ft))pi=di(),I.html5Only||I._wD(Ft.id+": Using HTML5"),pi._setup_html5(Ft);else{if(I.html5Only)return I._wD(Ft.id+": No HTML5 support for this sound, and no Flash. Exiting."),di();if(I.html5.usingFlash&&Ft.url&&Ft.url.match(/data:/i))return I._wD(Ft.id+": data: URIs not supported via Flash. Exiting."),di();k>8&&(Ft.isMovieStar===null&&(Ft.isMovieStar=!!(Ft.serverURL||Ft.type&&Ft.type.match(Rr)||Ft.url&&Ft.url.match(Wr))),Ft.isMovieStar&&(I._wD(_e+"using MovieStar handling"),Ft.loops>1&&P("noNSLoop"))),Ft=Ne(Ft,_e),pi=di(),k===8?ke._createSound(Ft.id,Ft.loops||1,Ft.usePolicyFile):(ke._createSound(Ft.id,Ft.url,Ft.usePeakData,Ft.useWaveformData,Ft.useEQData,Ft.isMovieStar,!!Ft.isMovieStar&&Ft.bufferTime,Ft.loops||1,Ft.serverURL,Ft.duration||null,Ft.autoPlay,!0,Ft.autoLoad,Ft.usePolicyFile),Ft.serverURL||(pi.connected=!0,Ft.onconnect&&Ft.onconnect.apply(pi))),Ft.serverURL||!Ft.autoLoad&&!Ft.autoPlay||pi.load(Ft)}return!Ft.serverURL&&Ft.autoPlay&&pi.play(),pi},this.destroySound=function(B,ye){if(!it(B))return!1;var _e,Tt=I.sounds[B];for(Tt.stop(),Tt._iO={},Tt.unload(),_e=0;_e<I.soundIDs.length;_e++)if(I.soundIDs[_e]===B){I.soundIDs.splice(_e,1);break}return ye||Tt.destruct(!0),Tt=null,delete I.sounds[B],!0},this.load=function(B,ye){return!!it(B)&&I.sounds[B].load(ye)},this.unload=function(B){return!!it(B)&&I.sounds[B].unload()},this.onPosition=function(B,ye,_e,Tt){return!!it(B)&&I.sounds[B].onposition(ye,_e,Tt)},this.onposition=this.onPosition,this.clearOnPosition=function(B,ye,_e){return!!it(B)&&I.sounds[B].clearOnPosition(ye,_e)},this.play=function(B,ye){var _e=null,Tt=ye&&!(ye instanceof Object);if(!zt||!I.ok())return Ge(Ye+".play(): "+ht(zt?"notOK":"notReady")),!1;if(it(B,Tt))Tt&&(ye={url:ye});else{if(!Tt)return!1;Tt&&(ye={url:ye}),ye&&ye.url&&(I._wD(Ye+'.play(): Attempting to create "'+B+'"',1),ye.id=B,_e=I.createSound(ye).play())}return _e===null&&(_e=I.sounds[B].play(ye)),_e},this.start=this.play,this.setPlaybackRate=function(B,ye,_e){return!!it(B)&&I.sounds[B].setPlaybackRate(ye,_e)},this.setPosition=function(B,ye){return!!it(B)&&I.sounds[B].setPosition(ye)},this.stop=function(B){return!!it(B)&&(I._wD(Ye+".stop("+B+")",1),I.sounds[B].stop())},this.stopAll=function(){var B;for(B in I._wD(Ye+".stopAll()",1),I.sounds)I.sounds.hasOwnProperty(B)&&I.sounds[B].stop()},this.pause=function(B){return!!it(B)&&I.sounds[B].pause()},this.pauseAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].pause()},this.resume=function(B){return!!it(B)&&I.sounds[B].resume()},this.resumeAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].resume()},this.togglePause=function(B){return!!it(B)&&I.sounds[B].togglePause()},this.setPan=function(B,ye){return!!it(B)&&I.sounds[B].setPan(ye)},this.setVolume=function(B,ye){var _e,Tt;if(B!==o&&!isNaN(B)&&ye===o){for(_e=0,Tt=I.soundIDs.length;_e<Tt;_e++)I.sounds[I.soundIDs[_e]].setVolume(B);return!1}return!!it(B)&&I.sounds[B].setVolume(ye)},this.mute=function(B){var ye=0;if(B instanceof String&&(B=null),B)return!!it(B)&&(I._wD(Ye+'.mute(): Muting "'+B+'"'),I.sounds[B].mute());for(I._wD(Ye+".mute(): Muting all sounds"),ye=I.soundIDs.length-1;ye>=0;ye--)I.sounds[I.soundIDs[ye]].mute();return I.muted=!0,!0},this.muteAll=function(){I.mute()},this.unmute=function(B){var ye;if(B instanceof String&&(B=null),B)return!!it(B)&&(I._wD(Ye+'.unmute(): Unmuting "'+B+'"'),I.sounds[B].unmute());for(I._wD(Ye+".unmute(): Unmuting all sounds"),ye=I.soundIDs.length-1;ye>=0;ye--)I.sounds[I.soundIDs[ye]].unmute();return I.muted=!1,!0},this.unmuteAll=function(){I.unmute()},this.toggleMute=function(B){return!!it(B)&&I.sounds[B].toggleMute()},this.getMemoryUse=function(){var B=0;return ke&&k!==8&&(B=parseInt(ke._getMemoryUse(),10)),B},this.disable=function(B){var ye;if(B===o&&(B=!1),Xt)return!1;for(Xt=!0,P("shutdown",1),ye=I.soundIDs.length-1;ye>=0;ye--)Y(I.sounds[I.soundIDs[ye]]);return Y(I),E(B),mt.remove(l,"load",_),!0},this.canPlayMIME=function(B){var ye;return I.hasHTML5&&(ye=st({type:B})),!ye&&At&&(ye=B&&I.ok()?!!(k>8&&B.match(Rr)||B.match(I.mimePattern)):null),ye},this.canPlayURL=function(B){var ye;return I.hasHTML5&&(ye=st({url:B})),!ye&&At&&(ye=B&&I.ok()?!!B.match(I.filePattern):null),ye},this.canPlayLink=function(B){return!(B.type===o||!B.type||!I.canPlayMIME(B.type))||I.canPlayURL(B.href)},this.getSoundById=function(B,ye){if(!B)return null;var _e=I.sounds[B];return _e||ye||I._wD(Ye+'.getSoundById(): Sound "'+B+'" not found.',2),_e},this.onready=function(B,ye){var _e="onready";if(typeof B!="function")throw ht("needFunction",_e);return zt&&I._wD(ht("queue",_e)),ye||(ye=l),v(_e,B,ye),d(),!0},this.ontimeout=function(B,ye){var _e="ontimeout";if(typeof B!="function")throw ht("needFunction",_e);return zt&&I._wD(ht("queue",_e)),ye||(ye=l),v(_e,B,ye),d({type:_e}),!0},this._writeDebug=function(B,ye){var _e,Tt;return!(!I.setupOptions.debugMode||!(Er&&I.useConsole&&(ye&&typeof ye=="object"?console.log(B,ye):Xe[ye]!==o?console[Xe[ye]](B):console.log(B),I.consoleOnly))&&(!(_e=m("soundmanager-debug"))||(Tt=Ie.createElement("div"),++Bt%2==0&&(Tt.className="sm2-alt"),ye=ye===o?0:parseInt(ye,10),Tt.appendChild(Ie.createTextNode(B)),ye&&(ye>=2&&(Tt.style.fontWeight="bold"),ye===3&&(Tt.style.color="#ff3333")),_e.insertBefore(Tt,_e.firstChild),_e=null,0)))},ae.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(B){l.alert(B)}),this._wD=this._writeDebug,this._debug=function(){var B,ye;for(P("currentObj",1),B=0,ye=I.soundIDs.length;B<ye;B++)I.sounds[I.soundIDs[B]]._debug()},this.reboot=function(B,ye){var _e,Tt,Ft;for(I.soundIDs.length&&I._wD("Destroying "+I.soundIDs.length+" SMSound object"+(I.soundIDs.length!==1?"s":"")+"..."),_e=I.soundIDs.length-1;_e>=0;_e--)I.sounds[I.soundIDs[_e]].destruct();if(ke)try{wi&&(Fe=ke.innerHTML),De=ke.parentNode.removeChild(ke)}catch(pi){P("badRemove",2)}if(Fe=De=At=ke=null,I.enabled=pe=zt=et=Pt=ct=Et=Xt=Jt=I.swfLoaded=!1,I.soundIDs=[],I.sounds={},Ai=0,kt=!1,B)Ue=[];else for(_e in Ue)if(Ue.hasOwnProperty(_e))for(Tt=0,Ft=Ue[_e].length;Tt<Ft;Tt++)Ue[_e][Tt].fired=!1;return ye||I._wD(Ye+": Rebooting..."),I.html5={usingFlash:null},I.flash={},I.html5Only=!1,I.ignoreFlash=!1,l.setTimeout(function(){ye||I.beginDelayedInit()},20),I},this.reset=function(){return P("reset"),I.reboot(!0,!0)},this.getMoviePercent=function(){return ke&&"PercentLoaded"in ke?ke.PercentLoaded():null},this.beginDelayedInit=function(){Ot=!0,ee(),setTimeout(function(){return!Pt&&(oe(),Q(),Pt=!0,!0)},20),C()},this.destruct=function(){I._wD(Ye+".destruct()"),I.disable(!0)},g=function(B){var ye,_e,Tt,Ft,pi,di,zi,dr,ir,Ur,le=this,On=!1,yn=[],An=0,bn=null;ir={duration:null,time:null},this.id=B.id,this.sID=this.id,this.url=B.url,this.options=O(B),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Ur=!this.url,this.id3={},this._debug=function(){I._wD(le.id+": Merged options:",le.options)},this.load=function(si){var bi;if(si!==o?le._iO=O(si,le.options):(si=le.options,le._iO=si,bn&&bn!==le.url&&(P("manURL"),le._iO.url=le.url,le.url=null)),le._iO.url||(le._iO.url=le.url),le._iO.url=qe(le._iO.url),le.instanceOptions=le._iO,bi=le._iO,I._wD(le.id+": load ("+bi.url+")"),!bi.url&&!le.url)return I._wD(le.id+": load(): url is unassigned. Exiting.",2),le;if(le.isHTML5||k!==8||le.url||bi.autoPlay||I._wD(le.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),bi.url===le.url&&le.readyState!==0&&le.readyState!==2)return P("onURL",1),le.readyState===3&&bi.onload&&St(le,function(){bi.onload.apply(le,[!!le.duration])}),le;if(le.loaded=!1,le.readyState=1,le.playState=0,le.id3={},$e(bi))le._setup_html5(bi)._called_load?I._wD(le.id+": Ignoring request to load again"):(le._html5_canplay=!1,le.url!==bi.url&&(I._wD(P("manURL")+": "+bi.url),le._a.src=bi.url,le.setPosition(0)),le._a.autobuffer="auto",le._a.preload="auto",le._a._called_load=!0);else{if(I.html5Only)return I._wD(le.id+": No flash support. Exiting."),le;if(le._iO.url&&le._iO.url.match(/data:/i))return I._wD(le.id+": data: URIs not supported via Flash. Exiting."),le;try{le.isHTML5=!1,le._iO=Ne(je(bi)),le._iO.autoPlay&&(le._iO.position||le._iO.from)&&(I._wD(le.id+": Disabling autoPlay because of non-zero offset case"),le._iO.autoPlay=!1),bi=le._iO,k===8?ke._load(le.id,bi.url,bi.stream,bi.autoPlay,bi.usePolicyFile):ke._load(le.id,bi.url,!!bi.stream,!!bi.autoPlay,bi.loops||1,!!bi.autoLoad,bi.usePolicyFile)}catch(fi){P("smError",2),S("onload",!1),fe({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return le.url=bi.url,le},this.unload=function(){return le.readyState!==0&&(I._wD(le.id+": unload()"),le.isHTML5?(Ft(),le._a&&(le._a.pause(),bn=nt(le._a))):k===8?ke._unload(le.id,Zr):ke._unload(le.id),ye()),le},this.destruct=function(si){I._wD(le.id+": Destruct"),le.isHTML5?(Ft(),le._a&&(le._a.pause(),nt(le._a),Jt||Tt(),le._a._s=null,le._a=null)):(le._iO.onfailure=null,ke._destroySound(le.id)),si||I.destroySound(le.id,!0)},this.play=function(si,bi){var fi,er,rr,Sn,gn,po,so=!0;if(fi=le.id+": play(): ",bi=bi===o||bi,si||(si={}),le.url&&(le._iO.url=le.url),le._iO=O(le._iO,le.options),le._iO=O(si,le._iO),le._iO.url=qe(le._iO.url),le.instanceOptions=le._iO,!le.isHTML5&&le._iO.serverURL&&!le.connected)return le.getAutoPlay()||(I._wD(fi+" Netstream not connected yet - setting autoPlay"),le.setAutoPlay(!0)),le;if($e(le._iO)&&(le._setup_html5(le._iO),pi()),le.playState===1&&!le.paused){if(!le._iO.multiShot)return I._wD(fi+"Already playing (one-shot)",1),le.isHTML5&&le.setPosition(le._iO.position),le;I._wD(fi+"Already playing (multi-shot)",1)}if(si.url&&si.url!==le.url&&(le.readyState||le.isHTML5||k!==8||!Ur?le.load(le._iO):Ur=!1),le.loaded)I._wD(fi.substr(0,fi.lastIndexOf(":")));else if(le.readyState===0){if(I._wD(fi+"Attempting to load"),le.isHTML5||I.html5Only){if(!le.isHTML5)return I._wD(fi+"Unsupported type. Exiting."),le;le.load(le._iO)}else le._iO.autoPlay=!0,le.load(le._iO);le.instanceOptions=le._iO}else{if(le.readyState===2)return I._wD(fi+"Could not load - exiting",2),le;I._wD(fi+"Loading - attempting to play...")}return!le.isHTML5&&k===9&&le.position>0&&le.position===le.duration&&(I._wD(fi+"Sound at end, resetting to position: 0"),si.position=0),le.paused&&le.position>=0&&(!le._iO.serverURL||le.position>0)?(I._wD(fi+"Resuming from paused state",1),le.resume()):(le._iO=O(si,le._iO),(!le.isHTML5&&le._iO.position!==null&&le._iO.position>0||le._iO.from!==null&&le._iO.from>0||le._iO.to!==null)&&le.instanceCount===0&&le.playState===0&&!le._iO.serverURL&&(rr=function(){le._iO=O(si,le._iO),le.play(le._iO)},le.isHTML5&&!le._html5_canplay?(I._wD(fi+"Beginning load for non-zero offset case"),le.load({_oncanplay:rr})):le.isHTML5||le.loaded||le.readyState&&le.readyState===2||(I._wD(fi+"Preloading for non-zero offset case"),le.load({onload:rr})),le._iO=dr()),(!le.instanceCount||le._iO.multiShotEvents||le.isHTML5&&le._iO.multiShot&&!Jt||!le.isHTML5&&k>8&&!le.getAutoPlay())&&le.instanceCount++,le._iO.onposition&&le.playState===0&&di(le),le.playState=1,le.paused=!1,le.position=le._iO.position===o||isNaN(le._iO.position)?0:le._iO.position,le.isHTML5||(le._iO=Ne(je(le._iO))),le._iO.onplay&&bi&&(le._iO.onplay.apply(le),On=!0),le.setVolume(le._iO.volume,!0),le.setPan(le._iO.pan,!0),le._iO.playbackRate!==1&&le.setPlaybackRate(le._iO.playbackRate),le.isHTML5?le.instanceCount<2?(pi(),er=le._setup_html5(),le.setPosition(le._iO.position),er.play()):(I._wD(le.id+": Cloning Audio() for instance #"+le.instanceCount+"..."),Sn=new Audio(le._iO.url),gn=function(){mt.remove(Sn,"ended",gn),le._onfinish(le),nt(Sn),Sn=null},po=function(){mt.remove(Sn,"canplay",po);try{Sn.currentTime=le._iO.position/Si}catch(Va){Ge(le.id+": multiShot play() failed to apply position of "+le._iO.position/Si)}Sn.play()},mt.add(Sn,"ended",gn),le._iO.volume!==o&&(Sn.volume=Math.max(0,Math.min(1,le._iO.volume/100))),le.muted&&(Sn.muted=!0),le._iO.position?mt.add(Sn,"canplay",po):Sn.play()):(so=ke._start(le.id,le._iO.loops||1,k===9?le.position:le.position/Si,le._iO.multiShot||!1),k!==9||so||(I._wD(fi+"No sound hardware, or 32-sound ceiling hit",2),le._iO.onplayerror&&le._iO.onplayerror.apply(le)))),le},this.start=this.play,this.stop=function(si){var bi,fi=le._iO;return le.playState===1&&(I._wD(le.id+": stop()"),le._onbufferchange(0),le._resetOnPosition(0),le.paused=!1,le.isHTML5||(le.playState=0),zi(),fi.to&&le.clearOnPosition(fi.to),le.isHTML5?le._a&&(bi=le.position,le.setPosition(0),le.position=bi,le._a.pause(),le.playState=0,le._onTimer(),Ft()):(ke._stop(le.id,si),fi.serverURL&&le.unload()),le.instanceCount=0,le._iO={},fi.onstop&&fi.onstop.apply(le)),le},this.setAutoPlay=function(si){I._wD(le.id+": Autoplay turned "+(si?"on":"off")),le._iO.autoPlay=si,le.isHTML5||(ke._setAutoPlay(le.id,si),si&&(le.instanceCount||le.readyState!==1||(le.instanceCount++,I._wD(le.id+": Incremented instance count to "+le.instanceCount))))},this.getAutoPlay=function(){return le._iO.autoPlay},this.setPlaybackRate=function(si){var bi=Math.max(.5,Math.min(4,si));if(bi!==si&&I._wD(le.id+": setPlaybackRate("+si+"): limiting rate to "+bi,2),le.isHTML5)try{le._iO.playbackRate=bi,le._a.playbackRate=bi}catch(fi){I._wD(le.id+": setPlaybackRate("+bi+") failed: "+fi.message,2)}return le},this.setPosition=function(si){si===o&&(si=0);var bi,fi,er=le.isHTML5?Math.max(si,0):Math.min(le.duration||le._iO.duration,Math.max(si,0));if(le.position=er,fi=le.position/Si,le._resetOnPosition(le.position),le._iO.position=er,le.isHTML5){if(le._a){if(le._html5_canplay){if(le._a.currentTime.toFixed(3)!==fi.toFixed(3)){I._wD(le.id+": setPosition("+fi+")");try{le._a.currentTime=fi,(le.playState===0||le.paused)&&le._a.pause()}catch(rr){I._wD(le.id+": setPosition("+fi+") failed: "+rr.message,2)}}}else if(fi)return I._wD(le.id+": setPosition("+fi+"): Cannot seek yet, sound not ready",2),le;le.paused&&le._onTimer(!0)}}else bi=k===9?le.position:fi,le.readyState&&le.readyState!==2&&ke._setPosition(le.id,bi,le.paused||!le.playState,le._iO.multiShot);return le},this.pause=function(si){return le.paused||le.playState===0&&le.readyState!==1||(I._wD(le.id+": pause()"),le.paused=!0,le.isHTML5?(le._setup_html5().pause(),Ft()):(si||si===o)&&ke._pause(le.id,le._iO.multiShot),le._iO.onpause&&le._iO.onpause.apply(le)),le},this.resume=function(){var si=le._iO;return le.paused&&(I._wD(le.id+": resume()"),le.paused=!1,le.playState=1,le.isHTML5?(le._setup_html5().play(),pi()):(si.isMovieStar&&!si.serverURL&&le.setPosition(le.position),ke._pause(le.id,si.multiShot)),!On&&si.onplay?(si.onplay.apply(le),On=!0):si.onresume&&si.onresume.apply(le)),le},this.togglePause=function(){return I._wD(le.id+": togglePause()"),le.playState===0?(le.play({position:k!==9||le.isHTML5?le.position/Si:le.position}),le):(le.paused?le.resume():le.pause(),le)},this.setPan=function(si,bi){return si===o&&(si=0),bi===o&&(bi=!1),le.isHTML5||ke._setPan(le.id,si),le._iO.pan=si,bi||(le.pan=si,le.options.pan=si),le},this.setVolume=function(si,bi){return si===o&&(si=100),bi===o&&(bi=!1),le.isHTML5?le._a&&(I.muted&&!le.muted&&(le.muted=!0,le._a.muted=!0),le._a.volume=Math.max(0,Math.min(1,si/100))):ke._setVolume(le.id,I.muted&&!le.muted||le.muted?0:si),le._iO.volume=si,bi||(le.volume=si,le.options.volume=si),le},this.mute=function(){return le.muted=!0,le.isHTML5?le._a&&(le._a.muted=!0):ke._setVolume(le.id,0),le},this.unmute=function(){le.muted=!1;var si=le._iO.volume!==o;return le.isHTML5?le._a&&(le._a.muted=!1):ke._setVolume(le.id,si?le._iO.volume:le.options.volume),le},this.toggleMute=function(){return le.muted?le.unmute():le.mute()},this.onPosition=function(si,bi,fi){return yn.push({position:parseInt(si,10),method:bi,scope:fi!==o?fi:le,fired:!1}),le},this.onposition=this.onPosition,this.clearOnPosition=function(si,bi){var fi;if(si=parseInt(si,10),!isNaN(si))for(fi=0;fi<yn.length;fi++)si===yn[fi].position&&(bi&&bi!==yn[fi].method||(yn[fi].fired&&An--,yn.splice(fi,1)))},this._processOnPosition=function(){var si,bi,fi=yn.length;if(!fi||!le.playState||An>=fi)return!1;for(si=fi-1;si>=0;si--)!(bi=yn[si]).fired&&le.position>=bi.position&&(bi.fired=!0,An++,bi.method.apply(bi.scope,[bi.position]),fi=yn.length);return!0},this._resetOnPosition=function(si){var bi,fi,er=yn.length;if(!er)return!1;for(bi=er-1;bi>=0;bi--)(fi=yn[bi]).fired&&si<=fi.position&&(fi.fired=!1,An--);return!0},dr=function(){var si,bi,fi=le._iO,er=fi.from,rr=fi.to;return bi=function(){I._wD(le.id+': "To" time of '+rr+" reached."),le.clearOnPosition(rr,bi),le.stop()},si=function(){I._wD(le.id+': Playing "from" '+er),rr===null||isNaN(rr)||le.onPosition(rr,bi)},er===null||isNaN(er)||(fi.position=er,fi.multiShot=!1,si()),fi},di=function(){var si,bi=le._iO.onposition;if(bi)for(si in bi)bi.hasOwnProperty(si)&&le.onPosition(parseInt(si,10),bi[si])},zi=function(){var si,bi=le._iO.onposition;if(bi)for(si in bi)bi.hasOwnProperty(si)&&le.clearOnPosition(parseInt(si,10))},pi=function(){le.isHTML5&&Re(le)},Ft=function(){le.isHTML5&&te(le)},(ye=function(si){si||(yn=[],An=0),On=!1,le._hasTimer=null,le._a=null,le._html5_canplay=!1,le.bytesLoaded=null,le.bytesTotal=null,le.duration=le._iO&&le._iO.duration?le._iO.duration:null,le.durationEstimate=null,le.buffered=[],le.eqData=[],le.eqData.left=[],le.eqData.right=[],le.failures=0,le.isBuffering=!1,le.instanceOptions={},le.instanceCount=0,le.loaded=!1,le.metadata={},le.readyState=0,le.muted=!1,le.paused=!1,le.peakData={left:0,right:0},le.waveformData={left:[],right:[]},le.playState=0,le.position=null,le.id3={}})(),this._onTimer=function(si){var bi,fi,er=!1,rr={};return(le._hasTimer||si)&&le._a&&(si||(le.playState>0||le.readyState===1)&&!le.paused)&&((bi=le._get_html5_duration())!==ir.duration&&(ir.duration=bi,le.duration=bi,er=!0),le.durationEstimate=le.duration,(fi=le._a.currentTime*Si||0)!==ir.time&&(ir.time=fi,er=!0),(er||si)&&le._whileplaying(fi,rr,rr,rr,rr)),er},this._get_html5_duration=function(){var si=le._iO,bi=le._a&&le._a.duration?le._a.duration*Si:si&&si.duration?si.duration:null;return bi&&!isNaN(bi)&&bi!==1/0?bi:null},this._apply_loop=function(si,bi){!si.loop&&bi>1&&I._wD("Note: Native HTML5 looping is infinite.",1),si.loop=bi>1?"loop":""},this._setup_html5=function(si){var bi,fi=O(le._iO,si),er=Jt?Ve:le._a,rr=decodeURI(fi.url);if(Jt?rr===decodeURI(Mt)&&(bi=!0):rr===decodeURI(bn)&&(bi=!0),er){if(er._s){if(Jt)er._s&&er._s.playState&&!bi&&er._s.stop();else if(!Jt&&rr===decodeURI(bn))return le._apply_loop(er,fi.loops),er}bi||(bn&&ye(!1),er.src=fi.url,le.url=fi.url,bn=fi.url,Mt=fi.url,er._called_load=!1)}else fi.autoLoad||fi.autoPlay?(le._a=new Audio(fi.url),le._a.load()):le._a=fr&&opera.version()<10?new Audio(null):new Audio,(er=le._a)._called_load=!1,Jt&&(Ve=er);return le.isHTML5=!0,le._a=er,er._s=le,_e(),le._apply_loop(er,fi.loops),fi.autoLoad||fi.autoPlay?le.load():(er.autobuffer=!1,er.preload="auto"),er},_e=function(){if(le._a._added_events)return!1;var si,bi,fi;for(si in le._a._added_events=!0,Lt)Lt.hasOwnProperty(si)&&(bi=si,fi=Lt[si],le._a&&le._a.addEventListener(bi,fi,!1));return!0},Tt=function(){var si,bi,fi;for(si in I._wD(le.id+": Removing event listeners"),le._a._added_events=!1,Lt)Lt.hasOwnProperty(si)&&(bi=si,fi=Lt[si],le._a&&le._a.removeEventListener(bi,fi,!1))},this._onload=function(si){var bi,fi=!!si||!le.isHTML5&&k===8&&le.duration;return bi=le.id+": ",I._wD(bi+(fi?"onload()":"Failed to load / invalid sound?"+(le.duration?" -":" Zero-length duration reported.")+" ("+le.url+")"),fi?1:2),fi||le.isHTML5||(I.sandbox.noRemote===!0&&I._wD(bi+ht("noNet"),1),I.sandbox.noLocal===!0&&I._wD(bi+ht("noLocal"),1)),le.loaded=fi,le.readyState=fi?3:2,le._onbufferchange(0),fi||le.isHTML5||le._onerror(),le._iO.onload&&St(le,function(){le._iO.onload.apply(le,[fi])}),!0},this._onerror=function(si,bi){le._iO.onerror&&St(le,function(){le._iO.onerror.apply(le,[si,bi])})},this._onbufferchange=function(si){return!(le.playState===0||si&&le.isBuffering||!si&&!le.isBuffering||(le.isBuffering=si===1,le._iO.onbufferchange&&(I._wD(le.id+": Buffer state change: "+si),le._iO.onbufferchange.apply(le,[si])),0))},this._onsuspend=function(){return le._iO.onsuspend&&(I._wD(le.id+": Playback suspended"),le._iO.onsuspend.apply(le)),!0},this._onfailure=function(si,bi,fi){le.failures++,I._wD(le.id+": Failure ("+le.failures+"): "+si),le._iO.onfailure&&le.failures===1?le._iO.onfailure(si,bi,fi):I._wD(le.id+": Ignoring failure")},this._onwarning=function(si,bi,fi){le._iO.onwarning&&le._iO.onwarning(si,bi,fi)},this._onfinish=function(){var si=le._iO.onfinish;le._onbufferchange(0),le._resetOnPosition(0),le.instanceCount&&(le.instanceCount--,le.instanceCount||(zi(),le.playState=0,le.paused=!1,le.instanceCount=0,le.instanceOptions={},le._iO={},Ft(),le.isHTML5&&(le.position=0)),le.instanceCount&&!le._iO.multiShotEvents||si&&(I._wD(le.id+": onfinish()"),St(le,function(){si.apply(le)})))},this._whileloading=function(si,bi,fi,er){var rr=le._iO;le.bytesLoaded=si,le.bytesTotal=bi,le.duration=Math.floor(fi),le.bufferLength=er,le.isHTML5||rr.isMovieStar?le.durationEstimate=le.duration:rr.duration?le.durationEstimate=le.duration>rr.duration?le.duration:rr.duration:le.durationEstimate=parseInt(le.bytesTotal/le.bytesLoaded*le.duration,10),le.isHTML5||(le.buffered=[{start:0,end:le.duration}]),(le.readyState!==3||le.isHTML5)&&rr.whileloading&&rr.whileloading.apply(le)},this._whileplaying=function(si,bi,fi,er,rr){var Sn,gn=le._iO;return!isNaN(si)&&si!==null&&(le.position=Math.max(0,si),le._processOnPosition(),!le.isHTML5&&k>8&&(gn.usePeakData&&bi!==o&&bi&&(le.peakData={left:bi.leftPeak,right:bi.rightPeak}),gn.useWaveformData&&fi!==o&&fi&&(le.waveformData={left:fi.split(","),right:er.split(",")}),gn.useEQData&&rr!==o&&rr&&rr.leftEQ&&(Sn=rr.leftEQ.split(","),le.eqData=Sn,le.eqData.left=Sn,rr.rightEQ!==o&&rr.rightEQ&&(le.eqData.right=rr.rightEQ.split(",")))),le.playState===1&&(le.isHTML5||k!==8||le.position||!le.isBuffering||le._onbufferchange(0),gn.whileplaying&&gn.whileplaying.apply(le)),!0)},this._oncaptiondata=function(si){I._wD(le.id+": Caption data received."),le.captiondata=si,le._iO.oncaptiondata&&le._iO.oncaptiondata.apply(le,[si])},this._onmetadata=function(si,bi){I._wD(le.id+": Metadata received.");var fi,er,rr={};for(fi=0,er=si.length;fi<er;fi++)rr[si[fi]]=bi[fi];le.metadata=rr,le._iO.onmetadata&&le._iO.onmetadata.call(le,le.metadata)},this._onid3=function(si,bi){I._wD(le.id+": ID3 data received.");var fi,er,rr=[];for(fi=0,er=si.length;fi<er;fi++)rr[si[fi]]=bi[fi];le.id3=O(le.id3,rr),le._iO.onid3&&le._iO.onid3.apply(le)},this._onconnect=function(si){si=si===1,I._wD(le.id+": "+(si?"Connected.":"Failed to connect? - "+le.url),si?1:2),le.connected=si,si&&(le.failures=0,it(le.id)&&(le.getAutoPlay()?le.play(o,le.getAutoPlay()):le._iO.autoLoad&&le.load()),le._iO.onconnect&&le._iO.onconnect.apply(le,[si]))},this._ondataerror=function(si){le.playState>0&&(I._wD(le.id+": Data error: "+si),le._iO.ondataerror&&le._iO.ondataerror.apply(le))},this._debug()},W=function(){return Ie.body||Ie.getElementsByTagName("div")[0]},m=function(B){return Ie.getElementById(B)},O=function(B,ye){var _e,Tt,Ft=B||{};for(Tt in _e=ye===o?I.defaultOptions:ye)_e.hasOwnProperty(Tt)&&Ft[Tt]===o&&(typeof _e[Tt]!="object"||_e[Tt]===null?Ft[Tt]=_e[Tt]:Ft[Tt]=O(Ft[Tt],_e[Tt]));return Ft},St=function(B,ye){B.isHTML5||k!==8?ye():l.setTimeout(ye,0)},h={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},a=function(B,ye){var _e,Tt=!0,Ft=ye!==o,pi=I.setupOptions,di=h;if(B===o){for(_e in Tt=[],pi)pi.hasOwnProperty(_e)&&Tt.push(_e);for(_e in di)di.hasOwnProperty(_e)&&(typeof I[_e]=="object"?Tt.push(_e+": {...}"):I[_e]instanceof Function?Tt.push(_e+": function() {...}"):Tt.push(_e));return I._wD(ht("setup",Tt.join(", "))),!1}for(_e in B)if(B.hasOwnProperty(_e))if(typeof B[_e]!="object"||B[_e]===null||B[_e]instanceof Array||B[_e]instanceof RegExp)Ft&&di[ye]!==o?I[ye][_e]=B[_e]:pi[_e]!==o?(I.setupOptions[_e]=B[_e],I[_e]=B[_e]):di[_e]===o?(Ge(ht(I[_e]===o?"setupUndef":"setupError",_e),2),Tt=!1):I[_e]instanceof Function?I[_e].apply(I,B[_e]instanceof Array?B[_e]:[B[_e]]):I[_e]=B[_e];else{if(di[_e]!==o)return a(B[_e],_e);Ge(ht(I[_e]===o?"setupUndef":"setupError",_e),2),Tt=!1}return Tt},mt=function(){var B=l.attachEvent,ye={add:B?"attachEvent":"addEventListener",remove:B?"detachEvent":"removeEventListener"};function _e(Ft){var pi=Kt.call(Ft),di=pi.length;return B?(pi[1]="on"+pi[1],di>3&&pi.pop()):di===3&&pi.push(!1),pi}function Tt(Ft,pi){var di=Ft.shift(),zi=[ye[pi]];B?di[zi](Ft[0],Ft[1]):di[zi].apply(di,Ft)}return{add:function(){Tt(_e(arguments),"add")},remove:function(){Tt(_e(arguments),"remove")}}}(),Lt={abort:ce(function(){I._wD(this._s.id+": abort")}),canplay:ce(function(){var B,ye=this._s;if(!ye._html5_canplay){if(ye._html5_canplay=!0,I._wD(ye.id+": canplay"),ye._onbufferchange(0),B=ye._iO.position===o||isNaN(ye._iO.position)?null:ye._iO.position/Si,this.currentTime!==B){I._wD(ye.id+": canplay: Setting position to "+B);try{this.currentTime=B}catch(_e){I._wD(ye.id+": canplay: Setting position of "+B+" failed: "+_e.message,2)}}ye._iO._oncanplay&&ye._iO._oncanplay()}}),canplaythrough:ce(function(){var B=this._s;B.loaded||(B._onbufferchange(0),B._whileloading(B.bytesLoaded,B.bytesTotal,B._get_html5_duration()),B._onload(!0))}),durationchange:ce(function(){var B,ye=this._s;B=ye._get_html5_duration(),isNaN(B)||B===ye.duration||(I._wD(this._s.id+": durationchange ("+B+")"+(ye.duration?", previously "+ye.duration:"")),ye.durationEstimate=ye.duration=B)}),ended:ce(function(){var B=this._s;I._wD(B.id+": ended"),B._onfinish()}),error:ce(function(){var B=Ee[this.error.code]||null;I._wD(this._s.id+": HTML5 error, code "+this.error.code+(B?" ("+B+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,B)}),loadeddata:ce(function(){var B=this._s;I._wD(B.id+": loadeddata"),B._loaded||Fi||(B.duration=B._get_html5_duration())}),loadedmetadata:ce(function(){I._wD(this._s.id+": loadedmetadata")}),loadstart:ce(function(){I._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ce(function(){this._s._onbufferchange(0)}),playing:ce(function(){I._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:ce(function(B){var ye,_e,Tt,Ft=this._s,pi=0,di=B.type==="progress",zi=B.target.buffered,dr=B.loaded||0,ir=B.total||1;if(Ft.buffered=[],zi&&zi.length){for(ye=0,_e=zi.length;ye<_e;ye++)Ft.buffered.push({start:zi.start(ye)*Si,end:zi.end(ye)*Si});if(pi=(zi.end(0)-zi.start(0))*Si,dr=Math.min(1,pi/(B.target.duration*Si)),di&&zi.length>1){for(Tt=[],_e=zi.length,ye=0;ye<_e;ye++)Tt.push(B.target.buffered.start(ye)*Si+"-"+B.target.buffered.end(ye)*Si);I._wD(this._s.id+": progress, timeRanges: "+Tt.join(", "))}di&&!isNaN(dr)&&I._wD(this._s.id+": progress, "+Math.floor(100*dr)+"% loaded")}isNaN(dr)||(Ft._whileloading(dr,ir,Ft._get_html5_duration()),dr&&ir&&dr===ir&&Lt.canplaythrough.call(this,B))}),ratechange:ce(function(){I._wD(this._s.id+": ratechange")}),suspend:ce(function(B){var ye=this._s;I._wD(this._s.id+": suspend"),Lt.progress.call(this,B),ye._onsuspend()}),stalled:ce(function(){I._wD(this._s.id+": stalled")}),timeupdate:ce(function(){this._s._onTimer()}),waiting:ce(function(){var B=this._s;I._wD(this._s.id+": waiting"),B._onbufferchange(1)})},$e=function(B){return!(!B||!(B.type||B.url||B.serverURL))&&!(B.serverURL||B.type&&ve(B.type))&&(B.type?st({type:B.type}):st({url:B.url})||I.html5Only||B.url.match(/data:/i))},nt=function(B){var ye;return B&&(ye=Fi?Zr:I.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Zr,B.src=ye,B._called_unload!==o&&(B._called_load=!1)),Jt&&(Mt=null),ye},st=function(B){if(!I.useHTML5Audio||!I.hasHTML5)return!1;var ye,_e,Tt,Ft,pi=B.url||null,di=B.type||null,zi=I.audioFormats;if(di&&I.html5[di]!==o)return I.html5[di]&&!ve(di);if(!Qe){for(Ft in Qe=[],zi)zi.hasOwnProperty(Ft)&&(Qe.push(Ft),zi[Ft].related&&(Qe=Qe.concat(zi[Ft].related)));Qe=new RegExp("\\.("+Qe.join("|")+")(\\?.*)?$","i")}return(Tt=pi?pi.toLowerCase().match(Qe):null)&&Tt.length?Tt=Tt[1]:di?Tt=((_e=di.indexOf(";"))!==-1?di.substr(0,_e):di).substr(6):ye=!1,Tt&&I.html5[Tt]!==o?ye=I.html5[Tt]&&!ve(Tt):(di="audio/"+Tt,ye=I.html5.canPlayType({type:di}),I.html5[Tt]=ye,ye=ye&&I.html5[di]&&!ve(di)),ye},ut=function(){if(!I.useHTML5Audio||!I.hasHTML5)return I.html5.usingFlash=!0,At=!0,!1;var B,ye,_e,Tt,Ft=Audio!==o?fr&&opera.version()<10?new Audio(null):new Audio:null,pi={};function di(zi){var dr,ir,Ur=!1,le=!1;if(!Ft||typeof Ft.canPlayType!="function")return Ur;if(zi instanceof Array){for(Tt=0,ir=zi.length;Tt<ir;Tt++)(I.html5[zi[Tt]]||Ft.canPlayType(zi[Tt]).match(I.html5Test))&&(le=!0,I.html5[zi[Tt]]=!0,I.flash[zi[Tt]]=!!zi[Tt].match(Pr));Ur=le}else Ur=!(!(dr=!(!Ft||typeof Ft.canPlayType!="function")&&Ft.canPlayType(zi))||!dr.match(I.html5Test));return Ur}for(B in _e=I.audioFormats)if(_e.hasOwnProperty(B)&&(ye="audio/"+B,pi[B]=di(_e[B].type),pi[ye]=pi[B],B.match(Pr)?(I.flash[B]=!0,I.flash[ye]=!0):(I.flash[B]=!1,I.flash[ye]=!1),_e[B]&&_e[B].related))for(Tt=_e[B].related.length-1;Tt>=0;Tt--)pi["audio/"+_e[B].related[Tt]]=pi[B],I.html5[_e[B].related[Tt]]=pi[B],I.flash[_e[B].related[Tt]]=pi[B];return pi.canPlayType=Ft?di:null,I.html5=O(I.html5,pi),I.html5.usingFlash=be(),At=I.html5.usingFlash,!0},ne={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:Ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:Ze+"Verify that %s is a valid path.",tryDebug:"Try "+Ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:Ze+"Non-HTTP page ("+Ie.location.protocol+` URL?) Review Flash player security settings for this special case:
http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html
May need to add/allow path, eg. c:/sm2/ or /users/me/sm2/`,waitFocus:Ze+"Special case: Waiting for SWF to load with window focus...",waitForever:Ze+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:Ze+"Waiting for 100% SWF load...",needFunction:Ze+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:Ze+"_debug(): Current sound objects",waitOnload:Ze+"Waiting for window.onload()",docLoaded:Ze+"Document already loaded",onload:Ze+"initComplete(): calling soundManager.onload()",onloadOK:Ye+".onload() complete",didInit:Ze+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:Ze+"Failed to remove Flash node.",shutdown:Ye+".disable(): Shutting down",queue:Ze+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Se.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:Ze+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:Ye+".load(): current URL already assigned.",badFV:Ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:Ze+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:Ze+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:Ye+".setup(): allowed parameters: %s",setupError:Ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:Ye+'.setup(): Could not find option "%s"',setupLate:Ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:Ze+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:Ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},ht=function(){var B,ye,_e,Tt,Ft;if(Tt=(B=Kt.call(arguments)).shift(),(Ft=ne&&ne[Tt]?ne[Tt]:"")&&B&&B.length)for(ye=0,_e=B.length;ye<_e;ye++)Ft=Ft.replace("%s",B[ye]);return Ft},je=function(B){return k===8&&B.loops>1&&B.stream&&(P("as2loop"),B.stream=!1),B},Ne=function(B,ye){return B&&!B.usePolicyFile&&(B.onid3||B.usePeakData||B.useWaveformData||B.useEQData)&&(I._wD((ye||"")+ht("policy")),B.usePolicyFile=!0),B},Ge=function(B){Er&&console.warn!==o?console.warn(B):I._wD(B)},y=function(){return!1},Y=function(B){var ye;for(ye in B)B.hasOwnProperty(ye)&&typeof B[ye]=="function"&&(B[ye]=y);ye=null},he=function(B){B===o&&(B=!1),(Xt||B)&&I.disable(B)},Ke=function(B){var ye;if(B)if(B.match(/\.swf(\?.*)?$/i)){if(B.substr(B.toLowerCase().lastIndexOf(".swf?")+4))return B}else B.lastIndexOf("/")!==B.length-1&&(B+="/");return ye=(B&&B.lastIndexOf("/")!==-1?B.substr(0,B.lastIndexOf("/")+1):"./")+I.movieURL,I.noSWFCache&&(ye+="?ts="+new Date().getTime()),ye},q=function(){(k=parseInt(I.flashVersion,10))!==8&&k!==9&&(I._wD(ht("badFV",k,8)),I.flashVersion=k=8);var B=I.debugMode||I.debugFlash?"_debug.swf":".swf";I.useHTML5Audio&&!I.html5Only&&I.audioFormats.mp4.required&&k<9&&(I._wD(ht("needfl9")),I.flashVersion=k=9),I.version=I.versionNumber+(I.html5Only?" (HTML5-only mode)":k===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),k>8?(I.defaultOptions=O(I.defaultOptions,I.flash9Options),I.features.buffering=!0,I.defaultOptions=O(I.defaultOptions,I.movieStarOptions),I.filePatterns.flash9=new RegExp("\\.(mp3|"+Yr.join("|")+")(\\?.*)?$","i"),I.features.movieStar=!0):I.features.movieStar=!1,I.filePattern=I.filePatterns[k!==8?"flash9":"flash8"],I.movieURL=(k===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",B),I.features.peakData=I.features.waveformData=I.features.eqData=k>8},Z=function(B,ye){ke&&ke._setPolling(B,ye)},xe=function(){if(I.debugURLParam.test(ae)&&(I.setupOptions.debugMode=I.debugMode=!0),!m(I.debugID)){var B,ye,_e,Tt,Ft;if(I.debugMode&&!m(I.debugID)&&(!Er||!I.useConsole||!I.consoleOnly)){for(Ft in(B=Ie.createElement("div")).id=I.debugID+"-toggle",Tt={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},B.appendChild(Ie.createTextNode("-")),B.onclick=Le,B.title="Toggle SM2 debug console",dt.match(/msie 6/i)&&(B.style.position="absolute",B.style.cursor="hand"),Tt)Tt.hasOwnProperty(Ft)&&(B.style[Ft]=Tt[Ft]);if((ye=Ie.createElement("div")).id=I.debugID,ye.style.display=I.debugMode?"block":"none",I.debugMode&&!m(B.id)){try{(_e=W()).appendChild(B)}catch(pi){throw new Error(ht("domError")+` 
`+pi.toString())}_e.appendChild(ye)}}_e=null}},it=this.getSoundById,P=function(B,ye){return B?I._wD(ht(B),ye):""},Le=function(){var B=m(I.debugID),ye=m(I.debugID+"-toggle");B&&(gt?(ye.innerHTML="+",B.style.display="none"):(ye.innerHTML="-",B.style.display="block"),gt=!gt)},S=function(B,ye,_e){if(l.sm2Debugger!==o)try{sm2Debugger.handleEvent(B,ye,_e)}catch(Tt){return!1}return!0},We=function(){var B=[];return I.debugMode&&B.push(Se.sm2Debug),I.debugFlash&&B.push(Se.flashDebug),I.useHighPerformance&&B.push(Se.highPerf),B.join(" ")},lt=function(){var B=ht("fbHandler"),ye=I.getMoviePercent(),_e=Se,Tt={type:"FLASHBLOCK"};I.html5Only||(I.ok()?(I.didFlashBlock&&I._wD(B+": Unblocked"),I.oMC&&(I.oMC.className=[We(),_e.swfDefault,_e.swfLoaded+(I.didFlashBlock?" "+_e.swfUnblocked:"")].join(" "))):(At&&(I.oMC.className=We()+" "+_e.swfDefault+" "+(ye===null?_e.swfTimedout:_e.swfError),I._wD(B+": "+ht("fbTimeout")+(ye?" ("+ht("fbLoaded")+")":""))),I.didFlashBlock=!0,d({type:"ontimeout",ignoreInit:!0,error:Tt}),fe(Tt)))},v=function(B,ye,_e){Ue[B]===o&&(Ue[B]=[]),Ue[B].push({method:ye,scope:_e||null,fired:!1})},d=function(B){if(B||(B={type:I.ok()?"onready":"ontimeout"}),!zt&&B&&!B.ignoreInit||B.type==="ontimeout"&&(I.ok()||Xt&&!B.ignoreInit))return!1;var ye,_e,Tt={success:B&&B.ignoreInit?I.ok():!Xt},Ft=B&&B.type&&Ue[B.type]||[],pi=[],di=[Tt],zi=At&&!I.ok();for(B.error&&(di[0].error=B.error),ye=0,_e=Ft.length;ye<_e;ye++)Ft[ye].fired!==!0&&pi.push(Ft[ye]);if(pi.length)for(ye=0,_e=pi.length;ye<_e;ye++)pi[ye].scope?pi[ye].method.apply(pi[ye].scope,di):pi[ye].method.apply(this,di),zi||(pi[ye].fired=!0);return!0},_=function(){l.setTimeout(function(){I.useFlashBlock&&lt(),d(),typeof I.onload=="function"&&(P("onload",1),I.onload.apply(l),P("onloadOK",1)),I.waitForWindowLoad&&mt.add(l,"load",_)},1)},oi=function(){if(ti!==o)return ti;var B,ye,_e,Tt,Ft=!1,pi=navigator,di=l.ActiveXObject;try{Tt=pi.plugins}catch(zi){Tt=void 0}if(Tt&&Tt.length)ye="application/x-shockwave-flash",(_e=pi.mimeTypes)&&_e[ye]&&_e[ye].enabledPlugin&&_e[ye].enabledPlugin.description&&(Ft=!0);else if(di!==o&&!dt.match(/MSAppHost/i)){try{B=new di("ShockwaveFlash.ShockwaveFlash")}catch(zi){B=null}Ft=!!B,B=null}return ti=Ft,Ft},be=function(){var B,ye,_e=I.audioFormats;if(Mi&&dt.match(/os (1|2|3_0|3_1)\s/i)?(I.hasHTML5=!1,I.html5Only=!0,I.oMC&&(I.oMC.style.display="none")):I.useHTML5Audio&&(I.html5&&I.html5.canPlayType||(I._wD("SoundManager: No HTML5 Audio() support detected."),I.hasHTML5=!1),lr&&I._wD(Ze+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ti?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),I.useHTML5Audio&&I.hasHTML5)for(ye in _t=!0,_e)_e.hasOwnProperty(ye)&&_e[ye].required&&(I.html5.canPlayType(_e[ye].type)?I.preferFlash&&(I.flash[ye]||I.flash[_e[ye].type])&&(B=!0):(_t=!1,B=!0));return I.ignoreFlash&&(B=!1,_t=!0),I.html5Only=I.hasHTML5&&I.useHTML5Audio&&!B,!I.html5Only},qe=function(B){var ye,_e,Tt,Ft=0;if(B instanceof Array){for(ye=0,_e=B.length;ye<_e;ye++)if(B[ye]instanceof Object){if(I.canPlayMIME(B[ye].type)){Ft=ye;break}}else if(I.canPlayURL(B[ye])){Ft=ye;break}B[Ft].url&&(B[Ft]=B[Ft].url),Tt=B[Ft]}else Tt=B;return Tt},Re=function(B){B._hasTimer||(B._hasTimer=!0,!Zi&&I.html5PollingInterval&&(Je===null&&Nt===0&&(Je=setInterval(J,I.html5PollingInterval)),Nt++))},te=function(B){B._hasTimer&&(B._hasTimer=!1,!Zi&&I.html5PollingInterval&&Nt--)},J=function(){var B;if(Je!==null&&!Nt)return clearInterval(Je),void(Je=null);for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].isHTML5&&I.sounds[I.soundIDs[B]]._hasTimer&&I.sounds[I.soundIDs[B]]._onTimer()},fe=function(B){B=B!==o?B:{},typeof I.onerror=="function"&&I.onerror.apply(l,[{type:B.type!==o?B.type:null}]),B.fatal!==o&&B.fatal&&I.disable()},ci=function(){if(lr&&oi()){var B,ye,_e=I.audioFormats;for(ye in _e)if(_e.hasOwnProperty(ye)&&(ye==="mp3"||ye==="mp4")&&(I._wD(Ye+": Using flash fallback for "+ye+" format"),I.html5[ye]=!1,_e[ye]&&_e[ye].related))for(B=_e[ye].related.length-1;B>=0;B--)I.html5[_e[ye].related[B]]=!1}},this._setSandboxType=function(B){var ye=I.sandbox;ye.type=B,ye.description=ye.types[ye.types[B]!==o?B:"unknown"],ye.type==="localWithFile"?(ye.noRemote=!0,ye.noLocal=!1,P("secNote",2)):ye.type==="localWithNetwork"?(ye.noRemote=!1,ye.noLocal=!0):ye.type==="localTrusted"&&(ye.noRemote=!1,ye.noLocal=!1)},this._externalInterfaceOK=function(B){if(!I.swfLoaded){var ye;if(S("swf",!0),S("flashtojs",!0),I.swfLoaded=!0,vr=!1,lr&&ci(),!B||B.replace(/\+dev/i,"")!==I.versionNumber.replace(/\+dev/i,""))return ye=Ye+': Fatal: JavaScript file build "'+I.versionNumber+'" does not match Flash SWF build "'+B+'" at '+I.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(ye)},0);setTimeout(w,wi?100:1)}},oe=function(B,ye){if(ct&&Et)return!1;function _e(){var fi,er=[],rr=[];fi="SoundManager "+I.version+(!I.html5Only&&I.useHTML5Audio?I.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),I.html5Only?I.html5PollingInterval&&er.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"):(I.preferFlash&&er.push("preferFlash"),I.useHighPerformance&&er.push("useHighPerformance"),I.flashPollingInterval&&er.push("flashPollingInterval ("+I.flashPollingInterval+"ms)"),I.html5PollingInterval&&er.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"),I.wmode&&er.push("wmode ("+I.wmode+")"),I.debugFlash&&er.push("debugFlash"),I.useFlashBlock&&er.push("flashBlock")),er.length&&(rr=rr.concat([er.join(" + ")])),I._wD(fi+(rr.length?" + "+rr.join(", "):""),1),It()}if(I.html5Only)return q(),_e(),I.oMC=m(I.movieID),w(),ct=!0,Et=!0,!1;var Tt,Ft,pi,di,zi,dr,ir,Ur,le,On=ye||I.url,yn=I.altURL||On,An=W(),bn=We(),si=Ie.getElementsByTagName("html")[0];function bi(fi,er){return'<param name="'+fi+'" value="'+er+'" />'}if(Tt=si&&si.dir&&si.dir.match(/rtl/i),B=B===o?I.id:B,q(),I.url=Ke(sn?On:yn),ye=I.url,I.wmode=!I.wmode&&I.useHighPerformance?"transparent":I.wmode,I.wmode!==null&&(dt.match(/msie 8/i)||!wi&&!I.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(wt.push(ne.spcWmode),I.wmode=null),Ft={name:B,id:B,src:ye,quality:"high",allowScriptAccess:I.allowScriptAccess,bgcolor:I.bgColor,pluginspage:$r+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:I.wmode,hasPriority:"true"},I.debugFlash&&(Ft.FlashVars="debug=1"),I.wmode||delete Ft.wmode,wi)pi=Ie.createElement("div"),zi=['<object id="'+B+'" data="'+ye+'" type="'+Ft.type+'" title="'+Ft.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',bi("movie",ye),bi("AllowScriptAccess",I.allowScriptAccess),bi("quality",Ft.quality),I.wmode?bi("wmode",I.wmode):"",bi("bgcolor",I.bgColor),bi("hasPriority","true"),I.debugFlash?bi("FlashVars",Ft.FlashVars):"","</object>"].join("");else for(di in pi=Ie.createElement("embed"),Ft)Ft.hasOwnProperty(di)&&pi.setAttribute(di,Ft[di]);if(xe(),bn=We(),An=W())if(I.oMC=m(I.movieID)||Ie.createElement("div"),I.oMC.id)le=I.oMC.className,I.oMC.className=(le?le+" ":Se.swfDefault)+(bn?" "+bn:""),I.oMC.appendChild(pi),wi&&((dr=I.oMC.appendChild(Ie.createElement("div"))).className=Se.swfBox,dr.innerHTML=zi),Et=!0;else{if(I.oMC.id=I.movieID,I.oMC.className=Se.swfDefault+" "+bn,ir=null,dr=null,I.useFlashBlock||(I.useHighPerformance?ir={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(ir={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},Tt&&(ir.left=Math.abs(parseInt(ir.left,10))+"px"))),Ti&&(I.oMC.style.zIndex=1e4),!I.debugFlash)for(Ur in ir)ir.hasOwnProperty(Ur)&&(I.oMC.style[Ur]=ir[Ur]);try{wi||I.oMC.appendChild(pi),An.appendChild(I.oMC),wi&&((dr=I.oMC.appendChild(Ie.createElement("div"))).className=Se.swfBox,dr.innerHTML=zi),Et=!0}catch(fi){throw new Error(ht("domError")+` 
`+fi.toString())}}return ct=!0,_e(),!0},Q=function(){return I.html5Only?(oe(),!1):!ke&&(I.url?((ke=I.getMovie(I.id))||(De?(wi?I.oMC.innerHTML=Fe:I.oMC.appendChild(De),De=null,ct=!0):oe(I.id,I.url),ke=I.getMovie(I.id)),typeof I.oninitmovie=="function"&&setTimeout(I.oninitmovie,1),Ct(),!0):(P("noURL"),!1))},C=function(){setTimeout(N,1e3)},G=function(){l.setTimeout(function(){Ge(Ze+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),I.setup({preferFlash:!1}).reboot(),I.didFlashBlock=!0,I.beginDelayedInit()},1)},N=function(){var B,ye=!1;I.url&&(et||(et=!0,mt.remove(l,"load",C),ti&&vr&&!or?P("waitFocus"):(zt||(B=I.getMoviePercent())>0&&B<100&&(ye=!0),setTimeout(function(){if(B=I.getMoviePercent(),ye)return et=!1,I._wD(ht("waitSWF")),void l.setTimeout(C,1);zt||(I._wD(Ye+": No Flash response within expected time. Likely causes: "+(B===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(I.debugFlash?" "+ht("checkSWF"):""),2),!sn&&B&&(P("localFail",2),I.debugFlash||P("tryDebug",2)),B===0&&I._wD(ht("swf404",I.url),1),S("flashtojs",!1,": Timed out"+(sn?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!zt&&_r&&(B===null?I.useFlashBlock||I.flashLoadTimeout===0?(I.useFlashBlock&&lt(),P("waitForever")):!I.useFlashBlock&&_t?G():(P("waitForever"),d({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):I.flashLoadTimeout===0?P("waitForever"):!I.useFlashBlock&&_t?G():he(!0))},I.flashLoadTimeout))))},K=function(){function B(){mt.remove(l,"focus",K)}return or||!vr?(B(),!0):(_r=!0,or=!0,P("gotFocus"),et=!1,C(),B(),!0)},Ct=function(){wt.length&&(I._wD("SoundManager 2: "+wt.join(" "),1),wt=[])},It=function(){Ct();var B,ye=[];if(I.useHTML5Audio&&I.hasHTML5){for(B in I.audioFormats)I.audioFormats.hasOwnProperty(B)&&ye.push(B+" = "+I.html5[B]+(!I.html5[B]&&At&&I.flash[B]?" (using flash)":I.preferFlash&&I.flash[B]&&At?" (preferring flash)":I.html5[B]?"":" ("+(I.audioFormats[B].required?"required, ":"")+"and no flash support)"));I._wD("SoundManager 2 HTML5 support: "+ye.join(", "),1)}},E=function(B){if(zt)return!1;if(I.html5Only)return P("sm2Loaded",1),zt=!0,_(),S("onload",!0),!0;var ye,_e=!0;return I.useFlashBlock&&I.flashLoadTimeout&&!I.getMoviePercent()||(zt=!0),ye={type:!ti&&At?"NO_FLASH":"INIT_TIMEOUT"},I._wD("SoundManager 2 "+(Xt?"failed to load":"loaded")+" ("+(Xt?"Flash security/load error":"OK")+") "+String.fromCharCode(Xt?10006:10003),Xt?2:1),Xt||B?(I.useFlashBlock&&I.oMC&&(I.oMC.className=We()+" "+(I.getMoviePercent()===null?Se.swfTimedout:Se.swfError)),d({type:"ontimeout",error:ye,ignoreInit:!0}),S("onload",!1),fe(ye),_e=!1):S("onload",!0),Xt||(I.waitForWindowLoad&&!Ot?(P("waitOnload"),mt.add(l,"load",_)):(I.waitForWindowLoad&&Ot&&P("docLoaded"),_())),_e},x=function(){var B,ye=I.setupOptions;for(B in ye)ye.hasOwnProperty(B)&&(I[B]===o?I[B]=ye[B]:I[B]!==ye[B]&&(I.setupOptions[B]=I[B]))},w=function(){if(zt)return P("didInit"),!1;function B(){mt.remove(l,"load",I.beginDelayedInit)}if(I.html5Only)return zt||(B(),I.enabled=!0,E()),!0;Q();try{ke._externalInterfaceTest(!1),Z(!0,I.flashPollingInterval||(I.useHighPerformance?10:50)),I.debugMode||ke._disableDebug(),I.enabled=!0,S("jstoflash",!0),I.html5Only||mt.add(l,"unload",y)}catch(ye){return I._wD("js/flash exception: "+ye.toString()),S("jstoflash",!1),fe({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),he(!0),E(),!1}return E(),B(),!0},ee=function(){return!pe&&(pe=!0,x(),xe(),!ti&&I.hasHTML5&&(I._wD("SoundManager 2: No Flash detected"+(I.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),I.setup({useHTML5Audio:!0,preferFlash:!1})),ut(),!ti&&At&&(wt.push(ne.needFlash),I.setup({flashLoadTimeout:1})),Ie.removeEventListener&&Ie.removeEventListener("DOMContentLoaded",ee,!1),Q(),!0)},Ut=function(){return Ie.readyState==="complete"&&(ee(),Ie.detachEvent("onreadystatechange",Ut)),!0},Me=function(){Ot=!0,ee(),mt.remove(l,"load",Me)},oi(),mt.add(l,"focus",K),mt.add(l,"load",C),mt.add(l,"load",Me),Ie.addEventListener?Ie.addEventListener("DOMContentLoaded",ee,!1):Ie.attachEvent?Ie.attachEvent("onreadystatechange",Ut):(S("onload",!1),fe({type:"NO_DOM2_EVENTS",fatal:!0}))}l.SM2_DEFER!==o&&SM2_DEFER||(c=new n),e&&typeof e.exports=="object"?(e.exports.SoundManager=n,e.exports.soundManager=c):(s=function(){return{constructor:n,getInstance:function(u){if(!l.soundManager&&u instanceof Function){var p=u(n);p instanceof n&&(l.soundManager=p)}return l.soundManager}}}.call(t,r,t,e))===void 0||(e.exports=s),l.SoundManager=n,l.soundManager=c}(window)},706:function(e,t,r){"use strict";var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){"use strict";var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){"use strict";function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},1966:function(e,t,r){"use strict";r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(2008),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(479),r(8130),r(9085),r(5506),r(3851),r(1278),r(875),r(9432),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(1761),r(1392),r(3500),r(2953),r(5440);var s=r(9073),l=r(1669);function o(Xe){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},o(Xe)}function c(Xe,De){return function(Fe){if(Array.isArray(Fe))return Fe}(Xe)||function(Fe,et){var Pt=Fe==null?null:typeof Symbol<"u"&&Fe[Symbol.iterator]||Fe["@@iterator"];if(Pt!=null){var Nt,Je,wt,At,Kt=[],Jt=!0,Ai=!1;try{if(wt=(Pt=Pt.call(Fe)).next,et===0){if(Object(Pt)!==Pt)return;Jt=!1}else for(;!(Jt=(Nt=wt.call(Pt)).done)&&(Kt.push(Nt.value),Kt.length!==et);Jt=!0);}catch(Si){Ai=!0,Je=Si}finally{try{if(!Jt&&Pt.return!=null&&(At=Pt.return(),Object(At)!==At))return}finally{if(Ai)throw Je}}return Kt}}(Xe,De)||function(Fe,et){if(Fe){if(typeof Fe=="string")return n(Fe,et);var Pt={}.toString.call(Fe).slice(8,-1);return Pt==="Object"&&Fe.constructor&&(Pt=Fe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Fe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?n(Fe,et):void 0}}(Xe,De)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(Xe,De){(De==null||De>Xe.length)&&(De=Xe.length);for(var Fe=0,et=Array(De);Fe<De;Fe++)et[Fe]=Xe[Fe];return et}function u(){u=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&o(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(o(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function p(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function g(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,m(et.key),et)}}function m(Xe){var De=function(Fe,et){if(o(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(o(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return o(De)=="symbol"?De:De+""}var y=function(){function Xe(Nt,Je,wt,At){(function(Kt,Jt){if(!(Kt instanceof Jt))throw new TypeError("Cannot call a class as a function")})(this,Xe),this.leafIndex=Nt,this.chunkIndex=Je,this.text=wt,this.lineRects=At}return De=Xe,Fe=[{key:"fetch",value:(et=u().mark(function Nt(Je,wt){var At;return u().wrap(function(Kt){for(;;)switch(Kt.prev=Kt.next){case 0:return Kt.next=2,l.ajax({type:"GET",url:(0,s.g)(Je,{pageIndex:wt}),cache:!0,xhrFields:{withCredentials:window.br.protected}});case 2:return At=Kt.sent,Kt.abrupt("return",Xe._fromTextWrapperResponse(wt,At));case 4:case"end":return Kt.stop()}},Nt)}),Pt=function(){var Nt=this,Je=arguments;return new Promise(function(wt,At){var Kt=et.apply(Nt,Je);function Jt(Si){p(Kt,wt,At,Jt,Ai,"next",Si)}function Ai(Si){p(Kt,wt,At,Jt,Ai,"throw",Si)}Jt(void 0)})},function(Nt,Je){return Pt.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(Nt,Je){return Je.map(function(wt,At){var Kt=Xe._fixChunkRects(wt.slice(1)),Jt=Xe._removeDanglingHyphens(wt[0]);return new Xe(Nt,At,Jt,Kt)})}},{key:"_fixChunkRects",value:function(Nt){if(Nt.length<2)return Nt;var Je=c(Nt,2),wt=Je[0],At=Je[1],Kt=c(wt,3),Jt=Kt[0],Ai=Kt[1],Si=Kt[2]-Jt,Mi=At[1]-At[3],Gt=At[2]-At[0],wi=At[2];return Si>30*Gt&&(wt[2]=wi,wt[3]=Ai-Mi),Nt}},{key:"_removeDanglingHyphens",value:function(Nt){return Nt.replace(/[-]\s+/g,"")}}],Fe&&g(De,Fe),Object.defineProperty(De,"prototype",{writable:!1}),De;var De,Fe,et,Pt}();function x(Xe){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},x(Xe)}function w(){w=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&x(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(x(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function k(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function S(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,P(et.key),et)}}function P(Xe){var De=function(Fe,et){if(x(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(x(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return x(De)=="symbol"?De:De+""}var E=function(){function Xe(Nt,Je,wt){(function(At,Kt){if(!(At instanceof Kt))throw new TypeError("Cannot call a class as a function")})(this,Xe),this.pageCount=Nt,this.opts=Object.assign({},O,wt),this._cursor={page:Je,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return De=Xe,Fe=[{key:"next",value:function(){var Nt=this;return this._cursorLock=this._cursorLock.then(function(){return Nt._nextUncontrolled()})}},{key:"decrement",value:function(){var Nt=this;return this._cursorLock=this._cursorLock.then(function(){return Nt._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(et=w().mark(function Nt(){var Je;return w().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(this._cursor.page!=this.pageCount){wt.next=2;break}return wt.abrupt("return",Promise.resolve(Xe.AT_END));case 2:return this._recenterBuffer(this._cursor.page),wt.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(Je=wt.sent,this._cursor.chunk!=Je.length){wt.next=10;break}return this._cursor.page++,this._cursor.chunk=0,wt.abrupt("return",this._nextUncontrolled());case 10:return wt.abrupt("return",Je[this._cursor.chunk++]);case 11:case"end":return wt.stop()}},Nt,this)}),Pt=function(){var Nt=this,Je=arguments;return new Promise(function(wt,At){var Kt=et.apply(Nt,Je);function Jt(Si){k(Kt,wt,At,Jt,Ai,"next",Si)}function Ai(Si){k(Kt,wt,At,Jt,Ai,"throw",Si)}Jt(void 0)})},function(){return Pt.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var Nt=this,Je=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,Je=this._fetchPageChunks(this._cursor.page).then(function(wt){if(wt.length==0)return Nt._decrementUncontrolled();Nt._cursor.chunk=wt.length-1})),Je.then(function(){return Nt._fetchPageChunks(Nt._cursor.page)})}},{key:"_recenterBuffer",value:function(Nt){for(var Je=Math.max(0,Nt-this.opts.pageBufferSize),wt=Math.min(this.pageCount,Nt+this.opts.pageBufferSize+1),At=Je;At<wt;At++)this._fetchPageChunks(At);this._removePageFromBuffer(Je-1),this._removePageFromBuffer(wt+1)}},{key:"_removePageFromBuffer",value:function(Nt){delete this._bufferingPages[Nt],delete this._bufferedPages[Nt]}},{key:"_fetchPageChunks",value:function(Nt){var Je=this;return Nt in this._bufferingPages?this._bufferingPages[Nt]:Nt in this._bufferedPages?Promise.resolve(this._bufferedPages[Nt]):(this._bufferingPages[Nt]=this._fetchPageChunksDirect(Nt).then(function(wt){return delete Je._bufferingPages[Nt],Je._bufferedPages[Nt]=wt,wt}),this._bufferingPages[Nt])}},{key:"_fetchPageChunksDirect",value:function(Nt){return y.fetch(this.opts.pageChunkUrl,Nt)}}],Fe&&S(De.prototype,Fe),Object.defineProperty(De,"prototype",{writable:!1}),De;var De,Fe,et,Pt}();E.AT_END="__PageChunkIterator.AT_END__";var O={pageChunkUrl:null,pageBufferSize:2},a=r(4031);function h(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(Xe)}var v={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4};function d(Xe,De){for(var Fe=0;Fe<a.length;Fe++)for(var et=0;et<De.length;et++){var Pt=De[et];if(a[Fe][v[Pt]].split(", ").map(function(Nt){return Nt.toLowerCase()}).indexOf(Xe)!=-1)return a[Fe][v["ISO 639-1"]]}return null}function _(){try{return!!window.localStorage}catch(Xe){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1,N=r(1669);function G(Xe){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},G(Xe)}function q(Xe,De){(De==null||De>Xe.length)&&(De=Xe.length);for(var Fe=0,et=Array(De);Fe<De;Fe++)et[Fe]=Xe[Fe];return et}function K(){K=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&G(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(G(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function ne(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function Q(Xe){return function(){var De=this,Fe=arguments;return new Promise(function(et,Pt){var Nt=Xe.apply(De,Fe);function Je(At){ne(Nt,et,Pt,Je,wt,"next",At)}function wt(At){ne(Nt,et,Pt,Je,wt,"throw",At)}Je(void 0)})}}function ee(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,Me(et.key),et)}}function Me(Xe){var De=function(Fe,et){if(G(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(G(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return G(De)=="symbol"?De:De+""}var pe=function(){function Xe(Je){var wt,At,Kt,Jt=this;(function(Ai,Si){if(!(Ai instanceof Si))throw new TypeError("Cannot call a class as a function")})(this,Xe),wt=this,Kt=function(){Jt.voice=Xe.getBestBookVoice(Jt.getVoices(),Jt.opts.bookLanguage)},(At=Me(At="updateBestVoice"))in wt?Object.defineProperty(wt,At,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):wt[At]=Kt,this.playing=!1,this.paused=!1,this.opts=Je,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=N({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return De=Xe,Fe=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(Je,wt){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new E(wt,Je,{pageChunkUrl:this.opts.pageChunkUrl,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var Je=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),Je&&this.events.trigger("pause")}},{key:"resume",value:function(){var Je=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),Je&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(Nt=Q(K().mark(function Je(){var wt=this;return K().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return wt._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return At.stop()}},Je,this)})),function(){return Nt.apply(this,arguments)})},{key:"setVoice",value:function(Je){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(wt){return wt.voiceURI===Je}),this.opts.bookLanguage&&_()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(Je){this.playbackRate=Je,this.activeSound&&this.activeSound.setPlaybackRate(Je)}},{key:"step",value:(Pt=Q(K().mark(function Je(){var wt,At,Kt,Jt=this;return K().wrap(function(Ai){for(;;)switch(Ai.prev=Ai.next){case 0:return Ai.next=2,this._chunkIterator.next();case 2:if((wt=Ai.sent)!=E.AT_END){Ai.next=7;break}return this.stop(),this.opts.onDone(),Ai.abrupt("return");case 7:return this.opts.onLoadingStart(),(At=this.createSound(wt)).chunk=wt,At.rate=this.playbackRate,At.voice=this.voice,At.load(function(){return Jt.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),Ai.next=16,this.opts.beforeChunkPlay(wt);case 16:if(this.playing){Ai.next=18;break}return Ai.abrupt("return");case 18:return Ai.next=20,this.playSound(At).then(function(){return Jt.opts.afterChunkPlay(At.chunk)});case 20:return Kt=Ai.sent,this.paused&&this.pause(),Ai.next=24,Kt;case 24:if(!this.playing){Ai.next=26;break}return Ai.abrupt("return",this.step());case 26:case"end":return Ai.stop()}},Je,this)})),function(){return Pt.apply(this,arguments)})},{key:"createSound",value:function(Je){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(Je){return this.activeSound=Je,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return Xe.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],et=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(Je,wt){var At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,Kt=Je.filter(function(Ai){return Ai.lang.startsWith(wt)}),Jt=(At=At||(navigator.language?[navigator.language]:[])).filter(function(Ai){return Ai.startsWith(wt)});return Xe.getMatchingStoredVoice(Kt,wt)||Xe.getMatchingVoice(Jt,Kt)||Kt.find(function(Ai){return Ai.default})||Kt[0]||Xe.getMatchingVoice(At,Je)||Je.find(function(Ai){return Ai.default})||Je[0]}},{key:"getMatchingStoredVoice",value:function(Je,wt){var At=_()&&localStorage.getItem("BRtts-voice-".concat(wt));return At?Je.find(function(Kt){return Kt.voiceURI===At}):void 0}},{key:"getMatchingVoice",value:function(Je,wt){var At,Kt=function(Si,Mi){var Gt=typeof Symbol<"u"&&Si[Symbol.iterator]||Si["@@iterator"];if(!Gt){if(Array.isArray(Si)||(Gt=function(lr,Er){if(lr){if(typeof lr=="string")return q(lr,Er);var or={}.toString.call(lr).slice(8,-1);return or==="Object"&&lr.constructor&&(or=lr.constructor.name),or==="Map"||or==="Set"?Array.from(lr):or==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(or)?q(lr,Er):void 0}}(Si))||Mi&&Si&&typeof Si.length=="number"){Gt&&(Si=Gt);var wi=0,Ti=function(){};return{s:Ti,n:function(){return wi>=Si.length?{done:!0}:{done:!1,value:Si[wi++]}},e:function(lr){throw lr},f:Ti}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fi,fr=!0,Zi=!1;return{s:function(){Gt=Gt.call(Si)},n:function(){var lr=Gt.next();return fr=lr.done,lr},e:function(lr){Zi=!0,Fi=lr},f:function(){try{fr||Gt.return==null||Gt.return()}finally{if(Zi)throw Fi}}}}(Je);try{var Jt,Ai=function(){var Si=At.value,Mi=wt.filter(function(Gt){return Gt.lang.replace("_","-").startsWith(Si)});if(Mi.length)return{v:Mi.find(function(Gt){return Gt.default})||Mi[0]}};for(Kt.s();!(At=Kt.n()).done;)if(Jt=Ai())return Jt.v}catch(Si){Kt.e(Si)}finally{Kt.f()}}}],Fe&&ee(De.prototype,Fe),et&&ee(De,et),Object.defineProperty(De,"prototype",{writable:!1}),De;var De,Fe,et,Pt,Nt}(),W=r(8004),oe=(r(2443),r(1792),r(1669));function fe(Xe){return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},fe(Xe)}function Z(){Z=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&fe(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(fe(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function xe(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function Y(Xe){return function(){var De=this,Fe=arguments;return new Promise(function(et,Pt){var Nt=Xe.apply(De,Fe);function Je(At){xe(Nt,et,Pt,Je,wt,"next",At)}function wt(At){xe(Nt,et,Pt,Je,wt,"throw",At)}Je(void 0)})}}function he(Xe,De){if(!(Xe instanceof De))throw new TypeError("Cannot call a class as a function")}function Ke(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,lt(et.key),et)}}function ht(Xe,De,Fe){return De&&Ke(Xe.prototype,De),Fe&&Ke(Xe,Fe),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function lt(Xe){var De=function(Fe,et){if(fe(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(fe(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return fe(De)=="symbol"?De:De+""}function We(Xe,De,Fe){return De=je(De),function(et,Pt){if(Pt&&(fe(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(et)}(Xe,Se()?Reflect.construct(De,Fe||[],je(Xe).constructor):De.apply(Xe,Fe))}function Se(){try{var Xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(De){}return(Se=function(){return!!Xe})()}function Le(){return Le=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Xe,De,Fe){var et=function(Nt,Je){for(;!{}.hasOwnProperty.call(Nt,Je)&&(Nt=je(Nt))!==null;);return Nt}(Xe,De);if(et){var Pt=Object.getOwnPropertyDescriptor(et,De);return Pt.get?Pt.get.call(arguments.length<3?Xe:Fe):Pt.value}},Le.apply(null,arguments)}function je(Xe){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(De){return De.__proto__||Object.getPrototypeOf(De)},je(Xe)}function Ne(Xe,De){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,et){return Fe.__proto__=et,Fe},Ne(Xe,De)}var Ge=function(Xe){function De(et){var Pt,Nt;return he(this,De),(Nt=We(this,De,[et])).audioFormat=(Pt=oe.browser)!==null&&Pt!==void 0&&Pt.mozilla?"ogg":"mp3",Nt.festivalUrl=et.festivalUrl,Nt}return function(et,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),Pt&&Ne(et,Pt)}(De,Xe),ht(De,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(et,Pt){var Nt=this,Je=null;navigator.userAgent.match(/mobile/i)&&(Je=this.iOSCaptureUserIntentHack()),(Je=Je||Promise.resolve()).then(function(){return(wt=De,At=Nt,typeof(Kt=Le(je(wt.prototype),"start",At))=="function"?function(Jt){return Kt.apply(At,Jt)}:Kt)([et,Pt]);var wt,At,Kt})}},{key:"createSound",value:function(et){return new it((0,s.g)(this.festivalUrl,{text:et.text,format:this.audioFormat}))}},{key:"iOSCaptureUserIntentHack",value:(Fe=Y(Z().mark(function et(){var Pt;return Z().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Pt=soundManager.createSound({url:Re[this.audioFormat]}),Nt.next=3,new Promise(function(Je){return Pt.play({onfinish:Je})});case 3:Pt.destruct();case 4:case"end":return Nt.stop()}},et,this)})),function(){return Fe.apply(this,arguments)})}],[{key:"isSupported",value:function(){return typeof soundManager<"u"&&soundManager.supported()}}]);var Fe}(pe),it=function(){return ht(function De(Fe){he(this,De),this.soundUrl=Fe,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(De){var Fe,et=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){et.rate!=1&&et.sound.setPlaybackRate(et.rate),De()},onresume:(Fe=Y(Z().mark(function Pt(){return Z().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,(0,W.sleep)(25);case 2:et.rate!=1&&et.sound.setPlaybackRate(et.rate);case 3:case"end":return Nt.stop()}},Pt)})),function(){return Fe.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(Xe=Y(Z().mark(function De(){var Fe=this;return Z().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,new Promise(function(Pt){Fe._finishResolver=Pt,Fe.sound.play({onfinish:Pt})});case 2:this.sound.destruct();case 3:case"end":return et.stop()}},De,this)})),function(){return Xe.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(De){this.rate=De,this.sound.setPlaybackRate(De)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var Xe}(),Re={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},te=r(7583);function J(Xe){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},J(Xe)}function qe(){qe=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&J(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(J(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function _t(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function be(Xe){return function(){var De=this,Fe=arguments;return new Promise(function(et,Pt){var Nt=Xe.apply(De,Fe);function Je(At){_t(Nt,et,Pt,Je,wt,"next",At)}function wt(At){_t(Nt,et,Pt,Je,wt,"throw",At)}Je(void 0)})}}function $e(Xe,De){if(!(Xe instanceof De))throw new TypeError("Cannot call a class as a function")}function st(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,Qe(et.key),et)}}function Ee(Xe,De,Fe){return De&&st(Xe.prototype,De),Fe&&st(Xe,Fe),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function Qe(Xe){var De=function(Fe,et){if(J(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(J(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return J(De)=="symbol"?De:De+""}function nt(Xe,De,Fe){return De=mt(De),function(et,Pt){if(Pt&&(J(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(et)}(Xe,Ut()?Reflect.construct(De,Fe||[],mt(Xe).constructor):De.apply(Xe,Fe))}function Ut(){try{var Xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(De){}return(Ut=function(){return!!Xe})()}function ut(){return ut=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Xe,De,Fe){var et=function(Nt,Je){for(;!{}.hasOwnProperty.call(Nt,Je)&&(Nt=mt(Nt))!==null;);return Nt}(Xe,De);if(et){var Pt=Object.getOwnPropertyDescriptor(et,De);return Pt.get?Pt.get.call(arguments.length<3?Xe:Fe):Pt.value}},ut.apply(null,arguments)}function mt(Xe){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(De){return De.__proto__||Object.getPrototypeOf(De)},mt(Xe)}function Mt(Xe,De){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,et){return Fe.__proto__=et,Fe},Mt(Xe,De)}var ti=function(Xe){function De(Fe){var et;return $e(this,De),et=nt(this,De,[Fe]),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return et.events.trigger("voiceschanged")}),et}return function(Fe,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(et&&et.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),et&&Mt(Fe,et)}(De,Xe),Ee(De,[{key:"start",value:function(Fe,et){var Pt,Nt,Je,wt=this;if("mediaSession"in navigator){var At=new Audio(ci);At.loop=!0,this.events.on("pause",function(){return At.pause()}),this.events.on("resume",function(){return At.play()}),this.events.on("stop",function(){return At.src=""}),At.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(Kt){return Kt.label=="Author"}).map(function(Kt){return Kt.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setPositionState({duration:1/0}),navigator.mediaSession.setActionHandler("play",function(){At.play(),wt.resume()}),navigator.mediaSession.setActionHandler("pause",function(){At.pause(),wt.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return wt.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return wt.jumpForward()})})}return(Pt=De,Nt=this,typeof(Je=ut(mt(Pt.prototype),"start",Nt))=="function"?function(Kt){return Je.apply(Nt,Kt)}:Je)([Fe,et])}},{key:"getVoices",value:function(){var Fe=speechSynthesis.getVoices();return Fe.filter(function(et){return et.default}).length!=1&&Fe.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),Fe}},{key:"createSound",value:function(Fe){return new oi(Fe.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0}}])}(pe),oi=function(){return Ee(function Nt(Je){$e(this,Nt),this.text=Je,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(Nt){var Je,wt=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((Je=this.voice)===null||Je===void 0?void 0:Je.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,C&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(At){return console.log("error",At)}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(At){return wt._lastEvents.start=At}),this.utterance.addEventListener("boundary",function(At){return wt._lastEvents.boundary=At}),this.utterance.addEventListener("pause",function(At){return wt._lastEvents.pause=At}),this.utterance.addEventListener("start",function(){wt.started=!0,wt.stopped=!1,wt.paused=!1}),this.utterance.addEventListener("pause",function(){return wt.paused=!0}),this.utterance.addEventListener("resume",function(){return wt.paused=!1}),this.utterance.addEventListener("end",function(At){wt.paused||wt.stopped||wt.utterance.dispatchEvent(new CustomEvent("finish",At))}),this.loaded=!0,Nt&&Nt()}},{key:"reload",value:(Pt=be(qe().mark(function Nt(){var Je,wt;return qe().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return Je=this.paused,(wt=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(wt.target.text)+wt.charIndex),At.next=5,this.stop();case 5:this.load(),Je||this.play();case 7:case"end":return At.stop()}},Nt,this)})),function(){return Pt.apply(this,arguments)})},{key:"play",value:function(){var Nt=this;this._finishPromise=this._finishPromise||new Promise(function(wt){return Nt._finishResolver=wt}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var Je=this.utterance.voice&&this.utterance.voice.localService;return(0,te.H8)()&&!Je&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var Nt=Promise.resolve();return this.stopped||(Nt=Promise.race([(0,W.promisifyEvent)(this.utterance,"end"),(0,W.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),Nt}},{key:"finish",value:(et=be(qe().mark(function Nt(){return qe().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return Je.stop()}},Nt,this)})),function(){return et.apply(this,arguments)})},{key:"pause",value:(Fe=be(qe().mark(function Nt(){var Je,wt;return qe().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(!this.paused){At.next=2;break}return At.abrupt("return");case 2:return Je=(0,W.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),wt=(0,te.gm)()&&h(),At.next=7,Promise.race([Je,(0,W.sleep)(100).then(function(){return"timeout"})]);case 7:if(At.sent=="timeout"){At.next=10;break}return At.abrupt("return");case 10:C&&console.log("TTS: Firing pause event manually"),this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),wt&&this.stop();case 13:case"end":return At.stop()}},Nt,this)})),function(){return Fe.apply(this,arguments)})},{key:"resume",value:(De=be(qe().mark(function Nt(){var Je,wt;return qe().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(this.started&&!this.stopped){At.next=3;break}return this.play(),At.abrupt("return");case 3:if(this.paused){At.next=5;break}return At.abrupt("return");case 5:return Je=(0,te.H8)()&&h()||(0,te.gm)()&&h(),wt=(0,W.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),At.next=10,Promise.race([wt,(0,W.sleep)(100).then(function(){return"timeout"})]);case 10:if(At.sent=="timeout"){At.next=13;break}return At.abrupt("return");case 13:if(C&&console.log("TTS: Firing resume event manually"),this.utterance.dispatchEvent(new CustomEvent("resume",{})),!Je){At.next=19;break}return At.next=18,this.reload();case 18:this.play();case 19:case"end":return At.stop()}},Nt,this)})),function(){return De.apply(this,arguments)})},{key:"setPlaybackRate",value:function(Nt){this.rate=Nt,this.reload()}},{key:"setVoice",value:function(Nt){this.voice=Nt,this.reload()}},{key:"_chromePausingBugFix",value:(Xe=be(qe().mark(function Nt(){var Je;return qe().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return C&&console.log("CHROME-PAUSE-HACK: starting"),wt.next=3,Promise.race([(0,W.sleep)(14e3).then(function(){return"timeout"}),(0,W.promisifyEvent)(this.utterance,"pause").then(function(){return"pause"}),(0,W.promisifyEvent)(this.utterance,"end").then(function(){return"end"}),(0,W.promisifyEvent)(this.utterance,"error").then(function(){return"error"})]);case 3:if(Je=wt.sent,C&&console.log("CHROME-PAUSE-HACK: ".concat(Je)),Je!="end"&&Je!="error"){wt.next=9;break}C&&console.log("CHROME-PAUSE-HACK: stopped (end/error)"),wt.next=22;break;case 9:if(Je!="pause"){wt.next=16;break}return wt.next=12,Promise.race([(0,W.promisifyEvent)(this.utterance,"resume").then(function(){return"resume"}),(0,W.sleep)(14e3).then(function(){return"timeout"})]);case 12:wt.sent=="timeout"?(C&&console.log("CHROME-PAUSE-HACK: stopped (timed out while paused)"),this.stop()):this._chromePausingBugFix(),wt.next=22;break;case 16:if(Je!="timeout"){wt.next=22;break}return speechSynthesis.pause(),wt.next=20,(0,W.sleep)(25);case 20:speechSynthesis.resume(),this._chromePausingBugFix();case 22:case"end":return wt.stop()}},Nt,this)})),function(){return Xe.apply(this,arguments)})}]);var Xe,De,Fe,et,Pt}(),ci="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Lt="Read this book aloud",It=r(4907),Ct=r(1041),St=r(1669);function kt(Xe){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},kt(Xe)}function I(Xe,De){return function(Fe){if(Array.isArray(Fe))return Fe}(Xe)||function(Fe,et){var Pt=Fe==null?null:typeof Symbol<"u"&&Fe[Symbol.iterator]||Fe["@@iterator"];if(Pt!=null){var Nt,Je,wt,At,Kt=[],Jt=!0,Ai=!1;try{if(wt=(Pt=Pt.call(Fe)).next,et===0){if(Object(Pt)!==Pt)return;Jt=!1}else for(;!(Jt=(Nt=wt.call(Pt)).done)&&(Kt.push(Nt.value),Kt.length!==et);Jt=!0);}catch(Si){Ai=!0,Je=Si}finally{try{if(!Jt&&Pt.return!=null&&(At=Pt.return(),Object(At)!==At))return}finally{if(Ai)throw Je}}return Kt}}(Xe,De)||function(Fe,et){if(Fe){if(typeof Fe=="string")return Ve(Fe,et);var Pt={}.toString.call(Fe).slice(8,-1);return Pt==="Object"&&Fe.constructor&&(Pt=Fe.constructor.name),Pt==="Map"||Pt==="Set"?Array.from(Fe):Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?Ve(Fe,et):void 0}}(Xe,De)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ve(Xe,De){(De==null||De>Xe.length)&&(De=Xe.length);for(var Fe=0,et=Array(De);Fe<De;Fe++)et[Fe]=Xe[Fe];return et}function ke(){ke=function(){return De};var Xe,De={},Fe=Object.prototype,et=Fe.hasOwnProperty,Pt=Object.defineProperty||function(ve,ce,B){ve[ce]=B.value},Nt=typeof Symbol=="function"?Symbol:{},Je=Nt.iterator||"@@iterator",wt=Nt.asyncIterator||"@@asyncIterator",At=Nt.toStringTag||"@@toStringTag";function Kt(ve,ce,B){return Object.defineProperty(ve,ce,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[ce]}try{Kt({},"")}catch(ve){Kt=function(ce,B,ye){return ce[B]=ye}}function Jt(ve,ce,B,ye){var _e=ce&&ce.prototype instanceof Fi?ce:Fi,Tt=Object.create(_e.prototype),Ft=new Yr(ye||[]);return Pt(Tt,"_invoke",{value:Zr(ve,B,Ft)}),Tt}function Ai(ve,ce,B){try{return{type:"normal",arg:ve.call(ce,B)}}catch(ye){return{type:"throw",arg:ye}}}De.wrap=Jt;var Si="suspendedStart",Mi="suspendedYield",Gt="executing",wi="completed",Ti={};function Fi(){}function fr(){}function Zi(){}var lr={};Kt(lr,Je,function(){return this});var Er=Object.getPrototypeOf,or=Er&&Er(Er(Wr([])));or&&or!==Fe&&et.call(or,Je)&&(lr=or);var vr=Zi.prototype=Fi.prototype=Object.create(lr);function _r(ve){["next","throw","return"].forEach(function(ce){Kt(ve,ce,function(B){return this._invoke(ce,B)})})}function Pr(ve,ce){function B(_e,Tt,Ft,pi){var di=Ai(ve[_e],ve,Tt);if(di.type!=="throw"){var zi=di.arg,dr=zi.value;return dr&&kt(dr)=="object"&&et.call(dr,"__await")?ce.resolve(dr.__await).then(function(ir){B("next",ir,Ft,pi)},function(ir){B("throw",ir,Ft,pi)}):ce.resolve(dr).then(function(ir){zi.value=ir,Ft(zi)},function(ir){return B("throw",ir,Ft,pi)})}pi(di.arg)}var ye;Pt(this,"_invoke",{value:function(_e,Tt){function Ft(){return new ce(function(pi,di){B(_e,Tt,pi,di)})}return ye=ye?ye.then(Ft,Ft):Ft()}})}function Zr(ve,ce,B){var ye=Si;return function(_e,Tt){if(ye===Gt)throw Error("Generator is already running");if(ye===wi){if(_e==="throw")throw Tt;return{value:Xe,done:!0}}for(B.method=_e,B.arg=Tt;;){var Ft=B.delegate;if(Ft){var pi=sn(Ft,B);if(pi){if(pi===Ti)continue;return pi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ye===Si)throw ye=wi,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ye=Gt;var di=Ai(ve,ce,B);if(di.type==="normal"){if(ye=B.done?wi:Mi,di.arg===Ti)continue;return{value:di.arg,done:B.done}}di.type==="throw"&&(ye=wi,B.method="throw",B.arg=di.arg)}}}function sn(ve,ce){var B=ce.method,ye=ve.iterator[B];if(ye===Xe)return ce.delegate=null,B==="throw"&&ve.iterator.return&&(ce.method="return",ce.arg=Xe,sn(ve,ce),ce.method==="throw")||B!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ti;var _e=Ai(ye,ve.iterator,ce.arg);if(_e.type==="throw")return ce.method="throw",ce.arg=_e.arg,ce.delegate=null,Ti;var Tt=_e.arg;return Tt?Tt.done?(ce[ve.resultName]=Tt.value,ce.next=ve.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=Xe),ce.delegate=null,Ti):Tt:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,Ti)}function $r(ve){var ce={tryLoc:ve[0]};1 in ve&&(ce.catchLoc=ve[1]),2 in ve&&(ce.finallyLoc=ve[2],ce.afterLoc=ve[3]),this.tryEntries.push(ce)}function Rr(ve){var ce=ve.completion||{};ce.type="normal",delete ce.arg,ve.completion=ce}function Yr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach($r,this),this.reset(!0)}function Wr(ve){if(ve||ve===""){var ce=ve[Je];if(ce)return ce.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,ye=function _e(){for(;++B<ve.length;)if(et.call(ve,B))return _e.value=ve[B],_e.done=!1,_e;return _e.value=Xe,_e.done=!0,_e};return ye.next=ye}}throw new TypeError(kt(ve)+" is not iterable")}return fr.prototype=Zi,Pt(vr,"constructor",{value:Zi,configurable:!0}),Pt(Zi,"constructor",{value:fr,configurable:!0}),fr.displayName=Kt(Zi,At,"GeneratorFunction"),De.isGeneratorFunction=function(ve){var ce=typeof ve=="function"&&ve.constructor;return!!ce&&(ce===fr||(ce.displayName||ce.name)==="GeneratorFunction")},De.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Zi):(ve.__proto__=Zi,Kt(ve,At,"GeneratorFunction")),ve.prototype=Object.create(vr),ve},De.awrap=function(ve){return{__await:ve}},_r(Pr.prototype),Kt(Pr.prototype,wt,function(){return this}),De.AsyncIterator=Pr,De.async=function(ve,ce,B,ye,_e){_e===void 0&&(_e=Promise);var Tt=new Pr(Jt(ve,ce,B,ye),_e);return De.isGeneratorFunction(ce)?Tt:Tt.next().then(function(Ft){return Ft.done?Ft.value:Tt.next()})},_r(vr),Kt(vr,At,"Generator"),Kt(vr,Je,function(){return this}),Kt(vr,"toString",function(){return"[object Generator]"}),De.keys=function(ve){var ce=Object(ve),B=[];for(var ye in ce)B.push(ye);return B.reverse(),function _e(){for(;B.length;){var Tt=B.pop();if(Tt in ce)return _e.value=Tt,_e.done=!1,_e}return _e.done=!0,_e}},De.values=Wr,Yr.prototype={constructor:Yr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Xe,this.done=!1,this.delegate=null,this.method="next",this.arg=Xe,this.tryEntries.forEach(Rr),!ve)for(var ce in this)ce.charAt(0)==="t"&&et.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Xe)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var ce=this;function B(di,zi){return Tt.type="throw",Tt.arg=ve,ce.next=di,zi&&(ce.method="next",ce.arg=Xe),!!zi}for(var ye=this.tryEntries.length-1;ye>=0;--ye){var _e=this.tryEntries[ye],Tt=_e.completion;if(_e.tryLoc==="root")return B("end");if(_e.tryLoc<=this.prev){var Ft=et.call(_e,"catchLoc"),pi=et.call(_e,"finallyLoc");if(Ft&&pi){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}else if(Ft){if(this.prev<_e.catchLoc)return B(_e.catchLoc,!0)}else{if(!pi)throw Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return B(_e.finallyLoc)}}}},abrupt:function(ve,ce){for(var B=this.tryEntries.length-1;B>=0;--B){var ye=this.tryEntries[B];if(ye.tryLoc<=this.prev&&et.call(ye,"finallyLoc")&&this.prev<ye.finallyLoc){var _e=ye;break}}_e&&(ve==="break"||ve==="continue")&&_e.tryLoc<=ce&&ce<=_e.finallyLoc&&(_e=null);var Tt=_e?_e.completion:{};return Tt.type=ve,Tt.arg=ce,_e?(this.method="next",this.next=_e.finallyLoc,Ti):this.complete(Tt)},complete:function(ve,ce){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&ce&&(this.next=ce),Ti},finish:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Rr(B),Ti}},catch:function(ve){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var B=this.tryEntries[ce];if(B.tryLoc===ve){var ye=B.completion;if(ye.type==="throw"){var _e=ye.arg;Rr(B)}return _e}}throw Error("illegal catch attempt")},delegateYield:function(ve,ce,B){return this.delegate={iterator:Wr(ve),resultName:ce,nextLoc:B},this.method==="next"&&(this.arg=Xe),Ti}},De}function Ye(Xe,De,Fe,et,Pt,Nt,Je){try{var wt=Xe[Nt](Je),At=wt.value}catch(Kt){return void Fe(Kt)}wt.done?De(At):Promise.resolve(At).then(et,Pt)}function Ze(Xe){return function(){var De=this,Fe=arguments;return new Promise(function(et,Pt){var Nt=Xe.apply(De,Fe);function Je(At){Ye(Nt,et,Pt,Je,wt,"next",At)}function wt(At){Ye(Nt,et,Pt,Je,wt,"throw",At)}Je(void 0)})}}function dt(Xe,De){var Fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(Xe);De&&(et=et.filter(function(Pt){return Object.getOwnPropertyDescriptor(Xe,Pt).enumerable})),Fe.push.apply(Fe,et)}return Fe}function ae(Xe,De){for(var Fe=0;Fe<De.length;Fe++){var et=De[Fe];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Xe,Xt(et.key),et)}}function Ie(Xe,De,Fe){return De=ct(De),function(et,Pt){if(Pt&&(kt(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}(et)}(Xe,Ue()?Reflect.construct(De,Fe||[],ct(Xe).constructor):De.apply(Xe,Fe))}function Ue(){try{var Xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(De){}return(Ue=function(){return!!Xe})()}function gt(){return gt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Xe,De,Fe){var et=function(Nt,Je){for(;!{}.hasOwnProperty.call(Nt,Je)&&(Nt=ct(Nt))!==null;);return Nt}(Xe,De);if(et){var Pt=Object.getOwnPropertyDescriptor(et,De);return Pt.get?Pt.get.call(arguments.length<3?Xe:Fe):Pt.value}},gt.apply(null,arguments)}function ct(Xe){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(De){return De.__proto__||Object.getPrototypeOf(De)},ct(Xe)}function Et(Xe,De){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Fe,et){return Fe.__proto__=et,Fe},Et(Xe,De)}function zt(Xe,De,Fe){return(De=Xt(De))in Xe?Object.defineProperty(Xe,De,{value:Fe,enumerable:!0,configurable:!0,writable:!0}):Xe[De]=Fe,Xe}function Xt(Xe){var De=function(Fe,et){if(kt(Fe)!="object"||!Fe)return Fe;var Pt=Fe[Symbol.toPrimitive];if(Pt!==void 0){var Nt=Pt.call(Fe,"string");if(kt(Nt)!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Fe)}(Xe);return kt(De)=="symbol"?De:De+""}var Ot=window.BookReader,Bt=function(Xe){function De(){var Je;(function(Jt,Ai){if(!(Jt instanceof Ai))throw new TypeError("Cannot call a class as a function")})(this,De);for(var wt=arguments.length,At=new Array(wt),Kt=0;Kt<wt;Kt++)At[Kt]=arguments[Kt];return zt(Je=Ie(this,De,[].concat(At)),"options",{enabled:!0,pageChunkUrl:"https://{{server}}/BookReader/BookReaderGetTextWrapper.php?path={{bookPath|urlencode}}_djvu.xml&page={{pageIndex}}&callback=false",remoteTtsUrl:"https://{{server}}/BookReader/BookReaderGetTTS.php?string={{text|urlencode}}&format={{format}}"}),Je}return function(Je,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),wt&&Et(Je,wt)}(De,Xe),Fe=De,et=[{key:"setup",value:function(Je){var wt,At,Kt;if((wt=De,At=this,typeof(Kt=gt(ct(wt.prototype),"setup",At))=="function"?function(Mi){return Kt.apply(At,Mi)}:Kt)([Object.assign({server:this.br.options.server,bookPath:this.br.options.bookPath},Je)]),this.options.enabled){this._ttsBoxesByIndex={};var Jt,Ai=ti.isSupported()?ti:Ge.isSupported()?Ge:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var Si=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];Ai={festival:Ge,web:ti}[Si]}Ai&&(this.ttsEngine=new Ai(function(Mi){for(var Gt=1;Gt<arguments.length;Gt++){var wi=arguments[Gt]!=null?arguments[Gt]:{};Gt%2?dt(Object(wi),!0).forEach(function(Ti){zt(Mi,Ti,wi[Ti])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Mi,Object.getOwnPropertyDescriptors(wi)):dt(Object(wi)).forEach(function(Ti){Object.defineProperty(Mi,Ti,Object.getOwnPropertyDescriptor(wi,Ti))})}return Mi}({pageChunkUrl:(0,s.g)(this.options.pageChunkUrl,this.br.options.vars),bookLanguage:(Jt=this.br.options.bookLanguage,Jt?d(Jt=Jt.toLowerCase(),["ISO 639-1"])||d(Jt,["ISO 639-2/B"])||d(Jt,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.br.showProgressPopup.bind(this.br,"Loading audio..."),onLoadingComplete:this.br.removeProgressPopup.bind(this.br),onDone:this.stop.bind(this),beforeChunkPlay:this.beforeChunkPlay.bind(this),afterChunkPlay:this.sendChunkFinishedAnalyticsEvent.bind(this)},Ai===Ge?{festivalUrl:(0,s.g)(this.options.remoteTtsUrl,this.br.options.vars)}:{})))}}},{key:"init",value:function(){var Je=this;this.options.enabled&&this.br.bind(Ot.eventNames.PostInit,function(){Je.br.$(".BRicon.read").click(function(){return Je.toggle(),!1}),Je.ttsEngine&&(Je.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&Je.start(!1))})}},{key:"_configurePageContainer",value:function(Je){if(this.options.enabled&&Je.page&&Je.page.index in this._ttsBoxesByIndex){var wt=Je.page.index;(0,It.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[wt],Je.page,Je.$container[0])}}},{key:"extendNavBar",value:function(Je){var wt=this;if(this.options.enabled&&this.ttsEngine){this.br.refs.$BRReadAloudToolbar=St(`
      <ul class="read-aloud">
        <li>
          <select class="playback-speed" name="playback-speed" title="`.concat("Playback speed",`">
            <option value="0.25">0.25x</option>
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1.0" selected>1.0x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="1.75">1.75x</option>
            <option value="2">2x</option>
          </select>
        </li>
        <li>
          <button type="button" name="review" title="`).concat("Review 10 seconds",`">
            <div class="icon icon-review"></div>
          </button>
        </li>
        <li>
          <button type="button" name="play" title="`).concat("Play",`">
            <div class="icon icon-play"></div>
            <div class="icon icon-pause"></div>
          </button>
        </li>
        <li>
          <button type="button" name="advance" title="`).concat("Advance 10 seconds",`">
            <div class="icon icon-advance"></div>
          </button>
        </li>
        <li>
          <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">
          </select>
        </li>
      </ul>
    `)),Je.find(".BRcontrols").prepend(this.br.refs.$BRReadAloudToolbar);var At=function(Mi){return Mi.map(function(Gt){return'<option value="'.concat(Gt.voiceURI,'">').concat(Gt.lang," - ").concat(Gt.name,"</option>")}).join("")},Kt=function(Mi,Gt){return"".concat(Mi.lang," - ").concat(Mi.name).localeCompare("".concat(Gt.lang," - ").concat(Gt.name))},Jt=function(Mi){Mi.empty();var Gt=wt.ttsEngine.opts.bookLanguage,wi=wt.ttsEngine.getVoices().filter(function(Fi){return Fi.lang.startsWith(Gt)}).sort(Kt),Ti=wt.ttsEngine.getVoices().filter(function(Fi){return!Fi.lang.startsWith(Gt)}).sort(Kt);wt.ttsEngine.getVoices().length>1?(Mi.append(St('<optgroup label="Book Language ('.concat(Gt,')"> ').concat(At(wi)," </optgroup>"))),Mi.append(St('<optgroup label="Other Languages"> '.concat(At(Ti)," </optgroup>"))),Mi.val(wt.ttsEngine.voice.voiceURI),Mi.show()):Mi.hide()},Ai=this.br.refs.$BRReadAloudToolbar.find("[name=playback-voice]");Jt(Ai),Ai.on("change",function(Mi){return wt.ttsEngine.setVoice(Ai.val())}),this.ttsEngine.events.on("pause resume start",function(){return wt.updateState()}),this.ttsEngine.events.on("voiceschanged",function(){return Jt(Ai)}),this.br.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.playPause.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.jumpForward.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.jumpBackward.bind(this));var Si=this.br.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');Si.on("change",function(Mi){return wt.ttsEngine.setPlaybackRate(parseFloat(Si.val()))}),St(`<li>
        <button class="BRicon read js-tooltip" title="`.concat(Lt,`">
          <div class="icon icon-read-aloud"></div>
          <span class="BRtooltip">`).concat(Lt,`</span>
        </button>
      </li>`)).insertBefore(Je.find(".BRcontrols .BRicon.zoom_out").closest("li"))}}},{key:"toggle",value:function(){var Je;(Je=this.br.plugins.autoplay)===null||Je===void 0||Je.stop(),this.ttsEngine.playing?this.stop():this.start()}},{key:"start",value:function(){var Je=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.constModeThumb==this.br.mode&&this.br.switchMode(this.br.constMode1up),this.br.refs.$BRReadAloudToolbar.addClass("visible"),this.br.$(".BRicon.read").addClass("unread active"),this.sendAnalyticsEvent("Start"),Je&&this.ttsEngine.start(this.br.currentIndex(),this.br.book.getNumLeafs())}},{key:"jumpForward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()}},{key:"jumpBackward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()}},{key:"updateState",value:function(){var Je=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.br.$(".read-aloud [name=play]").toggleClass("playing",Je)}},{key:"playPause",value:function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.updateState()):this.toggle()}},{key:"stop",value:function(){this.br.refs.$BRReadAloudToolbar.removeClass("visible"),this.br.$(".BRicon.read").removeClass("unread active"),this.sendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.removeHilites(),this.br.removeProgressPopup()}},{key:"beforeChunkPlay",value:(Nt=Ze(ke().mark(function Je(wt){return ke().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:return At.next=2,this.maybeFlipToIndex(wt.leafIndex);case 2:this.highlightChunk(wt),this.scrollToChunk(wt);case 4:case"end":return At.stop()}},Je,this)})),function(Je){return Nt.apply(this,arguments)})},{key:"sendChunkFinishedAnalyticsEvent",value:function(Je){var wt;this.sendAnalyticsEvent("ChunkFinished-Words",(wt=Je.text.match(/\S+/g))?wt.length:0)}},{key:"maybeFlipToIndex",value:(Pt=Ze(ke().mark(function Je(wt){return ke().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:this.br._isIndexDisplayed(wt)||this.br.jumpToIndex(wt);case 1:case"end":return At.stop()}},Je,this)})),function(Je){return Pt.apply(this,arguments)})},{key:"highlightChunk",value:function(Je){var wt=this,At=Je.leafIndex;this.removeHilites(),this._ttsBoxesByIndex=zt({},At,Je.lineRects.map(function(Si){var Mi=I(Si,4),Gt=Mi[0],wi=Mi[1];return{l:Gt,r:Mi[2],b:wi,t:Mi[3]}}));for(var Kt=function(){var Si=I(Ai[Jt],2),Mi=Si[0],Gt=Si[1],wi=parseFloat(Mi),Ti=wt.br.book.getPage(wi);wt.br.getActivePageContainerElementsForIndex(wi).forEach(function(Fi){return(0,It.KL)("ttsHiliteLayer",Gt,Ti,Fi)})},Jt=0,Ai=Object.entries(this._ttsBoxesByIndex);Jt<Ai.length;Jt++)Kt()}},{key:"scrollToChunk",value:function(Je){var wt;this.br.constModeThumb!=this.br.mode&&((wt=St(".pagediv".concat(Je.leafIndex," .ttsHiliteLayer rect")).last())===null||wt===void 0||(wt=wt[0])===null||wt===void 0||wt.scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))}},{key:"removeHilites",value:function(){St(this.br.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}}},{key:"sendAnalyticsEvent",value:function(Je,wt){if(this.br.plugins.archiveAnalytics){var At={},Kt=this.ttsEngine.opts.bookLanguage;Kt&&(At.mediaLanguage=Kt),this.br.plugins.archiveAnalytics.sendEvent("BRReadAloud",Je,wt,At)}}}],et&&ae(Fe.prototype,et),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe;var Fe,et,Pt,Nt}(Ct.S);Ot==null||Ot.registerPlugin("tts",Bt)},9073:function(e,t,r){"use strict";function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return s(P,E);var O={}.toString.call(P).slice(8,-1);return O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?s(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=1966)}]);G1=O7,{default:Y1}=G1,M7=nn(G1,["default"]),K1=Y1!==void 0?Y1:M7;});var X1={};Ln(X1,{default:()=>K1});var Z1=Zt(()=>{vm();vm()});var L7,J1,Q1,I7,ew,ym=Zt(()=>{L7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},3387:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3792),r(9572),r(8130),r(9085),r(875),r(6099),r(825),r(7495),r(7764),r(5746),r(2953),r(8408);var s=r(8340),l=r(8004);function o(k){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},o(k)}function c(k,S){for(var P=0;P<S.length;P++){var E=S[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,y(E.key),E)}}function n(k,S,P){return S=p(S),function(E,O){if(O&&(o(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(E)}(k,u()?Reflect.construct(S,P||[],p(k).constructor):S.apply(k,P))}function u(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(u=function(){return!!k})()}function p(k){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},p(k)}function g(k,S){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},g(k,S)}function m(k,S,P){return(S=y(S))in k?Object.defineProperty(k,S,{value:P,enumerable:!0,configurable:!0,writable:!0}):k[S]=P,k}function y(k){var S=function(P,E){if(o(P)!="object"||!P)return P;var O=P[Symbol.toPrimitive];if(O!==void 0){var a=O.call(P,"string");if(o(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(k);return o(S)=="symbol"?S:S+""}var x=function(k){function S(){var O;(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")})(this,S);for(var a=arguments.length,h=new Array(a),v=0;v<a;v++)h[v]=arguments[v];return m(O=n(this,S,[].concat(h)),"options",{enabled:!0,flipSpeed:1500,flipDelay:5e3,urlParams:!0}),m(O,"timer",null),O}return function(O,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(a&&a.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),a&&g(O,a)}(S,k),P=S,E=[{key:"init",value:function(){var O=this;if(this.options.enabled&&(this.br.bind(s.q.stop,function(){return O.stop()}),this.options.urlParams)){var a=new URLSearchParams(window.location.search);a.get("flipSpeed")&&(this.options.flipSpeed=(0,l.parseAnimationSpeed)(a.get("flipSpeed"))||this.options.flipSpeed),a.get("flipDelay")&&(this.options.flipDelay=(0,l.parseAnimationSpeed)(a.get("flipDelay"))||this.options.flipDelay),a.get("autoflip")==="1"&&this.toggle()}}},{key:"_bindNavigationHandlers",value:function(){var O=this;if(this.options.enabled){var a=this.br.$(".BRicon");a.filter(".play").on("click",function(){return O.toggle(),!1}),a.filter(".pause").on("click",function(){return O.toggle(),!1})}}},{key:"toggle",value:function(){var O=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.enabled){Object.assign(this.options,a),this.br.trigger(s.q.stop);var h=!1;this.br.constMode2up!=this.br.mode&&(h=!0,this.br.switchMode(this.br.constMode2up)),this.timer==null?(this.br.pageProgression=="rl"&&h||this.br.next({triggerStop:!1,flipSpeed:this.options.flipSpeed}),this.br.$(".play").hide(),this.br.$(".pause").show(),this.timer=setInterval(function(){O.br.animating||(Math.max(O.br.twoPage.currentIndexL,O.br.twoPage.currentIndexR)>=O.br.book.getNumLeafs()-1?O.br.prev({triggerStop:!1,flipSpeed:O.options.flipSpeed}):O.br.next({triggerStop:!1,flipSpeed:O.options.flipSpeed}))},(0,l.parseAnimationSpeed)(this.options.flipDelay))):this.stop()}}},{key:"stop",value:function(){this.options.enabled&&this.timer!=null&&(clearInterval(this.timer),this.br.$(".pause").hide(),this.br.$(".play").show(),this.timer=null)}}],E&&c(P.prototype,E),Object.defineProperty(P,"prototype",{writable:!1}),P;var P,E}(r(1041).S),w=window.BookReader;w==null||w.registerPlugin("autoplay",x)}},function(e){e(e.s=3387)}]);J1=L7,{default:Q1}=J1,I7=nn(J1,["default"]),ew=Q1!==void 0?Q1:I7});var tw={};Ln(tw,{default:()=>ew});var iw=Zt(()=>{ym();ym()});var D7,rw,nw,R7,ow,bm=Zt(()=>{D7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},4442:function(e,t,r){var s={};r.r(s),r.d(s,{areCookiesBlocked:function(){return c},getItem:function(){return p},removeItem:function(){return m},setItem:function(){return g}}),r(2675),r(9463),r(2259),r(3792),r(875),r(6099),r(825),r(7764),r(2953),r(5700),r(8706),r(9572),r(8130),r(8940),r(7495),r(1761);var l=r(8340),o=r(1041);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return a.cookie,!1}catch(h){return!0}}r(4864),r(8781),r(5440);var n,u=c();function p(a){return u||!a?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function g(a,h,v,d,_,C){return!u&&(document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(h)+(v?"; expires=".concat(v.toUTCString()):"")+(_?"; domain=".concat(_):"")+(d?"; path=".concat(d):"")+(C?"; secure":""),!0)}function m(a,h,v){return!u&&!!hasItem(a)&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(v?"; domain=".concat(v):"")+(h?"; path=".concat(h):""),!0)}function y(a){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y(a)}function x(a,h){for(var v=0;v<h.length;v++){var d=h[v];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,E(d.key),d)}}function w(a,h,v){return h=S(h),function(d,_){if(_&&(y(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(d)}(a,k()?Reflect.construct(h,v||[],S(a).constructor):h.apply(a,v))}function k(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(h){}return(k=function(){return!!a})()}function S(a){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},S(a)}function P(a,h){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,d){return v.__proto__=d,v},P(a,h)}function E(a){var h=function(v,d){if(y(v)!="object"||!v)return v;var _=v[Symbol.toPrimitive];if(_!==void 0){var C=_.call(v,"string");if(y(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(a);return y(h)=="symbol"?h:h+""}BookReader.docCookies=s;var O=function(a){function h(){var _,C,N,G;(function(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,h);for(var q=arguments.length,K=new Array(q),ne=0;ne<q;ne++)K[ne]=arguments[ne];return C=_=w(this,h,[].concat(K)),G={enabled:!0,cookiePath:null},(N=E(N="options"))in C?Object.defineProperty(C,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):C[N]=G,_}return function(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),C&&P(_,C)}(h,a),v=h,(d=[{key:"init",value:function(){var _=this;this.options.enabled&&this.br.bind(l.q.fragmentChange,function(){var C=_.br.paramsFromCurrent();_.updateResumeValue(C.index)})}},{key:"getResumeValue",value:function(){var _=BookReader.docCookies.getItem("br-resume");return _!==null?parseInt(_):null}},{key:"getCookiePath",value:function(_){return _.match(".+?(?=/page/|/mode/|$)")[0]}},{key:"updateResumeValue",value:function(_,C){var N=new Date(+new Date+12096e5),G=this.options.cookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(C||"br-resume",_,N,G,null,!1)}}])&&x(v.prototype,d),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,d}(o.S);(n=BookReader)===null||n===void 0||n.registerPlugin("resume",O)}},function(e){e(e.s=4442)}]);rw=D7,{default:nw}=rw,R7=nn(rw,["default"]),ow=nw!==void 0?nw:R7});var aw={};Ln(aw,{default:()=>ow});var sw=Zt(()=>{bm();bm()});var j7,lw,cw,N7,uw,wm=Zt(()=>{j7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},9220:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(8125),r(113),r(3418),r(4782),r(4554),r(2010),r(4731),r(479),r(2811),r(3851),r(875),r(3362),r(825),r(888),r(7495),r(8781),r(5700),r(8706),r(2008),r(8980),r(3792),r(8598),r(2062),r(4490),r(9572),r(8130),r(9085),r(6099),r(8940),r(7764),r(3500),r(2953),r(8408);var s=r(420),l=r(9696),o=r(6681),c=r(8900),n=s.qy`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="tocTitleID tocDescID"
>
  <title id="tocTitleID">Table of contents icon</title>
  <desc id="tocDescID">An illustration of three text list items</desc>
  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>
</svg>
`;class u extends s.WF{static get styles(){return s.AH`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return n}}customElements.define("ia-icon-toc",u);var p,g,m,y,x,w,k=r(1041),S=r(9073),P=r(1669);function E(te){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},E(te)}function O(){O=function(){return te};var te={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(J,qe){["method","field"].forEach(function(_t){qe.forEach(function(be){be.kind===_t&&be.placement==="own"&&this.defineClassElement(J,be)},this)},this)},initializeClassElements:function(J,qe){var _t=J.prototype;["method","field"].forEach(function(be){qe.forEach(function($e){var st=$e.placement;if($e.kind===be&&(st==="static"||st==="prototype")){var Ee=st==="static"?J:_t;this.defineClassElement(Ee,$e)}},this)},this)},defineClassElement:function(J,qe){var _t=qe.descriptor;if(qe.kind==="field"){var be=qe.initializer;_t={enumerable:_t.enumerable,writable:_t.writable,configurable:_t.configurable,value:be===void 0?void 0:be.call(J)}}Object.defineProperty(J,qe.key,_t)},decorateClass:function(J,qe){var _t=[],be=[],$e={static:[],prototype:[],own:[]};if(J.forEach(function(Ee){this.addElementPlacement(Ee,$e)},this),J.forEach(function(Ee){if(!v(Ee))return _t.push(Ee);var Qe=this.decorateElement(Ee,$e);_t.push(Qe.element),_t.push.apply(_t,Qe.extras),be.push.apply(be,Qe.finishers)},this),!qe)return{elements:_t,finishers:be};var st=this.decorateConstructor(_t,qe);return be.push.apply(be,st.finishers),st.finishers=be,st},addElementPlacement:function(J,qe,_t){var be=qe[J.placement];if(!_t&&be.indexOf(J.key)!==-1)throw new TypeError("Duplicated element ("+J.key+")");be.push(J.key)},decorateElement:function(J,qe){for(var _t=[],be=[],$e=J.decorators,st=$e.length-1;st>=0;st--){var Ee=qe[J.placement];Ee.splice(Ee.indexOf(J.key),1);var Qe=this.fromElementDescriptor(J),nt=this.toElementFinisherExtras((0,$e[st])(Qe)||Qe);J=nt.element,this.addElementPlacement(J,qe),nt.finisher&&be.push(nt.finisher);var Ut=nt.extras;if(Ut){for(var ut=0;ut<Ut.length;ut++)this.addElementPlacement(Ut[ut],qe);_t.push.apply(_t,Ut)}}return{element:J,finishers:be,extras:_t}},decorateConstructor:function(J,qe){for(var _t=[],be=qe.length-1;be>=0;be--){var $e=this.fromClassDescriptor(J),st=this.toClassDescriptor((0,qe[be])($e)||$e);if(st.finisher!==void 0&&_t.push(st.finisher),st.elements!==void 0){J=st.elements;for(var Ee=0;Ee<J.length-1;Ee++)for(var Qe=Ee+1;Qe<J.length;Qe++)if(J[Ee].key===J[Qe].key&&J[Ee].placement===J[Qe].placement)throw new TypeError("Duplicated element ("+J[Ee].key+")")}}return{elements:J,finishers:_t}},fromElementDescriptor:function(J){var qe={kind:J.kind,key:J.key,placement:J.placement,descriptor:J.descriptor};return Object.defineProperty(qe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),J.kind==="field"&&(qe.initializer=J.initializer),qe},toElementDescriptors:function(J){if(J!==void 0)return(qe=J,function(_t){if(Array.isArray(_t))return _t}(qe)||N(qe)||C(qe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(_t){var be=this.toElementDescriptor(_t);return this.disallowProperty(_t,"finisher","An element descriptor"),this.disallowProperty(_t,"extras","An element descriptor"),be},this);var qe},toElementDescriptor:function(J){var qe=J.kind+"";if(qe!=="method"&&qe!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+qe+'"');var _t=ht(J.key),be=J.placement+"";if(be!=="static"&&be!=="prototype"&&be!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+be+'"');var $e=J.descriptor;this.disallowProperty(J,"elements","An element descriptor");var st={kind:qe,key:_t,placement:be,descriptor:Object.assign({},$e)};return qe!=="field"?this.disallowProperty(J,"initializer","A method descriptor"):(this.disallowProperty($e,"get","The property descriptor of a field descriptor"),this.disallowProperty($e,"set","The property descriptor of a field descriptor"),this.disallowProperty($e,"value","The property descriptor of a field descriptor"),st.initializer=J.initializer),st},toElementFinisherExtras:function(J){return{element:this.toElementDescriptor(J),finisher:_(J,"finisher"),extras:this.toElementDescriptors(J.extras)}},fromClassDescriptor:function(J){var qe={kind:"class",elements:J.map(this.fromElementDescriptor,this)};return Object.defineProperty(qe,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),qe},toClassDescriptor:function(J){var qe=J.kind+"";if(qe!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+qe+'"');this.disallowProperty(J,"key","A class descriptor"),this.disallowProperty(J,"placement","A class descriptor"),this.disallowProperty(J,"descriptor","A class descriptor"),this.disallowProperty(J,"initializer","A class descriptor"),this.disallowProperty(J,"extras","A class descriptor");var _t=_(J,"finisher");return{elements:this.toElementDescriptors(J.elements),finisher:_t}},runClassFinishers:function(J,qe){for(var _t=0;_t<qe.length;_t++){var be=(0,qe[_t])(J);if(be!==void 0){if(typeof be!="function")throw new TypeError("Finishers must return a constructor.");J=be}}return J},disallowProperty:function(J,qe,_t){if(J[qe]!==void 0)throw new TypeError(_t+" can't have a ."+qe+" property.")}};return te}function a(te){var J,qe=ht(te.key);te.kind==="method"?J={value:te.value,writable:!0,configurable:!0,enumerable:!1}:te.kind==="get"?J={get:te.value,configurable:!0,enumerable:!1}:te.kind==="set"?J={set:te.value,configurable:!0,enumerable:!1}:te.kind==="field"&&(J={configurable:!0,writable:!0,enumerable:!0});var _t={kind:te.kind==="field"?"field":"method",key:qe,placement:te.static?"static":te.kind==="field"?"own":"prototype",descriptor:J};return te.decorators&&(_t.decorators=te.decorators),te.kind==="field"&&(_t.initializer=te.value),_t}function h(te,J){te.descriptor.get!==void 0?J.descriptor.get=te.descriptor.get:J.descriptor.set=te.descriptor.set}function v(te){return te.decorators&&te.decorators.length}function d(te){return te!==void 0&&!(te.value===void 0&&te.writable===void 0)}function _(te,J){var qe=te[J];if(qe!==void 0&&typeof qe!="function")throw new TypeError("Expected '"+J+"' to be a function");return qe}function C(te,J){if(te){if(typeof te=="string")return G(te,J);var qe={}.toString.call(te).slice(8,-1);return qe==="Object"&&te.constructor&&(qe=te.constructor.name),qe==="Map"||qe==="Set"?Array.from(te):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?G(te,J):void 0}}function N(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}function G(te,J){(J==null||J>te.length)&&(J=te.length);for(var qe=0,_t=Array(J);qe<J;qe++)_t[qe]=te[qe];return _t}function q(te,J){return J||(J=te.slice(0)),Object.freeze(Object.defineProperties(te,{raw:{value:Object.freeze(J)}}))}function K(){K=function(){return J};var te,J={},qe=Object.prototype,_t=qe.hasOwnProperty,be=Object.defineProperty||function(ct,Et,zt){ct[Et]=zt.value},$e=typeof Symbol=="function"?Symbol:{},st=$e.iterator||"@@iterator",Ee=$e.asyncIterator||"@@asyncIterator",Qe=$e.toStringTag||"@@toStringTag";function nt(ct,Et,zt){return Object.defineProperty(ct,Et,{value:zt,enumerable:!0,configurable:!0,writable:!0}),ct[Et]}try{nt({},"")}catch(ct){nt=function(Et,zt,Xt){return Et[zt]=Xt}}function Ut(ct,Et,zt,Xt){var Ot=Et&&Et.prototype instanceof Lt?Et:Lt,Bt=Object.create(Ot.prototype),Xe=new Ue(Xt||[]);return be(Bt,"_invoke",{value:Ze(ct,zt,Xe)}),Bt}function ut(ct,Et,zt){try{return{type:"normal",arg:ct.call(Et,zt)}}catch(Xt){return{type:"throw",arg:Xt}}}J.wrap=Ut;var mt="suspendedStart",Mt="suspendedYield",ti="executing",oi="completed",ci={};function Lt(){}function It(){}function Ct(){}var St={};nt(St,st,function(){return this});var kt=Object.getPrototypeOf,I=kt&&kt(kt(gt([])));I&&I!==qe&&_t.call(I,st)&&(St=I);var Ve=Ct.prototype=Lt.prototype=Object.create(St);function ke(ct){["next","throw","return"].forEach(function(Et){nt(ct,Et,function(zt){return this._invoke(Et,zt)})})}function Ye(ct,Et){function zt(Ot,Bt,Xe,De){var Fe=ut(ct[Ot],ct,Bt);if(Fe.type!=="throw"){var et=Fe.arg,Pt=et.value;return Pt&&E(Pt)=="object"&&_t.call(Pt,"__await")?Et.resolve(Pt.__await).then(function(Nt){zt("next",Nt,Xe,De)},function(Nt){zt("throw",Nt,Xe,De)}):Et.resolve(Pt).then(function(Nt){et.value=Nt,Xe(et)},function(Nt){return zt("throw",Nt,Xe,De)})}De(Fe.arg)}var Xt;be(this,"_invoke",{value:function(Ot,Bt){function Xe(){return new Et(function(De,Fe){zt(Ot,Bt,De,Fe)})}return Xt=Xt?Xt.then(Xe,Xe):Xe()}})}function Ze(ct,Et,zt){var Xt=mt;return function(Ot,Bt){if(Xt===ti)throw Error("Generator is already running");if(Xt===oi){if(Ot==="throw")throw Bt;return{value:te,done:!0}}for(zt.method=Ot,zt.arg=Bt;;){var Xe=zt.delegate;if(Xe){var De=dt(Xe,zt);if(De){if(De===ci)continue;return De}}if(zt.method==="next")zt.sent=zt._sent=zt.arg;else if(zt.method==="throw"){if(Xt===mt)throw Xt=oi,zt.arg;zt.dispatchException(zt.arg)}else zt.method==="return"&&zt.abrupt("return",zt.arg);Xt=ti;var Fe=ut(ct,Et,zt);if(Fe.type==="normal"){if(Xt=zt.done?oi:Mt,Fe.arg===ci)continue;return{value:Fe.arg,done:zt.done}}Fe.type==="throw"&&(Xt=oi,zt.method="throw",zt.arg=Fe.arg)}}}function dt(ct,Et){var zt=Et.method,Xt=ct.iterator[zt];if(Xt===te)return Et.delegate=null,zt==="throw"&&ct.iterator.return&&(Et.method="return",Et.arg=te,dt(ct,Et),Et.method==="throw")||zt!=="return"&&(Et.method="throw",Et.arg=new TypeError("The iterator does not provide a '"+zt+"' method")),ci;var Ot=ut(Xt,ct.iterator,Et.arg);if(Ot.type==="throw")return Et.method="throw",Et.arg=Ot.arg,Et.delegate=null,ci;var Bt=Ot.arg;return Bt?Bt.done?(Et[ct.resultName]=Bt.value,Et.next=ct.nextLoc,Et.method!=="return"&&(Et.method="next",Et.arg=te),Et.delegate=null,ci):Bt:(Et.method="throw",Et.arg=new TypeError("iterator result is not an object"),Et.delegate=null,ci)}function ae(ct){var Et={tryLoc:ct[0]};1 in ct&&(Et.catchLoc=ct[1]),2 in ct&&(Et.finallyLoc=ct[2],Et.afterLoc=ct[3]),this.tryEntries.push(Et)}function Ie(ct){var Et=ct.completion||{};Et.type="normal",delete Et.arg,ct.completion=Et}function Ue(ct){this.tryEntries=[{tryLoc:"root"}],ct.forEach(ae,this),this.reset(!0)}function gt(ct){if(ct||ct===""){var Et=ct[st];if(Et)return Et.call(ct);if(typeof ct.next=="function")return ct;if(!isNaN(ct.length)){var zt=-1,Xt=function Ot(){for(;++zt<ct.length;)if(_t.call(ct,zt))return Ot.value=ct[zt],Ot.done=!1,Ot;return Ot.value=te,Ot.done=!0,Ot};return Xt.next=Xt}}throw new TypeError(E(ct)+" is not iterable")}return It.prototype=Ct,be(Ve,"constructor",{value:Ct,configurable:!0}),be(Ct,"constructor",{value:It,configurable:!0}),It.displayName=nt(Ct,Qe,"GeneratorFunction"),J.isGeneratorFunction=function(ct){var Et=typeof ct=="function"&&ct.constructor;return!!Et&&(Et===It||(Et.displayName||Et.name)==="GeneratorFunction")},J.mark=function(ct){return Object.setPrototypeOf?Object.setPrototypeOf(ct,Ct):(ct.__proto__=Ct,nt(ct,Qe,"GeneratorFunction")),ct.prototype=Object.create(Ve),ct},J.awrap=function(ct){return{__await:ct}},ke(Ye.prototype),nt(Ye.prototype,Ee,function(){return this}),J.AsyncIterator=Ye,J.async=function(ct,Et,zt,Xt,Ot){Ot===void 0&&(Ot=Promise);var Bt=new Ye(Ut(ct,Et,zt,Xt),Ot);return J.isGeneratorFunction(Et)?Bt:Bt.next().then(function(Xe){return Xe.done?Xe.value:Bt.next()})},ke(Ve),nt(Ve,Qe,"Generator"),nt(Ve,st,function(){return this}),nt(Ve,"toString",function(){return"[object Generator]"}),J.keys=function(ct){var Et=Object(ct),zt=[];for(var Xt in Et)zt.push(Xt);return zt.reverse(),function Ot(){for(;zt.length;){var Bt=zt.pop();if(Bt in Et)return Ot.value=Bt,Ot.done=!1,Ot}return Ot.done=!0,Ot}},J.values=gt,Ue.prototype={constructor:Ue,reset:function(ct){if(this.prev=0,this.next=0,this.sent=this._sent=te,this.done=!1,this.delegate=null,this.method="next",this.arg=te,this.tryEntries.forEach(Ie),!ct)for(var Et in this)Et.charAt(0)==="t"&&_t.call(this,Et)&&!isNaN(+Et.slice(1))&&(this[Et]=te)},stop:function(){this.done=!0;var ct=this.tryEntries[0].completion;if(ct.type==="throw")throw ct.arg;return this.rval},dispatchException:function(ct){if(this.done)throw ct;var Et=this;function zt(Fe,et){return Bt.type="throw",Bt.arg=ct,Et.next=Fe,et&&(Et.method="next",Et.arg=te),!!et}for(var Xt=this.tryEntries.length-1;Xt>=0;--Xt){var Ot=this.tryEntries[Xt],Bt=Ot.completion;if(Ot.tryLoc==="root")return zt("end");if(Ot.tryLoc<=this.prev){var Xe=_t.call(Ot,"catchLoc"),De=_t.call(Ot,"finallyLoc");if(Xe&&De){if(this.prev<Ot.catchLoc)return zt(Ot.catchLoc,!0);if(this.prev<Ot.finallyLoc)return zt(Ot.finallyLoc)}else if(Xe){if(this.prev<Ot.catchLoc)return zt(Ot.catchLoc,!0)}else{if(!De)throw Error("try statement without catch or finally");if(this.prev<Ot.finallyLoc)return zt(Ot.finallyLoc)}}}},abrupt:function(ct,Et){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var Xt=this.tryEntries[zt];if(Xt.tryLoc<=this.prev&&_t.call(Xt,"finallyLoc")&&this.prev<Xt.finallyLoc){var Ot=Xt;break}}Ot&&(ct==="break"||ct==="continue")&&Ot.tryLoc<=Et&&Et<=Ot.finallyLoc&&(Ot=null);var Bt=Ot?Ot.completion:{};return Bt.type=ct,Bt.arg=Et,Ot?(this.method="next",this.next=Ot.finallyLoc,ci):this.complete(Bt)},complete:function(ct,Et){if(ct.type==="throw")throw ct.arg;return ct.type==="break"||ct.type==="continue"?this.next=ct.arg:ct.type==="return"?(this.rval=this.arg=ct.arg,this.method="return",this.next="end"):ct.type==="normal"&&Et&&(this.next=Et),ci},finish:function(ct){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var zt=this.tryEntries[Et];if(zt.finallyLoc===ct)return this.complete(zt.completion,zt.afterLoc),Ie(zt),ci}},catch:function(ct){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var zt=this.tryEntries[Et];if(zt.tryLoc===ct){var Xt=zt.completion;if(Xt.type==="throw"){var Ot=Xt.arg;Ie(zt)}return Ot}}throw Error("illegal catch attempt")},delegateYield:function(ct,Et,zt){return this.delegate={iterator:gt(ct),resultName:Et,nextLoc:zt},this.method==="next"&&(this.arg=te),ci}},J}function ne(te,J,qe,_t,be,$e,st){try{var Ee=te[$e](st),Qe=Ee.value}catch(nt){return void qe(nt)}Ee.done?J(Qe):Promise.resolve(Qe).then(_t,be)}function Q(te){return function(){var J=this,qe=arguments;return new Promise(function(_t,be){var $e=te.apply(J,qe);function st(Qe){ne($e,_t,be,st,Ee,"next",Qe)}function Ee(Qe){ne($e,_t,be,st,Ee,"throw",Qe)}st(void 0)})}}function ee(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}function Me(te,J){for(var qe=0;qe<J.length;qe++){var _t=J[qe];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(te,ht(_t.key),_t)}}function pe(te,J,qe){return J&&Me(te.prototype,J),qe&&Me(te,qe),Object.defineProperty(te,"prototype",{writable:!1}),te}function W(te,J,qe){return J=xe(J),function(_t,be){if(be&&(E(be)=="object"||typeof be=="function"))return be;if(be!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($e){if($e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e}(_t)}(te,oe()?Reflect.construct(J,qe||[],xe(te).constructor):J.apply(te,qe))}function oe(){try{var te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(J){}return(oe=function(){return!!te})()}function fe(te,J,qe,_t){var be=Z(xe(1&_t?te.prototype:te),J,qe);return 2&_t&&typeof be=="function"?function($e){return be.apply(qe,$e)}:be}function Z(){return Z=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(te,J,qe){var _t=function($e,st){for(;!{}.hasOwnProperty.call($e,st)&&($e=xe($e))!==null;);return $e}(te,J);if(_t){var be=Object.getOwnPropertyDescriptor(_t,J);return be.get?be.get.call(arguments.length<3?te:qe):be.value}},Z.apply(null,arguments)}function xe(te){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},xe(te)}function Y(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),J&&he(te,J)}function he(te,J){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(qe,_t){return qe.__proto__=_t,qe},he(te,J)}function Ke(te,J,qe){return(J=ht(J))in te?Object.defineProperty(te,J,{value:qe,enumerable:!0,configurable:!0,writable:!0}):te[J]=qe,te}function ht(te){var J=function(qe,_t){if(E(qe)!="object"||!qe)return qe;var be=qe[Symbol.toPrimitive];if(be!==void 0){var $e=be.call(qe,"string");if(E($e)!="object")return $e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(qe)}(te);return E(J)=="symbol"?J:J+""}var lt,We,Se,Le,je,Ne,Ge,it=window.BookReader,Re=function(te){function J(){var be;ee(this,J);for(var $e=arguments.length,st=new Array($e),Ee=0;Ee<$e;Ee++)st[Ee]=arguments[Ee];return Ke(be=W(this,J,[].concat(st)),"options",{enabled:!0,openLibraryHost:"https://openlibrary.org",openLibraryId:"",internetArchiveId:"",olHost:"https://openlibrary.org",bookId:"{{bookId}}"}),Ke(be,"_tocEntries",void 0),Ke(be,"_chaptersPanel",void 0),be}return Y(J,te),pe(J,[{key:"setup",value:function(be){fe(J,"setup",this,3)([be]),this.options.internetArchiveId=this.options.internetArchiveId||this.options.bookId,this.options.openLibraryHost=this.options.openLibraryHost||this.options.olHost}},{key:"init",value:(_t=Q(K().mark(function be(){var $e,st,Ee,Qe,nt=this;return K().wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:if(this.options.enabled&&this.br.ui!=="embed"){Ut.next=2;break}return Ut.abrupt("return");case 2:if(st=null,($e=this.br.options.table_of_contents)===null||$e===void 0||!$e.length){Ut.next=7;break}st=this.br.options.table_of_contents,Ut.next=11;break;case 7:return Ut.next=9,this.getOpenLibraryRecord();case 9:(Qe=Ut.sent)!=null&&(Ee=Qe.table_of_contents)!==null&&Ee!==void 0&&Ee.length&&(st=Qe.table_of_contents);case 11:st&&(this._tocEntries=st.map(function(ut){return Object.assign({},ut,{pageIndex:typeof ut.leaf=="number"?nt.br.book.leafNumToIndex(ut.leaf):ut.pagenum?nt.br.book.getPageIndex(ut.pagenum):void 0})}),this._render(),this.br.bind(it.eventNames.pageChanged,function(){return nt._updateCurrent()}));case 12:case"end":return Ut.stop()}},be,this)})),function(){return _t.apply(this,arguments)})},{key:"_render",value:function(){var be=this;this.br.shell.menuProviders.chapters={id:"chapters",icon:(0,s.qy)(p||(p=q(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,s.qy)(g||(g=q([`<br-chapters-panel
        .contents="`,`"
        .jumpToPage="`,`"
        @connected="`,`"
      />`])),this._tocEntries,function($e){be._updateCurrent($e),be.br.jumpToIndex($e)},function($e){be._chaptersPanel=$e.target,be._updateCurrent()})},this.br.shell.addMenuShortcut("chapters"),this.br.shell.updateMenuContents(),this._tocEntries.forEach(function($e,st){return be._renderMarker($e,st)})}},{key:"_renderMarker",value:function(be,$e){var st=this;if(be.pageIndex!=null){var Ee=[be.label,be.title].filter(function(nt){return nt}).join(" ")||"Chapter ".concat($e+1),Qe=it.util.cssPercentage(be.pageIndex,this.br.book.getNumLeafs()-1);P("<div></div>").append(P("<div />").text(Ee).append(P('<div class="BRchapterPage" />').text(this.br.book.getPageName(be.pageIndex)))).addClass("BRchapter").css({left:Qe}).appendTo(this.br.$(".BRnavline")).on("mouseenter",function(nt){var Ut=nt.currentTarget,ut=Ut.querySelector("div"),mt=ut.getBoundingClientRect(),Mt=Ut.getBoundingClientRect(),ti=2*parseInt(getComputedStyle(ut).paddingLeft);mt.x-ti<0&&ut.style.setProperty("transform","translateX(-".concat(Mt.left-ti,"px)")),st.br.$(".BRsearch,.BRchapter").removeClass("front"),P(nt.target).addClass("front")}).on("mouseleave",function(nt){return P(nt.target).removeClass("front")}).on("click",function(){st._updateCurrent(be.pageIndex),st.br.jumpToIndex(be.pageIndex)}),this.br.$(".BRchapter, .BRsearch").each(function(nt,Ut){var ut=P(Ut);ut.on("mouseenter",function(){return ut.addClass("front")}).on("mouseleave",function(){return ut.removeClass("front")})})}}},{key:"getOpenLibraryRecord",value:(qe=Q(K().mark(function be(){var $e,st,Ee,Qe,nt,Ut;return K().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if($e=(0,S.g)(this.options.openLibraryHost,this.br.options.vars),!this.options.openLibraryId){ut.next=6;break}return st=(0,S.g)(this.options.openLibraryId,this.br.options.vars),ut.next=5,P.ajax({url:"".concat($e,"/books/").concat(st,".json")});case 5:return ut.abrupt("return",ut.sent);case 6:if(!this.options.internetArchiveId){ut.next=17;break}return Qe=(0,S.g)(this.options.internetArchiveId,this.br.options.vars),nt="".concat($e,"/query.json?type=/type/edition&*=&"),ut.next=11,P.ajax({url:nt+new URLSearchParams({ocaid:Qe,limit:"1"})});case 11:if((Ut=ut.sent)&&Ut.length){ut.next=16;break}return ut.next=15,P.ajax({url:nt+new URLSearchParams({source_records:"ia:".concat(Qe),limit:"1"})});case 15:Ut=ut.sent;case 16:return ut.abrupt("return",(Ee=Ut)===null||Ee===void 0?void 0:Ee[0]);case 17:return ut.abrupt("return",null);case 18:case"end":return ut.stop()}},be,this)})),function(){return qe.apply(this,arguments)})},{key:"_updateCurrent",value:function(){var be,$e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.br.mode==2?Math.max.apply(Math,function(Qe){if(Array.isArray(Qe))return G(Qe)}(be=this.br.displayedIndices)||N(be)||C(be)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()):this.br.firstIndex,st=this._tocEntries.filter(function(Qe){return Qe.pageIndex!=null}).reverse(),Ee=st[st.findIndex(function(Qe){return Qe.pageIndex<=$e})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=Ee)}}]);var qe,_t}(k.S);it==null||it.registerPlugin("chapters",Re),lt=[(0,l.EM)("br-chapters-panel")],We=s.WF,je=O(),Se=function(te){je.initializeInstanceElements(te,Ge.elements)},Ne={F:Le=function(te){function J(qe){var _t;return ee(this,J),_t=W(this,J),Se(_t),_t.contents=qe,_t}return Y(J,te),pe(J)}(We),d:[{kind:"field",decorators:[(0,l.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,l.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var te=this;return(0,s.qy)(m||(m=q([`
    <ol>
      `,`
    </ol>
    `])),this.contents.map(function(J){return te.renderTOCEntry(J)}))}},{kind:"method",key:"renderTOCEntry",value:function(te){var J,qe=this,_t=[te.label,te.title].filter(function($e){return $e}).join(" "),be=te.pageIndex!=null;return(0,s.qy)(y||(y=q([`
    <li
      class="
        BRtable-contents-el
        `,`
        `,`
      "
      style="`,`"
      data-event-click-tracking="`,`"
      @click="`,`"
    >
      `,`
      `,`
    </li>`])),be?"clickable":"",te==this.currentChapter?"current":"",(0,c.W)({marginLeft:10*(te.level-1)+"px"}),(J=be?"BRTOCPanel|GoToChapter":void 0)!=null?J:o.s6,function(){return qe.jumpToPage(te.pageIndex)},_t,te.pagenum?(0,s.qy)(x||(x=q([`
        <br />
        <span class="BRTOCElementPage">Page `,`</span>
      `])),te.pagenum):s.s6)}},{kind:"method",key:"connectedCallback",value:function(){fe(Le,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(te){var J;te.has("currentChapter")&&((J=this.shadowRoot.querySelector("li.current"))===null||J===void 0||J.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,s.AH)(w||(w=q([`
      ol {
        padding: 0;
        margin: 0;
        margin-right: 5px;
      }
      li {
        padding: 10px;
        overflow: hidden;
        border-radius: 4px;
      }
      li.clickable {
        font-weight: normal;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      li.clickable:not(.current):hover {
        background-color: rgba(255,255,255, 0.05);
      }

      li.current {
        background-color: rgba(255,255,255,0.9);
        color: #333;
      }

      .BRTOCElementPage {
        font-size: 0.85em;
        opacity: .8;
      }`])))}}]},Ge=je.decorateClass(function(te){for(var J=[],qe=function(st){return st.kind==="method"&&st.key===$e.key&&st.placement===$e.placement},_t=0;_t<te.length;_t++){var be,$e=te[_t];if($e.kind==="method"&&(be=J.find(qe)))if(d($e.descriptor)||d(be.descriptor)){if(v($e)||v(be))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");be.descriptor=$e.descriptor}else{if(v($e)){if(v(be))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");be.decorators=$e.decorators}h($e,be)}else J.push($e)}return J}(Ne.d.map(a)),lt),je.initializeClassElements(Ne.F,Ge.elements),je.runClassFinishers(Ne.F,Ge.finishers)},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return s(P,E);var O={}.toString.call(P).slice(8,-1);return O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?s(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=9220)}]);lw=j7,{default:cw}=lw,N7=nn(lw,["default"]),uw=cw!==void 0?cw:N7;});var dw={};Ln(dw,{default:()=>uw});var hw=Zt(()=>{wm();wm()});var B7,pw,fw,H7,mw,xm=Zt(()=>{B7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},2763:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(6033),r(479),r(8130),r(9085),r(875),r(6099),r(8459),r(3362),r(825),r(7495),r(8781),r(9449),r(7764),r(2762),r(3500),r(2953);var s=r(4907),l=r(1669);function o(Le){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},o(Le)}function c(Le,je){for(var Ne=0;Ne<je.length;Ne++){var Ge=je[Ne];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(Le,u(Ge.key),Ge)}}function n(Le,je,Ne){return(je=u(je))in Le?Object.defineProperty(Le,je,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Le[je]=Ne,Le}function u(Le){var je=function(Ne,Ge){if(o(Ne)!="object"||!Ne)return Ne;var it=Ne[Symbol.toPrimitive];if(it!==void 0){var Re=it.call(Ne,"string");if(o(Re)!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(Le);return o(je)=="symbol"?je:je+""}var p=function(){return Le=function Ne(Ge,it){var Re=this;(function(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")})(this,Ne),n(this,"selecting",!1),n(this,"startedInSelector",!1),n(this,"target",null),n(this,"_onSelectionChange",function(){var te=window.getSelection();if(!Re.selecting&&te.toString()){var J=l(te.anchorNode).closest(Re.selector)[0];if(!J)return;Re.target=J,Re.selecting=!0,Re.handler("started",Re.target)}!Re.selecting||!te.isCollapsed&&te.toString()&&l(te.anchorNode).closest(Re.selector)[0]||(Re.selecting=!1,Re.handler("cleared",Re.target))}),this.selector=Ge,this.handler=it},(je=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&c(Le.prototype,je),Object.defineProperty(Le,"prototype",{writable:!1}),Le;var Le,je}(),g=r(1041),m=r(9073),y=r(1669);function x(Le){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},x(Le)}var w=d().mark(Y),k=d().mark(he),S=d().mark(Ke),P=d().mark(ht),E=d().mark(Se);function O(Le,je){return function(Ne){if(Array.isArray(Ne))return Ne}(Le)||function(Ne,Ge){var it=Ne==null?null:typeof Symbol<"u"&&Ne[Symbol.iterator]||Ne["@@iterator"];if(it!=null){var Re,te,J,qe,_t=[],be=!0,$e=!1;try{if(J=(it=it.call(Ne)).next,Ge===0){if(Object(it)!==it)return;be=!1}else for(;!(be=(Re=J.call(it)).done)&&(_t.push(Re.value),_t.length!==Ge);be=!0);}catch(st){$e=!0,te=st}finally{try{if(!be&&it.return!=null&&(qe=it.return(),Object(qe)!==qe))return}finally{if($e)throw te}}return _t}}(Le,je)||h(Le,je)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(Le,je){var Ne=typeof Symbol<"u"&&Le[Symbol.iterator]||Le["@@iterator"];if(!Ne){if(Array.isArray(Le)||(Ne=h(Le))||je&&Le&&typeof Le.length=="number"){Ne&&(Le=Ne);var Ge=0,it=function(){};return{s:it,n:function(){return Ge>=Le.length?{done:!0}:{done:!1,value:Le[Ge++]}},e:function(qe){throw qe},f:it}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Re,te=!0,J=!1;return{s:function(){Ne=Ne.call(Le)},n:function(){var qe=Ne.next();return te=qe.done,qe},e:function(qe){J=!0,Re=qe},f:function(){try{te||Ne.return==null||Ne.return()}finally{if(J)throw Re}}}}function h(Le,je){if(Le){if(typeof Le=="string")return v(Le,je);var Ne={}.toString.call(Le).slice(8,-1);return Ne==="Object"&&Le.constructor&&(Ne=Le.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(Le):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?v(Le,je):void 0}}function v(Le,je){(je==null||je>Le.length)&&(je=Le.length);for(var Ne=0,Ge=Array(je);Ne<je;Ne++)Ge[Ne]=Le[Ne];return Ge}function d(){d=function(){return je};var Le,je={},Ne=Object.prototype,Ge=Ne.hasOwnProperty,it=Object.defineProperty||function(Ze,dt,ae){Ze[dt]=ae.value},Re=typeof Symbol=="function"?Symbol:{},te=Re.iterator||"@@iterator",J=Re.asyncIterator||"@@asyncIterator",qe=Re.toStringTag||"@@toStringTag";function _t(Ze,dt,ae){return Object.defineProperty(Ze,dt,{value:ae,enumerable:!0,configurable:!0,writable:!0}),Ze[dt]}try{_t({},"")}catch(Ze){_t=function(dt,ae,Ie){return dt[ae]=Ie}}function be(Ze,dt,ae,Ie){var Ue=dt&&dt.prototype instanceof ut?dt:ut,gt=Object.create(Ue.prototype),ct=new ke(Ie||[]);return it(gt,"_invoke",{value:St(Ze,ae,ct)}),gt}function $e(Ze,dt,ae){try{return{type:"normal",arg:Ze.call(dt,ae)}}catch(Ie){return{type:"throw",arg:Ie}}}je.wrap=be;var st="suspendedStart",Ee="suspendedYield",Qe="executing",nt="completed",Ut={};function ut(){}function mt(){}function Mt(){}var ti={};_t(ti,te,function(){return this});var oi=Object.getPrototypeOf,ci=oi&&oi(oi(Ye([])));ci&&ci!==Ne&&Ge.call(ci,te)&&(ti=ci);var Lt=Mt.prototype=ut.prototype=Object.create(ti);function It(Ze){["next","throw","return"].forEach(function(dt){_t(Ze,dt,function(ae){return this._invoke(dt,ae)})})}function Ct(Ze,dt){function ae(Ue,gt,ct,Et){var zt=$e(Ze[Ue],Ze,gt);if(zt.type!=="throw"){var Xt=zt.arg,Ot=Xt.value;return Ot&&x(Ot)=="object"&&Ge.call(Ot,"__await")?dt.resolve(Ot.__await).then(function(Bt){ae("next",Bt,ct,Et)},function(Bt){ae("throw",Bt,ct,Et)}):dt.resolve(Ot).then(function(Bt){Xt.value=Bt,ct(Xt)},function(Bt){return ae("throw",Bt,ct,Et)})}Et(zt.arg)}var Ie;it(this,"_invoke",{value:function(Ue,gt){function ct(){return new dt(function(Et,zt){ae(Ue,gt,Et,zt)})}return Ie=Ie?Ie.then(ct,ct):ct()}})}function St(Ze,dt,ae){var Ie=st;return function(Ue,gt){if(Ie===Qe)throw Error("Generator is already running");if(Ie===nt){if(Ue==="throw")throw gt;return{value:Le,done:!0}}for(ae.method=Ue,ae.arg=gt;;){var ct=ae.delegate;if(ct){var Et=kt(ct,ae);if(Et){if(Et===Ut)continue;return Et}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(Ie===st)throw Ie=nt,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);Ie=Qe;var zt=$e(Ze,dt,ae);if(zt.type==="normal"){if(Ie=ae.done?nt:Ee,zt.arg===Ut)continue;return{value:zt.arg,done:ae.done}}zt.type==="throw"&&(Ie=nt,ae.method="throw",ae.arg=zt.arg)}}}function kt(Ze,dt){var ae=dt.method,Ie=Ze.iterator[ae];if(Ie===Le)return dt.delegate=null,ae==="throw"&&Ze.iterator.return&&(dt.method="return",dt.arg=Le,kt(Ze,dt),dt.method==="throw")||ae!=="return"&&(dt.method="throw",dt.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),Ut;var Ue=$e(Ie,Ze.iterator,dt.arg);if(Ue.type==="throw")return dt.method="throw",dt.arg=Ue.arg,dt.delegate=null,Ut;var gt=Ue.arg;return gt?gt.done?(dt[Ze.resultName]=gt.value,dt.next=Ze.nextLoc,dt.method!=="return"&&(dt.method="next",dt.arg=Le),dt.delegate=null,Ut):gt:(dt.method="throw",dt.arg=new TypeError("iterator result is not an object"),dt.delegate=null,Ut)}function I(Ze){var dt={tryLoc:Ze[0]};1 in Ze&&(dt.catchLoc=Ze[1]),2 in Ze&&(dt.finallyLoc=Ze[2],dt.afterLoc=Ze[3]),this.tryEntries.push(dt)}function Ve(Ze){var dt=Ze.completion||{};dt.type="normal",delete dt.arg,Ze.completion=dt}function ke(Ze){this.tryEntries=[{tryLoc:"root"}],Ze.forEach(I,this),this.reset(!0)}function Ye(Ze){if(Ze||Ze===""){var dt=Ze[te];if(dt)return dt.call(Ze);if(typeof Ze.next=="function")return Ze;if(!isNaN(Ze.length)){var ae=-1,Ie=function Ue(){for(;++ae<Ze.length;)if(Ge.call(Ze,ae))return Ue.value=Ze[ae],Ue.done=!1,Ue;return Ue.value=Le,Ue.done=!0,Ue};return Ie.next=Ie}}throw new TypeError(x(Ze)+" is not iterable")}return mt.prototype=Mt,it(Lt,"constructor",{value:Mt,configurable:!0}),it(Mt,"constructor",{value:mt,configurable:!0}),mt.displayName=_t(Mt,qe,"GeneratorFunction"),je.isGeneratorFunction=function(Ze){var dt=typeof Ze=="function"&&Ze.constructor;return!!dt&&(dt===mt||(dt.displayName||dt.name)==="GeneratorFunction")},je.mark=function(Ze){return Object.setPrototypeOf?Object.setPrototypeOf(Ze,Mt):(Ze.__proto__=Mt,_t(Ze,qe,"GeneratorFunction")),Ze.prototype=Object.create(Lt),Ze},je.awrap=function(Ze){return{__await:Ze}},It(Ct.prototype),_t(Ct.prototype,J,function(){return this}),je.AsyncIterator=Ct,je.async=function(Ze,dt,ae,Ie,Ue){Ue===void 0&&(Ue=Promise);var gt=new Ct(be(Ze,dt,ae,Ie),Ue);return je.isGeneratorFunction(dt)?gt:gt.next().then(function(ct){return ct.done?ct.value:gt.next()})},It(Lt),_t(Lt,qe,"Generator"),_t(Lt,te,function(){return this}),_t(Lt,"toString",function(){return"[object Generator]"}),je.keys=function(Ze){var dt=Object(Ze),ae=[];for(var Ie in dt)ae.push(Ie);return ae.reverse(),function Ue(){for(;ae.length;){var gt=ae.pop();if(gt in dt)return Ue.value=gt,Ue.done=!1,Ue}return Ue.done=!0,Ue}},je.values=Ye,ke.prototype={constructor:ke,reset:function(Ze){if(this.prev=0,this.next=0,this.sent=this._sent=Le,this.done=!1,this.delegate=null,this.method="next",this.arg=Le,this.tryEntries.forEach(Ve),!Ze)for(var dt in this)dt.charAt(0)==="t"&&Ge.call(this,dt)&&!isNaN(+dt.slice(1))&&(this[dt]=Le)},stop:function(){this.done=!0;var Ze=this.tryEntries[0].completion;if(Ze.type==="throw")throw Ze.arg;return this.rval},dispatchException:function(Ze){if(this.done)throw Ze;var dt=this;function ae(zt,Xt){return gt.type="throw",gt.arg=Ze,dt.next=zt,Xt&&(dt.method="next",dt.arg=Le),!!Xt}for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var Ue=this.tryEntries[Ie],gt=Ue.completion;if(Ue.tryLoc==="root")return ae("end");if(Ue.tryLoc<=this.prev){var ct=Ge.call(Ue,"catchLoc"),Et=Ge.call(Ue,"finallyLoc");if(ct&&Et){if(this.prev<Ue.catchLoc)return ae(Ue.catchLoc,!0);if(this.prev<Ue.finallyLoc)return ae(Ue.finallyLoc)}else if(ct){if(this.prev<Ue.catchLoc)return ae(Ue.catchLoc,!0)}else{if(!Et)throw Error("try statement without catch or finally");if(this.prev<Ue.finallyLoc)return ae(Ue.finallyLoc)}}}},abrupt:function(Ze,dt){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var Ie=this.tryEntries[ae];if(Ie.tryLoc<=this.prev&&Ge.call(Ie,"finallyLoc")&&this.prev<Ie.finallyLoc){var Ue=Ie;break}}Ue&&(Ze==="break"||Ze==="continue")&&Ue.tryLoc<=dt&&dt<=Ue.finallyLoc&&(Ue=null);var gt=Ue?Ue.completion:{};return gt.type=Ze,gt.arg=dt,Ue?(this.method="next",this.next=Ue.finallyLoc,Ut):this.complete(gt)},complete:function(Ze,dt){if(Ze.type==="throw")throw Ze.arg;return Ze.type==="break"||Ze.type==="continue"?this.next=Ze.arg:Ze.type==="return"?(this.rval=this.arg=Ze.arg,this.method="return",this.next="end"):Ze.type==="normal"&&dt&&(this.next=dt),Ut},finish:function(Ze){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var ae=this.tryEntries[dt];if(ae.finallyLoc===Ze)return this.complete(ae.completion,ae.afterLoc),Ve(ae),Ut}},catch:function(Ze){for(var dt=this.tryEntries.length-1;dt>=0;--dt){var ae=this.tryEntries[dt];if(ae.tryLoc===Ze){var Ie=ae.completion;if(Ie.type==="throw"){var Ue=Ie.arg;Ve(ae)}return Ue}}throw Error("illegal catch attempt")},delegateYield:function(Ze,dt,ae){return this.delegate={iterator:Ye(Ze),resultName:dt,nextLoc:ae},this.method==="next"&&(this.arg=Le),Ut}},je}function _(Le,je,Ne,Ge,it,Re,te){try{var J=Le[Re](te),qe=J.value}catch(_t){return void Ne(_t)}J.done?je(qe):Promise.resolve(qe).then(Ge,it)}function C(Le){return function(){var je=this,Ne=arguments;return new Promise(function(Ge,it){var Re=Le.apply(je,Ne);function te(qe){_(Re,Ge,it,te,J,"next",qe)}function J(qe){_(Re,Ge,it,te,J,"throw",qe)}te(void 0)})}}function N(Le,je,Ne){return je=q(je),function(Ge,it){if(it&&(x(it)=="object"||typeof it=="function"))return it;if(it!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}(Ge)}(Le,G()?Reflect.construct(je,Ne||[],q(Le).constructor):je.apply(Le,Ne))}function G(){try{var Le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(je){}return(G=function(){return!!Le})()}function q(Le){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(je){return je.__proto__||Object.getPrototypeOf(je)},q(Le)}function K(Le,je){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,Ge){return Ne.__proto__=Ge,Ne},K(Le,je)}function ne(Le,je,Ne){return(je=pe(je))in Le?Object.defineProperty(Le,je,{value:Ne,enumerable:!0,configurable:!0,writable:!0}):Le[je]=Ne,Le}function Q(Le,je){if(!(Le instanceof je))throw new TypeError("Cannot call a class as a function")}function ee(Le,je){for(var Ne=0;Ne<je.length;Ne++){var Ge=je[Ne];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(Le,pe(Ge.key),Ge)}}function Me(Le,je,Ne){return je&&ee(Le.prototype,je),Ne&&ee(Le,Ne),Object.defineProperty(Le,"prototype",{writable:!1}),Le}function pe(Le){var je=function(Ne,Ge){if(x(Ne)!="object"||!Ne)return Ne;var it=Ne[Symbol.toPrimitive];if(it!==void 0){var Re=it.call(Ne,"string");if(x(Re)!="object")return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(Le);return x(je)=="symbol"?je:je+""}var W=window.BookReader,oe=function(){return Me(function Le(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;Q(this,Le),this.maxSize=je,this.entries=[]},[{key:"add",value:function(Le){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(Le)}}])}(),fe=function(Le){function je(it){var Re;return Q(this,je),ne(Re=N(this,je,[it]),"options",{enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1,maxProtectedWords:200}),ne(Re,"djvuPagesPromise",null),ne(Re,"pageTextCache",new oe),ne(Re,"maxWordRendered",2500),ne(Re,"_limitSelection",function(){var te=window.getSelection();if(te.rangeCount){var J=te.getRangeAt(0),qe=!!J.startContainer.parentElement.closest(".BRcontainer"),_t=!!J.endContainer.parentElement.closest(".BRcontainer");if(qe||_t)if(qe&&_t){var be=function(st,Ee){var Qe,nt=0,Ut=a(st);try{for(Ut.s();!(Qe=Ut.n()).done;){var ut=Qe.value;if(nt==Ee)return ut;nt++}}catch(mt){Ut.e(mt)}finally{Ut.f()}}(Y(Se(J.startContainer,J.endContainer),function(st){var Ee;return(Ee=st.classList)===null||Ee===void 0?void 0:Ee.contains("BRwordElement")}),Re.options.maxProtectedWords-1);if(be&&J.endContainer.parentNode!=be){var $e=document.createRange();$e.setStart(J.startContainer,J.startOffset),$e.setEnd(be.firstChild,be.textContent.length),te.removeAllRanges(),te.addRange($e)}}else te.removeAllRanges()}}),ne(Re,"_onSelectionChange",function(te,J){if(te==="started")Re.textSelectingMode(J);else{if(te!=="cleared")throw new Error("Unknown type ".concat(te));Re.defaultMode(J)}}),Re.rtl=Re.br.pageProgression==="rl",Re.selectionObserver=new p(".BRtextLayer",Re._onSelectionChange),Re}return function(it,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(Re&&Re.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),Re&&K(it,Re)}(je,Le),Me(je,[{key:"init",value:function(){var it=this;this.options.enabled&&(this.loadData(),this.selectionObserver.attach(),new p(".BRtextLayer",function(Re){var te;Re=="started"&&((te=it.br.plugins.archiveAnalytics)===null||te===void 0||te.sendEvent("BookReader","SelectStart"),it.br.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),y(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach(),this.br.protected&&(document.addEventListener("selectionchange",this._limitSelection),y(document.body).on("contextmenu dragstart copy",function(Re){var te=document.getSelection();if(te!=null&&te.toString()&&y(".BRtextLayer").toArray().some(function(J){return te.containsNode(J,!0)}))return Re.preventDefault(),!1})))}},{key:"_configurePageContainer",value:function(it){return this.br.mode!==this.br.constModeThumb&&it.page&&this.createTextLayer(it),it}},{key:"loadData",value:function(){this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=y.ajax({type:"GET",url:(0,m.g)(this.options.fullDjvuXmlUrl,this.br.options.vars),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(it){}}).then(function(it){try{var Re=y.parseXML(it);return Re&&y(Re).find("OBJECT")}catch(te){return}}))}},{key:"getPageText",value:(Ge=C(d().mark(function it(Re){var te,J,qe,_t,be;return d().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(!this.options.singlePageDjvuXmlUrl){$e.next=19;break}if(!(te=this.pageTextCache.entries.find(function(st){return st.index==Re}))){$e.next=4;break}return $e.abrupt("return",te.response);case 4:return $e.next=6,y.ajax({type:"GET",url:(0,m.g)(this.options.singlePageDjvuXmlUrl,this.br.options.vars,{pageIndex:Re}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(st){}});case 6:return J=$e.sent,$e.prev=7,qe=y.parseXML(J),_t=qe&&y(qe).find("OBJECT")[0],this.pageTextCache.add({index:Re,response:_t}),$e.abrupt("return",_t);case 14:return $e.prev=14,$e.t0=$e.catch(7),$e.abrupt("return",void 0);case 17:$e.next=24;break;case 19:return $e.next=21,this.djvuPagesPromise;case 21:if(!(be=$e.sent)){$e.next=24;break}return $e.abrupt("return",be[Re]);case 24:case"end":return $e.stop()}},it,this,[[7,14]])})),function(it){return Ge.apply(this,arguments)})},{key:"interceptCopy",value:function(it){it[0].addEventListener("copy",function(Re){var te=document.getSelection();Re.clipboardData.setData("text/plain",te.toString()),Re.preventDefault()})}},{key:"defaultMode",value:function(it){var Re=this,te=y(it).closest(".BRpagecontainer");it.style.pointerEvents="none",te.find("img").css("pointer-events","auto"),y(it).off(".textSelectPluginHandler");var J=this.mouseIsDown,qe=this.mouseIsDown;J&&(it.style.pointerEvents="auto"),y(it).on("mousedown.textSelectPluginHandler",function(_t){Re.mouseIsDown=!0,y(_t.target).is(".BRwordElement, .BRspace")&&_t.stopPropagation()}),y(it).on("mouseup.textSelectPluginHandler",function(_t){Re.mouseIsDown=!1,it.style.pointerEvents="none",qe&&(qe=!1,_t.stopPropagation())})}},{key:"textSelectingMode",value:function(it){var Re=this,te=y(it).closest(".BRpagecontainer");it.style.pointerEvents="all",te.find("img").css("pointer-events","none"),y(it).off(".textSelectPluginHandler"),y(it).on("mousedown.textSelectPluginHandler",function(J){Re.mouseIsDown=!0,J.stopPropagation()}),y(it).on("mouseup.textSelectPluginHandler",function(J){Re.mouseIsDown=!1,J.stopPropagation()})}},{key:"stopPageFlip",value:function(it){var Re=this,te=it.find(".BRtextLayer");te.length&&(te.each(function(J,qe){return Re.defaultMode(qe)}),this.br.protected||this.interceptCopy(it))}},{key:"createTextLayer",value:(Ne=C(d().mark(function it(Re){var te,J,qe,_t,be,$e,st,Ee,Qe,nt,Ut,ut,mt,Mt,ti,oi,ci,Lt,It,Ct,St,kt,I,Ve,ke=this;return d().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(te=Re.page.index,!(J=Re.$container).find(".BRtextLayer").length){Ye.next=5;break}return Ye.abrupt("return");case 5:return Ye.next=7,this.getPageText(te);case 7:if(qe=Ye.sent){Ye.next=10;break}return Ye.abrupt("return");case 10:if(lt(qe),!((_t=y(qe).find("WORD").length)>this.maxWordRendered)){Ye.next=15;break}return console.log("Page ".concat(te," has too many words (").concat(_t," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ye.abrupt("return");case 15:be=(0,s.Ql)(Re.page,"BRtextLayer"),$e=parseFloat(Re.$container[0].style.width)/Re.page.width,st=parseFloat(Re.$container[0].style.height)/Re.page.height,be.style.transform="scale(".concat($e,", ").concat(st,")"),be.setAttribute("dir",this.rtl?"rtl":"ltr"),Ee=y(qe).find("PARAGRAPH[coords]").toArray(),Qe=Ee.map(function(Ze){var dt=ke.renderParagraph(Ze);return be.appendChild(dt),dt}),nt=Z(be,".BRparagraphElement"),Ut=0,ut=a(ht(Ee,Qe));try{for(ut.s();!(mt=ut.n()).done;)Mt=O(mt.value,2),ti=Mt[0],oi=Mt[1],ci=y(ti).attr("coords").split(",").map(parseFloat),Lt=nt.get(oi),It=O(ci,4),Ct=It[0],St=It[2],kt=It[3],I=this.rtl?Lt.right-St:Ct-Lt.left,Ve=kt-(Lt.top+Ut),oi.style[this.rtl?"marginRight":"marginLeft"]="".concat(I,"px"),oi.style.marginTop="".concat(Ve,"px"),Ut+=Ve,be.appendChild(oi)}catch(Ze){ut.e(Ze)}finally{ut.f()}J.append(be),this.stopPageFlip(J);case 28:case"end":return Ye.stop()}},it,this)})),function(it){return Ne.apply(this,arguments)})},{key:"renderParagraph",value:function(it){var Re=document.createElement("p");Re.classList.add("BRparagraphElement");var te=O(y(it).attr("coords").split(",").map(parseFloat),4),J=te[0],qe=te[1],_t=te[2],be=te[3],$e=[],st=y(it).find("LINE[coords]").toArray();if(!st.length)return Re;var Ee,Qe=a(Ke(he(st,xe)));try{for(Qe.s();!(Ee=Qe.n()).done;){var nt=O(Ee.value,3),Ut=nt[0],ut=nt[1],mt=nt[2],Mt=ut.ocrElement==st[st.length-1],ti=document.createElement("span");ti.classList.add("BRlineElement");var oi,ci=a(ut.words.entries());try{for(ci.s();!(oi=ci.n()).done;){var Lt=O(oi.value,2),It=Lt[0],Ct=Lt[1],St=O(y(Ct).attr("coords").split(",").map(parseFloat),4),kt=St[1],I=St[2],Ve=St[3],ke=kt-Ve;if($e.push(ke),It==0&&Ut!=null&&Ut.lastWord.textContent.trim().endsWith("-")){var Ye=O(y((mt||Ut).firstWord).attr("coords").split(",").map(parseFloat),3)[0];y(Ct).attr("coords","".concat(Ye,",").concat(kt,",").concat(I,",").concat(Ve))}var Ze=document.createElement("span");if(Ze.setAttribute("class","BRwordElement"),Ze.textContent=Ct.textContent.trim(),It>0){var dt=document.createElement("span");dt.classList.add("BRspace"),dt.textContent=" ",ti.append(dt),ti.appendChild(document.createTextNode(" "))}ti.appendChild(Ze)}}catch($r){ci.e($r)}finally{ci.f()}var ae=ut.lastWord.textContent.trim().endsWith("-"),Ie=ti.children[ti.children.length-1];ae&&!Mt&&(Ie.textContent=Ie.textContent.trim().slice(0,-1),Ie.classList.add("BRwordElement--hyphen")),Re.appendChild(ti),Mt||ae||Re.appendChild(document.createTextNode(" "))}}catch($r){Qe.e($r)}finally{Qe.f()}$e.sort(function($r,Rr){return $r-Rr});var Ue=$e[Math.floor(.85*$e.length)]+4;Re.style.left="".concat(J,"px"),Re.style.top="".concat(be,"px"),Re.style.width="".concat(_t-J,"px"),Re.style.height="".concat(qe-be,"px"),Re.style.fontSize="".concat(Ue,"px");var gt,ct=Z(Re,".BRwordElement"),Et=a(ht(y(it).find("WORD").toArray(),Re.querySelectorAll(".BRwordElement")));try{for(Et.s();!(gt=Et.n()).done;){var zt=O(gt.value,2),Xt=zt[0],Ot=zt[1],Bt=ct.get(Ot),Xe=O(y(Xt).attr("coords").split(",").map(parseFloat),3),De=Xe[0],Fe=Xe[2]-De;Xt.textContent.endsWith(" ")&&(Fe=Fe*(Xt.textContent.length-1)/Xt.textContent.length);var et=Fe-Bt.width;Ot.style.letterSpacing="".concat(et/(Xt.textContent.length-1),"px")}}catch($r){Et.e($r)}finally{Et.f()}ct=Z(Re,".BRwordElement");var Pt,Nt,Je=Z(Re,".BRspace"),wt=y(it).find("LINE[coords]").toArray(),At=Array.from(Re.querySelectorAll(".BRlineElement")),Kt=be,Jt=a(ht(wt,At));try{for(Jt.s();!(Pt=Jt.n()).done;){var Ai,Si=O(Pt.value,2),Mi=Si[0],Gt=Si[1],wi=y(Mi).find("WORD").toArray(),Ti=this.rtl?_t:J,Fi=a(ht(wi,Gt.querySelectorAll(".BRwordElement")));try{for(Fi.s();!(Ai=Fi.n()).done;){var fr=O(Ai.value,2),Zi=fr[0],lr=fr[1],Er=ct.get(lr),or=O(y(Zi).attr("coords").split(",").map(parseFloat),3),vr=or[0],_r=or[2],Pr=this.rtl?-(_r-Ti):vr-Ti;if(lr.previousElementSibling){var Zr=lr.previousElementSibling;Zr.style.letterSpacing="".concat(Pr-Je.get(Zr).width,"px")}else lr.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(Pr,"px");this.rtl?Ti-=Pr+Er.width:Ti+=Pr+Er.width}}catch($r){Fi.e($r)}finally{Fi.f()}var sn=Math.min.apply(Math,function($r){if(Array.isArray($r))return v($r)}(Nt=wi.map(function($r){return parseFloat(y($r).attr("coords").split(",")[3])}))||function($r){if(typeof Symbol<"u"&&$r[Symbol.iterator]!=null||$r["@@iterator"]!=null)return Array.from($r)}(Nt)||h(Nt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())-Kt;Gt.previousElementSibling&&(Gt.previousElementSibling.style.lineHeight="".concat(sn,"px"),Kt+=sn)}}catch($r){Jt.e($r)}finally{Jt.f()}return At[At.length-1].style.lineHeight="".concat(qe-Kt,"px"),Re.appendChild(document.createElement("br")),Re}}]);var Ne,Ge}(g.S);function Z(Le,je){var Ne={position:Le.style.position,visibility:Le.style.visibility,top:Le.style.top,left:Le.style.left,transform:Le.style.transform};Le.style.position="absolute",Le.style.visibility="hidden",Le.style.top="0",Le.style.left="0",Le.style.transform="none",document.body.appendChild(Le);var Ge=new Map(Array.from(Le.querySelectorAll(je)).map(function(it){var Re=it.getBoundingClientRect();return[it,new We(Re.left+window.scrollX,Re.top+window.scrollY,Re.width,Re.height)]}));return document.body.removeChild(Le),Object.assign(Le.style,Ne),Ge}function xe(Le){var je=y(Le).find("WORD").toArray();return{ocrElement:Le,words:je,firstWord:je[0],lastWord:je[je.length-1]}}function Y(Le,je){var Ne,Ge,it;return d().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:Ne=a(Le),Re.prev=1,Ne.s();case 3:if((Ge=Ne.n()).done){Re.next=10;break}if(it=Ge.value,!je(it)){Re.next=8;break}return Re.next=8,it;case 8:Re.next=3;break;case 10:Re.next=15;break;case 12:Re.prev=12,Re.t0=Re.catch(1),Ne.e(Re.t0);case 15:return Re.prev=15,Ne.f(),Re.finish(15);case 18:case"end":return Re.stop()}},w,null,[[1,12,15,18]])}function he(Le,je){var Ne,Ge,it;return d().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:Ne=a(Le),Re.prev=1,Ne.s();case 3:if((Ge=Ne.n()).done){Re.next=9;break}return it=Ge.value,Re.next=7,je(it);case 7:Re.next=3;break;case 9:Re.next=14;break;case 11:Re.prev=11,Re.t0=Re.catch(1),Ne.e(Re.t0);case 14:return Re.prev=14,Ne.f(),Re.finish(14);case 17:case"end":return Re.stop()}},k,null,[[1,11,14,17]])}function Ke(Le){var je,Ne,Ge,it,Re,te;return d().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:je=void 0,Ne=void 0,Ge=void 0,it=a(Le),J.prev=4,it.s();case 6:if((Re=it.n()).done){J.next=17;break}if(te=Re.value,Ne===void 0){J.next=12;break}return Ge=te,J.next=12,[je,Ne,Ge];case 12:je=Ne,Ne=te,Ge=void 0;case 15:J.next=6;break;case 17:J.next=22;break;case 19:J.prev=19,J.t0=J.catch(4),it.e(J.t0);case 22:return J.prev=22,it.f(),J.finish(22);case 25:if(Ne===void 0){J.next=28;break}return J.next=28,[je,Ne,Ge];case 28:case"end":return J.stop()}},S,null,[[4,19,22,25]])}function ht(Le,je){var Ne,Ge,it,Re;return d().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:Ne=Le[Symbol.iterator](),Ge=je[Symbol.iterator]();case 2:if(it=Ne.next(),Re=Ge.next(),!it.done||!Re.done){te.next=7;break}return te.abrupt("return");case 7:if(!it.done&&!Re.done){te.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return te.next=11,[it.value,Re.value];case 11:te.next=2;break;case 13:case"end":return te.stop()}},P)}function lt(Le){if(!y(Le).attr("coords")&&Le.children){var je=y(Le).children().toArray();if(je.length!==0){var Ne,Ge=a(je);try{for(Ge.s();!(Ne=Ge.n()).done;)lt(Ne.value)}catch(_t){Ge.e(_t)}finally{Ge.f()}var it,Re=[],te=a(je);try{for(te.s();!(it=te.n()).done;){var J=it.value;y(J).attr("coords")&&Re.push(y(J).attr("coords").split(",").map(parseFloat))}}catch(_t){te.e(_t)}finally{te.f()}var qe=function(_t){var be,$e=1/0,st=-1/0,Ee=-1/0,Qe=1/0,nt=a(_t);try{for(nt.s();!(be=nt.n()).done;){var Ut=O(be.value,4),ut=Ut[0],mt=Ut[1],Mt=Ut[2],ti=Ut[3];$e=Math.min($e,ut),st=Math.max(st,mt),Ee=Math.max(Ee,Mt),Qe=Math.min(Qe,ti)}}catch(oi){nt.e(oi)}finally{nt.f()}return[$e,st,Ee,Qe]}(Re);Math.abs(qe[0])!=1/0&&y(Le).attr("coords",qe.join(","))}}}W==null||W.registerPlugin("textSelection",fe);var We=function(){return Me(function Le(je,Ne,Ge,it){Q(this,Le),this.x=je,this.y=Ne,this.width=Ge,this.height=it},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}();function Se(Le,je){var Ne,Ge;return d().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return Ge=function(Re){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=te.children,qe=J===void 0||J,_t=te.parents,be=_t===void 0||_t,$e=te.siblings,st=$e===void 0||$e;return d().mark(function Ee(){var Qe;return d().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(Re!==je){nt.next=5;break}return Ne=!0,nt.next=4,Re;case 4:return nt.abrupt("return");case 5:return nt.next=7,Re;case 7:if(!qe||!Re.firstChild){nt.next=11;break}return nt.delegateYield(Ge(Re.firstChild,{children:!0,parents:!1,siblings:!0}),"t0",9);case 9:if(!Ne){nt.next=11;break}return nt.abrupt("return");case 11:if(!st){nt.next=20;break}Qe=Re.nextSibling;case 13:if(!Qe){nt.next=20;break}return nt.delegateYield(Ge(Qe,{children:!0,parents:!1,siblings:!1}),"t1",15);case 15:if(!Ne){nt.next=17;break}return nt.abrupt("return");case 17:Qe=Qe.nextSibling,nt.next=13;break;case 20:if(!be||!Re.parentNode){nt.next=24;break}return nt.delegateYield(Ge(Re.parentNode,{children:!1,parents:!0,siblings:!0}),"t2",22);case 22:if(!Ne){nt.next=24;break}return nt.abrupt("return");case 24:case"end":return nt.stop()}},Ee)})()},Ne=!1,it.delegateYield(Ge(Le),"t0",3);case 3:case"end":return it.stop()}},E)}},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,p=Array(n);u<n;u++)p[u]=c[u];return p}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,x=function(P){if(Array.isArray(P))return P}(y=m.split("|").map(function(P){return P.trim()}))||function(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}(y)||function(P,E){if(P){if(typeof P=="string")return s(P,E);var O={}.toString.call(P).slice(8,-1);return O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set"?Array.from(P):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?s(P,E):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=x[0],k=x.slice(1);if(!(w in u)&&!(w in n))return g;var S=w in u?u[w]:w in n?n[w]:null;return k.map(function(P){return p[P]}).reduce(function(P,E){return E(P)},S&&S.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=2763)}]);pw=B7,{default:fw}=pw,H7=nn(pw,["default"]),mw=fw!==void 0?fw:H7;});var gw={};Ln(gw,{default:()=>mw});var vw=Zt(()=>{xm();xm()});var F7,yw,bw,z7,ww,_m=Zt(()=>{F7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[830],{3921:function(e,t,r){var s=r(6518),l=r(2652),o=r(4659);s({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,p){o(n,u,p)},{AS_ENTRIES:!0}),n}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var p=0;p<u.length;p++){var g=u[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(p,g){if(s(p)!="object"||!p)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var y=m.call(p,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function p(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.br=g,this.options},(u=[{key:"setup",value:function(p){this.options=Object.assign({},this.options,p)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(p){}},{key:"_configureToolbar",value:function(p){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(p){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6732:function(e,t,r){r(2675),r(9463),r(5700),r(6412),r(2259),r(8125),r(8706),r(4490),r(4782),r(4731),r(479),r(875),r(825),r(8781),r(7764),r(2953),r(113),r(3792),r(2062),r(3418),r(4554),r(739),r(9572),r(2010),r(8130),r(9085),r(2811),r(3921),r(3851),r(9432),r(6099),r(3362),r(888),r(7495),r(5440),r(3500);var s,l,o,c,n,u,p=r(420),g=r(1041),m=r(9696),y=r(8004);function x(We){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},x(We)}function w(We,Se,Le,je){var Ne=k();if(je)for(var Ge=0;Ge<je.length;Ge++)Ne=je[Ge](Ne);var it=Se(function(te){Ne.initializeInstanceElements(te,Re.elements)},Le),Re=Ne.decorateClass(function(te){for(var J=[],qe=function(st){return st.kind==="method"&&st.key===$e.key&&st.placement===$e.placement},_t=0;_t<te.length;_t++){var be,$e=te[_t];if($e.kind==="method"&&(be=J.find(qe)))if(O($e.descriptor)||O(be.descriptor)){if(E($e)||E(be))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");be.descriptor=$e.descriptor}else{if(E($e)){if(E(be))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");be.decorators=$e.decorators}P($e,be)}else J.push($e)}return J}(it.d.map(S)),We);return Ne.initializeClassElements(it.F,Re.elements),Ne.runClassFinishers(it.F,Re.finishers)}function k(){k=function(){return We};var We={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(Se,Le){["method","field"].forEach(function(je){Le.forEach(function(Ne){Ne.kind===je&&Ne.placement==="own"&&this.defineClassElement(Se,Ne)},this)},this)},initializeClassElements:function(Se,Le){var je=Se.prototype;["method","field"].forEach(function(Ne){Le.forEach(function(Ge){var it=Ge.placement;if(Ge.kind===Ne&&(it==="static"||it==="prototype")){var Re=it==="static"?Se:je;this.defineClassElement(Re,Ge)}},this)},this)},defineClassElement:function(Se,Le){var je=Le.descriptor;if(Le.kind==="field"){var Ne=Le.initializer;je={enumerable:je.enumerable,writable:je.writable,configurable:je.configurable,value:Ne===void 0?void 0:Ne.call(Se)}}Object.defineProperty(Se,Le.key,je)},decorateClass:function(Se,Le){var je=[],Ne=[],Ge={static:[],prototype:[],own:[]};if(Se.forEach(function(Re){this.addElementPlacement(Re,Ge)},this),Se.forEach(function(Re){if(!E(Re))return je.push(Re);var te=this.decorateElement(Re,Ge);je.push(te.element),je.push.apply(je,te.extras),Ne.push.apply(Ne,te.finishers)},this),!Le)return{elements:je,finishers:Ne};var it=this.decorateConstructor(je,Le);return Ne.push.apply(Ne,it.finishers),it.finishers=Ne,it},addElementPlacement:function(Se,Le,je){var Ne=Le[Se.placement];if(!je&&Ne.indexOf(Se.key)!==-1)throw new TypeError("Duplicated element ("+Se.key+")");Ne.push(Se.key)},decorateElement:function(Se,Le){for(var je=[],Ne=[],Ge=Se.decorators,it=Ge.length-1;it>=0;it--){var Re=Le[Se.placement];Re.splice(Re.indexOf(Se.key),1);var te=this.fromElementDescriptor(Se),J=this.toElementFinisherExtras((0,Ge[it])(te)||te);Se=J.element,this.addElementPlacement(Se,Le),J.finisher&&Ne.push(J.finisher);var qe=J.extras;if(qe){for(var _t=0;_t<qe.length;_t++)this.addElementPlacement(qe[_t],Le);je.push.apply(je,qe)}}return{element:Se,finishers:Ne,extras:je}},decorateConstructor:function(Se,Le){for(var je=[],Ne=Le.length-1;Ne>=0;Ne--){var Ge=this.fromClassDescriptor(Se),it=this.toClassDescriptor((0,Le[Ne])(Ge)||Ge);if(it.finisher!==void 0&&je.push(it.finisher),it.elements!==void 0){Se=it.elements;for(var Re=0;Re<Se.length-1;Re++)for(var te=Re+1;te<Se.length;te++)if(Se[Re].key===Se[te].key&&Se[Re].placement===Se[te].placement)throw new TypeError("Duplicated element ("+Se[Re].key+")")}}return{elements:Se,finishers:je}},fromElementDescriptor:function(Se){var Le={kind:Se.kind,key:Se.key,placement:Se.placement,descriptor:Se.descriptor};return Object.defineProperty(Le,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Se.kind==="field"&&(Le.initializer=Se.initializer),Le},toElementDescriptors:function(Se){if(Se!==void 0)return(Le=Se,function(je){if(Array.isArray(je))return je}(Le)||function(je){if(typeof Symbol<"u"&&je[Symbol.iterator]!=null||je["@@iterator"]!=null)return Array.from(je)}(Le)||C(Le)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(je){var Ne=this.toElementDescriptor(je);return this.disallowProperty(je,"finisher","An element descriptor"),this.disallowProperty(je,"extras","An element descriptor"),Ne},this);var Le},toElementDescriptor:function(Se){var Le=Se.kind+"";if(Le!=="method"&&Le!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Le+'"');var je=xe(Se.key),Ne=Se.placement+"";if(Ne!=="static"&&Ne!=="prototype"&&Ne!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+Ne+'"');var Ge=Se.descriptor;this.disallowProperty(Se,"elements","An element descriptor");var it={kind:Le,key:je,placement:Ne,descriptor:Object.assign({},Ge)};return Le!=="field"?this.disallowProperty(Se,"initializer","A method descriptor"):(this.disallowProperty(Ge,"get","The property descriptor of a field descriptor"),this.disallowProperty(Ge,"set","The property descriptor of a field descriptor"),this.disallowProperty(Ge,"value","The property descriptor of a field descriptor"),it.initializer=Se.initializer),it},toElementFinisherExtras:function(Se){return{element:this.toElementDescriptor(Se),finisher:a(Se,"finisher"),extras:this.toElementDescriptors(Se.extras)}},fromClassDescriptor:function(Se){var Le={kind:"class",elements:Se.map(this.fromElementDescriptor,this)};return Object.defineProperty(Le,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Le},toClassDescriptor:function(Se){var Le=Se.kind+"";if(Le!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Le+'"');this.disallowProperty(Se,"key","A class descriptor"),this.disallowProperty(Se,"placement","A class descriptor"),this.disallowProperty(Se,"descriptor","A class descriptor"),this.disallowProperty(Se,"initializer","A class descriptor"),this.disallowProperty(Se,"extras","A class descriptor");var je=a(Se,"finisher");return{elements:this.toElementDescriptors(Se.elements),finisher:je}},runClassFinishers:function(Se,Le){for(var je=0;je<Le.length;je++){var Ne=(0,Le[je])(Se);if(Ne!==void 0){if(typeof Ne!="function")throw new TypeError("Finishers must return a constructor.");Se=Ne}}return Se},disallowProperty:function(Se,Le,je){if(Se[Le]!==void 0)throw new TypeError(je+" can't have a ."+Le+" property.")}};return We}function S(We){var Se,Le=xe(We.key);We.kind==="method"?Se={value:We.value,writable:!0,configurable:!0,enumerable:!1}:We.kind==="get"?Se={get:We.value,configurable:!0,enumerable:!1}:We.kind==="set"?Se={set:We.value,configurable:!0,enumerable:!1}:We.kind==="field"&&(Se={configurable:!0,writable:!0,enumerable:!0});var je={kind:We.kind==="field"?"field":"method",key:Le,placement:We.static?"static":We.kind==="field"?"own":"prototype",descriptor:Se};return We.decorators&&(je.decorators=We.decorators),We.kind==="field"&&(je.initializer=We.value),je}function P(We,Se){We.descriptor.get!==void 0?Se.descriptor.get=We.descriptor.get:Se.descriptor.set=We.descriptor.set}function E(We){return We.decorators&&We.decorators.length}function O(We){return We!==void 0&&!(We.value===void 0&&We.writable===void 0)}function a(We,Se){var Le=We[Se];if(Le!==void 0&&typeof Le!="function")throw new TypeError("Expected '"+Se+"' to be a function");return Le}function h(We,Se,Le,je){var Ne=v(K(1&je?We.prototype:We),Se,Le);return 2&je&&typeof Ne=="function"?function(Ge){return Ne.apply(Le,Ge)}:Ne}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(We,Se,Le){var je=function(Ge,it){for(;!{}.hasOwnProperty.call(Ge,it)&&(Ge=K(Ge))!==null;);return Ge}(We,Se);if(je){var Ne=Object.getOwnPropertyDescriptor(je,Se);return Ne.get?Ne.get.call(arguments.length<3?We:Le):Ne.value}},v.apply(null,arguments)}function d(We,Se){return Se||(Se=We.slice(0)),Object.freeze(Object.defineProperties(We,{raw:{value:Object.freeze(Se)}}))}function _(We,Se){var Le=typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(!Le){if(Array.isArray(We)||(Le=C(We))||Se&&We&&typeof We.length=="number"){Le&&(We=Le);var je=0,Ne=function(){};return{s:Ne,n:function(){return je>=We.length?{done:!0}:{done:!1,value:We[je++]}},e:function(te){throw te},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ge,it=!0,Re=!1;return{s:function(){Le=Le.call(We)},n:function(){var te=Le.next();return it=te.done,te},e:function(te){Re=!0,Ge=te},f:function(){try{it||Le.return==null||Le.return()}finally{if(Re)throw Ge}}}}function C(We,Se){if(We){if(typeof We=="string")return N(We,Se);var Le={}.toString.call(We).slice(8,-1);return Le==="Object"&&We.constructor&&(Le=We.constructor.name),Le==="Map"||Le==="Set"?Array.from(We):Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le)?N(We,Se):void 0}}function N(We,Se){(Se==null||Se>We.length)&&(Se=We.length);for(var Le=0,je=Array(Se);Le<Se;Le++)je[Le]=We[Le];return je}function G(We,Se,Le){return Se=K(Se),function(je,Ne){if(Ne&&(x(Ne)=="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ge){if(Ge===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ge}(je)}(We,q()?Reflect.construct(Se,Le||[],K(We).constructor):Se.apply(We,Le))}function q(){try{var We=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return(q=function(){return!!We})()}function K(We){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},K(We)}function ne(We,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");We.prototype=Object.create(Se&&Se.prototype,{constructor:{value:We,writable:!0,configurable:!0}}),Object.defineProperty(We,"prototype",{writable:!1}),Se&&Q(We,Se)}function Q(We,Se){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Le,je){return Le.__proto__=je,Le},Q(We,Se)}function ee(){ee=function(){return Se};var We,Se={},Le=Object.prototype,je=Le.hasOwnProperty,Ne=Object.defineProperty||function(ke,Ye,Ze){ke[Ye]=Ze.value},Ge=typeof Symbol=="function"?Symbol:{},it=Ge.iterator||"@@iterator",Re=Ge.asyncIterator||"@@asyncIterator",te=Ge.toStringTag||"@@toStringTag";function J(ke,Ye,Ze){return Object.defineProperty(ke,Ye,{value:Ze,enumerable:!0,configurable:!0,writable:!0}),ke[Ye]}try{J({},"")}catch(ke){J=function(Ye,Ze,dt){return Ye[Ze]=dt}}function qe(ke,Ye,Ze,dt){var ae=Ye&&Ye.prototype instanceof nt?Ye:nt,Ie=Object.create(ae.prototype),Ue=new I(dt||[]);return Ne(Ie,"_invoke",{value:It(ke,Ze,Ue)}),Ie}function _t(ke,Ye,Ze){try{return{type:"normal",arg:ke.call(Ye,Ze)}}catch(dt){return{type:"throw",arg:dt}}}Se.wrap=qe;var be="suspendedStart",$e="suspendedYield",st="executing",Ee="completed",Qe={};function nt(){}function Ut(){}function ut(){}var mt={};J(mt,it,function(){return this});var Mt=Object.getPrototypeOf,ti=Mt&&Mt(Mt(Ve([])));ti&&ti!==Le&&je.call(ti,it)&&(mt=ti);var oi=ut.prototype=nt.prototype=Object.create(mt);function ci(ke){["next","throw","return"].forEach(function(Ye){J(ke,Ye,function(Ze){return this._invoke(Ye,Ze)})})}function Lt(ke,Ye){function Ze(ae,Ie,Ue,gt){var ct=_t(ke[ae],ke,Ie);if(ct.type!=="throw"){var Et=ct.arg,zt=Et.value;return zt&&x(zt)=="object"&&je.call(zt,"__await")?Ye.resolve(zt.__await).then(function(Xt){Ze("next",Xt,Ue,gt)},function(Xt){Ze("throw",Xt,Ue,gt)}):Ye.resolve(zt).then(function(Xt){Et.value=Xt,Ue(Et)},function(Xt){return Ze("throw",Xt,Ue,gt)})}gt(ct.arg)}var dt;Ne(this,"_invoke",{value:function(ae,Ie){function Ue(){return new Ye(function(gt,ct){Ze(ae,Ie,gt,ct)})}return dt=dt?dt.then(Ue,Ue):Ue()}})}function It(ke,Ye,Ze){var dt=be;return function(ae,Ie){if(dt===st)throw Error("Generator is already running");if(dt===Ee){if(ae==="throw")throw Ie;return{value:We,done:!0}}for(Ze.method=ae,Ze.arg=Ie;;){var Ue=Ze.delegate;if(Ue){var gt=Ct(Ue,Ze);if(gt){if(gt===Qe)continue;return gt}}if(Ze.method==="next")Ze.sent=Ze._sent=Ze.arg;else if(Ze.method==="throw"){if(dt===be)throw dt=Ee,Ze.arg;Ze.dispatchException(Ze.arg)}else Ze.method==="return"&&Ze.abrupt("return",Ze.arg);dt=st;var ct=_t(ke,Ye,Ze);if(ct.type==="normal"){if(dt=Ze.done?Ee:$e,ct.arg===Qe)continue;return{value:ct.arg,done:Ze.done}}ct.type==="throw"&&(dt=Ee,Ze.method="throw",Ze.arg=ct.arg)}}}function Ct(ke,Ye){var Ze=Ye.method,dt=ke.iterator[Ze];if(dt===We)return Ye.delegate=null,Ze==="throw"&&ke.iterator.return&&(Ye.method="return",Ye.arg=We,Ct(ke,Ye),Ye.method==="throw")||Ze!=="return"&&(Ye.method="throw",Ye.arg=new TypeError("The iterator does not provide a '"+Ze+"' method")),Qe;var ae=_t(dt,ke.iterator,Ye.arg);if(ae.type==="throw")return Ye.method="throw",Ye.arg=ae.arg,Ye.delegate=null,Qe;var Ie=ae.arg;return Ie?Ie.done?(Ye[ke.resultName]=Ie.value,Ye.next=ke.nextLoc,Ye.method!=="return"&&(Ye.method="next",Ye.arg=We),Ye.delegate=null,Qe):Ie:(Ye.method="throw",Ye.arg=new TypeError("iterator result is not an object"),Ye.delegate=null,Qe)}function St(ke){var Ye={tryLoc:ke[0]};1 in ke&&(Ye.catchLoc=ke[1]),2 in ke&&(Ye.finallyLoc=ke[2],Ye.afterLoc=ke[3]),this.tryEntries.push(Ye)}function kt(ke){var Ye=ke.completion||{};Ye.type="normal",delete Ye.arg,ke.completion=Ye}function I(ke){this.tryEntries=[{tryLoc:"root"}],ke.forEach(St,this),this.reset(!0)}function Ve(ke){if(ke||ke===""){var Ye=ke[it];if(Ye)return Ye.call(ke);if(typeof ke.next=="function")return ke;if(!isNaN(ke.length)){var Ze=-1,dt=function ae(){for(;++Ze<ke.length;)if(je.call(ke,Ze))return ae.value=ke[Ze],ae.done=!1,ae;return ae.value=We,ae.done=!0,ae};return dt.next=dt}}throw new TypeError(x(ke)+" is not iterable")}return Ut.prototype=ut,Ne(oi,"constructor",{value:ut,configurable:!0}),Ne(ut,"constructor",{value:Ut,configurable:!0}),Ut.displayName=J(ut,te,"GeneratorFunction"),Se.isGeneratorFunction=function(ke){var Ye=typeof ke=="function"&&ke.constructor;return!!Ye&&(Ye===Ut||(Ye.displayName||Ye.name)==="GeneratorFunction")},Se.mark=function(ke){return Object.setPrototypeOf?Object.setPrototypeOf(ke,ut):(ke.__proto__=ut,J(ke,te,"GeneratorFunction")),ke.prototype=Object.create(oi),ke},Se.awrap=function(ke){return{__await:ke}},ci(Lt.prototype),J(Lt.prototype,Re,function(){return this}),Se.AsyncIterator=Lt,Se.async=function(ke,Ye,Ze,dt,ae){ae===void 0&&(ae=Promise);var Ie=new Lt(qe(ke,Ye,Ze,dt),ae);return Se.isGeneratorFunction(Ye)?Ie:Ie.next().then(function(Ue){return Ue.done?Ue.value:Ie.next()})},ci(oi),J(oi,te,"Generator"),J(oi,it,function(){return this}),J(oi,"toString",function(){return"[object Generator]"}),Se.keys=function(ke){var Ye=Object(ke),Ze=[];for(var dt in Ye)Ze.push(dt);return Ze.reverse(),function ae(){for(;Ze.length;){var Ie=Ze.pop();if(Ie in Ye)return ae.value=Ie,ae.done=!1,ae}return ae.done=!0,ae}},Se.values=Ve,I.prototype={constructor:I,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=We,this.done=!1,this.delegate=null,this.method="next",this.arg=We,this.tryEntries.forEach(kt),!ke)for(var Ye in this)Ye.charAt(0)==="t"&&je.call(this,Ye)&&!isNaN(+Ye.slice(1))&&(this[Ye]=We)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Ye=this;function Ze(ct,Et){return Ie.type="throw",Ie.arg=ke,Ye.next=ct,Et&&(Ye.method="next",Ye.arg=We),!!Et}for(var dt=this.tryEntries.length-1;dt>=0;--dt){var ae=this.tryEntries[dt],Ie=ae.completion;if(ae.tryLoc==="root")return Ze("end");if(ae.tryLoc<=this.prev){var Ue=je.call(ae,"catchLoc"),gt=je.call(ae,"finallyLoc");if(Ue&&gt){if(this.prev<ae.catchLoc)return Ze(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return Ze(ae.finallyLoc)}else if(Ue){if(this.prev<ae.catchLoc)return Ze(ae.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return Ze(ae.finallyLoc)}}}},abrupt:function(ke,Ye){for(var Ze=this.tryEntries.length-1;Ze>=0;--Ze){var dt=this.tryEntries[Ze];if(dt.tryLoc<=this.prev&&je.call(dt,"finallyLoc")&&this.prev<dt.finallyLoc){var ae=dt;break}}ae&&(ke==="break"||ke==="continue")&&ae.tryLoc<=Ye&&Ye<=ae.finallyLoc&&(ae=null);var Ie=ae?ae.completion:{};return Ie.type=ke,Ie.arg=Ye,ae?(this.method="next",this.next=ae.finallyLoc,Qe):this.complete(Ie)},complete:function(ke,Ye){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Ye&&(this.next=Ye),Qe},finish:function(ke){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Ze=this.tryEntries[Ye];if(Ze.finallyLoc===ke)return this.complete(Ze.completion,Ze.afterLoc),kt(Ze),Qe}},catch:function(ke){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Ze=this.tryEntries[Ye];if(Ze.tryLoc===ke){var dt=Ze.completion;if(dt.type==="throw"){var ae=dt.arg;kt(Ze)}return ae}}throw Error("illegal catch attempt")},delegateYield:function(ke,Ye,Ze){return this.delegate={iterator:Ve(ke),resultName:Ye,nextLoc:Ze},this.method==="next"&&(this.arg=We),Qe}},Se}function Me(We,Se,Le,je,Ne,Ge,it){try{var Re=We[Ge](it),te=Re.value}catch(J){return void Le(J)}Re.done?Se(te):Promise.resolve(te).then(je,Ne)}function pe(We){return function(){var Se=this,Le=arguments;return new Promise(function(je,Ne){var Ge=We.apply(Se,Le);function it(te){Me(Ge,je,Ne,it,Re,"next",te)}function Re(te){Me(Ge,je,Ne,it,Re,"throw",te)}it(void 0)})}}function W(We,Se){if(!(We instanceof Se))throw new TypeError("Cannot call a class as a function")}function oe(We,Se){for(var Le=0;Le<Se.length;Le++){var je=Se[Le];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(We,xe(je.key),je)}}function fe(We,Se,Le){return Se&&oe(We.prototype,Se),Le&&oe(We,Le),Object.defineProperty(We,"prototype",{writable:!1}),We}function Z(We,Se,Le){return(Se=xe(Se))in We?Object.defineProperty(We,Se,{value:Le,enumerable:!0,configurable:!0,writable:!0}):We[Se]=Le,We}function xe(We){var Se=function(Le,je){if(x(Le)!="object"||!Le)return Le;var Ne=Le[Symbol.toPrimitive];if(Ne!==void 0){var Ge=Ne.call(Le,"string");if(x(Ge)!="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(We);return x(Se)=="symbol"?Se:Se+""}var Y=window.BookReader,he=function(){return fe(function Le(){W(this,Le),Z(this,"name",void 0),Z(this,"title",void 0),Z(this,"description",void 0),Z(this,"icon",void 0),Z(this,"enabled",void 0),Z(this,"learnMore",void 0),Z(this,"assetRoot","/BookReader/"),Z(this,"enabledLoading",!1)},[{key:"buildAssetPath",value:function(Le){return"".concat(this.assetRoot).concat(Le)}},{key:"enable",value:(Se=pe(ee().mark(function Le(je){return ee().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:je.manual;case 1:case"end":return Ne.stop()}},Le)})),function(Le){return Se.apply(this,arguments)})},{key:"disable",value:(We=pe(ee().mark(function Le(){return ee().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:case"end":return je.stop()}},Le)})),function(){return We.apply(this,arguments)})}]);var We,Se}(),Ke=function(We){function Se(){var Ne;W(this,Se);for(var Ge=arguments.length,it=new Array(Ge),Re=0;Re<Ge;Re++)it[Re]=arguments[Re];return Z(Ne=G(this,Se,[].concat(it)),"options",{enabled:!0,localStorageKey:"BrExperiments"}),Z(Ne,"experiments",[new(function(te){function J(){var be;W(this,J);for(var $e=arguments.length,st=new Array($e),Ee=0;Ee<$e;Ee++)st[Ee]=arguments[Ee];return Z(be=G(this,J,[].concat(st)),"name","hypothesis"),Z(be,"title","Hypothes.is"),Z(be,"description","Create public, collaborative, or fully private annotations on books and the web."),Z(be,"learnMore","https://web.hypothes.is/about/"),Z(be,"icon","images/hypothesis.ico"),Z(be,"enabled",!1),be}return ne(J,te),fe(J,[{key:"enable",value:(_t=pe(ee().mark(function be($e){var st,Ee,Qe;return ee().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return st=$e.manual,Ee=st!==void 0&&st,(Qe=document.createElement("script")).type="application/json",Qe.className="js-hypothesis-config",Qe.textContent=JSON.stringify({openSidebar:Ee,assetRoot:this.buildAssetPath("hypothesis/")}),document.head.appendChild(Qe),nt.abrupt("return",ht(this.buildAssetPath("hypothesis/build/boot.js")));case 7:case"end":return nt.stop()}},be,this)})),function(be){return _t.apply(this,arguments)})},{key:"disable",value:(qe=pe(ee().mark(function be(){return ee().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:(0,y.sleep)(0).then(function(){window.location.reload()});case 1:case"end":return $e.stop()}},be)})),function(){return qe.apply(this,arguments)})}]);var qe,_t}(he))]),Z(Ne,"_panel",void 0),Ne}return ne(Se,We),fe(Se,[{key:"init",value:(je=pe(ee().mark(function Ne(){var Ge,it,Re;return ee().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(this.options.enabled){te.next=2;break}return te.abrupt("return");case 2:Ge=_(this.experiments);try{for(Ge.s();!(it=Ge.n()).done;)(Re=it.value).assetRoot=this.br.options.imagesBaseURL.replace(/images\/$/,""),Re.icon=Re.buildAssetPath(Re.icon)}catch(J){Ge.e(J)}finally{Ge.f()}return this._loadExperimentStates(),te.next=7,Promise.resolve();case 7:this._render();case 8:case"end":return te.stop()}},Ne,this)})),function(){return je.apply(this,arguments)})},{key:"_loadExperimentStates",value:function(){var Ne=JSON.parse(localStorage.getItem(this.options.localStorageKey)||"{}");this.experiments.forEach(function(Ge){Ne[Ge.name]!==void 0&&(Ge.enabled=Ne[Ge.name],Ge.enabled&&Ge.enable({manual:!1}))})}},{key:"_saveExperimentStates",value:function(){var Ne=Object.fromEntries(this.experiments.map(function(Ge){return[Ge.name,Ge.enabled]}));localStorage.setItem(this.options.localStorageKey,JSON.stringify(Ne))}},{key:"_toggleExperiment",value:(Le=pe(ee().mark(function Ne(Ge,it){var Re;return ee().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(Ge.enabledLoading=!0,(Re=this.br.plugins.archiveAnalytics)===null||Re===void 0||Re.sendEvent("BRExperiment-".concat(Ge.name),it?"Enable":"Disable"),this._panel.requestUpdate(),!it){te.next=8;break}return te.next=6,Ge.enable({manual:!0});case 6:te.next=10;break;case 8:return te.next=10,Ge.disable();case 10:Ge.enabledLoading=!1,Ge.enabled=it,this._panel.requestUpdate();case 13:case"end":return te.stop()}},Ne,this)})),function(Ne,Ge){return Le.apply(this,arguments)})},{key:"_render",value:function(){var Ne=this;this.br.shell.menuProviders.experiments={id:"experiments",icon:(0,p.qy)(s||(s=d([`
        <svg xmlns="http://www.w3.org/2000/svg" width="34" viewBox="0 0 24 24"><path fill="currentColor" d="M10 5.75h1.25v2.5H9.5c-.41 0-.75.34-.75.75s.34.75.75.75h.25v1.96A5.72 5.72 0 0 0 6.25 17c0 3.17 2.58 5.75 5.75 5.75s5.75-2.58 5.75-5.75c0-2.33-1.39-4.4-3.5-5.29V9.75h.25c.41 0 .75-.34.75-.75s-.34-.75-.75-.75h-1.75v-1.5H14c1.52 0 2.75-1.23 2.75-2.75V3c0-.41-.34-.75-.75-.75h-2c-.579 0-1.115.178-1.558.483A2.75 2.75 0 0 0 10 1.25H8c-.41 0-.75.34-.75.75v1c0 1.52 1.23 2.75 2.75 2.75m2.75-.5V5c0-.69.56-1.25 1.25-1.25h1.25V4c0 .69-.56 1.25-1.25 1.25zm-1.5 6.98V9.75h1.5v2.48c0 .33.22.62.53.72c1.77.56 2.97 2.19 2.97 4.06A4.26 4.26 0 0 1 12 21.26a4.26 4.26 0 0 1-4.25-4.25c0-1.87 1.19-3.5 2.97-4.06c.32-.1.53-.39.53-.72m-2.5-9.48H10c.69 0 1.25.56 1.25 1.25v.25H10c-.69 0-1.25-.56-1.25-1.25z" color="currentColor"/></svg>
      `]))),label:"Experiments",component:(0,p.qy)(l||(l=d([`<br-experiments-panel
        .experiments="`,`"
        @connected="`,`"
        @toggle="`,`"
      />`])),this.experiments,function(Ge){return Ne._panel=Ge.target},function(){var Ge=pe(ee().mark(function it(Re){return ee().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,Ne._toggleExperiment(Re.detail.experiment,Re.detail.enabled);case 2:Ne._saveExperimentStates();case 3:case"end":return te.stop()}},it)}));return function(it){return Ge.apply(this,arguments)}}())},this.br.shell.updateMenuContents()}}]);var Le,je}(g.S);function ht(We){return lt.apply(this,arguments)}function lt(){return(lt=pe(ee().mark(function We(Se){return ee().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.abrupt("return",new Promise(function(je,Ne){var Ge=document.createElement("script");Ge.src=Se,Ge.onload=function(){return je()},Ge.onerror=function(){return Ne(new Error("Failed to load script: ".concat(Se)))},document.head.appendChild(Ge)}));case 1:case"end":return Le.stop()}},We)}))).apply(this,arguments)}Y==null||Y.registerPlugin("experiments",Ke),w([(0,m.EM)("br-experiments-panel")],function(We,Se){var Le,je=function(Ne){function Ge(){var it;W(this,Ge);for(var Re=arguments.length,te=new Array(Re),J=0;J<Re;J++)te[J]=arguments[J];return it=G(this,Ge,[].concat(te)),We(it),it}return ne(Ge,Ne),fe(Ge)}(Se);return{F:je,d:[{kind:"field",decorators:[(0,m.MZ)({type:Array})],key:"experiments",value:function(){return[]}},{kind:"method",key:"render",value:function(){var Ne=this;return(0,p.qy)(o||(o=d([`
      <div style="padding: 10px">
        `,`
      </div>
    `])),this.experiments.map(function(Ge){return(0,p.qy)(c||(c=d([`
        <br-experiment-toggle
          .icon="`,`"
          .title="`,`"
          .description="`,`"
          .enabled="`,`"
          .loading="`,`"
          .learnMore="`,`"
          @toggle="`,`"
        ></br-experiment-toggle>
      `])),Ge.icon,Ge.title,Ge.description,Ge.enabled,Ge.enabledLoading,Ge.learnMore,function(it){return Ne._dispatchToggle(Ge,it.detail.enabled)})}))}},{kind:"method",key:"_dispatchToggle",value:(Le=pe(ee().mark(function Ne(Ge,it){return ee().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:this.dispatchEvent(new CustomEvent("toggle",{detail:{experiment:Ge,enabled:it}}));case 1:case"end":return Re.stop()}},Ne,this)})),function(Ne,Ge){return Le.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){h(je,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}}]}},p.WF),w([(0,m.EM)("br-experiment-toggle")],function(We,Se){var Le=function(je){function Ne(){var Ge;W(this,Ne);for(var it=arguments.length,Re=new Array(it),te=0;te<it;te++)Re[te]=arguments[te];return Ge=G(this,Ne,[].concat(Re)),We(Ge),Ge}return ne(Ne,je),fe(Ne)}(Se);return{F:Le,d:[{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"icon",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"description",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"enabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"loading",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"learnMore",value:function(){return""}},{kind:"field",decorators:[(0,m.wk)()],key:"_longLoading",value:function(){return!1}},{kind:"method",key:"update",value:function(je){var Ne=this;h(Le,"update",this,3)([je]),je.has("loading")&&(this.loading?(0,y.sleep)(500).then(function(){Ne.loading&&(Ne._longLoading=!0,Ne.requestUpdate())}):this._longLoading=!1)}},{kind:"method",key:"render",value:function(){return(0,p.qy)(n||(n=d([`
      <div class="experiment-card">
        <div style="display: flex; align-items: center; gap: 10px;">
          <img src="`,`" style="width: 20px; height: 20px;" alt="" />
          <div style="flex-grow: 1; font-weight: bold;">`,`</div>
        </div>
        <p style="opacity: 0.9">
          `,`
          <a href="`,`" target="_blank">Learn more</a>.
        </p>
        <div style="display: flex">
          <div style="flex-grow: 1;"></div>
          <button @click="`,'" .disabled="',`">
            `,`
          </button>
        </div>
      </div>
    `])),this.icon,this.title,this.description,this.learnMore,this._dispatchToggle,this.loading,this._longLoading?"Loading\u2026":this.enabled?"Disable":"Enable")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.AH)(u||(u=d([`
      .experiment-card {
        border-radius: 8px;
        background-color: #fff2;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }

      .experiment-card p {
        margin: 6px 0;
      }
    `])))}},{kind:"method",key:"_dispatchToggle",value:function(){this.dispatchEvent(new CustomEvent("toggle",{detail:{enabled:!this.enabled}}))}}]}},p.WF)}},function(e){e(e.s=6732)}]);yw=F7,{default:bw}=yw,z7=nn(yw,["default"]),ww=bw!==void 0?bw:z7;});var xw={};Ln(xw,{default:()=>ww});var _w=Zt(()=>{_m();_m()});var V7={};function U7(e,t,r){if(typeof window.archive_analytics!="undefined"){var s={bookreader:"error",description:e,page:t,line:r};document.referrer==""?s.referrer="-":s.referrer=document.referrer,typeof br!="undefined"&&(s.itemid=br.bookId,s.subPrefix=br.subPrefix,s.server=br.server,s.bookPath=br.bookPath),archive_analytics.send_ping(s)}return!1}var kw=Zt(()=>{typeof Object.assign!="function"&&function(){Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var s=arguments[r];if(s!=null)for(var l in s)s.hasOwnProperty(l)&&(t[l]=s[l])}return t}}();window.logError=U7});var Ql,Xd,Am,Hs,km,W7,Aw,Sw=Zt(()=>{Ta();wr();Tn();Nn();wr();Tn();Nn();Ql=class{get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size!=null?Qa.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length!=null?es.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height!=null?vo.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width!=null?vo.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track!=null?vo.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}constructor(e={}){this.rawValue=e}};de([xt()],Ql.prototype,"size",null);de([xt()],Ql.prototype,"length",null);de([xt()],Ql.prototype,"height",null);de([xt()],Ql.prototype,"width",null);de([xt()],Ql.prototype,"track",null);Xd=class{get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewdate(){return this.rawValue.reviewdate!=null?Ea.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate!=null?Ea.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars!=null?vo.shared.parseValue(this.rawValue.stars):void 0}constructor(e={}){this.rawValue=e}};de([xt()],Xd.prototype,"reviewdate",null);de([xt()],Xd.prototype,"createdate",null);de([xt()],Xd.prototype,"stars",null);Am=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(s=>new Ql(s)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new kr(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(s=>new Xd(s))}};(function(e){e.networkError="MetadataService.NetworkError",e.itemNotFound="MetadataService.ItemNotFound",e.decodingError="MetadataService.DecodingError",e.searchEngineError="MetadataService.SearchEngineError"})(Hs||(Hs={}));km=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},W7=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}fetchMetadata(e,t){return xi(this,null,function*(){let r=t?`/${t}`:"",s=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(s,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return xi(this,null,function*(){var r;let s=new URL(e);this.requestScope&&s.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(s.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Hs.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(Hs.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(Hs.decodingError,c)}})}getErrorResult(e,t,r){return{error:new km(e,t,r)}}},Aw=class{constructor(e){this.backend=e}fetchMetadata(e){return xi(this,null,function*(){var t;let r=yield this.backend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new km(Hs.itemNotFound)}:{success:new Am(r.success)}})}fetchMetadataValue(e,t){return xi(this,null,function*(){var r;let s=yield this.backend.fetchMetadata(e,t);return s.error?s:((r=s.success)===null||r===void 0?void 0:r.result)===void 0?{error:new km(Hs.itemNotFound)}:{success:s.success.result}})}};Aw.default=new Aw(new W7)});var q7,G7,Cw=Zt(()=>{ki();ki();q7=tt`
<svg
  viewBox="0 0 40 40"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="ellipsesTitleID ellipsesDescID"
>
  <title id="ellipsesTitleID">Ellipses icon</title>
  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>
  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>
</svg>
`,G7=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return q7}};customElements.define("ia-icon-ellipses",G7)});var Y7,K7,Ew=Zt(()=>{ki();ki();Y7=tt`
<svg
  viewBox="0 0 18 18"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"
>
  <title id="collapseSidebarTitleID">Collapse sidebar</title>
  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>
  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />
</svg>
`,K7=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return Y7}};customElements.define("ia-icon-collapse-sidebar",K7)});var X7,Z7,Sm=Zt(()=>{ki();ki();X7=tt`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="shareTitleID shareDescID"
>
  <title id="shareTitleID">Share icon</title>
  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>
  <g class="fill-color">
    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>
  </g>
</svg>
`,Z7=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return X7}};customElements.define("ia-icon-share",Z7)});var J7,Q7,Cm=Zt(()=>{ki();ki();J7=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">
  <title id="twitterTitleID">Twitter icon</title>
  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>
  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />
</svg>
`,Q7=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return J7}};customElements.define("ia-icon-twitter",Q7)});var eA,tA,Em=Zt(()=>{ki();ki();eA=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">
  <title id="facebookTitleID">Facebook icon</title>
  <desc id="facebookDescID">A lowercase f</desc>
  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />
</svg>
`,tA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return eA}};customElements.define("ia-icon-facebook",tA)});var iA,rA,Tm=Zt(()=>{ki();ki();iA=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">
  <title id="tumblrTitleID">Tumblr icon</title>
  <desc id="tumblrDescID">A lowercase letter t</desc>
  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />
</svg>
`,rA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return iA}};customElements.define("ia-icon-tumblr",rA)});var nA,oA,Pm=Zt(()=>{ki();ki();nA=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">
  <title id="pinterestTitleID">Pinterest icon</title>
  <desc id="pinterestDescID">A stylized letter p</desc>
  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />
</svg>
`,oA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return nA}};customElements.define("ia-icon-pinterest",oA)});var aA,sA,$m=Zt(()=>{ki();ki();aA=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">
  <title id="emailTitleID">Email icon</title>
  <desc id="emailDescID">An illustration of an envelope</desc>
  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />
</svg>
`,sA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return aA}};customElements.define("ia-icon-email",sA)});var lA,cA,Om=Zt(()=>{ki();ki();lA=tt`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">
  <title id="linkTitleID">Link icon</title>
  <desc id="linkDescID">Two chain links linked together</desc>
  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />
</svg>
`,cA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return lA}};customElements.define("ia-icon-link",cA)});var is,pa,fa,ec=Zt(()=>{is={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},pa=e=>(...t)=>({_$litDirective$:e,values:t}),fa=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};});function Bw(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Tw!==void 0?Tw.createHTML(t):t}function Vs(e,t,r=e,s){var l,o,c,n;if(t===fu)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=pu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Vs(e,u._$AS(e,t.values),u,s)),t}var Mm,Zd,tc,Tw,Jd,Oa,Rm,uA,Us,Qd,pu,Dw,Rw,Lm,hu,Pw,$w,Fs,Ow,Mw,jw,Nw,hN,pN,fu,Yn,Lw,zs,Hw,Dm,zw,jm,mu,Vw,dA,Ww,qw,Gw,hA,Im,pA,Nm,Yw,Iw,Ma,rs,fA,gu,vu,eh,Kw,Bm=Zt(()=>{Zd=window,tc=Zd.trustedTypes,Tw=tc?tc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Jd="$lit$",Oa=`lit$${(Math.random()+"").slice(9)}$`,Rm="?"+Oa,uA=`<${Rm}>`,Us=document,Qd=()=>Us.createComment(""),pu=e=>e===null||typeof e!="object"&&typeof e!="function",Dw=Array.isArray,Rw=e=>Dw(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Lm=`[ 	
\f\r]`,hu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Pw=/-->/g,$w=/>/g,Fs=RegExp(`>|${Lm}(?:([^\\s"'>=/]+)(${Lm}*=${Lm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ow=/'/g,Mw=/"/g,jw=/^(?:script|style|textarea|title)$/i,Nw=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),hN=Nw(1),pN=Nw(2),fu=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),Lw=new WeakMap,zs=Us.createTreeWalker(Us,129,null,!1);Hw=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=hu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===hu?g[1]==="!--"?c=Pw:g[1]!==void 0?c=$w:g[2]!==void 0?(jw.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Fs):g[3]!==void 0&&(c=Fs):c===Fs?g[0]===">"?(c=l!=null?l:hu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Fs:g[3]==='"'?Mw:Ow):c===Mw||c===Ow?c=Fs:c===Pw||c===$w?c=hu:(c=Fs,l=void 0);let x=c===Fs&&e[n+1].startsWith("/>")?" ":"";o+=c===hu?u+uA:m>=0?(s.push(p),u.slice(0,m)+Jd+u.slice(m)+Oa+x):u+Oa+(m===-2?(s.push(void 0),n):x)}return[Bw(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Dm=class Fw{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=Hw(t,r);if(this.el=Fw.createElement(p,s),zs.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=zs.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Jd)||y.startsWith(Oa)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Jd).split(Oa),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?Vw:k[1]==="?"?Ww:k[1]==="@"?qw:mu})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(jw.test(l.tagName)){let m=l.textContent.split(Oa),y=m.length-1;if(y>0){l.textContent=tc?tc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Qd()),zs.nextNode(),u.push({type:2,index:++o});l.append(m[y],Qd())}}}else if(l.nodeType===8)if(l.data===Rm)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(Oa,m+1))!==-1;)u.push({type:7,index:o}),m+=Oa.length-1}o++}}static createElement(t,r){let s=Us.createElement("template");return s.innerHTML=t,s}};zw=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Us).importNode(r,!0);zs.currentNode=l;let o=zs.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new jm(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new Gw(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=zs.nextNode(),c++)}return zs.currentNode=Us,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},jm=class Uw{constructor(t,r,s,l){var o;this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Vs(this,t,r),pu(t)?t===Yn||t==null||t===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):t!==this._$AH&&t!==fu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Rw(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Yn&&pu(this._$AH)?this._$AA.nextSibling.data=t:this.$(Us.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Dm.createElement(Bw(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new zw(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Lw.get(t.strings);return r===void 0&&Lw.set(t.strings,r=new Dm(t)),r}T(t){Dw(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new Uw(this.k(Qd()),this.k(Qd()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},mu=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Yn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Vs(this,e,t,0),o=!pu(e)||e!==this._$AH&&e!==fu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Vs(this,c[r+n],t,n),u===fu&&(u=this._$AH[n]),o||(o=!pu(u)||u!==this._$AH[n]),u===Yn?e=Yn:e!==Yn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},Vw=class extends mu{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Yn?void 0:e}},dA=tc?tc.emptyScript:"",Ww=class extends mu{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Yn?this.element.setAttribute(this.name,dA):this.element.removeAttribute(this.name)}},qw=class extends mu{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Vs(this,e,t,0))!==null&&r!==void 0?r:Yn)===fu)return;let s=this._$AH,l=e===Yn&&s!==Yn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Yn&&(s===Yn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},Gw=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Vs(this,e)}},hA={O:Jd,P:Oa,A:Rm,C:1,M:Hw,L:zw,R:Rw,D:Vs,I:jm,V:mu,H:Ww,N:qw,U:Vw,F:Gw},Im=Zd.litHtmlPolyfillSupport;Im==null||Im(Dm,jm),((Mm=Zd.litHtmlVersions)!==null&&Mm!==void 0?Mm:Zd.litHtmlVersions=[]).push("2.8.0");({I:pA}=hA),Nm=(e,t)=>t===void 0?(e==null?void 0:e._$litType$)!==void 0:(e==null?void 0:e._$litType$)===t,Yw=e=>{var t;return((t=e==null?void 0:e._$litType$)===null||t===void 0?void 0:t.h)!=null},Iw=()=>document.createComment(""),Ma=(e,t,r)=>{var s;let l=e._$AA.parentNode,o=t===void 0?e._$AB:t._$AA;if(r===void 0){let c=l.insertBefore(Iw(),o),n=l.insertBefore(Iw(),o);r=new pA(c,n,e,e.options)}else{let c=r._$AB.nextSibling,n=r._$AM,u=n!==e;if(u){let p;(s=r._$AQ)===null||s===void 0||s.call(r,e),r._$AM=e,r._$AP!==void 0&&(p=e._$AU)!==n._$AU&&r._$AP(p)}if(c!==o||u){let p=r._$AA;for(;p!==c;){let g=p.nextSibling;l.insertBefore(p,o),p=g}}}return r},rs=(e,t,r=e)=>(e._$AI(t,r),e),fA={},gu=(e,t=fA)=>e._$AH=t,vu=e=>e._$AH,eh=e=>{var t;(t=e._$AP)===null||t===void 0||t.call(e,!1,!0);let r=e._$AA,s=e._$AB.nextSibling;for(;r!==s;){let l=r.nextSibling;r.remove(),r=l}},Kw=e=>{e._$AR()};});function s2(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Xw!==void 0?Xw.createHTML(t):t}function nc(e,t,r=e,s){var l,o,c,n;if(t===rc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=bu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=nc(e,u._$AS(e,t.values),u,s)),t}var Hm,th,ic,Xw,Um,ns,r2,mA,Gs,ih,bu,n2,gA,Fm,yu,Zw,Jw,Ws,Qw,e2,o2,a2,xN,_N,rc,Kn,t2,qs,vA,Vm,yA,c2,rh,bA,wA,xA,_A,kA,zm,i2,ma,d2=Zt(()=>{ec();Bm();th=window,ic=th.trustedTypes,Xw=ic?ic.createPolicy("lit-html",{createHTML:e=>e}):void 0,Um="$lit$",ns=`lit$${(Math.random()+"").slice(9)}$`,r2="?"+ns,mA=`<${r2}>`,Gs=document,ih=()=>Gs.createComment(""),bu=e=>e===null||typeof e!="object"&&typeof e!="function",n2=Array.isArray,gA=e=>n2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Fm=`[ 	
\f\r]`,yu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Zw=/-->/g,Jw=/>/g,Ws=RegExp(`>|${Fm}(?:([^\\s"'>=/]+)(${Fm}*=${Fm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Qw=/'/g,e2=/"/g,o2=/^(?:script|style|textarea|title)$/i,a2=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),xN=a2(1),_N=a2(2),rc=Symbol.for("lit-noChange"),Kn=Symbol.for("lit-nothing"),t2=new WeakMap,qs=Gs.createTreeWalker(Gs,129,null,!1);vA=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=yu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===yu?g[1]==="!--"?c=Zw:g[1]!==void 0?c=Jw:g[2]!==void 0?(o2.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Ws):g[3]!==void 0&&(c=Ws):c===Ws?g[0]===">"?(c=l!=null?l:yu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Ws:g[3]==='"'?e2:Qw):c===e2||c===Qw?c=Ws:c===Zw||c===Jw?c=yu:(c=Ws,l=void 0);let x=c===Ws&&e[n+1].startsWith("/>")?" ":"";o+=c===yu?u+mA:m>=0?(s.push(p),u.slice(0,m)+Um+u.slice(m)+ns+x):u+ns+(m===-2?(s.push(void 0),n):x)}return[s2(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Vm=class l2{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=vA(t,r);if(this.el=l2.createElement(p,s),qs.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=qs.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Um)||y.startsWith(ns)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Um).split(ns),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?bA:k[1]==="?"?xA:k[1]==="@"?_A:rh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(o2.test(l.tagName)){let m=l.textContent.split(ns),y=m.length-1;if(y>0){l.textContent=ic?ic.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],ih()),qs.nextNode(),u.push({type:2,index:++o});l.append(m[y],ih())}}}else if(l.nodeType===8)if(l.data===r2)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ns,m+1))!==-1;)u.push({type:7,index:o}),m+=ns.length-1}o++}}static createElement(t,r){let s=Gs.createElement("template");return s.innerHTML=t,s}};yA=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Gs).importNode(r,!0);qs.currentNode=l;let o=qs.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new c2(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new kA(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=qs.nextNode(),c++)}return qs.currentNode=Gs,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},c2=class u2{constructor(t,r,s,l){var o;this.type=2,this._$AH=Kn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=nc(this,t,r),bu(t)?t===Kn||t==null||t===""?(this._$AH!==Kn&&this._$AR(),this._$AH=Kn):t!==this._$AH&&t!==rc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):gA(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Kn&&bu(this._$AH)?this._$AA.nextSibling.data=t:this.$(Gs.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Vm.createElement(s2(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new yA(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=t2.get(t.strings);return r===void 0&&t2.set(t.strings,r=new Vm(t)),r}T(t){n2(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new u2(this.k(ih()),this.k(ih()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},rh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Kn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Kn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=nc(this,e,t,0),o=!bu(e)||e!==this._$AH&&e!==rc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=nc(this,c[r+n],t,n),u===rc&&(u=this._$AH[n]),o||(o=!bu(u)||u!==this._$AH[n]),u===Kn?e=Kn:e!==Kn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},bA=class extends rh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Kn?void 0:e}},wA=ic?ic.emptyScript:"",xA=class extends rh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Kn?this.element.setAttribute(this.name,wA):this.element.removeAttribute(this.name)}},_A=class extends rh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=nc(this,e,t,0))!==null&&r!==void 0?r:Kn)===rc)return;let s=this._$AH,l=e===Kn&&s!==Kn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Kn&&(s===Kn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},kA=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){nc(this,e)}},zm=th.litHtmlPolyfillSupport;zm==null||zm(Vm,c2),((Hm=th.litHtmlVersions)!==null&&Hm!==void 0?Hm:th.litHtmlVersions=[]).push("2.8.0");i2=(e,t,r)=>{let s=new Map;for(let l=t;l<=r;l++)s.set(e[l],l);return s},ma=pa(class extends fa{constructor(e){if(super(e),e.type!==is.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,r){let s;r===void 0?r=t:t!==void 0&&(s=t);let l=[],o=[],c=0;for(let n of e)l[c]=s?s(n,c):c,o[c]=r(n,c),c++;return{values:o,keys:l}}render(e,t,r){return this.ct(e,t,r).values}update(e,[t,r,s]){var l;let o=vu(e),{values:c,keys:n}=this.ct(t,r,s);if(!Array.isArray(o))return this.ut=n,c;let u=(l=this.ut)!==null&&l!==void 0?l:this.ut=[],p=[],g,m,y=0,x=o.length-1,w=0,k=c.length-1;for(;y<=x&&w<=k;)if(o[y]===null)y++;else if(o[x]===null)x--;else if(u[y]===n[w])p[w]=rs(o[y],c[w]),y++,w++;else if(u[x]===n[k])p[k]=rs(o[x],c[k]),x--,k--;else if(u[y]===n[k])p[k]=rs(o[y],c[k]),Ma(e,p[k+1],o[y]),y++,k--;else if(u[x]===n[w])p[w]=rs(o[x],c[w]),Ma(e,o[y],o[x]),x--,w++;else if(g===void 0&&(g=i2(n,w,k),m=i2(u,y,x)),g.has(u[y]))if(g.has(u[x])){let S=m.get(n[w]),P=S!==void 0?o[S]:null;if(P===null){let E=Ma(e,o[y]);rs(E,c[w]),p[w]=E}else p[w]=rs(P,c[w]),Ma(e,o[y],P),o[S]=null;w++}else eh(o[x]),x--;else eh(o[y]),y++;for(;w<=k;){let S=Ma(e,p[k+1]);rs(S,c[w]),p[w++]=S}for(;y<=x;){let S=o[y++];S!==null&&eh(S)}return this.ut=n,gu(e,p),rc}});});var Ys=Zt(()=>{d2()});var AA,Wm,h2,SA,CA,La,EA,os,qm,Gm,Xn,p2,dB,ea,TA,PA,$A,gB,wu,Ks,Ym=Zt(()=>{wr();ki();Vr();Sw();Cw();wr();ki();Vr();ki();Ew();wr();ki();Vr();ki();wr();ki();Vr();wr();ki();Vr();wr();ki();Vr();Sm();Cm();Em();Tm();Pm();$m();Om();wr();ki();Vr();Ys();AA=yt`42px`,Wm=yt`var(--menuWidth, 320px)`,h2=yt`var(--animationTiming, 200ms)`,SA=yt`
  .main {
    overflow: hidden;
    width: 100%;
    height: 100%;
  }

  .animate {
    transition: transform ${h2} ease-out;
  }

  .menu {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: ${Wm};
    padding: 0.5rem 0.5rem 0 0;
    box-sizing: border-box;
    font-size: 1.4rem;
    color: var(--primaryTextColor);
    background: var(--menuSliderBg);
    transform: translateX(calc(${Wm} * -1));
  }

  .menu > button.close {
    right: 0.7rem;
  }

  button {
    cursor: pointer;
  }

  header {
    margin: 0 0 0.5rem 0;
  }

  header * {
    margin: 0;
    display: inline-block;
  }
  header button {
    cursor: pointer;
  }

  header.with-secondary-action .details {
    width: 80%;
  }

  header .details {
    font-weight: bold;
    width: 88%;
  }

  header .custom-action > *,
  button.close {
    padding: 0;
    background-color: transparent;
    border: 0;
    --iconWidth: var(--menuSliderHeaderIconWidth);
    --iconHeight: var(--menuSliderHeaderIconHeight);
  }

  header .custom-action,
  button.close {
    position: absolute;
  }
  button.close {
    right: 0.5rem;
  }

  button.close * {
    float: right;
  }

  .content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: ${AA};
    z-index: 1;
    transform: translateX(calc(${Wm} * -1));
    transition: transform ${h2} ease-out;
    background: var(--activeButtonBg);
    border-right: 0.2rem solid;
    border-color: var(--subpanelRightBorderColor);
    padding: 0.5rem 0 0 0.5rem;
    display: flex;
    flex-direction: column;
  }

  .open {
    transform: translateX(0);
  }

  .menu-list {
    padding: 0;
    margin: 0;
    list-style: none;
    background: var(--menuSliderBg);
  }
  .menu-list li {
    margin-bottom: 0.2rem;
  }

  .content > section {
    overflow: auto;
    overscroll-behavior: contain;
  }
`,CA=yt`
  a {
    display: inline-block;
    text-decoration: none;
  }

  .menu-item {
    display: inline-flex;
    width: 100%;
    padding: 0;
    font-size: 1.6rem;
    text-align: left;
    background: transparent;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    border: none;
    cursor: pointer;
  }

  button.menu-item {
    -webkit-appearance: none;
    appearance: none;
    border-radius: 0;
  }

  .label {
    display: var(--menuButtonLabelDisplay, none);
    padding: 0;
    font-weight: 400;
    color: var(--primaryTextColor);
    text-align: left;
    vertical-align: middle;
    margin-left: 1rem;
  }

  .menu-details {
    color: var(--primaryTextColor);
    display: inline-block;
    margin-left: 0.5rem;
    font-style: italic;
    font-size: 1.5rem;
  }

  .menu-item > .icon {
    position: relative;
    display: inline-flex;
    z-index: 2;
    min-width: 4.2rem;
    max-width: 4.2rem;
    height: 4.2rem;
    vertical-align: middle;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
  }

  .menu-item.selected .icon {
    background-color: var(--activeButtonBg);
    border-radius: 1rem 0 0 1rem;
  }

  .icon .fill-color {
    fill: #999;
  }

  .icon.active .fill-color {
    fill: #fff;
  }
`,La=class extends hi{constructor(){super(...arguments),this.icon="",this.href="",this.label="",this.menuDetails="",this.buttonId="",this.selected=!1,this.followable=!1}static get styles(){return CA}onClick(e){e.preventDefault(),this.dispatchMenuTypeSelectedEvent()}dispatchMenuTypeSelectedEvent(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}get buttonClass(){return this.selected?"selected":""}get iconClass(){return this.selected?"active":""}get menuItem(){return tt`
      <span class="icon ${this.iconClass}"> ${this.icon} </span>
      <span class="label">${this.label}</span>
      <span class="menu-details">${this.menuDetails}</span>
    `}get linkButton(){return tt`
      <a
        href="${this.href}"
        class="menu-item ${this.buttonClass}"
        @click=${this.followable?void 0:this.onClick}
        >${this.menuItem}</a
      >
    `}get clickButton(){return tt`
      <button class="menu-item ${this.buttonClass}" @click=${this.onClick}>
        ${this.menuItem}
      </button>
    `}render(){return this.href?this.linkButton:this.clickButton}};de([ri({type:String})],La.prototype,"icon",void 0);de([ri({type:String})],La.prototype,"href",void 0);de([ri({type:String})],La.prototype,"label",void 0);de([ri({type:String})],La.prototype,"menuDetails",void 0);de([ri({type:String})],La.prototype,"buttonId",void 0);de([ri({type:Boolean})],La.prototype,"selected",void 0);de([ri({type:Boolean})],La.prototype,"followable",void 0);La=de([cr("menu-button")],La);EA={closeDrawer:"menuSliderClosed"},os=class extends hi{constructor(){super(...arguments),this.menus=[],this.open=!1,this.manuallyHandleClose=!1,this.selectedMenu="",this.selectedMenuAction=$i,this.animateMenuOpen=!1}static get styles(){return SA}updated(){let{actionButton:e}=this.selectedMenuDetails||{};e!==this.selectedMenuAction&&(this.selectedMenuAction=e||$i)}setSelectedMenu({detail:e}){let{id:t}=e;this.selectedMenu=this.selectedMenu===t?"":t;let{actionButton:r}=this.selectedMenuDetails||{};this.selectedMenuAction=r||$i}closeMenu(){this.manuallyHandleClose||(this.open=!1);let{closeDrawer:e}=EA,t=new CustomEvent(e,{detail:this.selectedMenuDetails});this.dispatchEvent(t)}get selectedMenuDetails(){return this.menus.find(e=>e.id===this.selectedMenu)}get selectedMenuComponent(){let e=this.selectedMenuDetails;return e&&(e!=null&&e.component)?e.component:tt``}get sliderDetailsClass(){let e=this.animateMenuOpen?"animate":"",t=this.open?"open":"";return`${e} ${t}`}get selectedMenuClass(){return this.selectedMenu?"open":""}get menuItems(){return this.menus.map(e=>tt`
        <li>
          <menu-button
            @menuTypeSelected=${this.setSelectedMenu}
            .icon=${e.icon}
            .label=${e.label}
            .menuDetails=${e.menuDetails}
            .buttonId=${e.id}
            .selected=${e.id===this.selectedMenu}
            .followable=${e.followable}
            .href=${e.href}
          ></menu-button>
        </li>
      `)}get renderMenuHeader(){let{label:e="",menuDetails:t=""}=this.selectedMenuDetails||{},r=this.selectedMenuAction?"with-secondary-action":"",s=this.selectedMenuAction?tt`<span class="custom-action">${this.selectedMenuAction}</span>`:$i;return tt`
      <header class="${r}">
        <div class="details">
          <h3>${e}</h3>
          <span class="extra-details">${t}</span>
        </div>
        ${s} ${this.closeButton}
      </header>
    `}get closeButton(){return tt`
      <button
        class="close"
        aria-label="Close this menu"
        @click=${this.closeMenu}
      >
        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>
      </button>
    `}render(){return tt`
      <div class="main">
        <div class="menu ${this.sliderDetailsClass}">
          ${this.closeButton}
          <ul class="menu-list">
            ${this.menuItems}
          </ul>
          <div
            class="content ${this.selectedMenuClass}"
            @menuTypeSelected=${this.setSelectedMenu}
          >
            ${this.renderMenuHeader}
            <section>
              <div class="selected-menu">${this.selectedMenuComponent}</div>
            </section>
          </div>
        </div>
      </div>
    `}};de([ri({type:Array})],os.prototype,"menus",void 0);de([ri({type:Boolean})],os.prototype,"open",void 0);de([ri({type:Boolean})],os.prototype,"manuallyHandleClose",void 0);de([ri({type:String})],os.prototype,"selectedMenu",void 0);de([ri({type:Object})],os.prototype,"selectedMenuAction",void 0);de([ri({type:Boolean})],os.prototype,"animateMenuOpen",void 0);os=de([cr("ia-menu-slider")],os);qm=class extends hi{constructor(){super(...arguments),this.loaderMessage=""}get bookIconSvg(){return Gn`
      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">
        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>
        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>
        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>
      </g>
    `}get icon(){return this.bookIconSvg}get loader(){return Gn`
    <svg
      height="100"
      viewBox="0 0 100 100"
      width="100"
      xmlns="http://www.w3.org/2000/svg"
      aria-labelledby="item-loading"
    >
      <title id="item-loading">Currently loading viewer.</title>
      <desc>Please wait while we load theater.</desc>
      <g fill="#333" fill-rule="evenodd" class="book-icon">
        ${this.icon}
        <path
          class="ring"
          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"
          fill-rule="nonzero"
        />
      </g>
    </svg>
    `}render(){let e=this.loaderMessage?tt`<h2>${this.loaderMessage}</h2>`:$i;return tt`
      <div class="place-holder">
        ${e} ${this.loader}
        <h3>Loading viewer</h3>
      </div>
    `}static get styles(){return yt`
      .place-holder {
        width: 30%;
        margin: auto;
        text-align: center;
        color: var(--primaryTextColor);
      }

      .place-holder {
        position: relative;
      }

      .place-holder svg {
        display: block;
        width: 60%;
        max-width: 100px;
        height: auto;
        margin: auto;
      }

      svg * {
        fill: var(--primaryTextColor);
      }

      svg .ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
        display: block; // transform won't work on inline style
      }

      @keyframes rotate {
        0% {
          -moz-transform: rotate(-360deg);
          -webkit-transform: rotate(-360deg);
          transform: rotate(-360deg);
        }
      }
    `}};de([ri({type:String})],qm.prototype,"loaderMessage",void 0);qm=de([cr("ia-itemnav-loader")],qm);Gm=class extends hi{constructor(){super(...arguments),this.identifier=""}emitLoaded(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}updated(e){e.has("identifier")&&this.emitLoaded()}get downloadUrl(){return`/download/${this.identifier}`}render(){return tt`
      <section>
        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>
        <p>
          This item does not appear to have any files that can be experienced on
          Archive.org. <br />
          Please download files in this item to interact with them on your
          computer.
        </p>
        <a href=${this.downloadUrl}>Show all files</a>
      </section>
    `}static get styles(){return yt`
      :host {
        color: var(--primaryTextColor, #fff);
        text-align: center;
      }
      section {
        width: 100%;
        margin: 5%;
        padding: 0 5%;
      }
      p {
        font-size: 1.4rem;
      }
      a {
        color: var(--primaryTextColor, #fff);
        background-color: rgb(25, 72, 128);
        min-height: 35px;
        cursor: pointer;
        line-height: normal;
        border-radius: 0.4rem;
        text-align: center;
        vertical-align: middle;
        font-size: 1.4rem;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        display: inline-block;
        padding: 0.85rem 1.2rem;
        border: 1px solid rgb(197, 209, 223);
        white-space: nowrap;
        appearance: auto;
        box-sizing: border-box;
        user-select: none;
        text-decoration: none;
      }
    `}};de([ri({type:String})],Gm.prototype,"identifier",void 0);Gm=de([cr("ia-no-theater-available")],Gm);Xn=class extends hi{constructor(){super(...arguments),this.viewAvailable=!0,this.baseHost="archive.org",this.signedIn=!1,this.menuContents=[],this.menuShortcuts=[],this.viewportInFullscreen=null,this.menuOpened=!1,this.loaded=!1,this.openMenuState="shift"}disconnectedCallback(){super.disconnectedCallback(),this.removeResizeObserver()}updated(e){if(e.has("sharedObserver")){let t=e.get("sharedObserver");t==null||t.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}handleResize(e){let{width:t}=e.contentRect;if(t<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}setResizeObserver(){var e,t;(e=this.sharedObserver)===null||e===void 0||e.addObserver(this.resizeObserverConfig),(t=this.sharedObserver)===null||t===void 0||t.addObserver({target:this.headerSlot,handler:{handleResize:({contentRect:r})=>{r.height&&this.requestUpdate()}}})}removeResizeObserver(){var e;(e=this.sharedObserver)===null||e===void 0||e.removeObserver(this.resizeObserverConfig)}get resizeObserverConfig(){return{handler:this,target:this.frame}}get loaderTitle(){return this.viewportInFullscreen?"Internet Archive":""}get loadingArea(){return tt`
      <div class="loading-area">
        <div class="loading-view">
          <ia-itemnav-loader
            .loaderMessage=${this.loaderTitle}
          ></ia-itemnav-loader>
        </div>
      </div>
    `}slotChange(e,t){var r;let s=(r=e.target.assignedNodes())===null||r===void 0?void 0:r[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:s,type:t}})),this.requestUpdate()}render(){var e,t;let r=this.loaded?"":"hidden",s=((t=(e=this.headerSlot)===null||e===void 0?void 0:e.assignedNodes()[0])===null||t===void 0?void 0:t.offsetHeight)||0;return tt`
      <div id="frame" class=${this.menuClass}>
        <slot
          name="header"
          style=${`height: ${s}px`}
          @slotchange=${l=>this.slotChange(l,"header")}
        ></slot>
        <div class="menu-and-reader">
          ${this.shouldRenderMenu?this.renderSideMenu:$i}
          <div id="reader" class=${r}>
            ${this.renderViewport}
          </div>
          ${this.loaded?$i:this.loadingArea}
        </div>
      </div>
    `}get noTheaterView(){var e,t;return tt`<ia-no-theater-available
      .identifier=${(t=(e=this.item)===null||e===void 0?void 0:e.metadata)===null||t===void 0?void 0:t.identifier}
      @loadingStateUpdated=${this.loadingStateUpdated}
    ></ia-no-theater-available>`}get renderViewport(){if(!this.viewAvailable)return this.noTheaterView;let e=this.loaded?"opacity: 1;":"opacity: 0;";return tt`
      <div slot="main" style=${e}>
        <slot
          name="main"
          @slotchange=${t=>this.slotChange(t,"main")}
        ></slot>
      </div>
    `}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t!=null?t:!1}manageViewportFullscreen(e){let t=!!e.detail.isFullScreen;this.viewportInFullscreen=t||null;let r=new CustomEvent("fullscreenToggled",{detail:e.detail});this.dispatchEvent(r)}get shouldRenderMenu(){var e;return!!(!((e=this.menuContents)===null||e===void 0)&&e.length)}toggleMenu(){this.menuOpened=!this.menuOpened}closeMenu(){this.menuOpened=!1}setOpenMenu(e){let{id:t}=e.detail;this.openMenu=t!==this.openMenu?t:void 0}setMenuContents(e){let t=[...e.detail];this.menuContents=t}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}manageSideMenuEvents(e){let{menuId:t,action:r}=e.detail;t&&(r==="open"?this.openShortcut(t):r==="toggle"&&(this.openMenu=t,this.toggleMenu()))}get menuToggleButton(){return tt`
      <button
        class="toggle-menu"
        @click=${this.toggleMenu}
        title="Toggle theater side panels"
      >
        <div>
          <ia-icon-ellipses
            style="width: var(--iconWidth); height: var(--iconHeight);"
          ></ia-icon-ellipses>
        </div>
      </button>
    `}get selectedMenuId(){return this.openMenu||""}get renderSideMenu(){let e=this.menuOpened?"":"hidden";return tt`
      <nav>
        <div class="minimized">${this.shortcuts} ${this.menuToggleButton}</div>
        <div id="menu" class=${e}>
          <ia-menu-slider
            .menus=${this.menuContents}
            .selectedMenu=${this.selectedMenuId}
            @menuTypeSelected=${this.setOpenMenu}
            @menuSliderClosed=${this.closeMenu}
            manuallyHandleClose
            open
          ></ia-menu-slider>
        </div>
      </nav>
    `}openShortcut(e=""){this.openMenu=e,this.menuOpened=!0}get shortcuts(){let e=this.menuShortcuts.map(({icon:t,id:r})=>r==="fullscreen"?tt`${t}`:tt`
        <button class="shortcut ${r}" @click="${()=>this.openShortcut(r)}">
          ${t}
        </button>
      `);return tt`<div class="shortcuts">${e}</div>`}get menuClass(){var e,t;let r=((e=this.menuContents)===null||e===void 0?void 0:e.length)||((t=this.menuShortcuts)===null||t===void 0?void 0:t.length),s=this.menuOpened&&r?"open":"",l=this.viewportInFullscreen?"fullscreen":"";return`${s} ${l} ${this.openMenuState}`}static get styles(){let e=yt`var(--menuWidth, 320px)`,t=yt`var(--animationTiming, 200ms)`,r=yt`transform ${t} ease-out`,s=yt`var(--theaterMenuMargin, 42px)`,l=yt`var(--theaterBgColor, #000)`;return yt`
      :host,
      #frame,
      .menu-and-reader {
        position: relative;
        overflow: hidden;
        display: block;
      }

      :host,
      #frame,
      .loading-area,
      .loading-view {
        min-height: inherit;
        height: inherit;
      }

      slot {
        display: block;
        width: 100%;
      }

      slot * {
        display: block;
        height: inherit;
      }

      #frame {
        background-color: ${l};
        color-scheme: dark;
        display: flex;
        flex-direction: column;
      }

      #frame.fullscreen {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 9;
      }

      .loading-view {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .loading-area {
        width: 100%;
      }

      ia-itemnav-loader {
        display: block;
        width: 100%;
      }

      .hidden {
        display: none !important;
      }

      button {
        cursor: pointer;
        padding: 0;
        border: 0;
      }

      .menu-and-reader {
        position: relative;
        display: flex;
        flex: 1;
      }

      nav button {
        background: none;
      }

      nav .minimized {
        background: rgba(0, 0, 0, 0.7);
        padding-top: 6px;
        position: absolute;
        width: ${s};
        z-index: 2;
        left: 0;
        border-bottom-right-radius: 5%;
      }

      nav .minimized button {
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin-bottom: 0.2rem;
        margin: auto;
        display: inline-flex;
        vertical-align: middle;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: center;
        justify-content: center;
        width: ${s};
        height: ${s};
      }

      nav .minimized button.toggle-menu > * {
        border: 2px solid var(--iconStrokeColor);
        border-radius: var(--iconWidth);
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin: auto;
      }

      ia-icon-ellipses {
        width: var(--iconWidth);
        height: var(--iconHeight);
      }

      #menu {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 3;
        overflow: hidden;
        transform: translateX(-${e});
        width: ${e};
        transform: translateX(calc(${e} * -1));
        transition: ${r};
      }

      #reader {
        position: relative;
        z-index: 1;
        transform: translateX(0);
        width: 100%;
        display: flex;
      }

      #reader > * {
        width: 100%;
        display: flex;
        flex: 1;
      }

      .open.overlay #reader {
        transition: none;
      }

      .open #menu {
        width: ${e};
        transform: translateX(0);
        transition: ${r};
      }

      .open.shift #reader {
        width: calc(100% - ${e});
        margin-left: ${e};
        transition: ${r};
      }
    `}};de([ri({type:Object,converter:e=>e&&typeof e=="string"?new Am(JSON.parse(atob(e))):e})],Xn.prototype,"item",void 0);de([ri({type:Boolean,reflect:!0})],Xn.prototype,"viewAvailable",void 0);de([ri({type:String})],Xn.prototype,"baseHost",void 0);de([ri({type:Boolean})],Xn.prototype,"signedIn",void 0);de([ri({type:Array})],Xn.prototype,"menuContents",void 0);de([ri({type:Array})],Xn.prototype,"menuShortcuts",void 0);de([ri({type:Boolean,reflect:!0,attribute:!0})],Xn.prototype,"viewportInFullscreen",void 0);de([ri({type:Boolean,reflect:!0})],Xn.prototype,"menuOpened",void 0);de([ri({type:String,reflect:!0})],Xn.prototype,"openMenu",void 0);de([ri({attribute:!1})],Xn.prototype,"modal",void 0);de([ri({attribute:!1})],Xn.prototype,"sharedObserver",void 0);de([ri({type:Boolean,reflect:!0,attribute:!0})],Xn.prototype,"loaded",void 0);de([uo()],Xn.prototype,"openMenuState",void 0);de([ln("#frame")],Xn.prototype,"frame",void 0);de([ln('slot[name="header"]')],Xn.prototype,"headerSlot",void 0);de([ln('slot[name="main"]')],Xn.prototype,"mainSlot",void 0);Xn=de([cr("iaux-item-navigator")],Xn);p2=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),s=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),s.classList.add("visible"),clearTimeout(s.timeout),s.timeout=setTimeout(()=>s.classList.remove("visible"),4e3)},dB=tt`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ea=class extends hi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:tt`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:tt`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:tt`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:tt`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:tt`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=tt`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:$i}render(){return tt`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>tt` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${p2}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${p2}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return tt`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return yt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};de([ri({type:String})],ea.prototype,"baseHost",void 0);de([ri({type:String})],ea.prototype,"creator",void 0);de([ri({type:String})],ea.prototype,"description",void 0);de([ri({type:Boolean})],ea.prototype,"embedOptionsVisible",void 0);de([ri({type:String})],ea.prototype,"identifier",void 0);de([ri({type:Array})],ea.prototype,"sharingOptions",void 0);de([ri({type:String})],ea.prototype,"type",void 0);de([ri({type:Boolean})],ea.prototype,"renderHeader",void 0);de([ri({type:String})],ea.prototype,"fileSubPrefix",void 0);ea=de([cr("iaux-in-share-panel")],ea);TA=tt`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,PA=tt`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,$A=tt`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,gB=tt`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,wu=class extends hi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return tt`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:tt`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${$A}
        </button>
      `,title_asc:tt`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${TA}
        </button>
      `,title_desc:tt`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${PA}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,s)=>e==="title_asc"?r.title.localeCompare(s.title):e==="title_desc"?s.title.localeCompare(r.title):r.orig_sort-s.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return yt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};de([ri({type:Array})],wu.prototype,"fileListRaw",void 0);de([ri({type:Array})],wu.prototype,"fileListSorted",void 0);de([ri({type:String,reflect:!0})],wu.prototype,"sortOrderBy",void 0);wu=de([cr("iaux-in-sort-files-button")],wu);Ks=class extends hi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return tt`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return tt`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",s=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return tt`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${s}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:$i}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=ma(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return tt`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return tt` ${this.fileList.length?this.fileListTemplate:$i} `}static get styles(){return yt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};de([ri({type:String})],Ks.prototype,"baseHost",void 0);de([ri({type:String})],Ks.prototype,"sortOrderBy",void 0);de([ri({type:String})],Ks.prototype,"subPrefix",void 0);de([ri({type:Array})],Ks.prototype,"fileList",void 0);de([ri({type:Boolean,reflect:!0})],Ks.prototype,"addSortToUrl",void 0);Ks=de([cr("iaux-in-viewable-files-panel")],Ks)});var OA,MA,xu=Zt(()=>{ki();OA=Object.freeze({processing:"processing",complete:"complete"}),MA=class extends hi{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=OA.processing}render(){return tt`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=yt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=yt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=yt`var(--activityIndicatorLoadingRingColor, #333333)`,s=yt`var(--activityIndicatorLoadingDotColor, #333333)`;return yt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${s};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};window.customElements.define("ia-activity-indicator",MA)});var LA,f2,m2,g2=Zt(()=>{ki();ki();LA=tt`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,f2=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return LA}};customElements.define("ia-icon-close",f2);m2=f2});var IA,v2,y2,b2=Zt(()=>{ki();ki();IA=tt`
<svg
  class="ia-logo"
  viewBox="0 0 27 30"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="logoTitleID logoDescID"
>
  <title id="logoTitleID">Internet Archive logo</title>
  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <mask id="mask-2" class="fill-color">
      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
    </mask>
    <use class="fill-color" xlink:href="#path-1"></use>
    <g mask="url(#mask-2)" class="fill-color">
      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
    </g>
  </g>
</svg>
`,v2=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return IA}};customElements.define("ia-icon-ia-logo",v2);y2=v2});var Xm,Km,Xs,DA,oc,ac=Zt(()=>{wr();ki();Vr();wr();ki();Vr();xu();g2();b2();Mc();Xm=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}},Km=class extends hi{constructor(){super(...arguments),this.config=new Xm}render(){return tt`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?tt`<div class="logo-icon">${y2}</div>`:$i}
            ${this.config.title?tt`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?tt`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?tt` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?tt` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(){let e=new Event("closeButtonPressed");this.dispatchEvent(e)}get closeButtonTemplate(){return tt`
      <button
        type="button"
        class="close-button"
        tabindex="0"
        @click=${this.handleCloseButton}
      >
        ${m2}
      </button>
    `}static get styles(){let e=yt`var(--modalLogoSize, 6.5rem)`,t=yt`var(--processingImageSize, 7.5rem)`,r=yt`var(--modalCornerRadius, 1rem)`,s=yt`var(--modalBorder, 2px solid black)`,l=yt`var(--modalBottomMargin, 2.5rem)`,o=yt`var(--modalTopMargin, 5rem)`,c=yt`var(--modalHeaderBottomPadding, 0.5em)`,n=yt`var(--modalBottomPadding, 2rem)`,u=yt`var(--modalScrollOffset, 5px)`,p=yt`var(--modalTitleFontSize, 1.8rem)`,g=yt`var(--modalSubtitleFontSize, 1.4rem)`,m=yt`var(--modalHeadlineFontSize, 1.6rem)`,y=yt`var(--modalMessageFontSize, 1.4rem)`,x=yt`var(--modalTitleLineHeight, normal)`,w=yt`var(--modalSubtitleLineHeight, normal)`,k=yt`var(--modalHeadlineLineHeight, normal)`,S=yt`var(--modalMessageLineHeight, normal)`;return yt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};de([ri({type:Object})],Km.prototype,"config",void 0);Km=de([cr("modal-template")],Km);(function(e){e.Open="open",e.Closed="closed"})(Xs||(Xs={}));DA=class{constructor(e){this.windowResizeThrottler=Ml(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Xs.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Xs.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},oc=class extends hi{constructor(){super(...arguments),this.mode=Xs.Closed,this.hostBridge=new DA(this),this.closeOnBackdropClick=!0}render(){return tt`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="0"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Xs.Closed}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Ga(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Xs.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=yt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=yt`var(--modalBackdropZindex, 1000)`,r=yt`var(--modalWidth, 32rem)`,s=yt`var(--modalMaxWidth, 95%)`,l=yt`var(--modalZindex, 2000)`;return yt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};de([ri({type:String,reflect:!0})],oc.prototype,"mode",void 0);de([ri({type:Object})],oc.prototype,"customModalContent",void 0);de([ri({type:Object})],oc.prototype,"hostBridge",void 0);de([ln("modal-template")],oc.prototype,"modalTemplate",void 0);oc=de([cr("modal-manager")],oc)});var w2,x2,ta,nh=Zt(()=>{wr();ki();Vr();Sm();Cm();Em();Tm();Pm();$m();Om();w2=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),s=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),s.classList.add("visible"),clearTimeout(s.timeout),s.timeout=setTimeout(()=>s.classList.remove("visible"),4e3)},x2=tt`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ta=class extends hi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:tt`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:tt`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:tt`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:tt`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:tt`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=tt`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:$i}render(){return tt`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>tt` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${w2}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${w2}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return tt`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return yt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};de([ri({type:String})],ta.prototype,"baseHost",void 0);de([ri({type:String})],ta.prototype,"creator",void 0);de([ri({type:String})],ta.prototype,"description",void 0);de([ri({type:Boolean})],ta.prototype,"embedOptionsVisible",void 0);de([ri({type:String})],ta.prototype,"identifier",void 0);de([ri({type:Array})],ta.prototype,"sharingOptions",void 0);de([ri({type:String})],ta.prototype,"type",void 0);de([ri({type:Boolean})],ta.prototype,"renderHeader",void 0);de([ri({type:String})],ta.prototype,"fileSubPrefix",void 0);ta=de([cr("iaux-in-share-panel")],ta)});var RA,jA,Zm=Zt(()=>{ki();ki();RA=tt`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="downloadTitleID downloadDescID"
>
  <title id="downloadTitleID">Download icon</title>
  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>
  <g class="fill-color">

    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>
  </g>
</svg>
`,jA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return RA}};customElements.define("ia-icon-dl",jA)});var NA,Jm=Zt(()=>{ki();NA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      #hollow,
      #plus,
      #minus {
        display: none;
      }

      .hollow #filled,
      .plus #filled,
      .minus #filled {
        display: none;
      }

      .hollow #hollow,
      .plus #hollow,
      .minus #hollow {
        display: block;
      }

      .plus #plus {
        display: block;
      }

      .minus #minus {
        display: block;
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}static get properties(){return{state:{type:String}}}render(){return tt`
      <div class=${this.state}>
        <svg
          height="24"
          viewBox="0 0 16 24"
          width="16"
          xmlns="http://www.w3.org/2000/svg"
          aria-labelledby="bookmarkTitleID bookmarDescID"
        >
          <title id="bookmarkTitleID">Bookmark icon</title>
          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>
          <path
            id="filled"
            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"
            class="fill-color"
            fill-rule="evenodd"
          />
          <g class="fill-color" fill-rule="evenodd">
            <path
              id="hollow"
              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"
            />
            <path
              id="plus"
              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"
              fill-rule="nonzero"
            />
            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />
          </g>
        </svg>
      </div>
    `}};window.customElements.define("icon-bookmark",NA)});var BA,HA,FA,_2,_u,Zs,oh=Zt(()=>{wr();ki();Vr();Ys();BA=tt`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,HA=tt`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,FA=tt`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,_2=tt`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,_u=class extends hi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return tt`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:tt`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${FA}
        </button>
      `,title_asc:tt`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${BA}
        </button>
      `,title_desc:tt`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${HA}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,s)=>e==="title_asc"?r.title.localeCompare(s.title):e==="title_desc"?s.title.localeCompare(r.title):r.orig_sort-s.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return yt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};de([ri({type:Array})],_u.prototype,"fileListRaw",void 0);de([ri({type:Array})],_u.prototype,"fileListSorted",void 0);de([ri({type:String,reflect:!0})],_u.prototype,"sortOrderBy",void 0);_u=de([cr("iaux-in-sort-files-button")],_u);Zs=class extends hi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return tt`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return tt`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",s=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return tt`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${s}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:$i}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=ma(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return tt`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return tt` ${this.fileList.length?this.fileListTemplate:$i} `}static get styles(){return yt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};de([ri({type:String})],Zs.prototype,"baseHost",void 0);de([ri({type:String})],Zs.prototype,"sortOrderBy",void 0);de([ri({type:String})],Zs.prototype,"subPrefix",void 0);de([ri({type:Array})],Zs.prototype,"fileList",void 0);de([ri({type:Boolean,reflect:!0})],Zs.prototype,"addSortToUrl",void 0);Zs=de([cr("iaux-in-viewable-files-panel")],Zs)});var zA,UA,Qm=Zt(()=>{ki();ki();zA=tt`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"
>
  <title id="visualAdjustmentTitleID">Visual adjustment</title>
  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>
  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />
</svg>
`,UA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return zA}};customElements.define("ia-icon-visual-adjustment",UA)});var VA,WA,eg=Zt(()=>{ki();ki();VA=tt`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="searchTitleID searchDescID"
>
  <title id="searchTitleID">Search icon</title>
  <desc id="searchDescID">Search for something.</desc>
  <path
    class="fill-color"
    fill="none"
    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />
</svg>
`,WA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return VA}};customElements.define("ia-icon-search",WA)});var qA,GA,tg=Zt(()=>{ki();ki();qA=tt`
<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>
`,GA=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return qA}};customElements.define("ia-icon-edit-pencil",GA)});function L2(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return k2!==void 0?k2.createHTML(t):t}function cc(e,t,r=e,s){var l,o,c,n;if(t===lc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Au(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=cc(e,u._$AS(e,t.values),u,s)),t}var ig,ah,sc,k2,og,as,P2,YA,el,sh,Au,$2,KA,rg,ku,A2,S2,Js,C2,E2,O2,M2,IH,DH,lc,Hn,T2,Qs,XA,ag,ZA,D2,lh,JA,QA,eS,tS,iS,ng,sg,ch,j2=Zt(()=>{ec();ah=window,sc=ah.trustedTypes,k2=sc?sc.createPolicy("lit-html",{createHTML:e=>e}):void 0,og="$lit$",as=`lit$${(Math.random()+"").slice(9)}$`,P2="?"+as,YA=`<${P2}>`,el=document,sh=()=>el.createComment(""),Au=e=>e===null||typeof e!="object"&&typeof e!="function",$2=Array.isArray,KA=e=>$2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",rg=`[ 	
\f\r]`,ku=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,A2=/-->/g,S2=/>/g,Js=RegExp(`>|${rg}(?:([^\\s"'>=/]+)(${rg}*=${rg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),C2=/'/g,E2=/"/g,O2=/^(?:script|style|textarea|title)$/i,M2=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),IH=M2(1),DH=M2(2),lc=Symbol.for("lit-noChange"),Hn=Symbol.for("lit-nothing"),T2=new WeakMap,Qs=el.createTreeWalker(el,129,null,!1);XA=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=ku;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===ku?g[1]==="!--"?c=A2:g[1]!==void 0?c=S2:g[2]!==void 0?(O2.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Js):g[3]!==void 0&&(c=Js):c===Js?g[0]===">"?(c=l!=null?l:ku,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Js:g[3]==='"'?E2:C2):c===E2||c===C2?c=Js:c===A2||c===S2?c=ku:(c=Js,l=void 0);let x=c===Js&&e[n+1].startsWith("/>")?" ":"";o+=c===ku?u+YA:m>=0?(s.push(p),u.slice(0,m)+og+u.slice(m)+as+x):u+as+(m===-2?(s.push(void 0),n):x)}return[L2(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},ag=class I2{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=XA(t,r);if(this.el=I2.createElement(p,s),Qs.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Qs.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(og)||y.startsWith(as)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+og).split(as),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?JA:k[1]==="?"?eS:k[1]==="@"?tS:lh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(O2.test(l.tagName)){let m=l.textContent.split(as),y=m.length-1;if(y>0){l.textContent=sc?sc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],sh()),Qs.nextNode(),u.push({type:2,index:++o});l.append(m[y],sh())}}}else if(l.nodeType===8)if(l.data===P2)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(as,m+1))!==-1;)u.push({type:7,index:o}),m+=as.length-1}o++}}static createElement(t,r){let s=el.createElement("template");return s.innerHTML=t,s}};ZA=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:el).importNode(r,!0);Qs.currentNode=l;let o=Qs.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new D2(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new iS(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Qs.nextNode(),c++)}return Qs.currentNode=el,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},D2=class R2{constructor(t,r,s,l){var o;this.type=2,this._$AH=Hn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=cc(this,t,r),Au(t)?t===Hn||t==null||t===""?(this._$AH!==Hn&&this._$AR(),this._$AH=Hn):t!==this._$AH&&t!==lc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):KA(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Hn&&Au(this._$AH)?this._$AA.nextSibling.data=t:this.$(el.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=ag.createElement(L2(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new ZA(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=T2.get(t.strings);return r===void 0&&T2.set(t.strings,r=new ag(t)),r}T(t){$2(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new R2(this.k(sh()),this.k(sh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},lh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Hn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Hn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=cc(this,e,t,0),o=!Au(e)||e!==this._$AH&&e!==lc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=cc(this,c[r+n],t,n),u===lc&&(u=this._$AH[n]),o||(o=!Au(u)||u!==this._$AH[n]),u===Hn?e=Hn:e!==Hn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Hn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},JA=class extends lh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Hn?void 0:e}},QA=sc?sc.emptyScript:"",eS=class extends lh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Hn?this.element.setAttribute(this.name,QA):this.element.removeAttribute(this.name)}},tS=class extends lh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=cc(this,e,t,0))!==null&&r!==void 0?r:Hn)===lc)return;let s=this._$AH,l=e===Hn&&s!==Hn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Hn&&(s===Hn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},iS=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){cc(this,e)}},ng=ah.litHtmlPolyfillSupport;ng==null||ng(ag,D2),((ig=ah.litHtmlVersions)!==null&&ig!==void 0?ig:ah.litHtmlVersions=[]).push("2.8.0");sg=class extends fa{constructor(e){if(super(e),this.et=Hn,e.type!==is.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Hn||e==null)return this.ft=void 0,this.et=e;if(e===lc)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;let t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}};sg.directiveName="unsafeHTML",sg.resultType=1;ch=pa(sg);});var Su=Zt(()=>{j2()});var rS,nS,lg=Zt(()=>{ki();ki();rS=tt`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-minusTitleID magnify-minusDescID"
>
  <title id="magnify-minusTitleID">Zoom out</title>
  <desc id="magnify-minusDescID">Take a look further.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>
  </g>
</svg>
`,nS=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return rS}};customElements.define("ia-icon-magnify-minus",nS)});var oS,aS,cg=Zt(()=>{ki();ki();oS=tt`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-plusTitleID magnify-plusDescID"
>
  <title id="magnify-plusTitleID">Zoom in</title>
  <desc id="magnify-plusDescID">Take a look closer.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>
  </g>
</svg>
`,aS=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return oS}};customElements.define("ia-icon-magnify-plus",aS)});function H2(e,t){return e.sort((r,s)=>{let l=t?t(r):r,o=t?t(s):s;return l<o?-1:l>o?1:0})}var F2,N2,Cu,sS,Vn,lS,cS,B2,uS,dS,ug,dg,hS,pS,fS,mS,gS,vS,yS,bS,U2,wS,xS,_S,kS,uh,AS,SS,dh,CS,W2,q2=Zt(()=>{ki();Ym();$s();ac();ki();ki();eg();Su();ki();xu();ki();ki();ki();ki();Zm();ki();ki();Qm();ki();Ys();ki();lg();cg();ki();ki();ki();ki();ac();ki();Ys();ki();ki();Ys();ki();tg();Jm();ki();nh();nh();ki();oh();oh();ki();ac();ac();$s();F2=yt`data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+`,N2=yt`data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==`,Cu=yt`
  .ia-button {
    min-height: 3rem;
    border: none;
    outline: none;
    cursor: pointer;
    color: var(--primaryTextColor);
    line-height: normal;
    border-radius: .4rem;
    text-align: center;
    vertical-align: middle;
    font-size: 1.4rem;
    font-family: inherit;
    display: inline-block;
    padding: .6rem 1.2rem;
    border: 1px solid transparent;

    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;
  }

  .ia-button.link,
  .ia-button.external {
    min-height: unset;
    text-decoration: none;
  }

  .ia-button:disabled,
  .ia-button.disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  .ia-button.transparent {
    background-color: transparent;
  }
  
  .ia-button.slim {
    padding: 0;
  }

  .ia-button.primary {
    background-color: var(--primaryCTAFill);
    border-color: var(--primaryCTABorder);
  }

  .ia-button.cancel {
    background-color: var(--primaryErrorCTAFill);
    border-color: var(--primaryErrorCTABorder);
  }

  .ia-button.external {
    background: var(--secondaryCTAFill);
    border-color: var(--secondaryCTABorder);
  }
`,sS=class extends hi{static get properties(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}constructor(){super(),this.results=[],this.query="",this.queryInProgress=!1,this.renderHeader=!1,this.renderSearchAllFiles=!1,this.displayResultImages=!1,this.errorMessage="",this.bindBookReaderListeners()}updated(){this.focusOnInputIfNecessary()}bindBookReaderListeners(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}focusOnInputIfNecessary(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}setResults({detail:e}){this.results=e.results}setQuery(e){this.query=e.currentTarget.value,this.query||this.cancelSearch()}performSearch(e){e.preventDefault();let t=e.currentTarget.querySelector('input[type="search"]');!t||!t.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}selectResult(e){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:e}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}cancelSearch(){this.queryInProgress=!1,this.dispatchSearchCanceled()}dispatchSearchCanceled(){this.dispatchEvent(new Event("bookSearchCanceled"))}get resultsCount(){let e=this.results.length;return e?tt`<p>(${e} result${e>1?"s":""})</p>`:$i}get headerSection(){let e=tt`<header>
      <h3>Search inside</h3>
      ${this.resultsCount}
    </header>`;return this.renderHeader?e:$i}get searchMultipleControls(){let e=tt`
      <input name="all_files" id="all_files" type="checkbox" />
      <label class="checkbox" for="all_files">Search all files</label>
    `;return this.renderSearchAllFiles?e:$i}get loadingIndicator(){return tt`
      <div class="loading">
        <ia-activity-indicator mode="processing"></ia-activity-indicator>
        <p>Searching</p>
        <button class="ia-button external cancel-search" @click=${this.cancelSearch}>Cancel</button>
      </div>
    `}get resultsSet(){let e=this.displayResultImages?"show-image":"";return tt`
      <ul class="results ${e}">
        ${this.results.map(t=>tt`
            <li @click=${this.selectResult.bind(this,t)}>
              ${t.cover?tt`<img src="${t.cover}" />`:$i}
              <h4>${t.title||$i}</h4>
              <p class="page-num">Page ${t.displayPageNumber}</p>
              <p>${ch(t.html)}</p>
            </li>
          `)}
      </ul>
    `}get searchForm(){return tt`
      <form action="" method="get" @submit=${this.performSearch}>
        <fieldset>
          ${this.searchMultipleControls}
          <input
            type="search"
            name="query"
            alt="Search inside this book."
            @keyup=${this.setQuery}
            @search=${this.setQuery}
            .value=${this.query}
          />
        </fieldset>
      </form>
    `}get setErrorMessage(){return tt`
      <p class="error-message">${this.errorMessage}</p>
    `}get searchCTA(){return tt`<p class="search-cta"><em>Please enter text to search for</em></p>`}render(){let e=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return tt`
      ${this.headerSection}
      ${this.searchForm}
      <div class="results-container">
        ${this.queryInProgress?this.loadingIndicator:$i}
        ${this.errorMessage?this.setErrorMessage:$i}
        ${this.results.length?this.resultsSet:$i}
        ${e?this.searchCTA:$i}
      </div>
    `}static get styles(){let e=yt`var(--searchResultText, #adaedc)`,t=yt`var(--searchResultBg, #272958)`,r=yt`var(--searchResultBorder, #adaedc)`,s=yt`(--tertiaryBGColor, #333)`,l=yt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 1rem 2rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      mark {
        padding: 0 .2rem;
        color: ${e};
        background: ${t};
        border: 1px solid ${r};
        border-radius: 2px;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 2rem;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem 0 0;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }

      fieldset {
        padding: 0 0 1rem 0;
        border: none;
      }

      [type="checkbox"] {
        display: none;
      }

      label {
        display: block;
        text-align: center;
      }

      label.checkbox {
        padding-bottom: .5rem;
        font-size: 1.6rem;
        line-height: 150%;
        vertical-align: middle;
      }

      label.checkbox:after {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: .7rem;
        content: "";
        border-radius: 2px;
      }
      :checked + label.checkbox:after {
        background-image: url('${F2}');
      }

      label.checkbox[for="all_files"]:after {
        background: ${s} 50% 50% no-repeat;
        border: 1px solid var(--primaryTextColor);
      }

      [type="search"] {
        color: var(--primaryTextColor);
        border: 1px solid var(--primaryTextColor);
        -webkit-appearance: textfield;
        width: 100%;
        height: 3rem;
        padding: 0 1.5rem;
        box-sizing: border-box;
        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;
        border-radius: 1.5rem;
        background: transparent;
      }
      [type="search"]:focus {
        outline: none;
      }
      [type="search"]::-webkit-search-cancel-button {
        width: 18px;
        height: 18px;
        -webkit-appearance: none;
        appearance: none;
        -webkit-mask: url('${N2}') 0 0 no-repeat;
        mask: url('${N2}') 0 0 no-repeat;
        -webkit-mask-size: 100%;
        mask-size: 100%;
        background: #fff;
      }

      p.page-num {
        font-weight: bold;
        padding-bottom: 0;
      }

      p.search-cta {
        text-align: center;
      }

      .results-container {
        padding-bottom: 2rem;
      }

      ul {
        padding: 0 0 2rem 0;
        margin: 0;
        list-style: none;
      }

      ul.show-image li {
        display: grid;
      }

      li {
        cursor: pointer;
        grid-template-columns: 30px 1fr;
        grid-gap: 0 .5rem;
      }

      li img {
        display: block;
        width: 100%;
      }

      li h4 {
        grid-column: 2 / 3;
        padding: 0 0 2rem 0;
        margin: 0;
        font-weight: normal;
      }

      li p {
        grid-column: 2 / 3;
        padding: 0 0 1.5rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      .loading {
        text-align: center;
      }

      .loading p {
        padding: 0 0 1rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      ia-activity-indicator {
        display: block;
        width: 40px;
        height: 40px;
        margin: 0 auto;
      }
    `;return[Cu,l]}};customElements.define("ia-book-search-results",sS);Vn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},lS=class{constructor({onProviderChange:e,bookreader:t}){this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=t,this.icon=tt`<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>`,this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}getMenuDetails(){let{resultsCount:e,query:t,queryInProgress:r}=Vn;return r||!t?$i:tt`(${e} ${e===1?"result":"results"})`}bindEventListeners(){window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",e=>{this.onSearchRequestError(e,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",e=>{this.onSearchRequestError(e,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",e=>{this.onSearchRequestError(e)}),window.addEventListener("BookReader:SearchResultsCleared",()=>{this.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",e=>{this.onSearchCanceled(e)})}onSearchCanceled(){Vn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};let e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}onSearchStarted(e){let{term:t="",instance:r}=e.detail.props;r&&(this.bookreader=r),Vn.query=t,Vn.results=[],Vn.resultsCount=0,Vn.queryInProgress=!0,Vn.errorMessage="",this.updateMenu()}onBookSearchInitiated({detail:e}){Vn.query=e.query,this.bookreader.search(Vn.query)}onSearchRequestError(e,t="default"){var n;let{detail:{props:r}}=e,{instance:s,results:l}=r;s&&(this.bookreader=s);let o={noResults:"0 results",notIndexed:`This book hasn't been indexed for searching yet.  We've just started indexing it,
       so search should be available soon.  Please try again later.  Thanks!`,default:"Sorry, there was an error with your search.  Please try again."},c=(n=o[t])!=null?n:o.default;Vn.query=(l==null?void 0:l.q)||"",Vn.results=[],Vn.resultsCount=0,Vn.queryInProgress=!1,Vn.errorMessage=tt`<p class="error">${c}</p>`,this.updateMenu()}onSearchResultsChange({detail:{props:e={}}}){let{instance:t=null,results:r=[]}=e;t&&(this.bookreader=t);let s=r.matches||[],l=s.length,o=r.q;Vn={results:s,resultsCount:l,query:o,queryInProgress:!1,errorMessage:""},this.updateMenu()}searchCanceledInMenu(){this.bookreader.plugins.search.cancelSearchRequest()}onSearchResultsCleared(){Vn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),this.bookreader.plugins.search.searchView.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}updateSearchInUrl(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),Vn.query?this.bookreader.urlPlugin.setUrlParam("q",Vn.query):this.bookreader.urlPlugin.removeUrlParam("q"))}updateMenu(e={}){this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}getComponent(){let{query:e,results:t,queryInProgress:r,errorMessage:s}=Vn;return tt`
    <ia-book-search-results
      .query=${e}
      .results=${t}
      .errorMessage=${s}
      ?queryInProgress=${r}
      ?renderSearchAllFiles=${!1}
      @resultSelected=${this.onSearchResultsClicked}
      @bookSearchInitiated=${this.onBookSearchInitiated}
      @bookSearchResultsCleared=${this.onSearchResultsCleared}
      @bookSearchCanceled=${this.searchCanceledInMenu}
    ></ia-book-search-results>
  `}onSearchResultsClicked({detail:e}){this.bookreader.plugins.search.jumpToMatch(e.match.matchIndex)}},cS=class extends hi{static get properties(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}constructor(){super(),this.downloads=[],this.expiration=0,this.renderHeader=!1,this.isBookProtected=!1}get formatsCount(){let e=this.downloads.length;return e?tt`<p>${e} format${e>1?"s":""}</p>`:tt``}get loanExpiryMessage(){return this.expiration?tt`<h2>These files will expire in ${this.expiration} days.</h2>`:tt``}renderDownloadOptions(){return this.downloads.map(e=>tt`
        <li>
          <a class="ia-button link primary" href="${e.url}">Get ${e.type}</a>
          ${e.note?tt`<p>${e.note}</p>`:tt``}
        </li>
      `)}get hasLCPOption(){let e=/^(LCP)/g;return this.downloads.some(t=>{var r;return(r=t.type)==null?void 0:r.match(e)})}get header(){return this.renderHeader?tt`
      <header>
        <h3>Downloadable files</h3>
        ${this.formatsCount}
      </header>
    `:$i}get installLCPSoftwareMsg(){return tt`
    <p>For LCP downloads, make sure you have LCP software such as <a href="https://thorium.edrlab.org/" rel="noopener noreferrer nofollow" target="_blank">Thorium (desktop)</a>, <a href="https://apps.apple.com/us/app/cantook-by-aldiko/id1476410111" rel="noopener noreferrer nofollow" target="_blank">Cantook (iOS)</a> or <a href="https://play.google.com/store/apps/details?id=com.aldiko.android" rel="noopener noreferrer nofollow" target="_blank">Cantook (Android)</a> installed on your device.</p>
  `}render(){return tt`
      ${this.header}
      ${this.loanExpiryMessage}
      <ul>${this.renderDownloadOptions()}</ul>
      ${this.hasLCPOption?this.installLCPSoftwareMsg:$i}
    `}static get styles(){let e=yt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      a.close ia-icon {
        --iconWidth: 18px;
        --iconHeight: 18px;
      }
      a.close {
        justify-self: end;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }
      header div {
        display: flex;
        align-items: baseline;
      }      

      h2 {
        font-size: 1.6rem;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.4rem;
      }

      ul {
        padding: 0;
        margin: 0;
        list-style: none;
      }

      p {
        margin: .3rem 0 0 0;
      }

      li,
      ul + p {
        padding-bottom: 1.2rem;
        font-size: 1.2rem;
        line-height: 140%;
      }
    `;return[Cu,e]}};customElements.define("ia-book-downloads",cS);B2={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},uS={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},dS=class{constructor({bookreader:e}){var t;this.icon=tt`<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>`,this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((t=e==null?void 0:e.options)==null?void 0:t.isProtected)||!1}update(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;let t=this.downloads.length===1?"":"s";this.menuDetails=`(${this.downloads.length} format${t})`}computeAvailableTypes(e=[]){let t=e.reduce((r,s=[])=>{let[l="",o=""]=s,c=l.toLowerCase(),n=B2[c]||null;if(n){let u=this.isBookProtected?B2[c].type:uS[c],p=Object.assign({},n,{url:o,type:u});r.push(p)}return r},[]);this.downloads=t}get menu(){return tt`<ia-book-downloads .downloads=${this.downloads}></ia-book-downloads>`}},ug=e=>`visualAdjustment${e}`,dg={optionChange:ug("OptionChanged"),zoomIn:ug("ZoomIn"),zoomOut:ug("ZoomOut")},hS=class extends hi{static get properties(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}constructor(){super(),this.activeCount=0,this.options=[],this.renderHeader=!1,this.showZoomControls=!0}firstUpdated(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}get activeOptions(){return this.options.reduce((e,t)=>t.active?[...e,t.id]:e,[])}prepareEventDetails(e=""){return{options:this.options,activeCount:this.activeCount,changedOptionId:e}}emitOptionChangedEvent(e=""){let t=this.prepareEventDetails(e);this.dispatchEvent(new CustomEvent(dg.optionChange,{bubbles:!0,composed:!0,detail:t}))}emitZoomIn(){this.dispatchEvent(new CustomEvent(dg.zoomIn))}emitZoomOut(){this.dispatchEvent(new CustomEvent(dg.zoomOut))}changeActiveStateFor(e){let t=[...this.options],r=t.find(s=>s.id===e);r.active=!r.active,this.options=t,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(r.id)}setRangeValue(e,t){let r=[...this.options];r.find(s=>s.id===e).value=t,this.options=[...r]}rangeSlider(e){return tt`
      <div class=${`range${e.active?" visible":""}`}>
        <input
          type="range"
          name="${e.id}_range"
          min=${e.min||0}
          max=${e.max||100}
          step=${e.step||1}
          .value=${e.value}
          @input=${t=>this.setRangeValue(e.id,t.target.value)}
          @change=${()=>this.emitOptionChangedEvent()}
        />
        <p>${e.value}%</p>
      </div>
    `}adjustmentCheckbox(e){let t=`adjustment_${e.id}`;return tt`<li>
      <label for="${t}">
        <span class="name">${e.name}</span>
        <input
          type="checkbox"
          name="${t}"
          id="${t}"
          @change=${()=>this.changeActiveStateFor(e.id)}
          ?checked=${e.active}
        />
        <span class="icon"></span>
      </label>
      ${e.value!==void 0?this.rangeSlider(e):$i}
    </li>`}get headerSection(){let e=this.activeCount?tt`<p>(${this.activeCount} active)</p>`:$i,t=tt`<header>
      <h3>Visual adjustments</h3>
      ${e}
    </header>`;return this.renderHeader?t:$i}get zoomControls(){return tt`
      <h4>Adjust zoom</h4>
      <button class="zoom_out" @click=${this.emitZoomOut} title="zoom out">
        <ia-icon-magnify-minus></ia-icon-magnify-minus>
      </button>
      <button class="zoom_in" @click=${this.emitZoomIn} title="zoom in">
        <ia-icon-magnify-plus></ia-icon-magnify-plus>
      </button>
    `}render(){return tt`
      ${this.headerSection}
      <ul>
        ${ma(this.options,e=>e.id,this.adjustmentCheckbox.bind(this))}
      </ul>
      ${this.showZoomControls?this.zoomControls:$i}
    `}static get styles(){return yt`
    :host {
      display: block;
      height: 100%;
      overflow-y: auto;
      font-size: 1.4rem;
      box-sizing: border-box;
    }

    header {
      display: flex;
      align-items: baseline;
    }

    h3 {
      padding: 0;
      margin: 0 1rem 0 0;
      font-size: 1.6rem;
    }

    header p {
      padding: 0;
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
      font-style: italic;
    }

    ul {
      padding: 1rem 2rem 0 0;
      list-style: none;
      margin-top: 0;
    }

    [type="checkbox"] {
      display: none;
    }

    label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 1.4rem;
      font-weight: bold;
      line-height: 150%;
      vertical-align: middle;
    }

    .icon {
      display: inline-block;
      width: 14px;
      height: 14px;
      margin-left: .7rem;
      border: 1px solid var(--primaryTextColor);
      border-radius: 2px;
      background: var(--activeButtonBg) 50% 50% no-repeat;
    }
    :checked + .icon {
      background-image: url('${F2}');
    }

    .range {
      display: none;
      padding-top: .5rem;
    }
    .range.visible {
      display: flex;
    }

    .range p {
      margin-left: 1rem;
    }

    h4 {
      padding: 1rem 0;
      margin: 0;
      font-size: 1.4rem;
    }

    button {
      -webkit-appearance: none;
      appearance: none;
      border: none;
      border-radius: 0;
      background: transparent;
      outline: none;
      cursor: pointer;
      --iconFillColor: var(--primaryTextColor);
      --iconStrokeColor: var(--primaryTextColor);
      height: 4rem;
      width: 4rem;
    }

    button * {
      display: inline-block;
    }`}};customElements.define("ia-book-visual-adjustments",hS);pS=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],fS=class{constructor(e){let{onProviderChange:t,bookreader:r}=e;this.onProviderChange=t,this.bookContainer=r.refs.$brContainer,this.bookreader=r,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=tt`<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>`,this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="visualAdjustments",this.component=tt`
      <ia-book-visual-adjustments
        .options=${pS}
        @visualAdjustmentOptionChanged=${this.onAdjustmentChange}
        @visualAdjustmentZoomIn=${this.onZoomIn}
        @visualAdjustmentZoomOut=${this.onZoomOut}
      ></ia-book-visual-adjustments>
    `}onZoomIn(){this.bookreader.zoom(1)}onZoomOut(){this.bookreader.zoom(-1)}onAdjustmentChange(e){let{detail:t}=e,r={brightness:l=>`brightness(${l}%)`,contrast:l=>`contrast(${l}%)`,grayscale:()=>"grayscale(100%)",invert:()=>"invert(100%)"},s=t.options.reduce((l,o)=>{let c=`${o.active?r[o.id](o.value):""}`;return c?[...l,c]:l},[]).join(" ");this.bookContainer.css("filter",s),this.optionUpdateComplete(e)}optionUpdateComplete(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}updateOptionsCount(){this.menuDetails=`(${this.activeCount} active)`}},mS=class extends hi{static get styles(){return yt`
      div {
        display: flex;
        justify-content: center;
        padding-top: 2rem;
      }

      button {
        appearance: none;
        padding: 0.5rem 1rem;
        margin: 0 .5rem;
        box-sizing: border-box;
        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: var(--primaryTextColor);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: var(--primaryCTAFill);
      }

      .delete {
        background: var(--primaryErrorCTAFill);
      }
    `}static get properties(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}render(){return tt`
      <div>
        <button class="delete" @click=${()=>this.deleteAction({detail:{id:`${this.pageID}`}})}>Delete</button>
        <button @click=${()=>this.cancelAction()}>Cancel</button>
      </div>
    `}};customElements.define("delete-modal-actions",mS);gS=class extends hi{static get styles(){return yt`
      button {
        -webkit-appearance: none;
        appearance: none;
        outline: 0;
        border: none;
        padding: 0;
        height: 4rem;
        width: 4rem;
        background: transparent;
        cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E"), pointer;
        position: relative;
      }
      button > * {
        display: block;
        position: absolute;
        top: 0.2rem;
      }
      button.left > * {
        left: 0.2rem;
      }

      button.right > * {
        right: 0.2rem;
      }
    `}static get properties(){return{side:{type:String},state:{type:String}}}constructor(){super(),this.state="hollow",this.side=void 0}handleClick(e){e.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}get title(){return`${this.state==="hollow"?"Add":"Remove"} bookmark`}render(){let e=this.side||"right";return tt`
      <button title=${this.title} @click=${this.handleClick} class=${e}>
        <icon-bookmark state=${this.state}></icon-bookmark>
      </button>
    `}};customElements.define("bookmark-button",gS);vS=class extends hi{static get properties(){return{url:{type:String}}}static get styles(){return Cu}constructor(){super(),this.url="https://archive.org/account/login"}render(){return tt`
      <p>A free account is required to save and access bookmarks.</p>
      <a class="ia-button link primary" href="${this.url}">Log in</a>
    `}};customElements.define("bookmarks-login",vS);yS={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"DELETE",headers:this.headers})},get(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"GET",headers:this.headers})},getAll(){return fetch(`${this.endpoint}?identifier=${this.identifier}`,{credentials:"same-origin",method:"GET",headers:this.headers})},post(e){return this.sendBookmarkData(e,"POST")},put(e){return this.sendBookmarkData(e,"POST")},sendBookmarkData(e,t){let r={note:e.note,color:e.color};return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e.id}`,{credentials:"same-origin",method:t,headers:this.headers,body:JSON.stringify({notes:r})})}},bS=class z2 extends hi{static get properties(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}static get styles(){let t=yt`
      .bookmarks {
        height: 100%;
        overflow: hidden;
        padding-bottom: 20px;
      }

      .list ia-bookmark-edit {
        display: none;
      }

      .edit ia-bookmarks-list {
        display: none;
      }
    `;return[Cu,t]}static formatPage(t){return isNaN(+t)?`(${t.replace(/\D/g,"")})`:t}constructor(){super(),this.bookmarks=[],this.bookreader={},this.editedBookmark={},this.modal=void 0,this.loginOptions={loginClicked:()=>{},loginUrl:""},this.displayMode="bookmarks",this.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],this.defaultColor=this.bookmarkColors[0],this.api=yS,this.deleteModalConfig=new Xm({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"})}updated(t){t.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}setup(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}getIdentifier(){return this.bookreader.bookId!==this.bookreader.subPrefix?`${this.bookreader.bookId}/${this.bookreader.subPrefix}`:this.bookreader.bookId}updateDisplay(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}fetchUserBookmarks(){return xi(this,null,function*(){this.api.identifier&&(yield this.fetchBookmarks(),this.initializeBookmarks())})}setBREventListeners(){["3PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons(),this.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(t=>{window.addEventListener(`BookReader:${t}`,()=>{this.renderBookmarkButtons()})})}initializeBookmarks(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}formatBookmark({leafNum:t="",notes:r={}}){let{note:s="",color:l}=r,o={note:s,color:this.getBookmarkColor(l)?l:this.defaultColor.id},c=z2.formatPage(this.bookreader.book.getPageNum(t)),n=this.bookreader.book.getPageURI(`${t}`.replace(/\D/g,""),32);return an(jr({},o),{id:t,leafNum:t,page:c,thumbnail:n})}fetchBookmarks(){return xi(this,null,function*(){let t=yield this.api.getAll().then(n=>n.text()),r;try{r=JSON.parse(t)}catch(n){r={error:n.message}}let{success:s,error:l="Something happened while fetching bookmarks.",value:o=[]}=r;s||(console==null||console.warn("Error fetching bookmarks",l));let c={};return Object.keys(o).forEach(n=>{let u=o[n],p=parseInt(n,10),g=this.formatBookmark(an(jr({},u),{leafNum:p}));c[n]=g}),this.bookmarks=c,c})}emitBookmarksChanged(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}emitBookmarkButtonClicked(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}bookmarkButtonClicked(t){this.getBookmark(t)?this.confirmDeletion(t):this.createBookmark(t)}renderBookmarkButtons(){this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(t=>{let r=t.querySelector(".bookmark-button");r&&r.remove();let s=+t.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),l=this.getBookmark(s),o=l?"filled":"hollow",c=this.bookreader.book.getPage(s),{isViewable:n}=c;if(!n)return;let u=document.createElement("div");["mousedown","mouseup"].forEach(g=>{u.addEventListener(g,m=>m.stopPropagation())}),u.classList.add("bookmark-button",o),l&&u.classList.add(this.getBookmarkColor(l.color));let p=t.getAttribute("data-side")==="L"&&this.bookreader.mode===this.bookreader.constMode2up?"left":"right";ad(tt`
        <bookmark-button
          @bookmarkButtonClicked=${()=>this.bookmarkButtonClicked(s)}
          state=${o}
          side=${p}
        ></bookmark-button>`,u),t.appendChild(u)})}markActiveBookmark(t=!1){let{mode:r,constMode2up:s,constModeThumb:l}=this.bookreader,o=this.bookreader.currentIndex();if(r===l){let c=this.bookmarks[o];t&&c&&(this.activeBookmarkID=o);return}if(!(r===s&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[o]){this.activeBookmarkID=o;return}this.activeBookmarkID=""}}bookmarkEdited({detail:t}){let r=t.bookmark.id===this.editedBookmark.id;this.editedBookmark=r?{}:t.bookmark}getBookmark(t){return this.bookmarks[t]}getBookmarkColor(t){var r;return(r=this.bookmarkColors.find(s=>s.id===t))==null?void 0:r.className}addBookmark(){let t=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){let r=this.bookreader.displayedIndices;t=r[r.length-1]}this.createBookmark(t)}createBookmark(t){let r=this.getBookmark(t);if(r){this.bookmarkEdited({detail:{bookmark:r}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:t}),this.api.post(this.editedBookmark),this.bookmarks[t]=this.editedBookmark,this.activeBookmarkID=t,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}bookmarkSelected({detail:t}){let{leafNum:r}=t.bookmark;this.bookreader.jumpToPage(`${this.bookreader.book.getPageNum(`${r}`.replace(/\D/g,""))}`),this.activeBookmarkID=r}saveBookmark({detail:t}){let r=this.bookmarks[t.bookmark.id];Object.assign(r,t.bookmark),this.api.put(r),this.editedBookmark={},this.renderBookmarkButtons()}confirmDeletion(t){if(this.getBookmark(t).note){this.displayDeletionModal(t);return}this.deleteBookmark({detail:{id:`${t}`}})}displayDeletionModal(t){let r=tt`
      <delete-modal-actions
        .deleteAction=${()=>this.deleteBookmark({detail:{id:`${t}`}})}
        .cancelAction=${()=>this.modal.closeModal()}
        .pageID=${t}
      ></delete-modal-actions>
    `;this.modal.showModal({config:this.deleteModalConfig,customModalContent:r})}deleteBookmark({detail:t}){let{id:r}=t,s=this.bookmarks;delete s[r],this.bookmarks=jr({},s),this.api.delete(t.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}get shouldEnableAddBookmarkButton(){let t=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(t)}get allowAddingBookmark(){return this.bookreader.mode!==this.bookreader.constModeThumb}get addBookmarkButton(){return tt`
      <button
        class="ia-button primary"
        tabindex="-1"
        ?disabled=${this.shouldEnableAddBookmarkButton}
        @click=${this.addBookmark}>
        Add bookmark
      </button>
    `}get bookmarksList(){return tt`
      <ia-bookmarks-list
        @bookmarkEdited=${this.bookmarkEdited}
        @bookmarkSelected=${this.bookmarkSelected}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        .editedBookmark=${this.editedBookmark}
        .bookmarks=${jr({},this.bookmarks)}
        .activeBookmarkID=${this.activeBookmarkID}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultColor}>
      </ia-bookmarks-list>
    `}get bookmarkHelperMessage(){return tt`<p>Please use 1up or 2up view modes to add bookmark.</p>`}render(){let t=tt`
      ${this.bookmarksList}
      ${this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage}
    `;return tt`
      <section class="bookmarks">
      ${this.displayMode==="login"?tt`<bookmarks-login
        @click=${()=>this.loginOptions.loginClicked()}
        .url=${this.loginOptions.loginUrl}></bookmarks-login>`:t}
      </section>
    `}};customElements.define("ia-bookmarks",bS);U2=yt`
  .blue {
    --iconFillColor: var(--blueBookmarkColor, #0023f5);
  }

  .red {
    --iconFillColor: var(--redBookmarkColor, #eb3223);
  }

  .green {
    --iconFillColor: var(--greenBookmarkColor, #75ef4c);
  }
`,wS=class V2 extends hi{static get properties(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}constructor(){super(),this.bookmark={},this.bookmarkColors=[],this.renderHeader=!1,this.showBookmark=!0}emitSaveEvent(t){t.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}emitDeleteEvent(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}emitColorChangedEvent(t){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:t}}))}changeColorTo(t){this.bookmark.color=t,this.emitColorChangedEvent(t)}updateNote(t){this.bookmark.note=t.currentTarget.value}static get headerSection(){return tt`<header>
      <h3>Edit Bookmark</h3>
    </header>`}bookmarkColor(t){return tt`
      <li>
        <input type="radio" name="color" id="color_${t.id}" .value=${t.id} @change=${()=>this.changeColorTo(t.id)} ?checked=${this.bookmark.color===t.id}>
        <label for="color_${t.id}">
          <icon-bookmark class=${t.className}></icon-bookmark>
        </label>
      </li>
    `}get bookmarkTemplate(){return tt`
      <div class="bookmark">
        <img src=${this.bookmark.thumbnail} />
        <h4>Page ${this.bookmark.page}</h4>
      </div>
    `}render(){return tt`
      ${this.renderHeader?V2.headerSection:$i}
      ${this.showBookmark?this.bookmarkTemplate:$i}
      <form action="" method="put" @submit=${this.emitSaveEvent}>
        <fieldset>
          <label for="note">Note <small>(optional)</small></label>
          <textarea rows="4" cols="80" name="note" id="note" @change=${this.updateNote}>${this.bookmark.note}</textarea>
          <label for="color">Bookmark color</label>
          <ul>
            ${ma(this.bookmarkColors,t=>t.id,this.bookmarkColor.bind(this))}
          </ul>
          <div class="actions">
            <button type="button" class="ia-button cancel" @click=${this.emitDeleteEvent}>Delete</button>
            <input class="ia-button" type="submit" value="Save">
          </div>
        </fieldset>
      </form>
    `}static get styles(){let t=yt`
    :host {
      display: block;
      padding: 0 1rem 2rem 1rem;
      color: var(--primaryTextColor);
    }

    small {
      font-style: italic;
    }

    .bookmark {
      display: grid;
      grid-template-columns: 37px 1fr;
      grid-gap: 0 1rem;
      align-items: center;
    }

    h4 {
      margin: 0;
      font-size: 1.4rem;
    }

    fieldset {
      padding: 2rem 0 0 0;
      border: none;
    }

    label {
      display: block;
      font-weight: bold;
    }

    p {
      padding: 0;
      margin: .5rem 0;
      font-size: 1.2rem;
      line-height: 120%;
    }

    textarea {
      width: 100%;
      margin-bottom: 2rem;
      box-sizing: border-box;
      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;
      resize: vertical;
    }

    ul {
      display: grid;
      grid-template-columns: repeat(3, auto);
      grid-gap: 0 2rem;
      justify-content: start;
      padding: 1rem 0 0 0;
      margin: 0 0 2rem 0;
      list-style: none;
    }

    li input {
      display: none;
    }

    li label {
      display: block;
      min-width: 50px;
      padding-top: .4rem;
      text-align: center;
      border: 1px solid transparent;
      border-radius: 4px;
      cursor: pointer;
    }

    li input:checked + label {
      border-color: var(--primaryTextColor);
    }

    input[type="submit"] {
      background: var(--primaryCTAFill);
      border-color: var(--primaryCTABorder);
    }

    button {
      background: var(--primaryErrorCTAFill);
      border-color: var(--primaryErrorCTABorder);
    }

    .button {
      -webkit-appearance: none;
      appearance: none;
      padding: .5rem 1rem;
      box-sizing: border-box;
      color: var(--primaryTextColor);
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .actions {
      display: grid;
      grid-template-columns: auto auto;
      grid-gap: 0 1rem;
      justify-items: stretch;
    }
    `;return[Cu,U2,t]}};customElements.define("ia-bookmark-edit",wS);xS=class extends hi{static get properties(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}constructor(){super(),this.activeBookmarkID=void 0,this.bookmarkColors=[],this.defaultBookmarkColor={},this.bookmarks={},this.editedBookmark={},this.renderHeader=!1}emitEditEvent(e,t){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:t}}))}emitSelectedEvent(e){this.activeBookmarkID=e.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:e}}))}emitSaveBookmark(e){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:e}}))}emitDeleteBookmark(e){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:e}}))}emitBookmarkColorChanged({detail:e}){let{bookmarkId:t,colorId:r}=e;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:t,colorId:r}}))}emitAddBookmark(){this.dispatchEvent(new CustomEvent("addBookmark"))}editBookmark(e,t){this.emitEditEvent(e,t),this.editedBookmark=this.editedBookmark===t?{}:t}saveBookmark({detail:e}){let{bookmark:t}=e;this.editedBookmark={},this.emitSaveBookmark(t)}deleteBookmark({detail:e}){let{id:t}=e;this.editedBookmark={},this.emitDeleteBookmark(t)}bookmarkColorInfo(e=0){return this.bookmarkColors.find(t=>(t==null?void 0:t.id)===e)}bookmarkItem(e){let t=this.editedBookmark.id===e.id,{className:r}=this.bookmarkColorInfo(e.color),s=e.id===this.activeBookmarkID?"active":"";return tt`
      <li
        @click=${()=>this.emitSelectedEvent(e)}
        tabindex="0"
        data-pageIndex=${e.id}
      >
        <div class="separator"></div>
        <div class="content ${s}">
          <button
            class="edit"
            @click=${l=>this.editBookmark(l,e)}
            title="Edit this bookmark"
          >
            <ia-icon-edit-pencil></ia-icon-edit-pencil>
          </button>
          <h4>
            <icon-bookmark class=${r}></icon-bookmark>
            <span> Page ${e.page}</span>
          </h4>
          ${!t&&e.note?tt`<p>${e.note}</p>`:$i}
          ${t?this.editBookmarkComponent:$i}
        </div>
      </li>
    `}get editBookmarkComponent(){return tt`
      <ia-bookmark-edit
        .bookmark=${this.editedBookmark}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultBookmarkColor}
        .showBookmark=${!1}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        @bookmarkColorChanged=${this.emitBookmarkColorChanged}
      ></ia-bookmark-edit>
    `}sortBookmarks(){return Object.keys(this.bookmarks).sort((e,t)=>+e>+t?1:+e<+t?-1:0).map(e=>this.bookmarks[e])}get bookmarksCount(){let e=this.bookmarks.length;return tt`<small>(${e})</small>`}get headerSection(){return tt`<header>
      <h3>
        Bookmarks
        ${this.bookmarks.length?this.bookmarksCount:$i}
      </h3>
    </header>`}get bookmarkslist(){let e=this.sortBookmarks(),t=ma(e,r=>r==null?void 0:r.id,this.bookmarkItem.bind(this));return tt`
      <ul>
        ${t}
        <div class="separator"></div>
      </ul>
    `}render(){return tt`
      ${this.renderHeader?this.headerSection:$i}
      ${Object.keys(this.bookmarks).length?this.bookmarkslist:$i}
    `}static get styles(){return[yt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      icon-bookmark {
        width: 16px;
        height: 24px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      small {
        font-style: italic;
      }

      h4 {
        margin: 0;
        font-size: 1.4rem;
      }
      h4 * {
        display: inline-block;
      }
      h4 icon-bookmark {
        vertical-align: bottom;
      }
      h4 span {
        vertical-align: top;
        padding-top: 1%;
      }

      p {
        padding: 0;
        margin: 5px 0 0 0;
        width: 98%;
        overflow-wrap: break-word;
      }

      ia-bookmark-edit {
        margin: 5px 5px 3px 6px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }
      ul > li:first-child .separator {
        display: none;
      }
      li {
        cursor: pointer;
        outline: none;
        position: relative;
      }
      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: .2rem 0 .4rem .2rem;
      }
      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }
      li button.edit {
        padding: 5px 2px 0 0;
        background: transparent;
        cursor: pointer;
        height: 40px;
        width: 40px;
        position: absolute;
        right: 2px;
        top: 2px;
        text-align: right;
        -webkit-appearance: none;
        appearance: none;
        outline: none;
        box-sizing: border-box;
        border: none;
      }
      li button.edit > * {
        display: block;
        height: 100%;
        width: 100%;
      }
    `,U2]}};customElements.define("ia-bookmarks-list",xS);_S=class{constructor(e){let{baseHost:t,signedIn:r,bookreader:s,modal:l,onProviderChange:o}=e,c=`referer=${encodeURIComponent(location.href)}`,n=`https://${t}/account/login?${c}`;this.component=document.createElement("ia-bookmarks"),this.component.bookreader=s,this.component.displayMode=r?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:n},this.bindEvents(),this.icon=tt`<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>`,this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=o,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}updateMenu(e){this.menuDetails=`(${e})`}bindEvents(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}bookmarksChanged({detail:e}){let t=Object.keys(e.bookmarks).length;this.updateMenu(t),this.onProviderChange(e.bookmarks,e.showSidePanel)}bookmarksLoginClicked(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}},kS=class{constructor({item:e,baseHost:t,bookreader:r}){let{identifier:s,creator:l,title:o}=e==null?void 0:e.metadata,c=Array.isArray(l)?l[0]:l,n=r.subPrefix||"",u="Share this book";this.icon=tt`${x2}`,this.label=u,this.id="share",this.component=tt`<iaux-in-share-panel
      .identifier=${s}
      .type=${"book"}
      .creator=${c}
      .description=${o}
      .baseHost=${t}
      .fileSubPrefix=${n}
    ></iaux-in-share-panel>`}},uh={title_asc:"title_asc",title_desc:"title_desc",default:"default"},AS=class{constructor({baseHost:e,bookreader:t,onProviderChange:r}){this.bookreader=t,this.onProviderChange=r,this.baseHost=e;let s=t.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(s).map(l=>s[l]),this.volumeCount=Object.keys(s).length,this.id="volumes",this.label=`Viewable files (${this.volumeCount})`,this.icon=tt`${_2}`,this.sortOrderBy=uh.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=t.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=[...this.viewableFiles],this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",l=>this.handleFileListSorted(l)),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();let l=this.bookreader.urlPlugin.getUrlParam("sort");(l===uh.title_asc||l===uh.title_desc)&&(this.sortOrderBy=l)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}handleFileListSorted(e){return xi(this,null,function*(){let{sortType:t,sortedFiles:r}=e.detail;this.viewableFiles=r,this.sortOrderBy=t,this.component.fileList=[...this.viewableFiles],yield this.component.updateComplete,this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==uh.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy)})}multipleFilesClicked(e){var t;(t=window.archive_analytics)==null||t.send_event("BookReader",`VolumesSort|${e}`,window.location.path)}},SS=Gn`
  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
      </g>
    </g>
  </svg>
`;dh={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},CS=class extends hi{static get properties(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}constructor(){super(),this.itemMD=void 0,this.loaded=!1,this.bookReaderCannotLoad=!1,this.bookReaderLoaded=!1,this.bookreader=null,this.bookIsRestricted=!1,this.downloadableTypes=[],this.isAdmin=!1,this.lendingInitialized=!1,this.lendingStatus={},this.menuProviders={bookmarks:null,search:null,downloads:null,visualAdjustments:null,share:null,volumes:null},this.menuShortcuts=[],this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.fullscreenBranding=SS,this.sharedObserverHandler=void 0,this.brWidth=0,this.brHeight=0,this.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks","downloads","visualAdjustments","share","experiments"]}disconnectedCallback(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}firstUpdated(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}updated(e){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((e.has("loaded")&&this.loaded||e.has("itemMD")||e.has("bookreader")||e.has("signedIn")||e.has("isAdmin")||e.has("modal"))&&this.initializeBookSubmenus(),e.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),e.has("downloadableTypes")&&this.initializeBookSubmenus())}emitPostInit(){var e;this.dispatchEvent(new CustomEvent(`BrBookNav:${dh.PostInit}`,{detail:{brSelector:(e=this.bookreader)==null?void 0:e.el},bubbles:!0,composed:!0}))}get baseProviderConfig(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:()=>{}}}get isWideEnoughToOpenMenu(){return this.brWidth>=640}initializeBookSubmenus(){var t,r;let e={visualAdjustments:new fS(an(jr({},this.baseProviderConfig),{onProviderChange:()=>{this.updateMenuContents()}}))};this.baseProviderConfig.item&&(e.share=new kS(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(e.downloads=new dS(this.baseProviderConfig)),(r=(t=this.bookreader.options.plugins)==null?void 0:t.search)!=null&&r.enabled&&(e.search=new lS(an(jr({},this.baseProviderConfig),{onProviderChange:(s=null,l={})=>{s&&(this.bookreader=s),this.updateMenuContents(),l.openMenu!==!1&&this.isWideEnoughToOpenMenu&&!(l!=null&&l.searchCanceled)&&setTimeout(()=>{this.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(e.bookmarks=new _S(an(jr({},this.baseProviderConfig),{onProviderChange:s=>{let l=Object.keys(s).length?"add":"remove";this[`${l}MenuShortcut`]("bookmarks"),this.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(e.volumes=new AS(an(jr({},this.baseProviderConfig),{onProviderChange:(s=null,l={})=>{s&&(this.bookreader=s),this.updateMenuContents(),this.isWideEnoughToOpenMenu&&setTimeout(()=>{this.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,e),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}get mainBRContainer(){var e;return document.querySelector((e=this.bookreader)==null?void 0:e.el)}addFullscreenShortcut(){let e={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(e),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}deleteFullscreenShortcut(){let e=this.menuShortcuts.filter(({id:t})=>t!=="fullscreen");this.menuShortcuts=e,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}closeFullscreen(){this.bookreader.exitFullScreen()}get fullscreenShortcut(){return tt`
      <button
        @click=${()=>this.closeFullscreen()}
        title="Exit fullscreen view"
      >${this.fullscreenBranding}</button>
    `}updateSideMenu(e="",t="open"){if(!e)return;let r=new CustomEvent(dh.updateSideMenu,{detail:{menuId:e,action:t}});this.dispatchEvent(r)}updateMenuContents(){var r;let e=H2(Object.entries(this.menuProviders).filter(([s,l])=>!!l).filter(([s,l])=>s==="downloads"?this.shouldShowDownloadsMenu():!0),([s,l])=>{let o=this.shortcutOrder.indexOf(s);return o===-1?this.shortcutOrder.length:o}).map(([s,l])=>l);this.shouldShowDownloadsMenu()&&((r=this.menuProviders.downloads)==null||r.update(this.downloadableTypes));let t=new CustomEvent(dh.menuUpdated,{detail:e});this.dispatchEvent(t)}shouldShowDownloadsMenu(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;let{user_loan_record:e={}}=this.lendingStatus;return Array.isArray(e)?!1:e.type&&e.type!=="SESSION_LOAN"}addMenuShortcut(e){this.menuShortcuts.find(t=>t.id===e)||this.menuProviders[e]&&(this.menuShortcuts.push(this.menuProviders[e]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}removeMenuShortcut(e){this.menuShortcuts=this.menuShortcuts.filter(t=>t.id!==e),this.emitMenuShortcutsUpdated()}sortMenuShortcuts(){this.menuShortcuts=H2(this.menuShortcuts,e=>{let t=this.shortcutOrder.indexOf(e.id);return t===-1?this.shortcutOrder.length:t})}emitMenuShortcutsUpdated(){let e=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(e)}emitLoadingStatusUpdate(e){let t=new CustomEvent("loadingStateUpdated",{detail:{loaded:e}});this.dispatchEvent(t)}bindEventListeners(){window.addEventListener("BookReader:PostInit",e=>{this.bookreader=e.detail.props,this.bookreader.shell=this,this.bookReaderLoaded=!0,this.bookReaderCannotLoad=!1,this.emitLoadingStatusUpdate(!0),this.loadSharedObserver(),setTimeout(()=>{this.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",e=>{let{detail:{props:t=null}}=e;t&&(this.bookreader=t),this.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",e=>{this.dispatchEvent(new CustomEvent(dh.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",({detail:e})=>{let{downloadTypesAvailable:t,lendingStatus:r,isAdmin:s,previewType:l}=e;this.lendingInitialized=!0,this.downloadableTypes=t,this.lendingStatus=r,this.isAdmin=s,this.bookReaderCannotLoad=l==="singlePagePreview",this.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",({detail:e})=>{let{isRestricted:t,downloadURLs:r}=e;this.bookReaderLoaded=!0,this.downloadableTypes=r,this.bookIsRestricted=t}),window.addEventListener("contextmenu",e=>this.manageContextMenuVisibility(e),{capture:!0})}manageContextMenuVisibility(e){var t,r,s;if((s=window.archive_analytics)==null||s.send_event("BookReader",`contextmenu-${this.bookIsRestricted?"restricted":"unrestricted"}`,(r=(t=e.target)==null?void 0:t.classList)==null?void 0:r.value),!(!this.bookIsRestricted||!e.target.classList.value.match(/BRscreen|BRpageimage/g)))return e.preventDefault(),!1}loadSharedObserver(){var e;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(e=this.sharedObserver)==null||e.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}handleResize({contentRect:e,target:t}){var n;let r=this.brWidth,s=this.brHeight,{animating:l}=this.bookreader;t===this.mainBRContainer&&(this.brWidth=e.width,this.brHeight=e.height),!r&&this.brWidth&&this.initializeBookSubmenus();let o=r!==this.brWidth,c=s!==this.brHeight;!l&&(o||c)&&((n=this.bookreader)==null||n.resize())}manageFullScreenBehavior(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}emitFullScreenState(){let e=this.bookreader.isFullscreen(),t=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:e}});this.dispatchEvent(t)}get itemImage(){var r;let e=(r=this.itemMD)==null?void 0:r.metadata.identifier,t=`https://${this.baseHost}/services/img/${e}`;return tt`<img class="cover-img" src=${t} alt="cover image for ${e}">`}get placeholder(){return tt`<div class="placeholder">${this.itemImage}</div>`}render(){return tt`<div id="book-navigator__root">
      ${this.bookReaderCannotLoad?this.placeholder:$i}
      ${this.bookReaderCannotLoad?$i:tt`<slot name="main"></slot>`}
    </div>
  `}static get styles(){return yt`
    :host,
    #book-navigator__root,
    slot,
    slot > * {
      display: block;
      height: inherit;
      width: inherit;
    }
    .placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      margin: 5%;
    }
    .cover-img {
      max-height: 300px;
    }
  `}};customElements.define("book-navigator",CS);W2=class extends hi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}constructor(){super(),this.item=void 0,this.bookreader=void 0,this.baseHost="archive.org",this.fullscreen=!1,this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.loaded=!1,this.menuShortcuts=[],this.menuContents=[],this.openMenuName=""}updated(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new To)}get itemNav(){return this.shadowRoot.querySelector("iaux-item-navigator")}setModalManager(){let e=document.querySelector("modal-manager");e||(e=document.createElement("modal-manager"),document.body.appendChild(e)),this.modal=e}manageFullscreen(e){let{detail:t}=e,r=!!t.isFullScreen;this.fullscreen=r,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:r}}))}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:t}}))}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}setMenuContents(e){let t=[...e.detail];this.menuContents=t}manageSideMenuEvents(e){var s,l;let{menuId:t,action:r}=e.detail;t&&(this.openMenuName=t,r==="open"?(s=this.itemNav)==null||s.openShortcut(t):r==="toggle"&&((l=this.itemNav)==null||l.toggleMenu()))}render(){return tt`
      <div class="main-component">
        <iaux-item-navigator
          ?viewportInFullscreen=${this.fullscreen}
          .basehost=${this.baseHost}
          .item=${this.item}
          .modal=${this.modal}
          .loaded=${this.loaded}
          .sharedObserver=${this.sharedObserver}
          ?signedIn=${this.signedIn}
          .menuShortcuts=${this.menuShortcuts}
          .menuContents=${this.menuContents}
          .openMenu=${this.openMenuName}
        >
          <div slot="header">
            <slot name="header"></slot>
          </div>
          <div slot="main">
            <book-navigator
              .modal=${this.modal}
              .baseHost=${this.baseHost}
              .itemMD=${this.item}
              ?signedIn=${this.signedIn}
              ?sideMenuOpen=${this.menuOpened}
              .sharedObserver=${this.sharedObserver}
              @ViewportInFullScreen=${this.manageFullscreen}
              @loadingStateUpdated=${this.loadingStateUpdated}
              @updateSideMenu=${this.manageSideMenuEvents}
              @menuUpdated=${this.setMenuContents}
              @menuShortcutsUpdated=${this.setMenuShortcuts}
            >
              <div slot="main">
                <slot name="main"></slot>
              </div>
            </book-navigator>
          </div>
        </iaux-item-navigator>
      </div>
    `}static get styles(){return yt`
      :host {
        display: block;
        --primaryBGColor: var(--black, #000);
        --secondaryBGColor: #222;
        --tertiaryBGColor: #333;
        --primaryTextColor: var(--white, #fff);
        --primaryCTAFill: #194880;
        --primaryCTABorder: #c5d1df;
        --secondaryCTAFill: #333;
        --secondaryCTABorder: #999;
        --primaryErrorCTAFill: #e51c26;
        --primaryErrorCTABorder: #f8c6c8;
        background-color: var(--primaryBGColor);
        position: relative;
      }

      :host([fullscreen]),
      iaux-item-navigator[viewportinfullscreen] {
        position: fixed;
        inset: 0;
        height: 100%;
        min-height: unset;
      }

      .main-component {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        display: flex;
        width: 100%;
      }

      slot {
        display: block;
        flex: 1;
      }

      iaux-item-navigator {
        min-height: var(--br-height, inherit);
        height: var(--br-height, inherit);
        display: block;
        width: 100%;
        color: var(--primaryTextColor);
        --menuButtonLabelDisplay: block;
        --menuWidth: 320px;
        --menuSliderBg: var(--secondaryBGColor);
        --activeButtonBg: var(--tertiaryBGColor);
        --subpanelRightBorderColor: var(--secondaryCTABorder);
        --animationTiming: 100ms;
        --iconFillColor: var(--primaryTextColor);
        --iconStrokeColor: var(--primaryTextColor);
        --menuSliderHeaderIconHeight: 2rem;
        --menuSliderHeaderIconWidth: 2rem;
        --iconWidth: 2.4rem;
        --iconHeight: 2.4rem;
        --shareLinkColor: var(--primaryTextColor);
        --shareIconBorder: var(--primaryTextColor);
        --shareIconBg: var(--secondaryBGColor);
        --activityIndicatorLoadingDotColor: var(--primaryTextColor);
        --activityIndicatorLoadingRingColor: var(--primaryTextColor);
      }
    `}};window.customElements.define("ia-bookreader",W2)});var G2={};Ln(G2,{IaBookReader:()=>W2});var Y2=Zt(()=>{ki();Ym();ac();$s();nh();Zm();Jm();oh();Qm();Ys();eg();tg();Su();lg();cg();xu();q2()});function ES(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function TS(e){return xi(this,null,function*(){return yield new Promise((t,r)=>{let s=new Image;s.onload=()=>t(s),s.onerror=r,s.src=e})})}function PS(e){return xi(this,null,function*(){let t=[];return yield Promise.all(e.map(r=>xi(this,null,function*(){let s;try{s=yield TS(r.uri)}catch(o){s=new Image(300,300)}console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",s,s.height,s.width);let l=e.indexOf(r);t[l]=an(jr({},r),{width:s.width,height:s.height})}))),t})}function K2(l){return xi(this,arguments,function*({images:e=[],itemIdentifier:t="",itemTitle:r="",baseHost:s="archive.org"}){let o=(yield fetch(`https://${s}/metadata/${t}/metadata`).then(m=>m.json())).result||{},c=e.map((m,y)=>{let x=y%2===1?"L":"R";return console.log("imgPath",m),{uri:`https://${s}/download/${t}${m}`,leafNum:y,pageType:"Normal",pageSide:x}}),n=yield PS(c),u=[];n.forEach((m,y)=>{if(y===0){u.push([m]);return}if(y%2===1){u.push([m]);return}y%2===0&&u[u.length-1].push(m)});let p=an(jr({bookId:t,bookPath:`/download/${t}`,bookTitle:r,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:u},ES()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),g={data:{streamOnly:!1,isRestricted:!1,id:t,subPrefix:t,bookUrl:`/details/${t}`},brOptions:p,metadata:o};return console.log("**** MANIFEST _---",g,p),g})}var X2=Zt(()=>{});var Z2=Zt(()=>{X2()});var ia,$S,Ia,hg,jo,kn,OS,J2,MS,LS,IS,Cr,No,hh,ph,DS,RS,tl,pg,jS,NS,Q2,il=Zt(()=>{wr();Tn();Oo();wr();Tn();Oo();Oo();Oo();Oo();Oo();Oo();Oo();Oo();wr();Tn();Oo();wr();Tn();Oo();ia=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};de([xt()],ia.prototype,"values",null);de([xt()],ia.prototype,"value",null);$S=class extends ia{constructor(e){super(qd.shared,e)}},Ia=class extends ia{constructor(e){super(Bs.shared,e)}},hg=class extends ia{constructor(e){super(Xl.shared,e)}},jo=class extends ia{constructor(e){super($o.shared,e)}},kn=class extends ia{constructor(e){super(Zl.shared,e)}},OS=class extends ia{constructor(e){super(Yd.shared,e)}},J2=class extends ia{constructor(e){super(ts.shared,e)}},MS=class extends ia{constructor(e){super(Gd.shared,e)}},LS=class extends ia{constructor(e,t){super(t,e)}},IS=class extends LS{constructor(e){let t=new y1(Zl.shared);super(e,t)}},Cr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Ia(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new kn(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new jo(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new jo(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new kn(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new kn(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new J2(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new kn(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new kn(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new kn(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Ia(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new kn(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new jo(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new hg(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new kn((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new jo(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Ia(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new kn(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new kn(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new jo(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new J2(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new kn(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new hg(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new kn(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new jo(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new MS(this.rawMetadata.mediatype):void 0}get noindex(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new $S(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new kn(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new jo(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new jo(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new kn(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new kn(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new OS(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new kn(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new jo(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Ia(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new kn(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Ia(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new hg(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new kn(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new kn(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Ia(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Ia(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Ia(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new IS(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new kn(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new kn(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new kn(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new jo(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new kn(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new kn(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new jo(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new kn(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new kn(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new jo(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Ia(this.rawMetadata.year):void 0}};de([xt()],Cr.prototype,"addeddate",null);de([xt()],Cr.prototype,"audio_codec",null);de([xt()],Cr.prototype,"audio_sample_rate",null);de([xt()],Cr.prototype,"avg_rating",null);de([xt()],Cr.prototype,"collection",null);de([xt()],Cr.prototype,"collections_raw",null);de([xt()],Cr.prototype,"collection_size",null);de([xt()],Cr.prototype,"contributor",null);de([xt()],Cr.prototype,"coverage",null);de([xt()],Cr.prototype,"creator",null);de([xt()],Cr.prototype,"date",null);de([xt()],Cr.prototype,"description",null);de([xt()],Cr.prototype,"downloads",null);de([xt()],Cr.prototype,"duration",null);de([xt()],Cr.prototype,"external-identifier",null);de([xt()],Cr.prototype,"files_count",null);de([xt()],Cr.prototype,"indexdate",null);de([xt()],Cr.prototype,"isbn",null);de([xt()],Cr.prototype,"issue",null);de([xt()],Cr.prototype,"item_count",null);de([xt()],Cr.prototype,"item_size",null);de([xt()],Cr.prototype,"language",null);de([xt()],Cr.prototype,"length",null);de([xt()],Cr.prototype,"lineage",null);de([xt()],Cr.prototype,"month",null);de([xt()],Cr.prototype,"mediatype",null);de([xt()],Cr.prototype,"noindex",null);de([xt()],Cr.prototype,"notes",null);de([xt()],Cr.prototype,"num_favorites",null);de([xt()],Cr.prototype,"num_reviews",null);de([xt()],Cr.prototype,"openlibrary_edition",null);de([xt()],Cr.prototype,"openlibrary_work",null);de([xt()],Cr.prototype,"page_progression",null);de([xt()],Cr.prototype,"partner",null);de([xt()],Cr.prototype,"ppi",null);de([xt()],Cr.prototype,"publicdate",null);de([xt()],Cr.prototype,"publisher",null);de([xt()],Cr.prototype,"reviewdate",null);de([xt()],Cr.prototype,"runtime",null);de([xt()],Cr.prototype,"scanner",null);de([xt()],Cr.prototype,"source",null);de([xt()],Cr.prototype,"start_localtime",null);de([xt()],Cr.prototype,"start_time",null);de([xt()],Cr.prototype,"stop_time",null);de([xt()],Cr.prototype,"subject",null);de([xt()],Cr.prototype,"taper",null);de([xt()],Cr.prototype,"title",null);de([xt()],Cr.prototype,"transferer",null);de([xt()],Cr.prototype,"track",null);de([xt()],Cr.prototype,"type",null);de([xt()],Cr.prototype,"uploader",null);de([xt()],Cr.prototype,"utc_offset",null);de([xt()],Cr.prototype,"venue",null);de([xt()],Cr.prototype,"volume",null);de([xt()],Cr.prototype,"week",null);de([xt()],Cr.prototype,"year",null);No=class{constructor(e){this.rawValue=e}get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size?ts.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length?Xl.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height?$o.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width?$o.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track?$o.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}};de([xt()],No.prototype,"size",null);de([xt()],No.prototype,"length",null);de([xt()],No.prototype,"height",null);de([xt()],No.prototype,"width",null);de([xt()],No.prototype,"track",null);hh=class{constructor(e){this.rawValue=e}get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewdate(){return this.rawValue.reviewdate?Bs.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate?Bs.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars?$o.shared.parseValue(this.rawValue.stars):void 0}};de([xt()],hh.prototype,"reviewdate",null);de([xt()],hh.prototype,"createdate",null);de([xt()],hh.prototype,"stars",null);ph=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(s=>new No(s)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new Cr(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(s=>new hh(s))}},DS=class{constructor(e){this.numFound=e.numFound,this.start=e.start,this.docs=e.docs.map(t=>new Cr(t)),this.aggregations=e.aggregations}},RS=class{constructor(e){this.rawResponse=e,this.responseHeader=e.responseHeader,this.response=new DS(e.response)}};(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(tl||(tl={}));pg=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},jS=class{static aggregateSearchParamsAsString(e){if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field} ${e.direction}`}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("q",e.query),t.append("output","json"),e.rows&&t.append("rows",String(e.rows)),e.page&&t.append("page",String(e.page)),e.fields&&t.append("fl",e.fields.join(",")),e.sort){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("user_aggs",s)}return t}},NS=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}performSearch(e){return xi(this,null,function*(){let t=jS.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}/advancedsearch.php?${t}`;return this.fetchUrl(r)})}fetchMetadata(e,t){return xi(this,null,function*(){let r=t?`/${t}`:"",s=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(s,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return xi(this,null,function*(){var r;let s=new URL(e);this.requestScope&&s.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(s.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(tl.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(tl.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(tl.decodingError,c)}})}getErrorResult(e,t,r){return{error:new pg(e,t,r)}}},Q2=class{constructor(e){this.searchBackend=e}search(e){return xi(this,null,function*(){let t=yield this.searchBackend.performSearch(e);return t.error?t:{success:new RS(t.success)}})}fetchMetadata(e){return xi(this,null,function*(){var t;let r=yield this.searchBackend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new pg(tl.itemNotFound)}:{success:new ph(r.success)}})}fetchMetadataValue(e,t){return xi(this,null,function*(){var r;let s=yield this.searchBackend.fetchMetadata(e,t);return s.error?s:((r=s.success)===null||r===void 0?void 0:r.result)===void 0?{error:new pg(tl.itemNotFound)}:{success:s.success.result}})}};Q2.default=new Q2(new NS)});var BS,ex,tx=Zt(()=>{il();il();BS=class extends No{constructor(e,t="archive.org"){super(e),this.isSegmented=!1,this.private=!1,this.details=null,this.orig="",this.image="",this.duration=0,this.sources=[],this._playlistTrack=null,this.details=e.details,this.baseHost=t}setPlaylistInfo(e){this._playlistTrack=e,this.orig=e.orig,this.image=e.image,this.duration=e.duration,this.sources=e.sources}get url(){return`https://${this.baseHost}/${this.name}`}get title(){var e;return((e=this._playlistTrack)===null||e===void 0?void 0:e.title)||(this===null||this===void 0?void 0:this.title)||this.name}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}},ex=class{constructor(e,t){this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new ph(e),this.rawPlaylistTracks=t,this.tracks=t,this.filterFiles(this.item.files)}get title(){var e,t;return((t=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||t===void 0?void 0:t.values.join("; "))||""}get creator(){var e,t,r,s,l,o;return!((t=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||t===void 0)&&t.values?(s=(r=this.item.metadata)===null||r===void 0?void 0:r.creator)===null||s===void 0?void 0:s.values.join("; "):!((l=this.item.metadata.rawMetadata)===null||l===void 0)&&l.artist?(o=this.item.metadata.rawMetadata)===null||o===void 0?void 0:o.artist:""}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){var e;if(!this.item.metadata.rawMetadata)return[""];let t=this.item.metadata["external-identifier"];return!((e=t==null?void 0:t.values)===null||e===void 0)&&e.length?t.values:[(t==null?void 0:t.value)||""]}get youtubeTracks(){let e=this.tracks.filter(t=>t.youtubeId);return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}get spotifyTracks(){let e=this.tracks.filter(t=>t.spotifyId);return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}get albumImage(){let e=this.images.find(s=>s.format==="Item Image"),t=`https://${this.baseHost}/download/${this.item.metadata.identifier}/`;if(e)return`${t}${e.name}`;let r=this.images.find(s=>{let l=["Item Image","JPEG Thumb"];return s.source==="original"&&!l.includes(s.format)});return r?`${t}${r.name}`:`${t}__ia_thumb.jpg`}albumTrackOption(e){let t={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return an(jr({},t),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return an(jr({},t),{spotifyId:this.spotifyId})}isAlbumRelatedFile(e){var t,r;return!!(!((t=e.name.match(/.(ffp|md5)$/g))===null||t===void 0)&&t.length)&&!!(!((r=e.original)===null||r===void 0)&&r.length)&&e.source==="derivative"}isValidAudioFile(e=""){var t;return!!(!((t=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||t===void 0)&&t.length)}isValidImageFile(e=""){var t;return!!(!((t=e.match(/.(png|jpg|jpeg)$/gi))===null||t===void 0)&&t.length)}isValidImageFileFormat(e=""){var t;return!!(!((t=e.match(/(png|jpg|jpeg)/gi))===null||t===void 0)&&t.length)}isValidSegmentFile(e=""){var t;return!!(!((t=e.match(/_segments.(json|xml)$/gi))===null||t===void 0)&&t.length)}isSpectrogram(e=""){var t;return!!(!((t=e.match(/spectrogram/gi))===null||t===void 0)&&t.length)}isSampleMP3(e=""){var t;return!!(!((t=e.match(/_sample\.mp3$/gi))===null||t===void 0)&&t.length)}hasScannedLinerNotes(e=""){var t;return!!(!((t=e.match(/_jp2.(zip|tar)/gi))===null||t===void 0)&&t.length)}filterFiles(e){let t=[],r={};e.forEach(l=>{var o,c;let n=l.rawValue,u=this.isValidAudioFile(n.name);if(this.isAlbumRelatedFile(n)){this.relatedFiles.push(n);return}if(this.isValidSegmentFile(n.name)&&(this.tracksAreSegmented=!0,this.relatedFiles.push(n),n.original&&this.isValidAudioFile(n.name)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),n.source==="original"&&!r[n.name]&&u&&(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.original&&this.isValidAudioFile(n.original)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),this.hasScannedLinerNotes(n.name)&&this.linerNotes.push(n),this.isValidImageFile(n.name)){n.original&&this.isValidAudioFile(n.original)?r[n.original].spectrogram=n:t.push(n);return}if(n.original&&this.isValidAudioFile(n.original)&&!this.isValidAudioFile(n.name)){r[n.original].related.push(n);return}if(!this.isValidAudioFile(n.name)||!this.isValidImageFile(n.name)&&!this.isValidAudioFile(n.name))return;let p=this.isValidSegmentFile(n.original)&&this.isValidAudioFile(n.name);if(n.source==="original"&&this.isValidAudioFile(n.name)||p){r[n.name]||(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),r[n.name].primary=n;return}if(!((o=n.name.match(/_sample\.mp3$/))===null||o===void 0)&&o.length&&n.original){r[n.original].sampleMp3=new No(n);return}this.isValidAudioFile(n.name)&&!this.isSampleMP3(n.name)&&this.isValidAudioFile(n.original)&&n.original&&(!((c=n.name.match(/.mp3$/))===null||c===void 0)&&c.length?r[n.original].fullMp3=n:r[n.original].related.push(n))}),this.images=t;let s=[];this.tracks.forEach((l,o)=>{let c=r[l.orig].primary,n=new BS(an(jr(jr({},l),c),{details:r[l.orig]}),"archive.org");n.setPlaylistInfo(l),s[o]=n}),this.tracks=s}}});var ix=Zt(()=>{il();tx()});var rx=Zt(()=>{Lc();Dl();xp();_p();ki()});var fg=Zt(()=>{rx()});var HS,FS,mg=Zt(()=>{ki();ki();HS=tt`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="audioTitleID audioDescID"
>
  <title id="audioTitleID">Audio icon</title>
  <desc id="audioDescID">An illustration of an audio speaker.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(10, 8)" class="fill-color">
      <path
        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"
      ></path>
      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>
    </g>
  </g>
</svg>
`,FS=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return HS}};customElements.define("ia-icon-audio",FS)});var zS,US,gg=Zt(()=>{ki();ki();zS=tt`
  <svg
    height="12"
    viewBox="0 0 12 12"
    width="12"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="closeCircleTitleID closeCircleDescID"
  >
    <title id="closeCircleTitleID">Close circle icon</title>
    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>
    <path
      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"
      class="fill-color"
      fill-rule="evenodd"
    />
  </svg>
`,US=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor, #999);
      }
    `}render(){return zS}};customElements.define("ia-icon-close-circle",US)});function mx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return nx!==void 0?nx.createHTML(t):t}function dc(e,t,r=e,s){var l,o,c,n;if(t===$u)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Pu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=dc(e,u._$AS(e,t.values),u,s)),t}var vg,fh,uc,nx,wg,ss,dx,VS,ol,Tu,Pu,hx,WS,yg,Eu,ox,ax,rl,sx,lx,px,fx,WU,qU,$u,Wn,cx,nl,qS,xg,GS,_g,mh,YS,KS,XS,ZS,JS,bg,QS,ux,yx,bx=Zt(()=>{ec();Bm();fh=window,uc=fh.trustedTypes,nx=uc?uc.createPolicy("lit-html",{createHTML:e=>e}):void 0,wg="$lit$",ss=`lit$${(Math.random()+"").slice(9)}$`,dx="?"+ss,VS=`<${dx}>`,ol=document,Tu=()=>ol.createComment(""),Pu=e=>e===null||typeof e!="object"&&typeof e!="function",hx=Array.isArray,WS=e=>hx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",yg=`[ 	
\f\r]`,Eu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ox=/-->/g,ax=/>/g,rl=RegExp(`>|${yg}(?:([^\\s"'>=/]+)(${yg}*=${yg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),sx=/'/g,lx=/"/g,px=/^(?:script|style|textarea|title)$/i,fx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),WU=fx(1),qU=fx(2),$u=Symbol.for("lit-noChange"),Wn=Symbol.for("lit-nothing"),cx=new WeakMap,nl=ol.createTreeWalker(ol,129,null,!1);qS=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Eu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Eu?g[1]==="!--"?c=ox:g[1]!==void 0?c=ax:g[2]!==void 0?(px.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=rl):g[3]!==void 0&&(c=rl):c===rl?g[0]===">"?(c=l!=null?l:Eu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?rl:g[3]==='"'?lx:sx):c===lx||c===sx?c=rl:c===ox||c===ax?c=Eu:(c=rl,l=void 0);let x=c===rl&&e[n+1].startsWith("/>")?" ":"";o+=c===Eu?u+VS:m>=0?(s.push(p),u.slice(0,m)+wg+u.slice(m)+ss+x):u+ss+(m===-2?(s.push(void 0),n):x)}return[mx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},xg=class gx{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=qS(t,r);if(this.el=gx.createElement(p,s),nl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=nl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(wg)||y.startsWith(ss)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+wg).split(ss),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?YS:k[1]==="?"?XS:k[1]==="@"?ZS:mh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(px.test(l.tagName)){let m=l.textContent.split(ss),y=m.length-1;if(y>0){l.textContent=uc?uc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Tu()),nl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Tu())}}}else if(l.nodeType===8)if(l.data===dx)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ss,m+1))!==-1;)u.push({type:7,index:o}),m+=ss.length-1}o++}}static createElement(t,r){let s=ol.createElement("template");return s.innerHTML=t,s}};GS=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ol).importNode(r,!0);nl.currentNode=l;let o=nl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new _g(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new JS(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=nl.nextNode(),c++)}return nl.currentNode=ol,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},_g=class vx{constructor(t,r,s,l){var o;this.type=2,this._$AH=Wn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=dc(this,t,r),Pu(t)?t===Wn||t==null||t===""?(this._$AH!==Wn&&this._$AR(),this._$AH=Wn):t!==this._$AH&&t!==$u&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):WS(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Wn&&Pu(this._$AH)?this._$AA.nextSibling.data=t:this.$(ol.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=xg.createElement(mx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new GS(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=cx.get(t.strings);return r===void 0&&cx.set(t.strings,r=new xg(t)),r}T(t){hx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new vx(this.k(Tu()),this.k(Tu()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},mh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Wn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Wn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=dc(this,e,t,0),o=!Pu(e)||e!==this._$AH&&e!==$u,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=dc(this,c[r+n],t,n),u===$u&&(u=this._$AH[n]),o||(o=!Pu(u)||u!==this._$AH[n]),u===Wn?e=Wn:e!==Wn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Wn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},YS=class extends mh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Wn?void 0:e}},KS=uc?uc.emptyScript:"",XS=class extends mh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Wn?this.element.setAttribute(this.name,KS):this.element.removeAttribute(this.name)}},ZS=class extends mh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=dc(this,e,t,0))!==null&&r!==void 0?r:Wn)===$u)return;let s=this._$AH,l=e===Wn&&s!==Wn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Wn&&(s===Wn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},JS=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){dc(this,e)}},bg=fh.litHtmlPolyfillSupport;bg==null||bg(xg,_g),((vg=fh.litHtmlVersions)!==null&&vg!==void 0?vg:fh.litHtmlVersions=[]).push("2.8.0");QS=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new _g(t.insertBefore(Tu(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c},ux=e=>Yw(e)?e._$litType$.h:e.strings,yx=pa(class extends fa{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){let r=Nm(this.et)?ux(this.et):null,s=Nm(t)?ux(t):null;if(r!==null&&(s===null||r!==s)){let l=vu(e).pop(),o=this.tt.get(r);if(o===void 0){let c=document.createDocumentFragment();o=QS(Wn,c),o.setConnected(!1),this.tt.set(r,o)}gu(o,[l]),Ma(o,void 0,l)}if(s!==null){if(r===null||r!==s){let l=this.tt.get(s);if(l!==void 0){let o=vu(l).pop();Kw(e),Ma(e,void 0,o),gu(e,[o])}}this.et=t}else this.et=void 0;return this.render(t)}});});var kg=Zt(()=>{bx()});var Da,Ag=Zt(()=>{wr();ki();Vr();Da=class extends hi{constructor(){super(...arguments),this.open=!1,this.displayCaret=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{}}renderOption(e){let{label:t,url:r=void 0,id:s}=e,l,o=this.selectedOption===s?"selected":"";return r?l=tt`<a
        href=${r}
        @click=${()=>this.optionClicked(e)}
        >${t}</a
      >`:l=tt`<button
        @click=${()=>this.optionClicked(e)}
      >
        ${t}
      </button>`,tt`<li class=${o}>${l}</li>`}optionClicked(e){this.selectedOption=e.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:e}})),e.selectedHandler&&(e==null||e.selectedHandler(e))}toggleOptions(){this.open=!this.open}get caret(){return this.open?this.caretUp:this.caretDown}get dropdownState(){return this.open?"open":"closed"}get caretUp(){return Gn`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
      fill=""></path>
  </svg>`}get caretDown(){return Gn`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill=""></path>
  </svg>`}get availableOptions(){return this.options.filter(e=>this.selectedOption!==e.id)}render(){return tt`
      <div class="ia-dropdown-group">
        <button @click=${this.toggleOptions} class="click-main">
          <span class="cta sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.displayCaret?tt`<span class="caret">${this.caret}</span>`:$i}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.availableOptions.map(e=>this.renderOption(e))}
        </ul>
      </div>
    `}};Da.styles=yt`
    :host {
      display: inline;
      color: var(--dropdownTextColor, #fff);
    }

    svg.caret-up-svg,
    svg.caret-down-svg {
      fill: var(--dropdownCaretColor, #fff);
      vertical-align: middle;
    }

    button.click-main {
      background: transparent;
      color: inherit;
      border: none;
      cursor: pointer;
      outline: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: row;
      padding-left: 0;
    }

    button slot {
      padding-right: 5px;
      display: inline-block;
    }

    .ia-dropdown-group {
      width: inherit;
      height: inherit;
      position: relative;
    }

    .sr-only {
      border: 0 !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      -webkit-clip-path: inset(50%) !important;
      clip-path: inset(50%) !important;
      height: 1px !important;
      margin: -1px !important;
      overflow: hidden !important;
      padding: 0 !important;
      position: absolute !important;
      width: 1px !important;
      white-space: nowrap !important;
    }

    .caret svg {
      height: var(--caretHeight, 10px);
      width: var(--caretWidth, 20px);
    }

    ul {
      z-index: var(--dropdownListZIndex, 1);
    }

    ul.dropdown-main.closed {
      visibility: hidden;
      height: 1px;
      width: 1px;
    }

    ul.dropdown-main {
      position: absolute;
      list-style: none;
      margin: 5px 0 0 0;
      padding: 0;
      color: var(--dropdownTextColor, #fff);
      border-radius: 4px;
      border: 1px solid var(--dropdownBorderColor, #fff);
    }

    ul.dropdown-main {
      background: var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li:hover:first-child {
      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
    }

    ul.dropdown-main li:hover:last-child {
      border-bottom-color: var(
        --dropdownHoverBgColor,
        rgba(255, 255, 255, 0.3)
      );
    }

    ul.dropdown-main li:hover:not(:first-child) {
      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }
    ul.dropdown-main li:hover:not(:last-child) {
      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }

    ul.dropdown-main li.selected:last-child {
      border-bottom-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected:first-child {
      border-top-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected > * {
      background-color: var(--dropdownSelectedBgColor, #fff);
      color: var(--dropdownSelectedTextColor, #2c2c2c);
    }

    ul.dropdown-main li:hover {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
      list-style: none;
      cursor: pointer;
    }

    ul.dropdown-main li:hover > * {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
    }

    ul.dropdown-main li {
      background: var(--dropdownBgColor, #333);
      list-style: none;
      height: 30px;
      cursor: pointer;
      border-bottom: 0.5px solid var(--dropdownBgColor, #333);
      border-top: 0.5px solid var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li button {
      background: none;
      color: inherit;
      border: none;
      font: inherit;
      cursor: pointer;
      outline: inherit;
    }

    ul.dropdown-main li a {
      text-decoration: none;
      display: block;
      box-sizing: border-box;
    }

    ul.dropdown-main li:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    ul.dropdown-main li:last-child {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 4px;
    }

    /* cover the list with the label */
    ul.dropdown-main li > * > :first-child {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
      padding: 5px 10px;
      box-sizing: border-box;
    }

    ul.dropdown-main li > * {
      width: 100%;
      height: inherit;
      color: var(--dropdownTextColor, #fff);
      background: transparent;
      padding: 0;
    }
  `;de([ri({type:Boolean,attribute:!0})],Da.prototype,"open",void 0);de([ri({type:Boolean,attribute:!0})],Da.prototype,"displayCaret",void 0);de([ri({type:String,attribute:!0})],Da.prototype,"selectedOption",void 0);de([ri({type:Array})],Da.prototype,"options",void 0);de([ri({type:String})],Da.prototype,"optionGroup",void 0);de([ri({type:Function})],Da.prototype,"optionSelected",void 0);Da=de([cr("ia-dropdown")],Da)});var Sg,Cg=Zt(()=>{wr();ki();Vr();Sg=class extends hi{render(){return tt`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};Sg.styles=yt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }
  `;Sg=de([cr("ia-icon-label")],Sg)});function $x(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return wx!==void 0?wx.createHTML(t):t}function fc(e,t,r=e,s){var l,o,c,n;if(t===pc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Mu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=fc(e,u._$AS(e,t.values),u,s)),t}var Eg,gh,hc,wx,$g,ls,Cx,eC,ll,vh,Mu,Ex,tC,Tg,Ou,xx,_x,al,kx,Ax,Tx,Px,mV,gV,pc,Zn,Sx,sl,iC,Og,rC,Mx,yh,nC,oC,aC,sC,lC,Pg,Ix,cC,bh,Dx=Zt(()=>{ec();gh=window,hc=gh.trustedTypes,wx=hc?hc.createPolicy("lit-html",{createHTML:e=>e}):void 0,$g="$lit$",ls=`lit$${(Math.random()+"").slice(9)}$`,Cx="?"+ls,eC=`<${Cx}>`,ll=document,vh=()=>ll.createComment(""),Mu=e=>e===null||typeof e!="object"&&typeof e!="function",Ex=Array.isArray,tC=e=>Ex(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Tg=`[ 	
\f\r]`,Ou=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,xx=/-->/g,_x=/>/g,al=RegExp(`>|${Tg}(?:([^\\s"'>=/]+)(${Tg}*=${Tg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),kx=/'/g,Ax=/"/g,Tx=/^(?:script|style|textarea|title)$/i,Px=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),mV=Px(1),gV=Px(2),pc=Symbol.for("lit-noChange"),Zn=Symbol.for("lit-nothing"),Sx=new WeakMap,sl=ll.createTreeWalker(ll,129,null,!1);iC=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Ou;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Ou?g[1]==="!--"?c=xx:g[1]!==void 0?c=_x:g[2]!==void 0?(Tx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=al):g[3]!==void 0&&(c=al):c===al?g[0]===">"?(c=l!=null?l:Ou,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?al:g[3]==='"'?Ax:kx):c===Ax||c===kx?c=al:c===xx||c===_x?c=Ou:(c=al,l=void 0);let x=c===al&&e[n+1].startsWith("/>")?" ":"";o+=c===Ou?u+eC:m>=0?(s.push(p),u.slice(0,m)+$g+u.slice(m)+ls+x):u+ls+(m===-2?(s.push(void 0),n):x)}return[$x(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Og=class Ox{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=iC(t,r);if(this.el=Ox.createElement(p,s),sl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=sl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith($g)||y.startsWith(ls)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+$g).split(ls),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?nC:k[1]==="?"?aC:k[1]==="@"?sC:yh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Tx.test(l.tagName)){let m=l.textContent.split(ls),y=m.length-1;if(y>0){l.textContent=hc?hc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],vh()),sl.nextNode(),u.push({type:2,index:++o});l.append(m[y],vh())}}}else if(l.nodeType===8)if(l.data===Cx)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ls,m+1))!==-1;)u.push({type:7,index:o}),m+=ls.length-1}o++}}static createElement(t,r){let s=ll.createElement("template");return s.innerHTML=t,s}};rC=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ll).importNode(r,!0);sl.currentNode=l;let o=sl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Mx(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new lC(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=sl.nextNode(),c++)}return sl.currentNode=ll,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Mx=class Lx{constructor(t,r,s,l){var o;this.type=2,this._$AH=Zn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=fc(this,t,r),Mu(t)?t===Zn||t==null||t===""?(this._$AH!==Zn&&this._$AR(),this._$AH=Zn):t!==this._$AH&&t!==pc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):tC(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Zn&&Mu(this._$AH)?this._$AA.nextSibling.data=t:this.$(ll.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Og.createElement($x(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new rC(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Sx.get(t.strings);return r===void 0&&Sx.set(t.strings,r=new Og(t)),r}T(t){Ex(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new Lx(this.k(vh()),this.k(vh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},yh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Zn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Zn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=fc(this,e,t,0),o=!Mu(e)||e!==this._$AH&&e!==pc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=fc(this,c[r+n],t,n),u===pc&&(u=this._$AH[n]),o||(o=!Mu(u)||u!==this._$AH[n]),u===Zn?e=Zn:e!==Zn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Zn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},nC=class extends yh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Zn?void 0:e}},oC=hc?hc.emptyScript:"",aC=class extends yh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Zn?this.element.setAttribute(this.name,oC):this.element.removeAttribute(this.name)}},sC=class extends yh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=fc(this,e,t,0))!==null&&r!==void 0?r:Zn)===pc)return;let s=this._$AH,l=e===Zn&&s!==Zn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Zn&&(s===Zn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},lC=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){fc(this,e)}},Pg=gh.litHtmlPolyfillSupport;Pg==null||Pg(Og,Mx),((Eg=gh.litHtmlVersions)!==null&&Eg!==void 0?Eg:gh.litHtmlVersions=[]).push("2.8.0");Ix="important",cC=" !"+Ix,bh=pa(class extends fa{constructor(e){var t;if(super(e),e.type!==is.ATTRIBUTE||e.name!=="style"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{let s=e[r];return s==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`},"")}update(e,[t]){let{style:r}=e.element;if(this.ht===void 0){this.ht=new Set;for(let s in t)this.ht.add(s);return this.render(t)}this.ht.forEach(s=>{t[s]==null&&(this.ht.delete(s),s.includes("-")?r.removeProperty(s):r[s]="")});for(let s in t){let l=t[s];if(l!=null){this.ht.add(s);let o=typeof l=="string"&&l.endsWith(cC);s.includes("-")||o?r.setProperty(s,o?l.slice(0,-11):l,o?Ix:""):r[s]=l}}return pc}});});var Mg=Zt(()=>{Dx()});function qx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Rx!==void 0?Rx.createHTML(t):t}function vc(e,t,r=e,s){var l,o,c,n;if(t===gc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Iu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=vc(e,u._$AS(e,t.values),u,s)),t}var Lg,wh,mc,Rx,Rg,cs,zx,uC,dl,xh,Iu,Ux,dC,Ig,Lu,jx,Nx,cl,Bx,Hx,Vx,Wx,TV,PV,gc,Jn,Fx,ul,hC,jg,pC,Yx,_h,fC,mC,gC,vC,yC,Dg,hl,Xx=Zt(()=>{ec();wh=window,mc=wh.trustedTypes,Rx=mc?mc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Rg="$lit$",cs=`lit$${(Math.random()+"").slice(9)}$`,zx="?"+cs,uC=`<${zx}>`,dl=document,xh=()=>dl.createComment(""),Iu=e=>e===null||typeof e!="object"&&typeof e!="function",Ux=Array.isArray,dC=e=>Ux(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Ig=`[ 	
\f\r]`,Lu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,jx=/-->/g,Nx=/>/g,cl=RegExp(`>|${Ig}(?:([^\\s"'>=/]+)(${Ig}*=${Ig}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Bx=/'/g,Hx=/"/g,Vx=/^(?:script|style|textarea|title)$/i,Wx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),TV=Wx(1),PV=Wx(2),gc=Symbol.for("lit-noChange"),Jn=Symbol.for("lit-nothing"),Fx=new WeakMap,ul=dl.createTreeWalker(dl,129,null,!1);hC=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Lu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Lu?g[1]==="!--"?c=jx:g[1]!==void 0?c=Nx:g[2]!==void 0?(Vx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=cl):g[3]!==void 0&&(c=cl):c===cl?g[0]===">"?(c=l!=null?l:Lu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?cl:g[3]==='"'?Hx:Bx):c===Hx||c===Bx?c=cl:c===jx||c===Nx?c=Lu:(c=cl,l=void 0);let x=c===cl&&e[n+1].startsWith("/>")?" ":"";o+=c===Lu?u+uC:m>=0?(s.push(p),u.slice(0,m)+Rg+u.slice(m)+cs+x):u+cs+(m===-2?(s.push(void 0),n):x)}return[qx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},jg=class Gx{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=hC(t,r);if(this.el=Gx.createElement(p,s),ul.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=ul.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Rg)||y.startsWith(cs)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Rg).split(cs),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?fC:k[1]==="?"?gC:k[1]==="@"?vC:_h})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Vx.test(l.tagName)){let m=l.textContent.split(cs),y=m.length-1;if(y>0){l.textContent=mc?mc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],xh()),ul.nextNode(),u.push({type:2,index:++o});l.append(m[y],xh())}}}else if(l.nodeType===8)if(l.data===zx)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(cs,m+1))!==-1;)u.push({type:7,index:o}),m+=cs.length-1}o++}}static createElement(t,r){let s=dl.createElement("template");return s.innerHTML=t,s}};pC=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:dl).importNode(r,!0);ul.currentNode=l;let o=ul.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new Yx(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new yC(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=ul.nextNode(),c++)}return ul.currentNode=dl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Yx=class Kx{constructor(t,r,s,l){var o;this.type=2,this._$AH=Jn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=vc(this,t,r),Iu(t)?t===Jn||t==null||t===""?(this._$AH!==Jn&&this._$AR(),this._$AH=Jn):t!==this._$AH&&t!==gc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):dC(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Jn&&Iu(this._$AH)?this._$AA.nextSibling.data=t:this.$(dl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=jg.createElement(qx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new pC(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Fx.get(t.strings);return r===void 0&&Fx.set(t.strings,r=new jg(t)),r}T(t){Ux(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new Kx(this.k(xh()),this.k(xh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},_h=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Jn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Jn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=vc(this,e,t,0),o=!Iu(e)||e!==this._$AH&&e!==gc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=vc(this,c[r+n],t,n),u===gc&&(u=this._$AH[n]),o||(o=!Iu(u)||u!==this._$AH[n]),u===Jn?e=Jn:e!==Jn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Jn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},fC=class extends _h{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Jn?void 0:e}},mC=mc?mc.emptyScript:"",gC=class extends _h{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Jn?this.element.setAttribute(this.name,mC):this.element.removeAttribute(this.name)}},vC=class extends _h{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=vc(this,e,t,0))!==null&&r!==void 0?r:Jn)===gc)return;let s=this._$AH,l=e===Jn&&s!==Jn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Jn&&(s===Jn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},yC=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){vc(this,e)}},Dg=wh.litHtmlPolyfillSupport;Dg==null||Dg(jg,Yx),((Lg=wh.litHtmlVersions)!==null&&Lg!==void 0?Lg:wh.litHtmlVersions=[]).push("2.8.0");hl=pa(class extends fa{constructor(e){var t;if(super(e),e.type!==is.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!(!((r=this.nt)===null||r===void 0)&&r.has(o))&&this.it.add(o);return this.render(t)}let l=e.element.classList;this.it.forEach(o=>{o in t||(l.remove(o),this.it.delete(o))});for(let o in t){let c=!!t[o];c===this.it.has(o)||!((s=this.nt)===null||s===void 0)&&s.has(o)||(c?(l.add(o),this.it.add(o)):(l.remove(o),this.it.delete(o)))}return gc}});});var Du=Zt(()=>{Xx()});function LC(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function IC(e){var t;let r=e.brOptions,s=jr(jr({},LC()),r),l=new window.BookReader(s),o=window.BookReader.prototype.getPageURI;l.getPageURI=(n,u=1,p=0)=>{let g=Math.pow(2,Math.floor(Math.log2(Math.max(1,u)))),m=o.call(l,n,g,p);return m+=m.indexOf("?")>-1?"&":"?",m=`${m}scale=${g}&rotate=${p}`,m},window.br=l;let c=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:c}})),l}var bC,Fr,wo,ga,Sh,Zx,Jx,Qx,e_,wC,xC,_C,kC,AC,SC,CC,EC,TC,PC,$C,OC,MC,kh,Mo,Ru,DC,oo,yc,Ah,Ra,t_=Zt(()=>{wr();ki();Vr();kg();Ag();ki();ki();Cg();Mg();Du();wr();ki();Vr();gg();wr();ki();Vr();mg();ki();wr();ki();Vr();wr();ki();Vr();wr();ki();Vr();il();il();bC=yt`
  section#radio {
    display: flex;
    flex-direction: row;
    align-items: center;
  }

  #radio #selector-title {
    margin-right: 5px;
  }

  #radio ul {
    display: inline-block;
  }

  #radio ul {
    border-radius: 50px;
    display: inline-flex;
    align-content: flex-start;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
  }

  #radio li {
    border: 1px solid #fff;
  }

  #radio li:first-child {
    border-top-left-radius: 50px;
    border-bottom-left-radius: 50px;
    padding-left: 5px;
  }
  #radio li:first-child ia-icon-label {
    margin-left: 5px;
  }

  #radio li:last-child {
    border-top-right-radius: 50px;
    border-bottom-right-radius: 50px;
    padding-right: 10px;
    padding-left: 5px;
  }

  #radio li:last-child ia-icon-label {
    margin-right: 5px;
  }

  #radio li:not(:last-child) {
    border-right: none;
    padding-right: 5px;
    padding-left: 5px;
  }

  /* Demarcate when hovering next to selected channel */
  #radio li > ia-icon-label {
    height: 30px;
    padding: 5px;
    box-sizing: border-box;
  }
  /* End demarcation */
`;(function(e){e.ia="ia",e.beta="beta",e.youtube="youtube",e.spotify="spotify",e.webamp="webamp"})(Fr||(Fr={}));(function(e){e.iaSamples="Samples",e.iaPlayer="Player",e.beta="Beta",e.spotify="Spotify",e.webamp="Webamp",e.youtube="YouTube"})(wo||(wo={}));ga={ia:tt`<img
    class="ia"
    src="https://archive.org/images/music-theater/internet-archive.svg"
    alt="Internet Archive logo"
    style="height: 20px; width: 20px;"
  />`,beta:tt`<img
    class="ia-beta"
    src="https://archive.org/images/music-theater/streaming.svg"
    alt="Internet Archive beta player logo"
    style="height: 20px; width: 20px;"
  />`,spotify:tt`<img
    class="spotify"
    src="https://archive.org/images/music-theater/spotify.svg"
    alt="Spotify logo"
    style="display: block;"
  />`,webamp:tt`<img
    class="webamp"
    src="https://archive.org/images/music-theater/webamp.svg"
    alt="webamp logo"
    style="height: 20px;"
  />`,youtube:tt`<img
    class="youtube"
    src="https://archive.org/images/music-theater/youtube.svg"
    alt="youtube logo"
    style="height: 20px; width: 20px; display: block;"
  />`},Sh=({label:e=wo.iaPlayer,selected:t})=>{let r=bh({filter:t?"invert(1)":"invert(0)",height:"20px",width:"20px"}),s=hl({selected:t,"invert-icon-at-hover-selected":t});return tt`
    <ia-icon-label class=${s}>
      <span slot="icon" style=${r}>${ga.ia}</span>
      <span>${e}</span>
    </ia-icon-label>
  `},Zx=e=>{let t=bh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=hl({selected:e,"invert-icon-at-hover-selected":e});return tt`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${ga.beta}</span>
      <span>${wo.beta}</span>
    </ia-icon-label>
  `},Jx=e=>tt`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${ga.spotify}</span>
    <span>${wo.spotify}</span>
  </ia-icon-label>
`,Qx=e=>{let t=bh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=hl({selected:e,"invert-icon-at-hover-selected":e});return tt`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${ga.webamp}</span>
      <span>Webamp</span>
    </ia-icon-label>
  `},e_=e=>tt`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${ga.youtube}</span>
    <span>${wo.youtube}</span>
  </ia-icon-label>
`,wC=({samples:e,onClick:t,href:r,selected:s})=>{let l=e?wo.iaSamples:wo.iaPlayer;return tt`
    <a href=${r} @click=${()=>t()}>${Sh({label:l,selected:s})}</button>
  `},xC=({samples:e,onClick:t,selected:r})=>{let s=e?wo.iaSamples:wo.iaPlayer;return tt`
    <button @click=${l=>t(l)} class="ia">
      ${Sh({label:s,selected:r})}
    </button>
  `},_C=({onClick:e,selected:t})=>tt`<button
  @click=${r=>e(r)}
  class="ia-beta"
>
  ${Zx(t)}
</button>`,kC=({onClick:e,selected:t})=>tt`<button
  @click=${r=>e(r)}
  class="sp"
>
  ${Jx(t)}
</button>`,AC=({onClick:e,href:t,selected:r})=>{let s=`${t}?webamp=default`;return tt`
    <a href=${s} @click=${l=>e(l)} class="wa">${Qx(r)}</button>
  `},SC=({onClick:e,selected:t})=>tt`<button
  @click=${r=>e(r)}
  class="yt"
>
  ${e_(t)}
</button>`,CC=({samples:e,onClick:t,href:r,selectedOption:s})=>({url:r,selectedHandler:l=>{t(l)},label:Sh({label:e?wo.iaSamples:wo.iaPlayer,selected:s===Fr.ia}),id:Fr.ia}),EC=({samples:e,onClick:t,selectedOption:r})=>({selectedHandler:s=>{t(s)},label:Sh({label:e?wo.iaSamples:wo.iaPlayer,selected:r===Fr.ia}),id:Fr.ia}),TC=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:Zx(t===Fr.beta),id:Fr.beta}),PC=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:Jx(t===Fr.spotify),id:Fr.spotify}),$C=({href:e,onClick:t,selectedOption:r})=>{let s=l=>{t(l)};return{url:`${e}?webamp=default`,selectedHandler:s,label:Qx(r===Fr.webamp),id:Fr.webamp}},OC=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:e_(t===Fr.youtube),id:Fr.youtube}),MC=e=>{let{spotify:t,beta:r,youtube:s,selectedOption:l}=e;return[l===Fr.webamp?CC(e):EC(e),r?TC(e):null,t?PC(e):null,s?OC(e):null,$C(e)].filter(Boolean)};(function(e){e.postInit="postInit",e.channelChange="channelChange"})(kh||(kh={}));Mo=class extends hi{constructor(){super(...arguments),this.youtube=!1,this.spotify=!1,this.beta=!1,this.webamp=!0,this.samples=!1,this.backgroundTheme="dark",this.selected=Fr.ia,this.displayStyle="radio",this.url=""}firstUpdated(){this.dispatchEvent(new CustomEvent(kh.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}emitChannelChanged(){this.dispatchEvent(new CustomEvent(kh.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}iaClicked(){this.selected!==Fr.ia&&(this.selected=Fr.ia,this.emitChannelChanged())}betaClicked(){this.selected!==Fr.beta&&(this.selected=Fr.beta,this.emitChannelChanged())}spotifyClicked(){this.selected!==Fr.spotify&&(this.selected=Fr.spotify,this.emitChannelChanged())}webampClicked(){this.selected!==Fr.webamp&&(this.selected=Fr.webamp,this.emitChannelChanged())}youtubeClicked(){this.selected!==Fr.youtube&&(this.selected=Fr.youtube,this.emitChannelChanged())}dropdownOptionSelected(e){this.selected=e.id,this.emitChannelChanged(),this.iaDropdown.open=!1}get iaLinkSelector(){let e=this.selected===Fr.ia?"selected":"";return tt`
      <li class=${e}>
        ${wC({samples:this.samples,selected:this.selected===Fr.ia,onClick:()=>this.iaClicked(),href:this.url})}
      </li>
    `}get iaButtonSelector(){let e=this.selected===Fr.ia?"selected":"";return tt`
      <li class=${e}>
        ${xC({samples:this.samples,selected:this.selected===Fr.ia,onClick:()=>this.iaClicked()})}
      </li>
    `}get iaBetaSelector(){let e=this.selected===Fr.beta?"selected":"";return tt`
      <li class=${e}>
        ${_C({selected:this.selected===Fr.beta,onClick:()=>this.betaClicked()})}
      </li>
    `}get spotifySelector(){let e=this.selected===Fr.spotify?"selected":"";return tt`
      <li class=${e}>
        ${kC({selected:this.selected===Fr.spotify,onClick:()=>this.spotifyClicked()})}
      </li>
    `}get webampSelector(){let e=this.selected===Fr.webamp?"selected":"";return tt`
      <li class=${e}>
        ${AC({href:this.url||window.location.href,selected:this.selected===Fr.webamp,onClick:()=>this.webampClicked()})}
      </li>
    `}get youtubeSelector(){let e=this.selected===Fr.youtube?"selected":"";return tt`
      <li class=${e}>
        ${SC({selected:this.selected===Fr.youtube,onClick:()=>this.youtubeClicked()})}
      </li>
    `}get properIaSelector(){return this.selected===Fr.webamp?this.iaLinkSelector:this.iaButtonSelector}toggleDisplayStyle(){let e=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=e}shouldShowChannelType(e){let t=this.selected===e;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&t)}get dropdownOptions(){let{samples:e,beta:t,spotify:r,webamp:s,youtube:l,url:o,selected:c}=this;return MC({selectedOption:c,samples:!!e,beta:t,spotify:r,webamp:s,youtube:l,href:o,onClick:this.dropdownOptionSelected.bind(this)})}get currentlySelectedIcon(){switch(this.selected){case Fr.beta:return ga.beta;case Fr.spotify:return ga.spotify;case Fr.youtube:return ga.youtube;case Fr.webamp:return ga.webamp;default:return ga.ia}}get dropdown(){return tt`
      <ia-dropdown
        displayCaret
        .options=${this.dropdownOptions}
        .selectedOption=${this.selected}
        class=${this.backgroundTheme}
      >
        <span slot="dropdown-label">${this.currentlySelectedIcon}</span>
      </ia-dropdown>
    `}get radioView(){return tt`
      <div id="selector-title"><h4>Play from:</h4></div>
      <div>
        <ul>
          ${this.properIaSelector} ${this.beta?this.iaBetaSelector:$i}
          ${this.youtube?this.youtubeSelector:$i}
          ${this.spotify?this.spotifySelector:$i}
          ${this.webamp?this.webampSelector:$i}
        </ul>
      </div>
    `}render(){return tt`
      <section
        id=${this.displayStyle}
        class="${this.displayStyle} ${this.backgroundTheme}"
      >
        ${yx(this.displayStyle==="radio"?this.radioView:this.dropdown)}
      </section>
    `}};Mo.styles=[yt`
      :host {
        display: block;
      }

      :host(:focus) {
        outline: none;
      }

      section.radio ul,
      section.radio h4 {
        color: #fff;
      }

      section.radio.light h4 {
        color: #222;
      }

      ia-dropdown.light {
        --channel-selector-dropdown-text-color: #222;
        color: var(--channel-selector-dropdown-text-color, #222);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);
      }

      ia-dropdown {
        --dropdownBgColor: #333;
        --dropdownHoverBgColor: #474747;
        color: var(--channel-selector-dropdown-text-color, #fff);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);
      }

      ia-dropdown.light img.ia,
      ia-dropdown.light img.ia-beta,
      ia-dropdown.light img.webamp {
        filter: invert(1);
      }

      h4 {
        margin: 0;
      }

      a:link,
      a:visited,
      a:active,
      a {
        color: inherit;
        text-decoration: none;
      }

      button {
        color: inherit;
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
        margin: 0;
      }

      li > *,
      #dropdown .selected-option {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      li:hover {
        background-color: var(--channel-selector-hover-bg-color, #474747);
      }

      li.selected {
        background-color: #fff;
        color: #2c2c2c;
      }

      ul,
      li {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      li {
        display: flex;
        height: 30px;
        background-color: #333;
      }

      #dropdown .close,
      .sr-only {
        width: 1px;
        height: 1px;
        padding: 0px;
        margin: -1px;
        overflow: hidden;
        clip: rect(0px, 0px, 0px, 0px);
        border: 0px;
        display: block;
      }

      #radio .selected-option {
        display: none;
      }

      li a.ia {
        display: flex;
      }

      *[slot='dropdown-label'] img {
        height: 30px !important;
        width: 30px !important;
        display: block;
      }
    `,bC];de([ri({attribute:!0,type:Boolean,reflect:!0})],Mo.prototype,"youtube",void 0);de([ri({attribute:!0,type:Boolean,reflect:!0})],Mo.prototype,"spotify",void 0);de([ri({attribute:!0,type:Boolean,reflect:!0})],Mo.prototype,"beta",void 0);de([ri({attribute:!0,type:Boolean,reflect:!0})],Mo.prototype,"webamp",void 0);de([ri({attribute:!0,type:Boolean,reflect:!0})],Mo.prototype,"samples",void 0);de([ri({attribute:!0,type:String,reflect:!0})],Mo.prototype,"backgroundTheme",void 0);de([ri({type:String,reflect:!0})],Mo.prototype,"selected",void 0);de([ri({type:String,reflect:!0})],Mo.prototype,"displayStyle",void 0);de([ri({type:String})],Mo.prototype,"url",void 0);de([ln("ia-dropdown")],Mo.prototype,"iaDropdown",void 0);Mo=de([cr("channel-selector")],Mo);Ru=class extends hi{constructor(){super(...arguments),this.iaIdentifier="",this.gradType=""}updated(e){e.has("iaIdentifier")&&this.setGradType()}hashStrToInt(e){return e.split("").reduce((t,r)=>t+r.charCodeAt(0),0)}setGradType(){let e=0;this.iaIdentifier?(e=this.hashStrToInt(this.iaIdentifier)%6,this.gradType=`grad${e}`):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:e,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}render(){return tt`
      <div class="no-image">
        <ia-icon-audio class=${this.gradType}></ia-icon-audio>
      </div>
    `}};Ru.styles=yt`
    ia-icon-audio {
      margin: auto;
      display: block;
      height: var(--imageHeight, 100%);
      width: var(--imageWidth, 100%);
      opacity: 0.8;
    }
    :host {
      height: 100%;
      width: 100%;
    }

    ia-icon-audio {
      border: 1px solid #fff8;
    }

    ia-icon-audio.grad0 {
      background: linear-gradient(
        hsl(300, 80%, 55%),
        hsl(330, 80%, 33%) 35%,
        hsl(330, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad1 {
      background: linear-gradient(
        hsl(200, 80%, 55%),
        hsl(230, 80%, 33%) 35%,
        hsl(230, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad2 {
      background: linear-gradient(
        hsl(160, 80%, 55%),
        hsl(190, 80%, 33%) 35%,
        hsl(190, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad3 {
      background: linear-gradient(
        hsl(250, 80%, 55%),
        hsl(280, 80%, 33%) 35%,
        hsl(280, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad4 {
      background: linear-gradient(
        hsl(280, 80%, 55%),
        hsl(310, 80%, 33%) 35%,
        hsl(310, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad5 {
      background: linear-gradient(
        hsl(340, 80%, 55%),
        hsl(0, 80%, 33%) 35%,
        hsl(0, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }
  `;de([ri({type:String,reflect:!0,attribute:!0})],Ru.prototype,"iaIdentifier",void 0);de([ri({type:String,reflect:!0})],Ru.prototype,"gradType",void 0);Ru=de([cr("iamusic-noimage")],Ru);DC=tt`
  <svg
    id="more-inside-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
  >
    <path
      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"
      fill-rule="evenodd"
      class="fill-color"
    />
  </svg>
`,oo=class extends hi{constructor(){super(...arguments),this.showAllPhotos=!1,this.baseHost="archive.org",this.signedIn=!1,this.itemIdentifier="",this.fullscreenActive=!1,this.reInitBrAtFullscreen=!1,this.noImageAvailable=!1,this.backgroundTheme="dark",this.bindBrEvents=()=>{window.addEventListener("BookReader:PostInit",this.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",()=>{var e;this.fullscreenActive=((e=this.bookreader)===null||e===void 0?void 0:e.isFullscreen())||!1;let t=this.fullscreenActive?"fullscreenOpened":"fullscreenClosed";this.dispatchEvent(new Event(t))})}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}firstUpdated(){this.bindBrEvents()}updated(e){e.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),e.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}render(){if(this.noImageAvailable)return tt`
        <div class="no-images">
          <iamusic-noimage .iaIdentifier=${this.itemIdentifier}
            >no image available</iamusic-noimage
          >
        </div>
      `;let e=this.backgroundTheme==="light"?"light":"",t=this.showAllPhotos?"show-back":"",r=this.fullscreenActive?"fullscreenActive":"";return tt`
      <div
        class=${`flip-card ${t} ${r} ${e}`}
      >
        <div class="flip-card-inner">
          <div class="flip-card-front">${this.photoAlbumCover}</div>
          <div class="flip-card-back">${this.linerNotesView}</div>
        </div>
      </div>
    `}togglePhotoViewer(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}get imageBaseUrl(){return`https://${this.baseHost}/download/${this.itemIdentifier}`}get primaryImage(){var e;if(this.linerNotesManifest){let t=(e=this.linerNotesManifest.brOptions.data)===null||e===void 0?void 0:e.flat()[0];return(t==null?void 0:t.uri)||void 0}}get linerNotesView(){return tt`
      <div class=${"photo-viewer-container"}>
        <button
          id="close-photo-viewer"
          @click=${()=>{var e;(e=this.bookreader)===null||e===void 0||e.exitFullScreen(),this.togglePhotoViewer()}}
        >
          <span class="sr-only">Click to close Photo Viewer.</span>
          <ia-icon-close-circle></ia-icon-close-circle>
        </button>
        <ia-bookreader
          .item=${this.linerNotesManifest}
          .baseHost=${this.baseHost}
          .signedIn=${this.signedIn}
          ><div slot="main"><slot name="main"></slot></div
        ></ia-bookreader>
      </div>
    `}get photoAlbumCover(){var e,t;let r=(t=(e=this.itemMD)===null||e===void 0?void 0:e.title)!==null&&t!==void 0?t:this.itemIdentifier,s=this.primaryImage?this.primaryImage:`//${this.baseHost}/services/img/${this.itemIdentifier}`;return tt`
      <div class="cover-art">
        <button
          class="click-for-photos"
          @click=${()=>xi(this,null,function*(){this.togglePhotoViewer()})}
        >
          <img
            src=${s}
            alt=${`primary image for ${r}`}
            @load=${l=>{let o=l.target,{width:c,height:n}=o.getBoundingClientRect();this.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:c,height:n,target:o}}))}}
          />
          <span class="sr-only">See all photos for ${r}</span>
          <div id="see-more-cta">
            <p><span>See more</span> <span>${DC}</span></p>
          </div>
        </button>
      </div>
    `}handleBrPostInit(e){this.bookreader=e==null?void 0:e.detail.props,window.br=this.bookreader,setTimeout(()=>{var t,r;(t=this.bookreader)===null||t===void 0||t.jumpToIndex(0),(r=this.bookreader)===null||r===void 0||r.resize()},1e3)}prepareLightDomHook(){var e,t;let r=(e=this.lightDomHook)===null||e===void 0?void 0:e.querySelector("div.bookreader-slot");r&&((t=this.lightDomHook)===null||t===void 0||t.removeChild(r))}loadFreshBookReaderFromManifest(){return xi(this,null,function*(){yield this.mountBookReaderLightDomHook(),yield this.initBr()})}initBr(e=0){return xi(this,null,function*(){console.log("&&&& INIT BR"),yield new Promise(t=>{setTimeout(()=>{var r,s;this.bookreader=this.linerNotesManifest&&IC(this.linerNotesManifest),console.log("&&&& BR OPTIONS",(r=this.bookreader)===null||r===void 0?void 0:r.options),(s=this.bookreader)===null||s===void 0||s.init(),t()},e)})})}mountBookReaderLightDomHook(){return xi(this,null,function*(){yield new Promise(e=>{var t,r,s;let l=(t=this.lightDomHook)===null||t===void 0?void 0:t.querySelector("div.bookreader-slot");l&&((r=this.lightDomHook)===null||r===void 0||r.removeChild(l));let o=document.createElement("div");o.setAttribute("slot","main"),o.classList.add("bookreader-slot");let c=document.createElement("div");c.classList.add("liner-notes"),o.append(c),(s=this.lightDomHook)===null||s===void 0||s.append(o),c.setAttribute("id","BookReader"),c.classList.add("BookReader"),e(!0)})})}};oo.styles=yt`
    :host {
      display: block;
    }

    :host[fullscreenactive],
    .flip-card.fullscreenActive {
      position: absolute;
      inset: 0;
      height: var(--linerNotesFullscreenHeight, 100vh);
    }

    div.no-images {
      display: flex;
      height: inherit;
    }
    div.no-images * {
      --iconFillColor: white;
      --iconHeight: 250px;
      --iconWidth: 250px;
      margin: auto;
    }

    ia-icon-texts {
      height: 50px;
      width: 50px;
      --iconFillColor: white;
      display: block;
    }

    button {
      cursor: pointer;
      border: 1px solid transparent;
      background-color: transparent;
    }

    .cover-art,
    button.click-for-photos {
      height: inherit;
      position: relative;
      padding: 0;
    }

    button.click-for-photos {
      display: flex;
      margin: auto;
      min-height: 30%;
      min-width: 25%;
    }

    button.click-for-photos img {
      display: block;
      overflow: hidden;
      object-fit: contain;
      object-position: top;
      max-width: 100%;
      margin-top: 18px;
      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);
    }

    button.click-for-photos ia-icon-texts,
    button#close-photo-viewer {
      position: absolute;
      top: 0;
      right: 0;
    }

    button span.sr-only {
      position: absolute;
      height: 1px;
      width: 1px;
      top: 0;
      left: 0;
      visibility: hidden;
    }

    button#close-photo-viewer {
      border: none;
      z-index: 2;
      padding: 0;
    }

    button#close-photo-viewer ia-icon-close-circle {
      display: block;
      padding: 10px;
      --iconHeight: 20px;
      --iconWidth: 20px;
      --iconFillColor: #fff;
    }

    .flip-card {
      width: 100%;
      height: 100%;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.show-back .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card.show-back .flip-card-front .cover-art {
      transition: height 0.5s;
      height: 100%;
      visibility: hidden;
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: transparent;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .flip-card-back {
      transform: rotateY(180deg);
    }

    .photo-viewer-container {
      height: inherit;
    }

    ia-bookreader {
      display: block;
      background-color: transparent;
    }

    /* see more cta */
    .flip-card #see-more-cta {
      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 14px;
      align-self: end;
      margin: 0;
      position: absolute;
      top: 0;
      right: 0;
    }
    .flip-card #see-more-cta p {
      display: inline-block;
      margin: 0;
      width: 90px;
    }
    .flip-card #see-more-cta svg {
      position: absolute;
      width: 16px;
      margin-left: 0px;
      top: 0;
      right: 0;
      margin-top: -2px;
    }

    .flip-card #see-more-cta {
      color: white;
    }
    .flip-card #see-more-cta .fill-color {
      fill: white;
    }

    .flip-card.light #see-more-cta {
      color: #222;
    }
    .flip-card.light #see-more-cta .fill-color {
      fill: #222;
    }
  `;de([ri({type:Boolean,reflect:!0})],oo.prototype,"showAllPhotos",void 0);de([ri({type:String,attribute:!0,reflect:!0})],oo.prototype,"baseHost",void 0);de([ri({type:Boolean,reflect:!0})],oo.prototype,"signedIn",void 0);de([ri({type:String,reflect:!0,attribute:!0})],oo.prototype,"itemIdentifier",void 0);de([ri({type:Object})],oo.prototype,"itemMD",void 0);de([ri({type:Object})],oo.prototype,"linerNotesManifest",void 0);de([ri({type:Object})],oo.prototype,"bookreader",void 0);de([ri({type:Boolean,reflect:!0})],oo.prototype,"fullscreenActive",void 0);de([ri({type:Boolean})],oo.prototype,"reInitBrAtFullscreen",void 0);de([ri({type:Boolean,reflect:!0})],oo.prototype,"noImageAvailable",void 0);de([ri({attribute:!0,type:String,reflect:!0})],oo.prototype,"backgroundTheme",void 0);de([ri({type:Object})],oo.prototype,"lightDomHook",void 0);de([ln("button.click-for-photos img")],oo.prototype,"coverImage",void 0);oo=de([cr("iaux-photo-viewer")],oo);yc=class extends hi{constructor(){super(...arguments),this.iaUrn="",this.display=!1,this.baseHost="https://archive.org"}get youTubeUrl(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";let e=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),t=`origin=${this.baseHost}&widgetid=1&autoplay=1&rel=0`;return`https://www.youtube.com/embed/${e}?${t}`}render(){let e=this.youTubeUrl;return e?tt`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="200"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="YouTube Player"
      ></iframe>
    `:$i}static get styles(){return[yt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};de([ri({type:String,reflect:!0})],yc.prototype,"iaUrn",void 0);de([ri({type:Boolean,reflect:!0})],yc.prototype,"display",void 0);de([ri({type:String})],yc.prototype,"baseHost",void 0);de([ln("iframe")],yc.prototype,"iframe",void 0);yc=de([cr("youtube-player")],yc);Ah=class extends hi{constructor(){super(...arguments),this.iaUrn=""}get spotifyUrl(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":`https://open.spotify.com/embed/${this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/")}`}render(){let e=this.spotifyUrl;return e?tt`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="80"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="Spotify Player"
      ></iframe>
    `:tt`<h3>Invalid Spotify URI: ${this.iaUrn}</h3>`}static get styles(){return[yt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};de([ri({type:String,attribute:!0,reflect:!0})],Ah.prototype,"iaUrn",void 0);de([ln("iframe")],Ah.prototype,"iframe",void 0);Ah=de([cr("spotify-player")],Ah);Ra=class extends hi{constructor(){super(...arguments),this.selectedChannel="",this.playerApi=void 0}updated(e){e.has("album")&&this.album&&this.dispatchAlbumInfo(),e.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),e.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}dispatchSelectedTrack(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}dispatchAlbumInfo(){var e,t;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((e=this.album)===null||e===void 0?void 0:e.spotifyTracks)||[],youtubeTracks:((t=this.album)===null||t===void 0?void 0:t.youtubeTracks)||[]}}))}onTracklistClickCallback(e){var t,r,s,l,o;this.currentTrackNum=e+1;let c=(t=this.album)===null||t===void 0?void 0:t.tracks.find(n=>n.track===this.currentTrackNum);if(this.selectedChannel===Fr.spotify){let n=(r=this.album)===null||r===void 0?void 0:r.spotifyTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(s=this.album)===null||s===void 0?void 0:s.spotifyTracks[0]}else if(this.selectedChannel===Fr.youtube){let n=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(o=this.album)===null||o===void 0?void 0:o.youtubeTracks[0]}this.selectedTrack=c,console.log("*** onTracklistClickCallback ** ",{selectedTrack:c,iaTrackNum:e,currentTrackNum:this.currentTrackNum})}updateToSelectedChannel(){var e,t,r,s,l;if(this.selectedChannel==="youtube"){let o=this.album.youtubeTracks||[],c=[];if(console.log("youtubeTracks",o),o.length){let n=o.reduce((u,p)=>{let g=Number.isInteger(p.track)?`${p.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:n,iaYtTracklist:c}),(e=this.playerApi)===null||e===void 0||e.headless(c,u=>this.onTracklistClickCallback(u))}}else if(this.selectedChannel==="spotify"){let o=((t=this.album)===null||t===void 0?void 0:t.spotifyTracks)||[],c=[];if(console.log("spotifyTracks",o),o.length){let n=((r=this.album)===null||r===void 0?void 0:r.spotifyTracks.reduce((u,p)=>{let g=Number.isInteger(p.track)?`${p.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:n,iaSpTracklist:c}),(s=this.playerApi)===null||s===void 0||s.headless(c,u=>this.onTracklistClickCallback(u))}}else(l=this.playerApi)===null||l===void 0||l.headless()}render(){var e,t;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return $i;if(this.selectedChannel==="spotify"){let r=(e=this.album)===null||e===void 0?void 0:e.spotifyTracks.find(s=>{var l;return(s==null?void 0:s.track)===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(r)return tt`
          <spotify-player .iaUrn=${r==null?void 0:r.spotifyId}></spotify-player>
        `}else if(this.selectedChannel==="youtube"){let r=(t=this.album)===null||t===void 0?void 0:t.youtubeTracks.find(s=>{var l;return s.track===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(console.log("~~~~ trackFound YT ID",r==null?void 0:r.youtubeId,r),r)return tt`
          <youtube-player .iaUrn=${r.youtubeId}></youtube-player>
        `}return $i}};de([ri({type:String,attribute:!0,reflect:!0})],Ra.prototype,"selectedChannel",void 0);de([ri({type:Object})],Ra.prototype,"playerApi",void 0);de([ri({type:Object})],Ra.prototype,"album",void 0);de([ri({type:Object})],Ra.prototype,"selectedTrack",void 0);de([uo()],Ra.prototype,"currentTrackNum",void 0);de([ln("spotify-player")],Ra.prototype,"spotifyPlayer",void 0);de([ln("youtube-player")],Ra.prototype,"youtubePlayer",void 0);Ra=de([cr("externalchannels-player")],Ra)});var i_=Zt(()=>{il();wr();ki();Vr();mg();gg();kg();Ag();Cg();Mg();Du();t_()});var r_={};Ln(r_,{IaMusicTheater:()=>Ch});var Ch,n_=Zt(()=>{Z2();ix();fg();Cd();i_();mo();yf();window.SharedResizeObserver||(window.SharedResizeObserver=To);_i("** ia-music-player@1.2.0 **");Ch=class extends hi{static get properties(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}constructor(){super(),this.baseHost="",this.signedIn=!1,this.hasFullAudioAccess=!0,this.identifier="",this.sharedRO=void 0,this.displayStyle="one-col",this.bgTheme="dark",this.linerNotesUrl="",this.linerNotesManifest=void 0,this.itemInfo=void 0,this.looseImageInfo=[],this.linerNotesFullscreen=!1,this.noImageAvailable=!1,this.photoViewerReady=!1,this.iaPlaylist=void 0,this.hasSpotifyTracks=!1,this.hasYoutubeTracks=!1,this.album=void 0,this.analyticsHandler=new Os,this.selectedChannel="ia",this.currComponentWidth=0}firstUpdated(){var c;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload",`${this.selectedChannel}`);let t=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(t),rawString:t};let r=document.querySelector(".js-iaux-loose-images").value,s=((c=JSON.parse(r))==null?void 0:c.image_filenames)||[];_i("~~~~ parsedImageInfo: ",s,"~~~~");let l=(s==null?void 0:s.includes("_"))&&(s==null?void 0:s.length)===1;this.looseImageInfo=!l&&(s!=null&&s.length)?s:[];let o=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(o),this.album=new ex(this.itemInfo.metadata,this.iaPlaylist)}updated(t){var r;t.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(t.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),t.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),t.has("looseImageInfo")&&((r=this.looseImageInfo)!=null&&r.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}createManifestToLoad(){return xi(this,null,function*(){let t=yield K2({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});_i("*** manifest ***",t),this.linerNotesManifest=t})}removeBookReaderMobileViewClasses(){let t=this.querySelector("div#BookReader");t==null||t.classList.remove("iaux-music-theater-mobile-view")}setBookReaderClassesForMobileView(){let t=this.querySelector("div#BookReader");t==null||t.classList.add("iaux-music-theater-mobile-view")}fetchLinerNotes(){return xi(this,null,function*(){let t;try{t=yield $.ajax({url:`/embed/${this.identifier}?output=json`,type:"GET",dataType:"json",crossDomain:!0}).then(s=>s).catch(()=>[])}catch(s){t=[]}this.jwplayerPlaylist=t,_i("*** jwplayerPlaylist ***",t);let r;try{r=yield $.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(s=>s).catch(()=>null)}catch(s){r=void 0}this.linerNotesManifest=r==null?void 0:r.data,this.noImageAvailable=!1,_i("*** linerNotesManifest ***",r)})}get itemUrl(){return`https://${this.baseHost}/details/${this.identifier}`}get iauxPhotoViewer(){return this.shadowRoot.querySelector("iaux-photo-viewer")}get channelSelector(){return this.shadowRoot.querySelector("channel-selector")}setupResizeObserver(){this.sharedRO=new To,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}handleResize(t){var s,l;let{contentRect:r}=t;if(r.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(r.height)}px`)),document.body.style.removeProperty("--linerNotesInTheaterHeight"),r.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";let o=(l=(s=this.iauxPhotoViewer)==null?void 0:s.coverImage)==null?void 0:l.getBoundingClientRect();if(!o)return;let c=o.height,n=o.width,u=Math.floor(c);if(r.width<950){this.setBookReaderHeight(u);return}let g=Math.floor(c/n),m=Math.floor(this.offsetHeight-c),y=this.offsetHeight>=c&&m>250,x=g===1&&m>170;(m<0||x||y)&&(u=this.offsetHeight-20),this.setBookReaderHeight(u)}_i("music-player handleResize",{width:r.width,displayStyle:this.displayStyle})}}channelChange({detail:t}){let r=(t==null?void 0:t.channel)||"unknown";_i("channel change",r),this.selectedChannel=r,this.analyticsHandler.send_event("ia-music-theater","channel-change",`${this.selectedChannel}`)}setBookReaderHeight(t){let r=Math.floor(t);!t||!r||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight",`${r}px`))}render(){var r;_i("~~~ render: linerNotesManifest ",this.linerNotesManifest);let t=this.linerNotesFullscreen?"linerNotesFullscreen":"";return tt`
      <section
        id="music-theater"
        class=${`${this.displayStyle} ${t} ${this.bgTheme} ${this.noImageAvailable?"noimageavailable":"hasimage"}`}
      >
        <channel-selector
          .backgroundTheme=${this.bgTheme}
          webamp
          .youtube=${this.hasYoutubeTracks}
          .spotify=${this.hasSpotifyTracks}
          .url=${this.itemUrl}
          .selected=${this.selectedChannel}
          @channelChange=${s=>this.channelChange(s)}
          .displayStyle=${this.displayStyle==="one-col"?"dropdown":"radio"}
        ></channel-selector>
        ${this.noImageAvailable?tt`<iaux-photo-viewer
            noimageavailable
            .itemIdentifier=${this.identifier}></iaux-photo-viewer>`:tt`<iaux-photo-viewer
            ?noimageavailable=${this.noImageAvailable}
            class=${this.linerNotesManifest?"":"hide"}
            .backgroundTheme=${this.bgTheme}
            .baseHost=${this.baseHost}
            .itemIdentifier=${this.identifier}
            .itemMD=${(r=this.itemInfo)==null?void 0:r.metadata}
            .signedIn=${this.signedIn}
            .linerNotesManifest=${this.linerNotesManifest}
            .lightDomHook=${this}
            .sharedRO=${this.sharedRO}
            @fullscreenOpened=${()=>{if(this.displayStyle==="one-col"){let s=window.innerHeight;this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(s)}px`)}this.linerNotesFullscreen=!0}}
            @fullscreenClosed=${()=>{this.displayStyle==="one-col"&&this.style.removeProperty("--linerNotesFullScreenHeight"),this.linerNotesFullscreen=!1}}
            @showingAllPhotos=${()=>{this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),this.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed",`${this.displayStyle}`)}}
            @coverImageLoaded=${s=>{var u;if(!this.noImageAvailable&&!((u=this.looseImageInfo)!=null&&u.length)&&!this.linerNotesManifest)return;let{height:o,width:c}=s.detail,n=o;this.displayStyle==="one-col"?n=250:(Math.round(o/c)===1||o>=this.offsetHeight)&&(n=this.offsetHeight-20),this.setBookReaderHeight(n),this.photoViewerReady=!0}}
          >
            <div slot="main" class="main">
              <slot name="main"></slot>
            </div>
          </iaux-photo-viewer>`}
        ${this.photoViewerReady?$i:tt`<div class="image"><slot name="image"></slot></div>`}
        <div class="player">
          <div id="ext-channels-section">
            <externalchannels-player
                .album=${this.album}
                selectedChannel=${this.selectedChannel}
                .playerApi=${window==null?void 0:window.Play}
                @externalChannelsPlayerLoaded=${s=>{let{youtubeTracks:l,spotifyTracks:o,album:c}=s.detail;this.hasYoutubeTracks=!!l.length,this.hasSpotifyTracks=!!o.length,this.album=c,_i("*** external player loaded",s.detail)}}
                @externalChannelsSelectedTrack=${s=>{_i("*** external player selected track Received",s.detail)}}
              ></external-channels-player>
          </div>
          <slot class="player"></slot>
        </div>
      </section>
    `}static get styles(){return yt`
      :host {
        display: block;
        position: relative;
        overflow: hidden;
        /* petabox styling is very sticky for outlines, let's remove */
        outline: none !important;
        font-size: 16px;
        height: 100%;
        min-height: inherit;
        --imageWidth: 350px;
        --imageHeight: 350px;
      }

      :host[bgtheme="dark"],
      #music-theater.dark {
        color: white;
      }

      .hide {
        display: none;
      }

      .linerNotesFullscreen channel-selector {
        visibility: hidden;
      }

      channel-selector {
        z-index: 1;
        position: relative;
      }

      channel-selector[displaystyle="dropdown"] {
        padding-left: 5px;
        padding-bottom: 10px;
        padding-top: 10px;
        z-index: 3;
        display: inline-block;
        position: absolute;
        top: 0;
      }

      #music-theater.dropdown {
        margin-top: 5px;
      }

      @media(max-width: 768px) {
        #music-theater.one-col.hasimage slot[name="image"],
        #music-theater.one-col.hasimage iaux-photo-viewer {
          overflow: hidden;
          height: 268px;
          margin-top: 20px;
        }

        #music-theater.one-col.noimageavailable channel-selector {
          position: absolute;
        }

        #music-theater.one-col.noimageavailable iaux-photo-viewer {
          overflow: hidden;
          --imageHeight: 190px;
          --imageWidth: 190px;
          --linerNotesHeight: 200px;
          height: 200px !important;
          padding-top: 10px;
        }

        #music-theater.one-col slot.player {
          padding: 0 5px;
        }
      }

      @media(min-width: 1201px) {
        #music-theater.two-col {
          margin: 10px auto;
        }
      }

      #music-theater.two-col {
        display: grid;
        grid-template-columns: 0.7fr 1.3fr;
        grid-template-rows: 0.2fr;
        gap: 0;
        column-gap: 0;
        grid-template-areas: "image channel-selector" "image player";
        column-gap: 20px;
        margin: 10px 30px;
      }

      #music-theater.two-col .image,
      #music-theater.two-col iaux-photo-viewer {
        grid-area: image;
        z-index: 2;
        max-height: var(--linerNotesInTheaterHeight, 100%);
        margin-top: 10px;
        height: auto;
      }
      #music-theater.two-col .player {
        grid-area: player;
      }
      #music-theater.two-col channel-selector[displaystyle="radio"] {
        grid-area: channel-selector;
      }

      @media(min-width: 768px) and (max-width: 1200px) {
        #music-theater.two-col.hasimage {
          grid-template-columns: 1fr 1fr;
        }
      }

      slot {
        display: block;
      }

      slot[name="image"] {
        max-height: 400px;
        display: block;
        max-width: 100%;
        height: inherit;
        object-fit: contain;
        position: relative;
      }

      div#ext-channels-section {
        margin-top: 5px;
      }
    `}};customElements.define("ia-music-theater",Ch)});var l_={};Ln(l_,{default:()=>pl});var ju,Ng,o_,Hg,RC,ja,a_,Bg,s_,jC,NC,BC,HC,FC,pl,c_=Zt(()=>{jl();pd();ud();Dn();Gp();mo();vd();Up();zc();ju={},Ng=480,o_=640,Hg=30,RC=350,ja=Hg,a_=140,Bg=240,s_=800,jC=20,NC=370,BC=100,HC=100,FC=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),pl=class e{constructor(t,r,{start:s=0,embed:l=!1,hide_list:o=!1,autoplay:c=!1,audio:n=!1,width:u=0,height:p=0,responsive:g=!1,aspectratio:m=!1,noshare:y=!1,nolinks:x=!1,logo:w=!1,so:k=!1,tv:S=!1,tvStart:P=0,tvEnd:E=0,tvContributor:O=!1,tvSource:a=!1,play_just1:h=!1,list_height:v=0,identifier:d=!1,onTime:_=!1,onComplete:C=!1,onDisplayClick:N=!1,onReady:G=!1,onPlaylistItem:q=!1,collection:K=!1,waveformer:ne=!1,speed:Q=1,details:ee=location.href}={}){let Me=S&&r.length===1?r[0].title:"",pe=`#${t}`,W=`#${t}__list`,oe=!1,fe=4/3,Z=!1,xe=!1,Y=0,he=!1,Ke=l&&!S&&!n&&!c&&s,ht=!0,lt=!1,We=0,Se=0,Le=0;this.construct=()=>{if(x&&(d=!1,K=!1,y=!0),Q=parseFloat(Q),!we(pe).length)return _i("play8.js requires #",t," element on page -- not found"),!1;if(this.responsiveResize(!0),d!==!1&&(ee=`https://archive.org/details/${d}`),S&&E&&(ee+=`/start/${P}/end/${E}`),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],s=!0,o=!0),o||(v||(v=n?NC:BC),v=Math.min(v,r.length*jC)),!g&&!(u>0&&p>0))if(l){let Ge=we(window).width(),it=we(window).height();u=n?Math.min(Ge,s_):Ge,p=n?ja+v:it-v}else m||(u=n?RC:o_,p=n?ja+v:Ng);if(Y=u,we.each(r,(Ge,it)=>{if(typeof it.autoplay!="undefined"&&(lt||(lt=[]),lt[Ge-1]=!it.autoplay),typeof it.sources=="undefined"&&typeof it.file!="undefined"&&(it.sources=[{file:it.file,height:480}]),typeof it.sources=="undefined")alert(`${Ge}: sources undefined!`);else for(let Re of it.sources)typeof Re.file!="undefined"&&(!Ge&&Re.file.indexOf("/download")>=0&&(Re.file=Re.file.replace(/\/download\//,"/serve/")),Re.file=e.filename_char_encoder(Re.file))}),!o){let Ge=`<div id="${t}__list" style="height:${v}px"> </div>`;we(Ge).insertAfter(pe)}Me&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let Ne={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:ee,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:c,fallback:k,width:isNaN(Y)?"100%":Y,height:n?Hg:p,base:cd};if(g&&!l?Ne.displaytitle=!1:m&&(Ne.width="100%",Ne.aspectratio=m,delete Ne.height),d!==!1){let Ge=S&&E?`?start=${P}&end=${E}`:"",it=`<iframe src="https://archive.org/embed/MEDIAID"
                              width="${n?500:o_}"
                              height="${n?ja:Ng}"
                              frameborder="0"
                              webkitallowfullscreen="true"
                              mozallowfullscreen="true"
                              allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${d}${Ge}`).replace(/\s+/g," "),Re=`[archiveorg ${d}${Ge} width=640 height=${n?ja:Ng} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;Ne.mediaid=d,we("#embedcodehere").text(it),we("#embedcodehereWP").text(Re)}if((l&&!n&&!x||w)&&(Ne.logo={file:"//av.archive.org/jw/glogo-ghost.png",link:ee,position:"top-right",margin:2,hide:!1}),h||lt){let Ge=C;C=it=>{let Re={done:h||lt[it.getPlaylistIndex()]};Re.done&&it.stop(),Ge&&Ge(it,Re)}}return _i(Ne),Or(t).setup(Ne),Or(t).on("ready",()=>{_i("IA ",t," is ready");let Ge=Or(t);_i("NOTE: JW version: ",Or.version),_&&_i("NOTE: onTime() is in use!"),_&&Ge.on("time",()=>_(Ge)),C&&Ge.on("complete",()=>C(Ge)),N&&Ge.on("displayClick",()=>N(Ge)),n?Ge.on("firstFrame",()=>e.track_event("Details-Audio|AudioStarted")):S||(Ge.on("firstFrame",()=>e.track_event("Details-Video|VideoStarted")),Ge.on("complete",()=>e.track_event("Details-Video|VideoEnded"))),oe=!0,this.addClickablePlaylist(),n&&g&&!l&&this.responsiveResize(),g&&!n&&we(pe).css("margin","auto"),this.add_buttons(Ge),g&&!l&&!n&&typeof xr!="undefined"&&xr.theatre_controls_position(!1,0,u,p),g&&ja>Hg&&we(pe).css("height",ja),n&&!ne&&we(pe).find(".jw-preview").css("display","none"),!l&&g?this.details_setup():l&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup(),Ge.on("meta",it=>{xe||(xe=!0,_i("onMeta() fired"),we("body").addClass("responsive-playing"),!n&&l&&it.width&&it.height&&this.adjustVideoWidth(this,it),this.unpreload(),s&&(_i("SEEK TO: ",s),this.pause(),Or(t).seek(s)))}),Ge.on("playlistItem",it=>{let Re=it.index;if(_i("onPlaylistItem: ",Re),Le&&!Re){_i(`onPlaylistItem: ignoring since desired index ${Le} !== ${Re} -- and this is likely an event from reloading the playlist`);let J=Le;Le=0,Or(t).playlistItem(J);return}let te=we(W).find(".jwrow, .jwrowV2");if(te.length){te.removeClass("playing");let J=we(te.get(Re));J.addClass("playing"),we(W).scrollTop(J.offset().top-we(W).offset().top+we(W).scrollTop())}this.seeker_playlist(),this.url_updater(Ge,Re),Q!==1&&setTimeout(()=>{this.speed(Q)},1e3),this.waveformer_setup(Ge)}),q&&Ge.on("playlistItem",it=>{_i("onPlaylistItem",{e:it}),q(Ge,it)}),Ge.on("playlistComplete",()=>{!n&&K&&!S&&this.related_items_click()}),Ge.on("error",it=>{_i("err"),_i(it),we(pe).css({"background-color":"black"})}),G&&G(Ge)}),this},this.url_updater=(Ne,Ge)=>{if(S||l||!d||typeof history.replaceState=="undefined")return;let it=Ne.getConfig();if(!(!it||!it.playlist||it.playlist.length<=1||!it.playlist[Ge]||!it.playlist[Ge].orig))if(ht){let Re=`/details/${d}/${encodeURIComponent(it.playlist[Ge].orig).replace(/%2F/g,"/").replace(/%20/g,"+")}`,te=typeof xr!="undefined"&&Uc("playset",!0)?"?playset=1&autoplay=1":"";_i("updating url to",Re+te),history.replaceState({},null,Re+te)}else _i("looks like /details/ page loaded cold-state -- leave url AS IS"),Ne.once("play",()=>{_i("time to start updating urls"),ht=!0,this.url_updater(Ne,Ge)})},this.waveformer_setup=Ne=>{if(!ne||he)return;let Ge=Ne.getConfig().provider==="flash",it=we(pe);Ge&&(it=it.parent()),it.wrap(`<div id="${ne}" style="position:relative"></div>`),We=we(`#${ne}`).width(),we(`#${ne}`).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Ne.on("time",Re=>{Re.duration&&(Se=Re.position/Re.duration,we("#waveformer").css({width:Math.round(We*Se)}))}),he=!0,setTimeout(()=>{Ge||we(pe).css("background-color","transparent"),we(`#${ne}`).css("background-color","#ddd")},1e3)},this.on=(Ne,Ge)=>{let it=Or&&Or(t);return it&&it.on(Ne,Ge),this},this.adjustVideoWidth=(Ne,Ge)=>{Ge.height&&Ge.width&&Ge.height>0&&Ge.width>0&&parseInt(Ge.height,10)>0&&(fe=parseInt(Ge.width,10)/parseInt(Ge.height,10),_i("DAR: ",fe,Ge.width,"x",Ge.height)),l&&this.embedResize()},this.embedResize=()=>{if(!Or||!Or(t))return;if(n){Or(t).resize(Math.min(s_,we(window).width()),ja);return}let Ne=we(window).width(),Ge=we(window).height()-v;Or(t).resize(Ne,Ge)},this.playN=(Ne,Ge)=>{let it=Or(t);return _i("playN",{readyIA:oe,idx:Ne,load_paused:Ge,state:it.getState()}),Ge&&it.once("play",()=>it.pause()),it.playlistItem(Ne),!1},this.seeker_playlist=()=>{Z||(Z=!0,Ke&&Or(t).once("seek",()=>{this.pause(),_i("... paused first seek!")}),s&&(this.pause(),Or(t).seek(s)))},this.embed_setup=()=>{we(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler2),e.throttler2=setTimeout(()=>{new e(t).embedResize()},250)})},this.unpreload=()=>{let Ne=Or(t),Ge=Ne.getPlaylist(),it=Ne.getPlaylistIndex();if(_i("unpreload:",{startPlaylistIdx:it}),Ge.length&&(typeof Ge[0].file!="undefined"&&(Ge[0].file=Ge[0].file.replace(/\/serve\//,"/download/")),typeof Ge[0].sources!="undefined"))for(let Re of Ge[0].sources)Re.file=Re.file.replace(/\/serve\//,"/download/");it?(Ne.on("playlist",()=>{_i("unpreload: onplaylist:",{startPlaylistIdx:it}),Ne.playlistIndex=it,Ne.playlistItem(it)}),Le=it):!s&&!c&&(ht=!1),Ne.load(Ge)},this.details_setup=()=>{_i("details_setup");let Ne=0,Ge=`^/details/${d}/([^&?]+)`,it=location.pathname.match(Ge);if(it){let Re=decodeURIComponent(it[1].replace(/\+/g,"%20"));_i("looking for: ",Re);for(let te in r){let J=Number(te);if(r[J].orig===Re){_i("player should seek to track #",J),Ne=J;break}}}!Ne&&!s&&!c&&(ht=!1),!c&&(Ne||s)&&(_i("seek #",Ne," to ",s),Or(t).playlistItem(Ne))},this.pause=()=>{let Ne=Or(t);oe&&Ne&&Ne.getState&&Ne.getState()==="playing"&&Ne.pause()},this.remove=()=>{this.pause();let Ne=Or(t);oe&&Ne&&Ne.getConfig()&&Ne.remove(),delete ju[t]},this.speed=Ne=>{if(typeof Ne=="undefined"||typeof Ne=="object"){let Re=!1;n&&(we(".jw-controls").css("overflow","initial"),Re=we(pe).height()===Bg,we(pe).css("height",Re?a_:Bg)),Re=Re||we(`${pe} .jw-controls`).hasClass("jw-settings-open"),Re?(we(`${pe} .jw-controls`).removeClass("jw-settings-open"),n&&we(".jw-controls").css("overflow","")):we(`${pe} .jw-controls`).toggleClass("jw-settings-open"),we(`${pe} .jw-settings-topbar .jw-icon`).attr("aria-checked","false"),we(`${pe} .jw-settings-playbackRates`).attr("aria-checked","true");let te=we('.jw-settings-content-item:contains("0.5x")').parent(),J=`${pe} .jw-settings-submenu`;return we(J).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),te.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),we(J).addClass("jw-settings-submenu-active"),!1}let Ge=Ne;(typeof Ge=="undefined"||isNaN(Ge))&&(Ge=1);let it=we(`#${t} video`).get(0);return it.playbackRate=Ge,_i(`speed to ${Ge}`),!1},this.add_buttons=Ne=>{let Ge='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',it='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',Re='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',te='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(l&&!x){let J=Me?`${Me.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";Ne.addButton("/images/glogo-jw.png",J,()=>{let qe=document.createElement("a");qe.setAttribute("href",ee),qe.setAttribute("target","_blank"),document.body.appendChild(qe),qe.click()},"btn-ia")}l&&!n&&!y&&!S&&(d!==!1&&Ne.addButton("https://av.archive.org/jw/embed.png","Embedding Examples and Help",()=>{window.top.location.href=`/help/video.php?identifier=${d}`},"btn-mbd"),typeof xr!="undefined"&&(Ne.addButton(Re,"share",()=>{let J=we(".jw-icon[button=btn-shr]").get(0);xr.modal_go(J,{ignore_lnk:1,shown:xr.embed_codes_adjust})},"btn-shr"),we(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),S&&l&&a!==!1&&Ne.addButton(`/images/tv/${d.split("_")[0]}.png`,`Look for this show on ${O} website`,()=>{window.top.location.href=a},"btn-tv"),!n&&K&&!S&&Ne.addButton("https://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),this.castable()&&(window.chrome&&e.cast_sender_setup(),Ne.addButton(te,"Cast media with AirPlay / Chromecast",()=>{this.cast()},"btn-cast")),!S&&r.length>1&&(Ne.addButton(it,"next",()=>{Ne.playlistNext()},"btn-nxt"),Ne.addButton(Ge,"previous",()=>{Ne.playlistPrev()},"btn-prv"))},this.castable=()=>window.WebKitPlaybackTargetAvailabilityEvent||window.chrome,this.cast=()=>{if(window.WebKitPlaybackTargetAvailabilityEvent){we(`#${t} video`).get(0).webkitShowPlaybackTargetPicker();return}if(!window.chrome)return;let Ne=(it,Re)=>{Re.play(null,te=>{_i("media play success",it,Re,te)},te=>{_i("media play fail",te)})};this.cast_retries=0;let Ge=()=>{if(_i("cast_setup #",this.cast_retries),this.cast_retries+=1,this.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(Ge,this.cast_retries*1e3);let{cast:it}=window.chrome,Re=new it.SessionRequest(it.media.DEFAULT_MEDIA_RECEIVER_APP_ID),te=new it.ApiConfig(Re,J=>{J.media.length&&Ne("onRequestSessionSuccess",J.media[0])},J=>{_i("receiver listener fail",J)});return it.initialize(te,()=>{_i("cast init success"),it.requestSession(J=>{_i("request session success",J);let qe=we(`${pe} video`).attr("src"),_t=`${location.protocol}//${location.host}${qe}`,be=new it.media.MediaInfo(_t),$e=new it.media.LoadRequest(be);J.loadMedia($e,Ne.bind(this,"loadMedia"),st=>{_i("onMediaError",st)})},J=>{_i("request session fail",J),setTimeout(Ge,500)})},()=>_i("cast init failure")),!0};Ge()},this.related_items_click=()=>{let Ne=()=>{we(`${pe} .jw-controlbar`).one("click",Ge=>{we("#related-items-bg").hide(),Ge.preventDefault()})};typeof Bl!="undefined"&&!we("#related-items").length?(we(`${pe}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),tn("#related-items-bg",()=>we("#related-items-bg").hide(),"default"),Bl.getRelatedItems(d,!0).then(Ge=>{let it=Math.floor(Ge.length/2),Re="";for(let[te,J]of Object.entries(Ge))Number(te)===it&&K==="prelinger"?(e.track_event("Details-Video|DonationEndrollDisplayed"),Re+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):Re+=`
<div>
  <a href="/details/${J.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_no_sampling" }'>
    <div class="related-ttl">
      ${J.title!==null?J.title:""}
      ${J.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${J.creator}`:""}
      ${J.downloads!==null?`<div>${J.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${J.identifier}"/>
  </a>
</div>
`;we("#related-items").html(Re),we("#related-items-bg").show(),Ne()})):we("#related-items-bg:visible").length?we("#related-items-bg").hide():(we("#related-items-bg").show(),setTimeout(Ne,500))},this.addClickablePlaylist=()=>{if(o)return;let Ne=Or(t).getPlaylist(),Ge=!0;Ne.length!==r.length&&(_i("NOTE: jw playlist filtered down -- ",r.length,"==>",Ne.length," items"),Ge=!1);let it="";we.each(Ne,(te,J)=>{let qe=(typeof J.title=="undefined"?"":J.title).concat(typeof J.artist=="undefined"?"":` - ${J.artist}`),_t=typeof J.duration!="undefined"?J.duration:!1;_t===!1&&(_t=Ge&&typeof r[te]!="undefined"&&typeof r[te].duration!="undefined"?r[te].duration:0),_t<=0&&(_t=!1),it+=`
<a href="#" class="js-play8-play-track" data-idx="${te}">
  <div class="jwrow">
    <div class="tm">
      ${_t?e.sec2hms(_t):""}
    </div>
    <div class="n">
      ${te+1}
    </div>
    <div class="ttl">
      ${qe}
    </div>
  </div>
</a>`});let Re={};g&&(Re.width=u,Re.margin="auto",n||we(pe).css("margin","auto")),we(W).addClass("jwlist").css(Re).html(it),tn(".js-play8-play-track",te=>window.Play(`${t}`).playN(we(te.currentTarget).data().idx)),_i(r)},this.debug=()=>{debugger},this.responsiveResize=Ne=>{if(!g)return;let Ge=we(pe).offset(),it=we(window).height()-Ge.top-HC;if(n)r&&r.length>0&&r[0].image&&ne&&(ja=a_),it-=ja,it=Math.max(Bg,it),l||(_i("responsiveResize() maxH:",it),v=it,_i(we(W).length),we(W).css({"max-height":it,"overflow-x":"hidden","overflow-y":"auto"}),ne&&(We=we(`#${ne}`).width(),we("#waveformer").css({width:Math.round(We*Se)}))),u="100%",we("#theatre-controls .fave-share").removeClass("fave-share"),we("#theatre-controls").offset({top:Ge.top}).css({visibility:"visible","background-color":"black"});else{let Re=fe;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(Re=r[0].sources[0].width/r[0].sources[0].height,_i("aspect ratio appears to be: ",Re));let te=we(".container-ia:last").width();_i("video max rect avail: ",te,"x",it);let J,qe;for(qe of[960,840,720,600,480,360,240,180])if(J=Math.round(qe*Re),_i("video size try fit: ",J,"x",qe),J<=te&&qe<=it||J<=320)break;u=J,p=qe,typeof xr!="undefined"&&xr.theatre_controls_position(!1,0,u,p)}Ne?we(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(()=>{new e(t).responsiveResize()},250)}):n||Or(t).resize(u,p)},this.cache=()=>{if(!t)return alert("please pass in a unique identifier for this object");if(typeof ju[t]!="undefined"){if(typeof r=="undefined")return ju[t];delete ju[t]}return!1};let je=this.cache();if(je)return je;ju[t]=this,_i("PLAY CONFIG:",arguments[2]),this.construct()}static sec2hms(t,r){let s=Math.round(t),l=Math.floor(s/3600),o=Math.floor((s-l*3600)/60);s-=l*3600+o*60;let c="",n="";return(r||l>0)&&(n=`00${l}`,c+=n.substr(n.length-2,2),c+=":"),n=`00${o}`,c+=n.substr(n.length-2,2),c+=":",n=`00${s}`,c+=n.substr(n.length-2,2),c}static seconds(t){let r=t.replace(",","."),s=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:s.length>1?(l=Number(s[s.length-1]),l+=Number(s[s.length-2])*60,s.length===3&&(l+=Number(s[s.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let s=r[1];return Or().seek(s),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!Fn.get("unmute"),r=Or("jw6");if(r){let s=r.getVolume();s?(e.mute_click_prior_volume=s,r.setVolume(0)):r.setVolume(typeof e.mute_click_prior_volume=="undefined"?100:e.mute_click_prior_volume)}return we("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?Fn.set("unmute",1,{path:"/details",expires:30}):Fn.remove("unmute",{path:"/details"}),!1}static cast_sender_setup(){!window.chrome||window.chrome.cast||function(){var t=function(w){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+w)!=-1||document.currentScript.src.indexOf("&"+w)!=-1)},r=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",s=t("loadCastFramework")||t("loadCastApplicationFramework"),l=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},o=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],c=function(w){w.length?u(w.shift(),function(){c(w)}):g()},n=function(w){return"chrome-extension://"+w+r},u=function(w,k,S){var P=document.createElement("script");P.onerror=k,S&&(P.onload=S),P.src=w,(document.head||document.documentElement).appendChild(P)},p=function(w){return 0<=window.navigator.userAgent.indexOf(w)},g=function(){var w=l();w&&w(!1,"No cast extension found")},m=function(){if(s){var w=2,k=l(),S=function(){w--,w==0&&k&&k(!0)};window.__onGCastApiAvailable=S,u("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",g,S)}};if(p("CriOS")){var y=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;y&&(m(),y({command:"cast.sender.init"}))}else if(p("Android")&&p("Chrome/")&&window.navigator.presentation){m();var x=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);c(["//www.gstatic.com/eureka/clank/"+(x?parseInt(x[1],10):0)+r,"//www.gstatic.com/eureka/clank"+r])}else window.chrome&&window.navigator.presentation&&!p("Edge")?(m(),c(o.map(n))):g()}()}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!window.archive_analytics)return;let[r,s]=t.split("|");window.archive_analytics.send_event(r,s,window.location.pathname)}static setup(){we(".js-play8-config").each((t,r)=>{let s=JSON.parse(we(r).val()),l=s.jid||"jw6";we(".js-play8").attr({id:l}),Uc("playset",!0)&&(s.onComplete=hd.onComplete),window.Play(l,JSON.parse(we(".js-play8-playlist").val()),s),tn(".js-play8-speed",window.Play(l).speed),tn(".js-play8-gofullscreen",Or(l).setFullscreen)})}};window.Play=(e,t,r)=>new pl(e,t,r);for(let e of["sec2hms","seconds","seek","filename_char_encoder","mute_click"])window.Play[e]=pl[e];FC?pl.setup():we(pl.setup);we(()=>{tn(".js-play8-thumbzilla",e=>xr.thumbzilla(we(e.currentTarget).data().identifier)),tn(".js-play8-mute-click",window.Play.mute_click),tn(".js-play8-seek",e=>window.Play.seek(e.currentTarget))})});var Bn,Eh=Zt(()=>{Np();Bn="jQuery"in window&&"$"in window?window.$:As;window.jQuery=Bn;window.$=Bn});var Nu,u_=Zt(()=>{Nu=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function Bu(){Bn(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;Bn(t).find(".results").each((s,l)=>{Bn(l).show().css({visibility:"hidden"}),r||(r=Bn(l).offset()),Bn(l).offset().top!==r.top?Bn(l).hide():Bn(l).css({visibility:"visible"})})})}var d_=Zt(()=>{Eh()});var Th,h_=Zt(()=>{Th=class{constructor(t,r=250,s=void 0){this.callback=t,this.threshhold=r,this.context=s,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var Ph,p_=Zt(()=>{Eh();h_();Ph=class{constructor(t,r,s){this.identifier=t,this.$targetElement=r,this.callback=s,this.$window=Bn(window),this.throttler=new Th(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var f_,m_=Zt(()=>{f_=/bot|crawl|spider/i.test(navigator.userAgent)});var bc,g_=Zt(()=>{Eh();u_();d_();p_();m_();bc=class e{static setup(){let t=Bn("#js-related");if(t.length&&(Bu(),Bn(window).on("resize  orientationchange",s=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(Bu,250)})),!t.length||f_)return;let r=Bn("#also-found");this.scrollProximityHandler=new Ph("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(Nu.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=Bn("#also-found").data("identifier"),r=Bn("#js-related");return e.getRelatedItems(t).then(s=>{r.html(s),Bu()}).catch(s=>{Bn("#playplayset").hide(),r.html(Nu.ErrorMessage({errorMessage:s.message})).show()})}static getRelatedItems(t,r){return new Promise((s,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";Bn.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),s(n)}).fail(()=>{l(new Error(c))})})}};Bn(()=>bc.setup())});function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}function Fg(e,t){function r(l,o,c){if(!(typeof document>"u")){c=$h({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),p=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(p,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:s,remove:function(l,o){r(l,"",$h({},o,{expires:-1}))},withAttributes:function(l){return Fg(this.converter,$h({},this.attributes,l))},withConverter:function(l){return Fg($h({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var zC,Na,zg=Zt(()=>{zC={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};Na=Fg(zC,{path:"/"});});var Ug=Zt(()=>{zg();zg()});var Oh,Mh,Vg,v_,Wg,ro,Hu,qg,Lh,Fu=Zt(()=>{Oh=window,Mh=Oh.ShadowRoot&&(Oh.ShadyCSS===void 0||Oh.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Vg=Symbol(),v_=new WeakMap,Wg=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Vg)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Mh&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=v_.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&v_.set(t,e))}return e}toString(){return this.cssText}},ro=e=>new Wg(typeof e=="string"?e:e+"",void 0,Vg),Hu=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((s,l,o)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new Wg(r,e,Vg)},qg=(e,t)=>{Mh?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let s=document.createElement("style"),l=Oh.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)})},Lh=Mh?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return ro(r)})(e):e;});var Gg,Ih,y_,UC,Yg,Xg,b_,Kg,Zg,fl,Jg=Zt(()=>{Fu();Fu();Ih=window,y_=Ih.trustedTypes,UC=y_?y_.emptyScript:"",Yg=Ih.reactiveElementPolyfillSupport,Xg={toAttribute(e,t){switch(t){case Boolean:e=e?UC:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},b_=(e,t)=>t!==e&&(t==t||e==e),Kg={attribute:!0,type:String,converter:Xg,reflect:!1,hasChanged:b_},Zg="finalized",fl=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let s=this._$Ep(r,t);s!==void 0&&(this._$Ev.set(s,r),e.push(s))}),e}static createProperty(e,t=Kg){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,r,t);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(s){let l=this[e];this[t]=s,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Kg}static finalize(){if(this.hasOwnProperty(Zg))return!1;this[Zg]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let s of r)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(Lh(s))}else e!==void 0&&t.push(Lh(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return qg(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=Kg){var s;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:Xg).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let s=this.constructor,l=s._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=s.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Xg;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let s=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||b_)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}_$Ej(){return xi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,l)=>this[l]=s),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(s=>{var l;return(l=s.hostUpdate)===null||l===void 0?void 0:l.call(s)}),this.update(r)):this._$Ek()}catch(s){throw t=!1,this._$Ek(),s}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};fl[Zg]=!0,fl.elementProperties=new Map,fl.elementStyles=[],fl.shadowRootOptions={mode:"open"},Yg==null||Yg({ReactiveElement:fl}),((Gg=Ih.reactiveElementVersions)!==null&&Gg!==void 0?Gg:Ih.reactiveElementVersions=[]).push("1.6.3");});var Qg=Zt(()=>{Fu();Jg()});var Dh=Zt(()=>{Fu();Jg()});function $_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return w_!==void 0?w_.createHTML(t):t}function xc(e,t,r=e,s){var l,o,c,n;if(t===yl)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=Vu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=xc(e,u._$AS(e,t.values),u,s)),t}var ev,Rh,wc,w_,rv,us,C_,VC,vl,Uu,Vu,E_,WC,tv,zu,x_,__,ml,k_,A_,T_,P_,eo,Iq,yl,Qn,S_,gl,qC,nv,GC,ov,jh,YC,KC,XC,ZC,JC,iv,L_,I_=Zt(()=>{Rh=window,wc=Rh.trustedTypes,w_=wc?wc.createPolicy("lit-html",{createHTML:e=>e}):void 0,rv="$lit$",us=`lit$${(Math.random()+"").slice(9)}$`,C_="?"+us,VC=`<${C_}>`,vl=document,Uu=()=>vl.createComment(""),Vu=e=>e===null||typeof e!="object"&&typeof e!="function",E_=Array.isArray,WC=e=>E_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",tv=`[ 	
\f\r]`,zu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,x_=/-->/g,__=/>/g,ml=RegExp(`>|${tv}(?:([^\\s"'>=/]+)(${tv}*=${tv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),k_=/'/g,A_=/"/g,T_=/^(?:script|style|textarea|title)$/i,P_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),eo=P_(1),Iq=P_(2),yl=Symbol.for("lit-noChange"),Qn=Symbol.for("lit-nothing"),S_=new WeakMap,gl=vl.createTreeWalker(vl,129,null,!1);qC=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=zu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===zu?g[1]==="!--"?c=x_:g[1]!==void 0?c=__:g[2]!==void 0?(T_.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=ml):g[3]!==void 0&&(c=ml):c===ml?g[0]===">"?(c=l!=null?l:zu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?ml:g[3]==='"'?A_:k_):c===A_||c===k_?c=ml:c===x_||c===__?c=zu:(c=ml,l=void 0);let x=c===ml&&e[n+1].startsWith("/>")?" ":"";o+=c===zu?u+VC:m>=0?(s.push(p),u.slice(0,m)+rv+u.slice(m)+us+x):u+us+(m===-2?(s.push(void 0),n):x)}return[$_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},nv=class O_{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=qC(t,r);if(this.el=O_.createElement(p,s),gl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=gl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(rv)||y.startsWith(us)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+rv).split(us),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?YC:k[1]==="?"?XC:k[1]==="@"?ZC:jh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(T_.test(l.tagName)){let m=l.textContent.split(us),y=m.length-1;if(y>0){l.textContent=wc?wc.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Uu()),gl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Uu())}}}else if(l.nodeType===8)if(l.data===C_)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(us,m+1))!==-1;)u.push({type:7,index:o}),m+=us.length-1}o++}}static createElement(t,r){let s=vl.createElement("template");return s.innerHTML=t,s}};GC=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:vl).importNode(r,!0);gl.currentNode=l;let o=gl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new ov(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new JC(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=gl.nextNode(),c++)}return gl.currentNode=vl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},ov=class M_{constructor(t,r,s,l){var o;this.type=2,this._$AH=Qn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=xc(this,t,r),Vu(t)?t===Qn||t==null||t===""?(this._$AH!==Qn&&this._$AR(),this._$AH=Qn):t!==this._$AH&&t!==yl&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):WC(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Qn&&Vu(this._$AH)?this._$AA.nextSibling.data=t:this.$(vl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=nv.createElement($_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new GC(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=S_.get(t.strings);return r===void 0&&S_.set(t.strings,r=new nv(t)),r}T(t){E_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new M_(this.k(Uu()),this.k(Uu()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},jh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Qn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Qn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=xc(this,e,t,0),o=!Vu(e)||e!==this._$AH&&e!==yl,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=xc(this,c[r+n],t,n),u===yl&&(u=this._$AH[n]),o||(o=!Vu(u)||u!==this._$AH[n]),u===Qn?e=Qn:e!==Qn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},YC=class extends jh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Qn?void 0:e}},KC=wc?wc.emptyScript:"",XC=class extends jh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Qn?this.element.setAttribute(this.name,KC):this.element.removeAttribute(this.name)}},ZC=class extends jh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=xc(this,e,t,0))!==null&&r!==void 0?r:Qn)===yl)return;let s=this._$AH,l=e===Qn&&s!==Qn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Qn&&(s===Qn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},JC=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){xc(this,e)}},iv=Rh.litHtmlPolyfillSupport;iv==null||iv(nv,ov),((ev=Rh.litHtmlVersions)!==null&&ev!==void 0?ev:Rh.litHtmlVersions=[]).push("2.8.0");L_=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new ov(t.insertBefore(Uu(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var _c=Zt(()=>{I_()});var av,sv,va,lv,D_=Zt(()=>{Dh();Dh();_c();_c();va=class extends fl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=L_(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return yl}};va.finalized=!0,va._$litElement$=!0,(av=globalThis.litElementHydrateSupport)===null||av===void 0||av.call(globalThis,{LitElement:va});lv=globalThis.litElementPolyfillSupport;lv==null||lv({LitElement:va});((sv=globalThis.litElementVersions)!==null&&sv!==void 0?sv:globalThis.litElementVersions=[]).push("3.3.3");});var cv=Zt(()=>{Dh();_c();D_()});var R_=Zt(()=>{});var uv=Zt(()=>{R_()});var j_=Zt(()=>{Qg();_c();cv();uv()});var Nh=Zt(()=>{Qg();cv();uv();_c();j_()});function dv(e,t=300,r=!1){let s=[...e];if(s.length<=t)return e;let l=s.slice(0,t).join(""),o=l.lastIndexOf(" ");return o>=0?r?e:`${l.slice(0,o)}...`:`${s.slice(0,t-2).join("")}..`}function N_(e){let t={};return Object.entries(e).map(r=>{t[r[1]]=r[0]}),t}var Wu=Zt(()=>{});var B_=Zt(()=>{});var H_=Zt(()=>{Wu()});var F_=Zt(()=>{});function Bh(){return location.hostname||location.host}var z_=Zt(()=>{});var U_,DG,e9,RG,jG,hv=Zt(()=>{fv();pv();B_();Ka();Hh();H_();F_();z_();Wu();DG=(U_=Bh())!=null&&U_.startsWith("tvnix")?Bh().split(".")[0].substr(5).toUpperCase():!1,e9="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",RG=`identifier ~ '${e9.slice(1).slice(0,-1)}'`,jG=N_(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])});var pv=Zt(()=>{hv()});var fv=Zt(()=>{pv();Ka()});function qu(e,t=!1){let r;return t&&(r=e.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(r[1])*3600+Number(r[2])*60+Number(r[3])+ +`0.${r[4]}`:(r=e.match(/^(\d+):(\d+):([\d+.]+)$/))?(r=r.map(s=>parseFloat(s)),r[1]*3600+r[2]*60+r[3]):(r=e.match(/^(\d+):([\d+.]+)$/))?(r=r.map(s=>parseFloat(s)),r[1]*60+r[2]):(r=e.match(/^([\d+.]+)$/))?parseFloat(r[1]):!1}var q_,eY,Hh=Zt(()=>{Ka();Wu();fv();hv();q_={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},eY=Object.keys(q_)});var gv,bl,r9,n9,o9,mv,a9,s9,vv,G_,Y_=Zt(()=>{Ka();ld();Hh();Wu();gv=!1,bl=100,r9=(location==null?void 0:location.host)==="av.dev.archive.org",n9="__ia_thumb.jpg",o9=0,mv=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",gv?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(e=>[e,o9++])),a9=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],s9=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],vv=class e{constructor(t,r=!1){this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;let s={},l={},o={},c={},n={},u={},p={},g={},m=mv.thumbnail2,y={};t.files.forEach(E=>{let[O]=this.filter(E);if(O){if("original"in O){let a=e.val(O.original);O.name!==a&&(s[O.name]=a)}O.name.endsWith(".png")&&!O.name.endsWith("_spectrogram.png")&&(p[O.name]=1)}}),Gi(s),t.files.forEach(E=>{let[O,a,h]=this.filter(E);if(!O)return;let v=O.name,d=mv[a],_="original"in O,C=v;if(_){C=e.val(O.original);for(let N=10;N&&C in s;N--)C=s[C];(h==="mp4"||h==="ogv")&&C in t.files&&t.files[C].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),C="{$m2[1]}{$m2[2]}$origSuffix"),C=e.val(C)}else"artist"in O?y[C]=O.artist:"creatorxxx"in O&&(y[C]=O.creatorxxx);if(!(r&&C!==r)){if(C in l||(l[C]={}),"title"in O&&(_&&"title"in l[C]||(l[C].title=O.title)),"height"in O&&(this.heights[v]=O.height),"width"in O&&(this.widths[v]=O.width),"autoplay"in O&&(n[v]=O.autoplay),"length"in O){let N=qu(String(e.val(O.length)));this.durations[v]=N,_&&(g[C]=1),(_||!("length"in l[C])||!(C in g))&&(l[C].length=Math.round(N))}if(d){if(_){if(a==="h.264 720p"){l[C].HD=v;return}}else{let N=O.title;if(a==="h.264 hd"||a==="h.264 mpeg4"&&(N.indexOf("[HD]")>0||N.indexOf(" HD ")>0||N.endsWith(" HD"))){l[C].HD=v;return}if(gv&&a==="h.264 4k"){l[C]["4K"]=v;return}d>1&&(d+=bl)}d>1&&(a9.indexOf(a)>=0?(o[C]=1,u[v]=1):c[C]=1),C in l||(l[C]={}),d in l[C]?a==="thumbnail"&&m in l[C]&&(l[C][m]=v):(l[C][d]=v,d<bl&&d+bl in l[C]?delete l[C][d+bl]:d>bl&&d-bl in l[C]&&delete l[C][d-bl])}}}),Gi(l),this.haxLP&&(delete l[`${this.identifier}.flac`],delete l[`${this.identifier}.ogg`],delete l[`${this.identifier}.mp3`],delete l[`${this.identifier}.m4a`]);let x=Object.keys(o).length,w=Object.keys(c).length;w>0&&(w>=x||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=x?"audio":!1;let k=Object.values(y);(k.length<=1||[...new Set(k)].length<=1)&&(y={});let S=this.showing==="movies"?c:o,P=this.showing==="movies"?w:x;for(let[E,O]of Object.entries(l)){if(!(E in S))continue;let a={SRC:[]};if(0 in O)a.POSTER=O[0];else if(1 in O)a.POSTER=O[1];else for(let[h,v]of Object.entries(O))if(parseInt(h,10)){let d=v.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");d!==v&&d in p&&(a.POSTER=d)}E in n&&(a.AUTOPLAY=!1);for(let[h,v]of Object.entries(O))if(parseInt(h,10)&&h>1){if(this.showing==="movies"&&u[v]||this.showing!=="movies"&&!u[v])continue;a.SRC.push(v)}a.SRC.length&&(a.TITLE="title"in O?e.val(O.title):E.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),a.ORIG=E,E in y&&(a.ARTIST=y[E]),"length"in O?a.length=O.length:a.length=this.runtime(t,P,E),"HD"in O&&(a.HD=O.HD),gv&&"4K"in O&&(a["4K"]=O["4K"]),this.groups.push(a))}if(this.captions(),r9&&Gi("player",this),this.showing==="audio")for(let E of this.groups){let O=!1,a=!1;for(let[h,v]of Object.entries(E.SRC))v.endsWith("_sample.mp3")?O=h:v.endsWith(".mp3")&&(a=!0);a&&O!==!1&&E.SRC.splice(O,1)}}static val(t){return typeof t=="object"?t.length?t[0]:"":t}filter(t){let r=t.name,s=r.substr(1+r.lastIndexOf(".")).toLowerCase(),l=t.format.toLowerCase();if(s9.includes(l)||r===n9)return[];if(s==="mp3"&&(t.original===`${this.identifier}_segments.json`||t.original===`${this.identifier}_segments.xml`)&&(this.haxLP=!0,delete t.original,t.source="original"),typeof t.original=="string"&&t.original.endsWith(".torrent")&&(delete t.original,t.source="original"),s==="vtt")return this.vtts[r]=1,[];if(s==="srt")return this.srts[r]=1,[];let o=mv[l];return s==="mp3"&&!o?[t,"64kbps mp3",s]:[t,l,s]}jwplaylist(t,r=!1,s=[]){let l=[],o=`https://archive.org/download/${this.identifier}/`,c=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?qo("jest")?c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:c=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),c.push("video/x-flv");let n=0;c=Object.fromEntries(c.map(u=>[u,n++]));for(let u of Object.values(this.groups)){let p={sources:[],title:dv(u.TITLE,100,!0)};"ORIG"in u&&(p.orig=u.ORIG,"ARTIST"in u&&(p.artist=u.ARTIST)),"AUTOPLAY"in u&&(p.autoplay=u.AUTOPLAY);let g=qo("poster");g?p.image=this.url(g.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in u||this.showing==="audio"&&"POSTER"in u)&&(p.image=this.url(o+u.POSTER),s.length||s.push(this.url(o+u.POSTER))),"length"in u&&(p.duration=u.length),"HD"in u&&u.SRC.push(u.HD);let m={};for(let y of u.SRC){let x=((y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(r&&(x==="ogg"||x==="ogv"))continue;let w="",k=[640,480];switch(x){case"mp3":w="mp3";break;case"ogg":w="ogg";break;case"m4a":w="aac";break;case"ogv":w="ogg",k=[400,300];break;case"mp4":w="mp4";break;case"mpeg4":w="mp4";break;case"m4v":w="mp4";break;case"mov":w="mp4";break;case"flv":w="video/x-flv";break;case"swf":w="video/x-flv";break;default:w=""}let S=y in this.widths?this.widths[y]:k[0],P=y in this.heights?this.heights[y]:k[1],E={file:this.url(o+y),width:S,height:P};w!==""&&(E.type=w),this.showing==="movies"&&(E.label=`${P}p${P>=720?" HD":""}`),!(w&&parseInt(P,10)===parseInt(m[w],10))&&(m[w]=P,p.sources.push(E),this.showing==="movies"&&"image"in p&&(p.tracks=[{kind:"thumbnails",file:`${p.image.replace("/download/","/stream/").replace("%2F","/")}?vtt=vtt.vtt`}]),y in this.durations&&(p.duration=Math.max(p.duration,this.durations[y])))}Gi(t.tv),l.push(p)}return l}runtime(t,r,s){return this.xxx=`implement runtime() ${r?typeof t:typeof s}`,-1}captions(){this.xxx="implement captions()"}url(t){return this.xxx="sort me out ",t}},G_=vv});var l9,K_,X_=Zt(()=>{l9=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,K_=l9});var Z_=Zt(()=>{});function c9(e,t=""){return xi(this,null,function*(){let s=typeof window!="undefined"&&window.navigator.onLine===!1?`${location.origin}/json/${e}.json`:`https://archive.org/metadata/${e}${t?`/${t}`:""}`;return(yield fetch(s)).json()})}var J_,Q_=Zt(()=>{Z_();J_=c9});var e5=Zt(()=>{Nh();Ug();customElements.define("background-play",class extends va{constructor(){super(),this.toggle=!Na.get("nohls")}static get properties(){return{toggle:Boolean}}click_on(){this.toggle=!0,Na.remove("nohls",{path:"/details"})}click_off(){this.toggle=!1,Na.set("nohls",1,{path:"/details",expires:30})}render(){let t="jw-settings-item-active";return eo`
      <div class="jw-reset jw-settings-submenu-items">
        <button type="button"
          aria-checked="${this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?t:""}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play ON"
          @click=${this.click_on}
          >Background Play ON</button>
        <button type="button"
          aria-checked="${!this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?"":t}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play OFF"
          @click=${this.click_off}
          >Background Play OFF</button>
        <div class="jw-reset-text jw-settings-content-item">
          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.
        </div>
      </div>`}createRenderRoot(){return this}})});var t5,yv,wl,ds,ya,ra,i5,r5,n5=Zt(()=>{ki();Vr();ki();Vr();ki();Vr();t5=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},yv=class extends hi{constructor(){super(...arguments),this.seconds=0}render(){return tt`
      ${this.durationString}
    `}get durationString(){if(typeof this.seconds!="number")return"";let e=Math.floor(this.seconds/3600),t=Math.floor(this.seconds/60)%60,r=Math.floor(this.seconds%60),s=e>0?`${e}`:void 0,l=e>0&&t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`,c=`${l}:${o}`;return c=s?`${s}:${c}`:c,c}};t5([ri({type:Number})],yv.prototype,"seconds",void 0);yv=t5([cr("duration-formatter")],yv);wl=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},ds=class extends hi{constructor(){super(...arguments),this.entry=void 0,this.isActive=!1,this.isSelected=!1,this.isClickable=!1,this.isSearchResult=!1,this.isMusicEntry=!1}render(){return tt`
      ${this.entry?this.entry.displayText:""}
    `}};wl([ri({type:Object})],ds.prototype,"entry",void 0);wl([ri({type:Boolean,reflect:!0})],ds.prototype,"isActive",void 0);wl([ri({type:Boolean,reflect:!0})],ds.prototype,"isSelected",void 0);wl([ri({type:Boolean,reflect:!0})],ds.prototype,"isClickable",void 0);wl([ri({type:Boolean,reflect:!0})],ds.prototype,"isSearchResult",void 0);wl([ri({type:Boolean,reflect:!0})],ds.prototype,"isMusicEntry",void 0);ds=wl([cr("transcript-entry")],ds);ya=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},ra=class extends hi{constructor(){super(...arguments),this.config=void 0,this.currentTime=0,this.topContextHeight=50,this.bottomContextHeight=50,this.autoScroll=!0,this.selectedSearchResultIndex=0,this.showContextZones=!1,this.timeScrollTop=0,this.currentEntries=[],this.scrollTimerDelay=15e3,this.scrollResumeTimerId=-1}render(){return tt`
      <div class="container">
        ${this.showContextZones?this.contextZoneDevTemplates:""}

        <div
          class="scroll-container"
          id="scroll-container"
          @wheel=${this.didScroll}
          @touchmove=${this.didScroll}
        >
          <div class="col time">
            ${this.timeDisplayTemplate}
          </div>

          <div class="col">
            ${this.autoScrollButtonTemplate}
            ${this.transcriptEntries.map(e=>this.transcriptEntryTemplate(e))}
          </div>
        </div>
      </div>
    `}scrollToSelectedSearchResult(){let{selectedSearchResult:e}=this;e&&(this.autoScroll=!1,this.scrollToElement(e))}get autoScrollButtonTemplate(){return tt`
      <button
        @click=${this.enableAutoScroll}
        class="auto-scroll-button ${this.autoScroll?"hidden":""}"
      >
        Scroll text with audio
      </button>
    `}get timeDisplayTemplate(){return tt`
      <div class="time-display" style="top: ${this.timeScrollTop}px">
        <duration-formatter .seconds=${this.currentTime}> </duration-formatter>
      </div>
    `}transcriptEntryTemplate(e){let t=this.currentEntries.find(o=>o.id===e.id)!==void 0,r=e.searchMatchIndex===this.selectedSearchResultIndex,s=e.searchMatchIndex!==void 0,l=e.isMusic;return tt`
      <transcript-entry
        .entry=${e}
        ?isSelected=${r}
        ?isActive=${t}
        ?isSearchResult=${s}
        ?isMusicEntry=${l}
        ?isClickable=${!0}
        .data-search-result-index=${e.searchMatchIndex}
        data-identifier=${e.id}
        @click=${this.transcriptEntrySelected}
      >
      </transcript-entry>
    `}get contextZoneDevTemplates(){return tt`
      ${this.topContextZoneDevTemplate} ${this.bottomContextZoneDevTemplate}
    `}get topContextZoneDevTemplate(){return tt`
      <div class="top context-overlay" style="height: ${this.topContextHeight}px"></div>
    `}get bottomContextZoneDevTemplate(){return tt`
      <div class="bottom context-overlay" style="height: ${this.bottomContextHeight}px"></div>
    `}get transcriptEntries(){return this.config?this.config.entries:[]}static get styles(){let e=yt`var(--transcriptHeight, 200px)`,t=yt`var(--timeFontSize, 1em)`,r=yt`var(--timeLineHeight, 1em)`,s=yt`var(--timeColor, white)`,l=yt`var(--timeColumnWidth, 3rem)`,o=yt`var(--timeDisplay, block)`,c=yt`var(--autoScrollButtonFontColor, black)`,n=yt`var(--autoScrollButtonBackgroundColor, white)`,u=yt`var(--autoScrollButtonWidth, 12rem)`,p=yt`var(--autoScrollButtonFontSize, 1em)`,g=yt`var(--transcriptNormalTextColor, gray)`,m=yt`var(--transcriptActiveTextColor, white)`,y=yt`var(--transcriptHoverTextColor, silver)`,x=yt`var(--transcriptMusicNormalTextColor, gray)`,w=yt`var(--transcriptMusicActiveTextColor, white)`,k=yt`var(--transcriptMusicActiveTextColor, silver)`,S=yt`var(--transcriptSearchResultInactiveBorderColor, gray)`,P=yt`var(--transcriptSearchResultActiveBorderColor, green)`;return yt`
      :host {
        color: ${g};
      }

      .container {
        position: relative;
      }

      .auto-scroll-button.hidden {
        display: none;
      }

      .auto-scroll-button {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 1rem;
        margin: auto;
        width: ${u};
        border-radius: 1em;
        border: 0;
        display: inline-block;
        color: ${c};
        background-color: ${n};
        font-size: ${p};
        z-index: 10;
      }

      .context-overlay {
        position: absolute;
        left: 0;
        width: 100%;
        height: 0;
        z-index: -1;
      }

      .context-overlay.top {
        top: 0;
        border-bottom: 1px solid green;
      }

      .context-overlay.bottom {
        bottom: 0;
        border-top: 1px solid green;
      }

      .time {
        display: ${o};
        flex: 0 0 ${l};
        color: ${s};
        position: relative;
      }

      .time-display {
        position: absolute;
        top: 0;
        font-size: ${t};
        line-height: ${r};
        transition: top 1s;
      }

      .scroll-container {
        display: flex;
        overflow-y: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
        height: ${e};
      }

      .scroll-container::-webkit-scrollbar {
        display: none;
      }

      transcript-entry {
        cursor: pointer;
      }

      transcript-entry:hover {
        color: ${y};
      }

      transcript-entry[ismusicentry] {
        color: ${x};
        display: block;
        font-style: italic;
      }

      transcript-entry[ismusicentry]:hover {
        color: ${k};
      }

      transcript-entry[ismusicentry][isactive] {
        color: ${w};
      }

      transcript-entry[isactive] {
        color: ${m};
      }

      transcript-entry[issearchresult] {
        display: inline-block; /* without this, the outline adds an extra space to the right of the text */
        padding: 0 5px;
        position: relative;
      }

      transcript-entry[issearchresult]:after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 2px solid ${S};
        border-radius: 5px;
      }

      transcript-entry[issearchresult][isselected]:after {
        border: 2px solid ${P};
      }
    `}transcriptEntrySelected(e){let{entry:t}=e.target;if(!t)return;let r=new CustomEvent("transcriptEntrySelected",{detail:{entry:t}});this.dispatchEvent(r),t.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=t.searchMatchIndex),this.autoScroll=!1}handleCurrentTimeChange(){let e=this.transcriptEntries;if(e.length===0)return;let t=e.filter(r=>this.currentTime>=r.start&&this.currentTime<=r.end);this.entryArraysMatch(t,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=t)}entryArraysMatch(e,t){if(e.length!==t.length)return!1;let r=e.map(o=>o.id).sort(),s=t.map(o=>o.id).sort(),l=!0;return r.forEach((o,c)=>{s[c]!==o&&(l=!1)}),!!l}entryIdentifierClosestToTime(e){if(this.transcriptEntries.length===0)return null;let t=this.transcriptEntries[0],r=Math.abs(e-t.start),s=t.id;return this.transcriptEntries.forEach(l=>{let o=Math.abs(e-l.start);o<r&&(r=o,s=l.id)}),s}elementClosestToTime(e){let t=this.entryIdentifierClosestToTime(e);return t?this.elementForIdentifier(t):null}elementForIdentifier(e){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-identifier="${e}"]`)}didScroll(){this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(()=>{this.autoScroll=!0},this.scrollTimerDelay)}enableAutoScroll(){this.autoScroll=!0,this.scrollToClosestEntry()}updated(e){e.has("currentTime")&&this.handleCurrentTimeChange(),e.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),e.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),e.has("autoScroll")&&this.handleAutoScrollChange(),e.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}get scrollView(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}get activeTranscriptEntry(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}get selectedSearchResult(){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-search-result-index="${this.selectedSearchResultIndex}"]`)}get closestEntryToCurrentTime(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}handleAutoScrollChange(){let e=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(e)}scrollToClosestEntry(){if(!this.autoScroll)return;let e=this.closestEntryToCurrentTime;e&&this.scrollToElement(e)}scrollToElement(e){let{scrollView:t}=this;if(!t)return;let r=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=r.height,{topContextHeight:o}=this,{bottomContextHeight:c}=this,n=l-c;if(s.bottom>r.top+n||s.top<r.top){let u=s.top-r.top+t.scrollTop-o;this.scrollToOffsetWithDuration(u,1)}}updateTimePosition(){let e=this.closestEntryToCurrentTime;if(!e)return;let t=e.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect().top-t.top;this.timeScrollTop=r}scrollToOffsetWithDuration(e,t,r){let{scrollView:s}=this;if(!s)return;let l=s.scrollTop,o=e-l,c=performance.now(),n,u,p;function g(y){return y<.5?2*y*y:-1+(4-2*y)*y}function m(){s&&(n=performance.now(),u=(n-c)/1e3,p=u/t,s.scrollTop=l+o*g(p),p<1?window.requestAnimationFrame(m):r&&r())}m()}};ya([ri({type:Object})],ra.prototype,"config",void 0);ya([ri({type:Number})],ra.prototype,"currentTime",void 0);ya([ri({type:Number})],ra.prototype,"topContextHeight",void 0);ya([ri({type:Number})],ra.prototype,"bottomContextHeight",void 0);ya([ri({type:Boolean})],ra.prototype,"autoScroll",void 0);ya([ri({type:Number})],ra.prototype,"selectedSearchResultIndex",void 0);ya([ri({type:Boolean})],ra.prototype,"showContextZones",void 0);ya([uo()],ra.prototype,"timeScrollTop",void 0);ya([uo()],ra.prototype,"currentEntries",void 0);ra=ya([cr("transcript-view")],ra);i5=class{constructor(e){this.entries=[],this.entries=e}get searchResults(){return this.entries.filter(e=>e.searchMatchIndex!==void 0)}},r5=class{constructor(e,t,r,s,l,o){this.id=e,this.start=t,this.end=r,this.rawText=s,this.isMusic=l,this.searchMatchIndex=o}get displayText(){return this.isMusic?"[Transcript unavailable]":this.rawText}}});var o5=Zt(()=>{ki();Vr();n5()});var a5=Zt(()=>{Nh();o5();Hh();Ka();customElements.define("transcript-viewer",class extends va{static get properties(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}render(){return this.tracks_with_captions?eo`
    <div class="${this.transcriptConfig?"":"dimmed"}">
      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px"></div>
        <button type="button" @click="${this.transcript_toggled}"
          class="${this.bgTheme==="light"?"light":""}">

        <div>
          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>
        </div>
        <div>
          ${this.kind}
        </div>
        <div style="display:none; ${this.is_open?"margin-top:-12px":""}">${this.is_open?"\uFE3F":"\uFE40"}</div>

        <div>
          ${this.is_open?eo`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>`:eo`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>`}
        </div>
      </button>

      <div class="transcript-view-wrap  ${this.transcriptConfig&&this.is_open?"":"not-showing"}">
        <transcript-view
          .config=${this.transcriptConfig}
          .currentTime=${this.currentTime}
          @transcriptEntrySelected=${this.transcriptEntrySelected}
        ></transcript-view>
      </div>
    </div>
    `:eo``}transcript_toggled(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}static get styles(){return Hu`
:host {
  --timeColumnWidth: 4.5rem;
  --transcriptHeight: ${ro(185)}px;
}
:host > div {
  padding: 3px 5px;
  margin: 4px 4px 0 8px;
}
.caret-up-svg, .caret-down-svg {
  width: 25px;
  display: inline-block;
}
.transcript-svg {
  width: 14px;
  display: inline-block;
  margin-top: 6px;
}

transcript-view {
  display: block;
  padding: ${ro(5)}px 10px;
  background-color: #000000cc !important;
  border: ${ro(1)}px solid #ffffff33;
  border-radius: 5px;
  box-sizing: border-box;
}
.transcript-view-wrap {
  height: ${ro(185+2*1+2*5)}px;
  overflow-y: hidden;
  transition: height 0.5s ease;
}
.not-showing {
  height: 0px;
}
.dimmed {
  opacity: 0.4;
}
button {
  background: none;
  color: inherit;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}
button div {
  display: inline-block;
  vertical-align: top;
  margin-left: 5px;
  color: white;
}
button svg {
  fill: white;
}
button.light, button.light div {
  color: black;
}
button.light svg {
  fill: black;
}
.dimmed button {
  cursor: default;
}
    `}updated(e){if(Gi("<transcript-viewer> updated()",e),e.has("trackno")&&this.update_transcript_view(),!this.tracking_time){let t=document.querySelector("video");t&&(this.tracking_time=!0,t.addEventListener("timeupdate",()=>{var s;this.currentTime=t.currentTime;let r=(s=this.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=this.currentTime,!this.transcript_view_tweaked)){let l=r.shadowRoot.querySelectorAll("transcript-entry");if(l.length){if(this.transcript_view_tweaked=!0,this.kind==="Lyrics (AI)"){let c=()=>l.forEach(n=>n.style.display="block");c(),setTimeout(c,1e3)}let o=r.shadowRoot.querySelector(".col.time");o&&(o.style.top="3px")}}}))}}transcriptEntrySelected(e){let r=(e.detail||{}).entry||{};if(!r.start)return;let s=r.start;this.currentTime=s;let l=document.querySelector("video");Gi({player:l}),l&&(l.currentTime=this.currentTime,l.play())}update_transcript_view(){return xi(this,null,function*(){delete this.transcript_view_tweaked;let e=this.captions[this.trackno];if(!e){this.transcriptConfig=null;return}if(!this.transcriptConfigCache[this.trackno]){let t=e.replace(/^\/download\//,"https://archive.org/cors/");Gi({srtUrl:t});let s=yield(yield fetch(t)).text(),l=[],o=0;for(let n of s.split(`

`)){o+=1;let[,u,p,g]=n.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""];p&&l.push({id:o,start:qu(u,!0),end:qu(p,!0),text:g,is_music:!1})}Gi({json:l});let c=l.map(n=>new r5(n.id,n.start,n.end,n.text,n.is_music,n.search_match_index));this.transcriptConfigCache[this.trackno]=new i5(c)}this.transcriptConfig=this.transcriptConfigCache[this.trackno]})}firstUpdated(){var t,r;Gi("<transcript-viewer> firstUpdated()"),this.currentTime=0;let e="Lyrics";this.kind=e,this.captions=[],this.transcriptConfigCache=[];for(let[s,l]of Object.entries(JSON.parse(this.playlist))){if(!l.tracks)continue;let o={};for(let c of l.tracks)c.kind==="subtitles"&&((t=c.file)!=null&&t.endsWith(".srt"))&&(o[(r=c.label)!=null?r:"none"]=c.file);this.captions[s]=o.align||o.cc5||o.en||o.asr||o.none,(this.captions[s]===o.align||this.captions[s]===o.asr)&&(this.kind=`${e} (AI)`)}Gi(this.captions),this.tracks_with_captions=Object.values(this.captions).length}})});var Fh,s5,u9,d9,l5,xl,bv=Zt(()=>{Fh=function(e,t){return e<t?-1:e>t?1:0},s5=function(e){return e.reduce(function(t,r){return t+r},0)},u9=function(){function e(r){this.colors=r}var t=e.prototype;return t.palette=function(){return this.colors},t.map=function(r){return r},e}(),d9=function(){function e(o,c,n){return(o<<10)+(c<<5)+n}function t(o){var c=[],n=!1;function u(){c.sort(o),n=!0}return{push:function(p){c.push(p),n=!1},peek:function(p){return n||u(),p===void 0&&(p=c.length-1),c[p]},pop:function(){return n||u(),c.pop()},size:function(){return c.length},map:function(p){return c.map(p)},debug:function(){return n||u(),c}}}function r(o,c,n,u,p,g,m){var y=this;y.r1=o,y.r2=c,y.g1=n,y.g2=u,y.b1=p,y.b2=g,y.histo=m}function s(){this.vboxes=new t(function(o,c){return Fh(o.vbox.count()*o.vbox.volume(),c.vbox.count()*c.vbox.volume())})}function l(o,c){if(c.count()){var n=c.r2-c.r1+1,u=c.g2-c.g1+1,p=Math.max.apply(null,[n,u,c.b2-c.b1+1]);if(c.count()==1)return[c.copy()];var g,m,y,x,w=0,k=[],S=[];if(p==n)for(g=c.r1;g<=c.r2;g++){for(x=0,m=c.g1;m<=c.g2;m++)for(y=c.b1;y<=c.b2;y++)x+=o[e(g,m,y)]||0;k[g]=w+=x}else if(p==u)for(g=c.g1;g<=c.g2;g++){for(x=0,m=c.r1;m<=c.r2;m++)for(y=c.b1;y<=c.b2;y++)x+=o[e(m,g,y)]||0;k[g]=w+=x}else for(g=c.b1;g<=c.b2;g++){for(x=0,m=c.r1;m<=c.r2;m++)for(y=c.g1;y<=c.g2;y++)x+=o[e(m,y,g)]||0;k[g]=w+=x}return k.forEach(function(P,E){S[E]=w-P}),function(P){var E,O,a,h,v,d=P+"1",_=P+"2",C=0;for(g=c[d];g<=c[_];g++)if(k[g]>w/2){for(a=c.copy(),h=c.copy(),v=(E=g-c[d])<=(O=c[_]-g)?Math.min(c[_]-1,~~(g+O/2)):Math.max(c[d],~~(g-1-E/2));!k[v];)v++;for(C=S[v];!C&&k[v-1];)C=S[--v];return a[_]=v,h[d]=a[_]+1,[a,h]}}(p==n?"r":p==u?"g":"b")}}return r.prototype={volume:function(o){var c=this;return c._volume&&!o||(c._volume=(c.r2-c.r1+1)*(c.g2-c.g1+1)*(c.b2-c.b1+1)),c._volume},count:function(o){var c=this,n=c.histo;if(!c._count_set||o){var u,p,g,m=0;for(u=c.r1;u<=c.r2;u++)for(p=c.g1;p<=c.g2;p++)for(g=c.b1;g<=c.b2;g++)m+=n[e(u,p,g)]||0;c._count=m,c._count_set=!0}return c._count},copy:function(){var o=this;return new r(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var c=this,n=c.histo;if(!c._avg||o){var u,p,g,m,y=0,x=0,w=0,k=0;if(c.r1===c.r2&&c.g1===c.g2&&c.b1===c.b2)c._avg=[c.r1<<3,c.g1<<3,c.b1<<3];else{for(p=c.r1;p<=c.r2;p++)for(g=c.g1;g<=c.g2;g++)for(m=c.b1;m<=c.b2;m++)y+=u=n[e(p,g,m)]||0,x+=u*(p+.5)*8,w+=u*(g+.5)*8,k+=u*(m+.5)*8;c._avg=y?[~~(x/y),~~(w/y),~~(k/y)]:[~~(8*(c.r1+c.r2+1)/2),~~(8*(c.g1+c.g2+1)/2),~~(8*(c.b1+c.b2+1)/2)]}}return c._avg},contains:function(o){var c=this,n=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,n>=c.r1&&n<=c.r2&&gval>=c.g1&&gval<=c.g2&&bval>=c.b1&&bval<=c.b2}},s.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var c=this.vboxes,n=0;n<c.size();n++)if(c.peek(n).vbox.contains(o))return c.peek(n).color;return this.nearest(o)},nearest:function(o){for(var c,n,u,p=this.vboxes,g=0;g<p.size();g++)((n=Math.sqrt(Math.pow(o[0]-p.peek(g).color[0],2)+Math.pow(o[1]-p.peek(g).color[1],2)+Math.pow(o[2]-p.peek(g).color[2],2)))<c||c===void 0)&&(c=n,u=p.peek(g).color);return u},forcebw:function(){var o=this.vboxes;o.sort(function(p,g){return Fh(s5(p.color),s5(g.color))});var c=o[0].color;c[0]<5&&c[1]<5&&c[2]<5&&(o[0].color=[0,0,0]);var n=o.length-1,u=o[n].color;u[0]>251&&u[1]>251&&u[2]>251&&(o[n].color=[255,255,255])}},{quantize:function(o,c){if(!Number.isInteger(c)||c<1||c>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||c<2||c>256||!o.length||c<2||c>256)return!1;for(var n=[],u=new Set,p=0;p<o.length;p++){var g=o[p],m=g.join(",");u.has(m)||(u.add(m),n.push(g))}if(n.length<=c)return new u9(n);var y=function(E){var O,a=new Array(32768);return E.forEach(function(h){O=e(h[0]>>3,h[1]>>3,h[2]>>3),a[O]=(a[O]||0)+1}),a}(o);y.forEach(function(){});var x=function(E,O){var a,h,v,d=1e6,_=0,C=1e6,N=0,G=1e6,q=0;return E.forEach(function(K){(a=K[0]>>3)<d?d=a:a>_&&(_=a),(h=K[1]>>3)<C?C=h:h>N&&(N=h),(v=K[2]>>3)<G?G=v:v>q&&(q=v)}),new r(d,_,C,N,G,q,O)}(o,y),w=new t(function(E,O){return Fh(E.count(),O.count())});function k(E,O){for(var a,h=E.size(),v=0;v<1e3;){if(h>=O||v++>1e3)return;if((a=E.pop()).count()){var d=l(y,a),_=d[0],C=d[1];if(!_)return;E.push(_),C&&(E.push(C),h++)}else E.push(a),v++}}w.push(x),k(w,.75*c);for(var S=new t(function(E,O){return Fh(E.count()*E.volume(),O.count()*O.volume())});w.size();)S.push(w.pop());k(S,c);for(var P=new s;S.size();)P.push(S.pop());return P}}}().quantize,l5=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};l5.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};xl=function(){};xl.prototype.getColor=function(e,t){return t===void 0&&(t=10),this.getPalette(e,5,t)[0]},xl.prototype.getPalette=function(e,t,r){var s=function(n){var u=n.colorCount,p=n.quality;if(u!==void 0&&Number.isInteger(u)){if(u===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");u=Math.max(u,2),u=Math.min(u,20)}else u=10;return(p===void 0||!Number.isInteger(p)||p<1)&&(p=10),{colorCount:u,quality:p}}({colorCount:t,quality:r}),l=new l5(e),o=function(n,u,p){for(var g,m,y,x,w,k=n,S=[],P=0;P<u;P+=p)m=k[0+(g=4*P)],y=k[g+1],x=k[g+2],((w=k[g+3])===void 0||w>=125)&&(m>250&&y>250&&x>250||S.push([m,y,x]));return S}(l.getImageData().data,l.width*l.height,s.quality),c=d9(o,s.colorCount);return c?c.palette():null},xl.prototype.getColorFromUrl=function(e,t,r){var s=this,l=document.createElement("img");l.addEventListener("load",function(){var o=s.getPalette(l,5,r);t(o[0],e)}),l.src=e},xl.prototype.getImageData=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var l=new Array(i),o=0;o<s.length;o++)l[o]=String.fromCharCode(s[o]);var c=l.join(""),n=window.btoa(c);t("data:image/png;base64,"+n)}},r.send()},xl.prototype.getColorAsync=function(e,t,r){var s=this;this.getImageData(e,function(l){var o=document.createElement("img");o.addEventListener("load",function(){var c=s.getPalette(o,5,r);t(c[0],this)}),o.src=l})}});var c5={};Ln(c5,{default:()=>xl});var u5=Zt(()=>{bv();bv()});var _l,wv=Zt(()=>{_l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var xv=Zt(()=>{wv();wv()});function h9(e,t){return En(e[0]-t[0],2)+En(e[1]-t[1],2)+En(e[2]-t[2],2)}function p9(){let e={},t=Object.keys(kl);for(let{length:r}=t,s=0;s<r;s++)e[t[s]]={distance:-1,parent:null};return e}function f9(e){let t=p9(),r=[e];for(t[e].distance=0;r.length>0;){let s=r.pop(),l=Object.keys(kl[s]);for(let{length:o}=l,c=0;c<o;c++){let n=l[c],u=t[n];u.distance===-1&&(u.distance=t[s].distance+1,u.parent=s,r.unshift(n))}}return t}function m9(e,t){return function(r){return t(e(r))}}function g9(e,t){let r=[t[e].parent,e],s=kl[t[e].parent][e],l=t[e].parent;for(;t[l].parent;)r.unshift(t[l].parent),s=m9(kl[t[l].parent][l],s),l=t[l].parent;return s.conversion=r,s}function v9(e){let t=f9(e),r={},s=Object.keys(t);for(let{length:l}=s,o=0;o<l;o++){let c=s[o];t[c].parent!==null&&(r[c]=g9(c,t))}return r}function w9(e){let t=function(...r){let s=r[0];return s==null?s:(s.length>1&&(r=s),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function x9(e){let t=function(...r){let s=r[0];if(s==null)return s;s.length>1&&(r=s);let l=e(r);if(typeof l=="object")for(let{length:o}=l,c=0;c<o;c++)l[c]=Math.round(l[c]);return l};return"conversion"in e&&(t.conversion=e.conversion),t}var d5,Ar,kl,Ba,y9,kc,b9,h5,_v=Zt(()=>{xv();d5={};for(let e of Object.keys(_l))d5[_l[e]]=e;Ar={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},kl=Ar,Ba=En(6/29,3);for(let e of Object.keys(Ar)){if(!("channels"in Ar[e]))throw new Error("missing channels property: "+e);if(!("labels"in Ar[e]))throw new Error("missing channel labels property: "+e);if(Ar[e].labels.length!==Ar[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=Ar[e];delete Ar[e].channels,delete Ar[e].labels,Object.defineProperty(Ar[e],"channels",{value:t}),Object.defineProperty(Ar[e],"labels",{value:r})}Ar.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.min(t,r,s),o=Math.max(t,r,s),c=o-l,n,u;switch(o){case l:{n=0;break}case t:{n=(r-s)/c;break}case r:{n=2+(s-t)/c;break}case s:{n=4+(t-r)/c;break}}n=Math.min(n*60,360),n<0&&(n+=360);let p=(l+o)/2;return o===l?u=0:p<=.5?u=c/(o+l):u=c/(2-o-l),[n,u*100,p*100]};Ar.rgb.hsv=function(e){let t,r,s,l,o,c=e[0]/255,n=e[1]/255,u=e[2]/255,p=Math.max(c,n,u),g=p-Math.min(c,n,u),m=function(y){return(p-y)/6/g+1/2};if(g===0)l=0,o=0;else{switch(o=g/p,t=m(c),r=m(n),s=m(u),p){case c:{l=s-r;break}case n:{l=1/3+t-s;break}case u:{l=2/3+r-t;break}}l<0?l+=1:l>1&&(l-=1)}return[l*360,o*100,p*100]};Ar.rgb.hwb=function(e){let t=e[0],r=e[1],s=e[2],l=Ar.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,s));return s=1-1/255*Math.max(t,Math.max(r,s)),[l,o*100,s*100]};Ar.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.min(1-t,1-r,1-s),o=(1-t-l)/(1-l)||0,c=(1-r-l)/(1-l)||0,n=(1-s-l)/(1-l)||0;return[o*100,c*100,n*100,l*100]};Ar.rgb.keyword=function(e){let t=d5[e];if(t)return t;let r=Number.POSITIVE_INFINITY,s;for(let l of Object.keys(_l)){let o=_l[l],c=h9(e,o);c<r&&(r=c,s=l)}return s};Ar.keyword.rgb=function(e){return _l[e]};Ar.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255;t=t>.04045?En((t+.055)/1.055,2.4):t/12.92,r=r>.04045?En((r+.055)/1.055,2.4):r/12.92,s=s>.04045?En((s+.055)/1.055,2.4):s/12.92;let l=t*.4124564+r*.3575761+s*.1804375,o=t*.2126729+r*.7151522+s*.072175,c=t*.0193339+r*.119192+s*.9503041;return[l*100,o*100,c*100]};Ar.rgb.lab=function(e){let t=Ar.rgb.xyz(e),r=t[0],s=t[1],l=t[2];r/=95.047,s/=100,l/=108.883,r=r>Ba?En(r,1/3):7.787*r+16/116,s=s>Ba?En(s,1/3):7.787*s+16/116,l=l>Ba?En(l,1/3):7.787*l+16/116;let o=116*s-16,c=500*(r-s),n=200*(s-l);return[o,c,n]};Ar.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,l,o;if(r===0)return o=s*255,[o,o,o];let c=s<.5?s*(1+r):s+r-s*r,n=2*s-c,u=[0,0,0];for(let p=0;p<3;p++)l=t+1/3*-(p-1),l<0&&l++,l>1&&l--,6*l<1?o=n+(c-n)*6*l:2*l<1?o=c:3*l<2?o=n+(c-n)*(2/3-l)*6:o=n,u[p]=o*255;return u};Ar.hsl.hsv=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,l=r,o=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,l*=o<=1?o:2-o;let c=(s+r)/2,n=s===0?2*l/(o+l):2*r/(s+r);return[t,n*100,c*100]};Ar.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,s=e[2]/100,l=Math.floor(t)%6,o=t-Math.floor(t),c=255*s*(1-r),n=255*s*(1-r*o),u=255*s*(1-r*(1-o));switch(s*=255,l){case 0:return[s,u,c];case 1:return[n,s,c];case 2:return[c,s,u];case 3:return[c,n,s];case 4:return[u,c,s];case 5:return[s,c,n]}};Ar.hsv.hsl=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,l=Math.max(s,.01),o,c;c=(2-r)*s;let n=(2-r)*l;return o=r*l,o/=n<=1?n:2-n,o=o||0,c/=2,[t,o*100,c*100]};Ar.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,l=r+s,o;l>1&&(r/=l,s/=l);let c=Math.floor(6*t),n=1-s;o=6*t-c,c&1&&(o=1-o);let u=r+o*(n-r),p,g,m;switch(c){default:case 6:case 0:{p=n,g=u,m=r;break}case 1:{p=u,g=n,m=r;break}case 2:{p=r,g=n,m=u;break}case 3:{p=r,g=u,m=n;break}case 4:{p=u,g=r,m=n;break}case 5:{p=n,g=r,m=u;break}}return[p*255,g*255,m*255]};Ar.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,l=e[3]/100,o=1-Math.min(1,t*(1-l)+l),c=1-Math.min(1,r*(1-l)+l),n=1-Math.min(1,s*(1-l)+l);return[o*255,c*255,n*255]};Ar.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,l,o,c;return l=t*3.2404542+r*-1.5371385+s*-.4985314,o=t*-.969266+r*1.8760108+s*.041556,c=t*.0556434+r*-.2040259+s*1.0572252,l=l>.0031308?1.055*En(l,1/2.4)-.055:l*12.92,o=o>.0031308?1.055*En(o,1/2.4)-.055:o*12.92,c=c>.0031308?1.055*En(c,1/2.4)-.055:c*12.92,l=Math.min(Math.max(0,l),1),o=Math.min(Math.max(0,o),1),c=Math.min(Math.max(0,c),1),[l*255,o*255,c*255]};Ar.xyz.lab=function(e){let t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>Ba?En(t,1/3):7.787*t+16/116,r=r>Ba?En(r,1/3):7.787*r+16/116,s=s>Ba?En(s,1/3):7.787*s+16/116;let l=116*r-16,o=500*(t-r),c=200*(r-s);return[l,o,c]};Ar.lab.xyz=function(e){let t=e[0],r=e[1],s=e[2],l,o,c;o=(t+16)/116,l=r/500+o,c=o-s/200;let n=En(o,3),u=En(l,3),p=En(c,3);return o=n>Ba?n:(o-16/116)/7.787,l=u>Ba?u:(l-16/116)/7.787,c=p>Ba?p:(c-16/116)/7.787,l*=95.047,o*=100,c*=108.883,[l,o,c]};Ar.lab.lch=function(e){let t=e[0],r=e[1],s=e[2],l;l=Math.atan2(s,r)*360/2/Math.PI,l<0&&(l+=360);let o=Math.sqrt(r*r+s*s);return[t,o,l]};Ar.lch.lab=function(e){let t=e[0],r=e[1],s=e[2]/360*2*Math.PI,l=r*Math.cos(s),o=r*Math.sin(s);return[t,l,o]};Ar.rgb.ansi16=function(e,t=null){let[r,s,l]=e,o=t===null?Ar.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let c=30+(Math.round(l/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return o===2&&(c+=60),c};Ar.hsv.ansi16=function(e){return Ar.rgb.ansi16(Ar.hsv.rgb(e),e[2])};Ar.rgb.ansi256=function(e){let t=e[0],r=e[1],s=e[2];return t>>4===r>>4&&r>>4===s>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)};Ar.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(Math.trunc(e>50)+1)*.5,s=(t&1)*r*255,l=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[s,l,o]};Ar.ansi256.rgb=function(e){if(e=e[0],e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,s=Math.floor((t=e%36)/6)/5*255,l=t%6/5*255;return[r,s,l]};Ar.rgb.hex=function(e){let t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};Ar.hex.rgb=function(e){let t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=[...r].map(n=>n+n).join(""));let s=Number.parseInt(r,16),l=s>>16&255,o=s>>8&255,c=s&255;return[l,o,c]};Ar.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.max(Math.max(t,r),s),o=Math.min(Math.min(t,r),s),c=l-o,n,u=c<1?o/(1-c):0;return c<=0?n=0:l===t?n=(r-s)/c%6:l===r?n=2+(s-t)/c:n=4+(t-r)/c,n/=6,n%=1,[n*360,c*100,u*100]};Ar.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=r<.5?2*t*r:2*t*(1-r),l=0;return s<1&&(l=(r-.5*s)/(1-s)),[e[0],s*100,l*100]};Ar.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=t*r,l=0;return s<1&&(l=(r-s)/(1-s)),[e[0],s*100,l*100]};Ar.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100;if(r===0)return[s*255,s*255,s*255];let l=[0,0,0],o=t%1*6,c=o%1,n=1-c,u=0;switch(Math.floor(o)){case 0:{l[0]=1,l[1]=c,l[2]=0;break}case 1:{l[0]=n,l[1]=1,l[2]=0;break}case 2:{l[0]=0,l[1]=1,l[2]=c;break}case 3:{l[0]=0,l[1]=n,l[2]=1;break}case 4:{l[0]=c,l[1]=0,l[2]=1;break}default:l[0]=1,l[1]=0,l[2]=n}return u=(1-r)*s,[(r*l[0]+u)*255,(r*l[1]+u)*255,(r*l[2]+u)*255]};Ar.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t),l=0;return s>0&&(l=t/s),[e[0],l*100,s*100]};Ar.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[e[0],s*100,r*100]};Ar.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t);return[e[0],(s-t)*100,(1-s)*100]};Ar.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,s=r-t,l=0;return s<1&&(l=(r-s)/(1-s)),[e[0],s*100,l*100]};Ar.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};Ar.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};Ar.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};Ar.gray.hsl=function(e){return[0,0,e[0]]};Ar.gray.hsv=Ar.gray.hsl;Ar.gray.hwb=function(e){return[0,100,e[0]]};Ar.gray.cmyk=function(e){return[0,0,0,e[0]]};Ar.gray.lab=function(e){return[e[0],0,0]};Ar.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(r.length)+r};Ar.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};y9=v9,kc={},b9=Object.keys(kl);for(let e of b9){kc[e]={},Object.defineProperty(kc[e],"channels",{value:kl[e].channels}),Object.defineProperty(kc[e],"labels",{value:kl[e].labels});let t=y9(e),r=Object.keys(t);for(let s of r){let l=t[s];kc[e][s]=x9(l),kc[e][s].raw=w9(l)}}h5=kc});var p5={};Ln(p5,{default:()=>h5});var f5=Zt(()=>{xv();_v();_v()});var Ev={};Ln(Ev,{default:()=>M9});var kv,m5,zh,Ha,_9,k9,Fa,A9,S9,C9,y5,E9,Av,g5,T9,P9,$9,O9,Sv,v5,ba,Cv,M9,Tv=Zt(()=>{g_();Ug();Nh();Op();ld();Ka();Mp();ud();Y_();pd();X_();Q_();e5();a5();kv=480,m5=640,zh=30,Ha=60,_9=10,k9=350,Fa=zh,A9=60,S9=140,C9=200,y5=490,E9=y5+55,Av=152,g5=800,T9=20,P9=370,$9=100,O9=100,Sv=1200,v5={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},ba=class e extends va{constructor(t,r,s={}){if(super(),!t&&this.getAttribute("jid")&&this.getAttribute("playlist")&&this.getAttribute("args")&&(t=this.getAttribute("jid"),r=JSON.parse(this.getAttribute("playlist")),s=JSON.parse(this.getAttribute("args")),s.headless&&(s.onPlaylistItem=e.headless_callback,delete e.headless_callback),Gi("TRIFECTA",{jid:t,playlist:r,args:s})),t||yi(".js-play8-config").each((l,o)=>{s=JSON.parse(yi(o).val()),t=s.jid||"jw6";let c=yi(".js-play8");yi("play-av").length||c.attr({id:t}),qo("playset")&&(s.onComplete=hd.onComplete),r=JSON.parse(yi(".js-play8-playlist").val())}),t)return this.construct(t,r,s)}construct(t,r,s){var u,p,g;this.jid=t;let l=this.cache();if(l)return l;yi("play-av").attr("jid")||yi("play-av").attr("jid",t),e.STASH[t]=this,Gi("PLAY CONFIG:",s);for(let[m,y]of Object.entries(v5))this[m]=y;for(let[m,y]of Object.entries(s))m in v5&&(this[m]=y);this.tvTitle=this.tv&&r.length===1?r[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel=`#${t}`,this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;let o=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=r,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((u=this.triggers)!=null&&u.length)&&r.length&&!this.onTime?new Cv(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!yi(this.jidsel).length){Gi("play.js requires #",t," element on page -- not found"),this.retry={playlist:r,args:s};return}if(this.responsiveResize(!0),Go(".js-play8-speed",globalThis.Play(t).speed),Go(".js-play8-gofullscreen",Or(t).setFullscreen),Go(".js-play8-mute-click",globalThis.Play.mute_click),Go(".js-play8-seek",m=>globalThis.Play.seek(m.currentTarget)),globalThis.AJS&&Go(".js-play8-thumbzilla",m=>globalThis.AJS.thumbzilla(yi(m.currentTarget).data().identifier)),this.identifier!==!1&&(this.details=`https://archive.org/details/${this.identifier}`),this.tv&&this.tvEnd&&(this.details+=`/start/${this.tvStart}/end/${this.tvEnd}`),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=r,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?P9:$9),this.list_height=Math.min(this.list_height,r.length*T9)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){let m=yi(window).width(),y=yi(window).height();this.width=this.audio?Math.min(m,g5):m,this.height=this.audio?Fa+this.list_height:y-this.list_height}else this.aspectratio||(this.width=this.audio?k9:m5,this.height=this.audio?Fa+this.list_height:kv);yi.each(r,(m,y)=>{if(typeof y.autoplay!="undefined"&&(o||(o=[]),o[m-1]=!y.autoplay),typeof y.sources=="undefined"&&typeof y.file!="undefined"&&(y.sources=[{file:y.file,height:480}]),typeof y.sources=="undefined")alert(`${m}: sources undefined!`);else for(let x of y.sources)typeof x.file!="undefined"&&(!m&&x.file.indexOf("/download")>=0&&(x.file=x.file.replace(/\/download\//,"/serve/")),x.file=e.filename_char_encoder(x.file))}),this.tvTitle&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let c=JSON.parse(JSON.stringify(r));c.forEach(m=>(this.audio&&delete m.tracks,m));let n={playlist:c,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?zh:this.height,base:cd};if(this.responsive&&!this.embed?n.displaytitle=!1:this.aspectratio&&(n.width="100%",n.aspectratio=this.aspectratio,delete n.height),this.identifier!==!1){let m=this.tv&&this.tvEnd?`?start=${this.tvStart}&end=${this.tvEnd}`:"",y=`<iframe src="https://archive.org/embed/MEDIAID"
                            width="${this.audio?500:m5}"
                            height="${this.audio?Fa:kv}"
                            frameborder="0"
                            webkitallowfullscreen="true"
                            mozallowfullscreen="true"
                            allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${this.identifier}${m}`).replace(/\s+/g," "),x=`[archiveorg ${this.identifier}${m} width=640 height=${this.audio?Fa:kv} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;n.mediaid=this.identifier,yi("#embedcodehere").text(y),yi("#embedcodehereWP").text(x)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(n.logo={file:"https://av.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||o){let m=this.onComplete;this.onComplete=y=>{let x={done:this.play_just1||o[y.getPlaylistIndex()]};x.done&&y.stop(),m&&m(y,x)}}return(p=this.HLS)==null||p.update_playlist(n),Gi(n),this.headless?(this.playN((g=this.headless.playN)!=null?g:0),this):(Or(t).setup(n),Or(t).on("ready",()=>{var y;Gi("IA ",t," is ready");let m=Or(t);this.player=m,Gi("NOTE: JW version: ",Or.version);{let x=this.playlist.length,w=m.getConfig().playlist.length;x!==w&&!(this.HLS&&w===1&&x>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",this.playlist.length,"-vs-",m.getConfig().playlist.length)}(y=this.HLS)==null||y.setup(this),this.onTime&&Gi("NOTE: onTime() is in use!"),this.onTime&&m.on("time",()=>this.onTime(m)),this.onComplete&&m.on("complete",()=>this.onComplete(m)),this.onDisplayClick&&m.on("displayClick",()=>this.onDisplayClick(m)),this.audio?m.on("firstFrame",()=>e.track_event("Details-Audio-Beta|AudioStarted")):this.tv||(m.on("firstFrame",()=>e.track_event("Details-Video|VideoStarted")),m.on("complete",()=>e.track_event("Details-Video|VideoEnded"))),this.readyIA=!0,this.requestUpdate(),m.once("meta",x=>{Gi("onMeta() fired"),this.embed&&!this.audio&&this.adjust_video_width(x),this.HLS||this.unpreload(),this.start&&(Gi("SEEK TO: ",this.start),this.pause(),Or(t).seek(this.start))}),m.on("playlistItem",x=>{let w=x.index;if(Gi("onPlaylistItem: ",w),this.reloading_playlist_playlist_idx&&!w){Gi(`onPlaylistItem: ignoring since desired index ${this.reloading_playlist_playlist_idx} !== ${w} -- and this is likely an event from reloading the playlist`);let k=this.reloading_playlist_playlist_idx;this.reloading_playlist_playlist_idx=0,Or(t).playlistItem(k);return}this.track_change(m,w),this.seeker_playlist(),this.speed!==1&&setTimeout(()=>this.set_speed,1e3),this.waveformer_setup(m)}),this.onPlaylistItem&&m.on("playlistItem",x=>{Gi("onPlaylistItem",{e:x}),this.onPlaylistItem(m,x)}),m.on("playlistComplete",()=>{!this.audio&&this.collection&&!this.tv&&this.related_items_click()}),m.on("error",x=>{Gi("err"),Gi(x),yi(this.jidsel).css({"background-color":"black"})}),this.onReady&&this.onReady(m)}),this)}url_updater(t,r){if(Gi(`url_updater(${r})`),this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined"||this.playlist.length<=1||!this.playlist[r]||!this.playlist[r].orig&&!this.headless)return;let{orig:s}=this.playlist[r];if(this.update_url_onload){let l=`/details/${this.identifier}`.concat(s===""?"":`/${encodeURIComponent(s).replace(/%2F/g,"/").replace(/%20/g,"+")}`),o=qo("playset",!0)?"?playset=1&autoplay=1":"";Gi("updating url to",l+o),history.replaceState({},null,l+o)}else Gi(`looks like /details/ page loaded cold-state at #${r}-- leave url AS IS`),t==null||t.once("play",()=>{Gi("time to start updating urls"),this.update_url_onload=!0,this.url_updater(t,r)})}waveformer_setup(t){var s;if(!this.audio||this.waveformed)return;yi(`#${this.jid}`).css("border-radius",`${Ha/2}px 0 0 ${Ha/2}px`),this.recolor(),yi(".jw-slider-time").remove(),setTimeout(()=>{yi("#ia-scrubber").html(`
        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"
          style="padding:0" tabindex="0" role="slider" aria-label="Seek">
          <div class="jw-slider-container jw-reset">
            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>
            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>
            <div class="jw-progress jw-reset" style="background-color: #000"></div>
            <div class="jw-knob jw-reset"
              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>
          </div>
        </div>`)},750),yi(".jw-icon-settings svg").html('<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>'),yi(".jw-text-countdown").remove(),this.HLS?(yi(".jw-text-elapsed, .jw-text-duration").remove(),yi(".jw-button-container").append(`
<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"
role="timer">00:00</div>
<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"
role="timer">${e.sec2hms(Math.round((s=this.playlist[0])==null?void 0:s.duration)||0)}</div>`)):(yi(".jw-icon-settings").after(yi(".jw-text-elapsed")),yi(".jw-text-elapsed").after(yi(".jw-text-duration"))),this.canHLS&&(yi("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before(`
          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"
          role="menuitemradio" tabindex="0"
          aria-label="Background Play"
          name="backgroundPlay"
          type="button"
          aria-haspopup="true"
          aria-controls="jw-settings-submenu-backgroundPlay">
            <img src="//av.archive.org/img/infinity.png"/>
            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">
              <div class="jw-text">Background Play</div>
            </div>
          </div>`),yi("#jw-settings-menu").append(`<background-play id="jw-settings-submenu-backgroundPlay"
        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"
        role="menu"></background-play>`),yi(".jw-settings-backgroundPlay").on("click",()=>{yi(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),yi("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),yi(".jw-settings-backgroundPlay").attr("aria-expanded","true"),yi(".jw-settings-playbackRates").attr("aria-expanded","")}),yi(".jw-settings-playbackRates").on("click",()=>{yi(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),yi("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),yi(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",()=>{yi("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),yi(".jw-settings-playbackRates").attr("aria-expanded","true"),yi(".jw-settings-backgroundPlay").attr("aria-expanded","")})),yi("#ia-scrubber").on("click",l=>this.waveform_clicked(l)),t.on("time",l=>{var n;if(!l.duration)return;this.HLS?this.HLS.on_time():this.jwaudioPercentDone=Math.min(1,l.position/l.duration);let o=`${Number(100*this.jwaudioPercentDone).toFixed(3)}%`,c=this.shadowRoot.getElementById("waveformer");c.style.width=o,this.waveformer_played_color&&(c.style.backgroundColor=this.waveformer_played_color),yi("#ia-scrubber").find(".jw-knob").css("left",o),yi("#ia-scrubber").find(".jw-progress").css({width:o,backgroundColor:(n=this.waveformer_progress_color)!=null?n:"#000"})}),t.on("bufferChange",l=>{this.HLS?Gi("xxxhls HLS buffering"):yi("#ia-scrubber").find(".jw-buffer").css("width",`${l.bufferPercent}%`)}),this.waveformed=!0}waveform_clicked(t){let r=yi(this.shadowRoot.getElementById("waveformer-wrap")).width(),s=Number(t.offsetX/r).toFixed(2);if(Gi("waveform_clicked",{percent:s}),this.HLS)return this.HLS.waveform_clicked2(s);let l=this.player.getPlaylistItem().duration||0;this.player.seek(l*s)}recolor(){return xi(this,null,function*(){var c,n,u;if((c=document.querySelector("ia-music-theater"))!=null&&c.hasAttribute("noimageavailable")){this.recolor_generic();return}let t=(n=yi("ia-music-theater img"))==null?void 0:n.get(0);if(!t)return;let[r,s]=(yield Promise.all([Promise.resolve().then(()=>(u5(),c5)),Promise.resolve().then(()=>(f5(),p5))])).map(p=>p.default),l=()=>{var S;let g=new r().getPalette(t,5);if(Gi({palette:g}),!g)return;let m=g[0];if(Gi({dominantColorRGB:m}),!m)return;let y=s.rgb.hsl(...m);Gi({HSL:y});let x=Math.round(m.reduce((P,E)=>P+E)/m.length),w=x>=128?"black":"white";Gi({avgVal:x});let k=(S=document.getElementById("theatre-ia-wrap"))!=null?S:document.getElementsByTagName("body")[0];k.style.color=w,k.style.backgroundImage=`linear-gradient(rgb(${m.join(",")}), black)`,k.style.backgroundRepeat="no-repeat",w==="black"&&(this.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),this.waveformer_played_color=`hsl(${y[0]},${y[1]}%,${Math.min(100,1.5*y[2])}%)`},o=(u=document.getElementById("theatre-ia-wrap"))!=null?u:document.getElementsByTagName("body")[0];o.style.backgroundImage="linear-gradient(#aaa, black)",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="black",t.crossOrigin="Anonymous",t.complete?l():t.addEventListener("load",l)})}recolor_generic(){var c;let t=[`linear-gradient(
        hsl(330, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(230, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(190, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(280, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(310, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(360, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`],r=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],s=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],l=e.hash_string(this.identifier)%6,o=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];o.style.backgroundImage=t[l],this.waveformer_played_color=r[l],this.waveformer_progress_color=s[l]}static hash_string(t){return t.split("").reduce((r,s)=>r+s.charCodeAt(0),0)}on(t,r){let s=Or&&Or(this.jid);return s&&s.on(t,r),this}adjust_video_width(t){!t.width||!t.height||(t.height&&t.width&&t.height>0&&t.width>0&&parseInt(t.height,10)>0&&(this.DAR=parseInt(t.width,10)/parseInt(t.height,10),Gi("DAR: ",this.DAR,t.width,"x",t.height)),this.embedResize())}embedResize(){if(!Or||!Or(this.jid))return;if(this.audio){Or(this.jid).resize(Math.min(g5,yi(window).width()),Fa);return}let t=yi(window).width(),r=yi(window).height()-this.list_height;Or(this.jid).resize(t,r)}playN(t,r){if(this.headless)return this.onPlaylistItem(t-(this.headless.has_full_album?1:0)),this.track_change(void 0,t);let s=Or(this.jid);return Gi("playN",{readyIA:this.readyIA,idx:t,load_paused:r,state:s.getState()}),r&&s.once("play",()=>s.pause()),this.HLS?(s.seek(t?this.triggers[t-1]-this.HLS.WIGGLE:0),this.track_change(s,t),!1):(s.playlistItem(t),!1)}track_change(t,r){Gi("track_change",{idx:r}),this.trackno=r,this.url_updater(t,r)}seeker_playlist(){this.first_seeked_playlist||(this.first_seeked_playlist=!0,this.pause_first_seek&&Or(this.jid).once("seek",()=>{this.pause(),Gi("... paused first seek!")}),this.start&&(this.pause(),Or(this.jid).seek(this.start)))}embed_setup(){yi(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler2),e.throttler2=setTimeout(()=>{new e(this.jid).embedResize()},250)})}unpreload(){let t=Or(this.jid),r=t.getPlaylist(),s=t.getPlaylistIndex();if(Gi("unpreload:",{startPlaylistIdx:s}),r.length&&(typeof r[0].file!="undefined"&&(r[0].file=r[0].file.replace(/\/serve\//,"/download/")),typeof r[0].sources!="undefined"))for(let l of r[0].sources)l.file=l.file.replace(/\/serve\//,"/download/");s?(t.on("playlist",()=>{Gi("unpreload: onplaylist:",{startPlaylistIdx:s}),t.playlistIndex=s,t.playlistItem(s)}),this.reloading_playlist_playlist_idx=s):!this.start&&!this.autoplay&&(this.update_url_onload=!1),t.load(r)}details_setup(){Gi("details_setup");let t=0,r=`^/details/${this.identifier}/([^&?]+)`,s=location.pathname.match(r);if(s){let l=decodeURIComponent(s[1].replace(/\+/g,"%20"));Gi("looking for: ",l);for(let o in this.playlist){let c=Number(o);if(this.playlist[c].orig===l){Gi("player should seek to track #",c),t=c;break}}}!t&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(t||this.start)&&(Gi("seek #",t," to ",this.start),this.HLS?(setTimeout(()=>this.playN(0,!0),500),setTimeout(()=>this.playN(t,!0),1e3)):Or(this.jid).playlistItem(t))}pause(){let t=Or(this.jid);this.readyIA&&t&&t.getState&&t.getState()==="playing"&&t.pause()}remove(){this.pause();let t=Or(this.jid);this.readyIA&&t&&t.getConfig()&&t.remove(),delete e.STASH[this.jid]}set_speed(){var r;let t=yi(`#${this.jid} video`).get(0);t.playbackRate=(r=this.speed)!=null?r:1,Gi(`speed to ${t.playbackRate}`)}add_buttons(t){var c;let r='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){let n=this.tvTitle?`${this.tvTitle.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";t.addButton("/images/glogo-jw.png",n,()=>{let u=document.createElement("a");u.setAttribute("href",this.details),u.setAttribute("target","_blank"),document.body.appendChild(u),u.click()},"btn-ia")}this.embed&&!this.audio&&!this.noshare&&!this.tv&&(this.identifier!==!1&&t.addButton("/jw/embed.png","Embedding Examples and Help",()=>{globalThis.top.location.href=`/help/video.php?identifier=${this.identifier}`},"btn-mbd"),globalThis.AJS&&(t.addButton(l,"share",()=>{let n=yi(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(n,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),yi(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),this.tv&&this.embed&&this.tvSource!==!1&&t.addButton(`/images/tv/${this.identifier.split("_")[0]}.png`,`Look for this show on ${this.tvContributor} website`,()=>{globalThis.top.location.href=this.tvSource},"btn-tv"),!this.audio&&this.collection&&!this.tv&&t.addButton("http://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),yi(".jw-icon-settings").css("display","flex"),yi(".jw-slider-time").remove(),yi(".jw-icon-settings").on("click",()=>this.settings_opened()),yi(".jw-settings-close").on("click",()=>this.settings_closed()),t.on("playbackRateChanged",()=>this.settings_closed()),yi(".jw-icon-volume").on("mouseover",()=>{yi('div[button="btn-prv"]').hide(),yi('div[button="btn-nxt"]').hide(),yi(".jw-icon-settings").hide()}),yi(`${this.jidsel} .jw-button-container`).on("mouseleave",()=>{yi('div[button="btn-prv"]').show(),yi('div[button="btn-nxt"]').show(),yi(".jw-icon-settings").show()}),!this.tv&&((c=this.playlist)==null?void 0:c.length)>1&&(t.addButton(s,"next",()=>(this.HLS||t).playlistNext(),"btn-nxt"),t.addButton(r,"previous",()=>(this.HLS||t).playlistPrev(),"btn-prv"))}settings_opened(){yi(this.jidsel).css("overflow","visible"),yi(".jw-controls").css("overflow","visible").show(),yi("#jw-settings-menu").css({overflow:"visible",height:C9,top:zh+5,bottom:"initial"}),yi(".jw-controlbar").show(),yi(".jw-icon-settings").removeClass("jw-icon-settings");let t=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,r=t-Av+7;Gi({kebab_left:t,settings_new_left:r}),document.querySelector("body.jwaudio #jw-settings-menu").style.left=`${r}px`}settings_closed(){yi(this.jidsel).css("overflow","")}static castable(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}cast(){if(globalThis.WebKitPlaybackTargetAvailabilityEvent){yi(`#${this.jid} video`).get(0).webkitShowPlaybackTargetPicker();return}if(!globalThis.chrome)return;let t=(s,l)=>{l.play(null,o=>{Gi("media play success",s,l,o)},o=>{Gi("media play fail",o)})};this.cast_retries=0;let r=()=>{if(Gi("cast_setup #",this.cast_retries),this.cast_retries+=1,this.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(r,this.cast_retries*1e3);let{cast:s}=globalThis.chrome,l=new s.SessionRequest(s.media.DEFAULT_MEDIA_RECEIVER_APP_ID),o=new s.ApiConfig(l,c=>{c.media.length&&t("onRequestSessionSuccess",c.media[0])},c=>{Gi("receiver listener fail",c)});return s.initialize(o,()=>{Gi("cast init success"),s.requestSession(c=>{Gi("request session success",c);let n=yi(`${this.jidsel} video`).attr("src"),u=`${location.protocol}//${location.host}${n}`,p=new s.media.MediaInfo(u),g=new s.media.LoadRequest(p);c.loadMedia(g,t.bind(this,"loadMedia"),m=>{Gi("onMediaError",m)})},c=>{Gi("request session fail",c),setTimeout(r,500)})},()=>Gi("cast init failure")),!0};r()}related_items_click(){let t=()=>{yi(`${this.jidsel} .jw-controlbar`).one("click",r=>{yi("#related-items-bg").hide(),r.preventDefault()})};typeof bc!="undefined"&&!yi("#related-items").length?(yi(`${this.jidsel}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),bc.getRelatedItems(this.identifier,!0).then(r=>{let s=Math.floor(r.length/2),l="";for(let[o,c]of Object.entries(r))Number(o)===s&&this.collection==="prelinger"?(e.track_event("Details-Video|DonationEndrollDisplayed"),l+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):l+=`
<div>
  <a href="/details/${c.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_2" }'>
    <div class="related-ttl">
      ${c.title!==null?c.title:""}
      ${c.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${c.creator}`:""}
      ${c.downloads!==null?`<div>${c.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${c.identifier}"/>
  </a>
</div>
`;yi("#related-items").html(l),yi("#related-items-bg").show(),t()})):yi("#related-items-bg:visible").length?yi("#related-items-bg").hide():(yi("#related-items-bg").show(),setTimeout(t,500)),Go("#related-items-bg",()=>yi("#related-items-bg").hide())}add_playlist_panel(){return this.hide_list?"":eo`
<div class="playlist">
  <button type="button" class="page-left page-arrow iconochive iconochive-left"
    @click="${this.prior_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">
    <span class="sr-only">prior page</span>
  </button>

  <div class="track-list">
    <div class="flexbox-pages column">
      ${this.playlist.map((t,r)=>{var s;return eo`
      <button
        @click="${this.playlist_track_click}"
        type="button"
        class="track ${this.trackno===r?"selected":""}"
        data-track-number="${r}"
        data-event-click-tracking="TrackList|Item">
        ${this.headless?"":eo`<span class="track-number">${r+1}</span>`}
        <span class="track-title">${(s=t.title)!=null?s:""}
          ${t.artist?eo`<i class="track-artist">- ${t.artist}</i>`:""}
        </span>
        <span class="track-length">
          ${""}
          ${t.duration?e.sec2hms(t.duration):this.headless?"- \u2013:\u2013 -":""}
        </span>
      </button>`})}
    </div>

    <div class="page-buttons">
      ${[...Array(this.panels_count)].map((t,r)=>eo`
        <button type="button"
          @click="${this.goto_panel}"
          data-page-number="${r}"
          class="page-button ${Number(r)===this.panelno?"selected":""}"
          data-event-click-tracking="Play-AV|Paginator-Button"
          tabindex="-1">
          <span class="sr-only">${r}</span>
        </button>`)}
    </div>
  </div>

  <button type="button" class="page-right page-arrow iconochive iconochive-right"
    @click="${this.next_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">
    <span class="sr-only">next page</span>
  </button>

</div>
`}playlist_track_click(t){this.playN(Number(t.currentTarget.dataset.trackNumber))}prior_panel(){this.panelno-=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:-1*t.clientWidth,behavior:"smooth"}),this.requestUpdate()}next_panel(){this.panelno+=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:t.clientWidth,behavior:"smooth"}),this.requestUpdate()}goto_panel(t){let r=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(t.currentTarget.dataset.pageNumber),r.scrollTo({top:0,left:this.panelno*r.clientWidth,behavior:"smooth"}),this.requestUpdate()}paging_visibility(){var c;let t=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,r=t.parentElement.parentElement.querySelector(".page-left"),s=t.parentElement.parentElement.querySelector(".page-right"),{scrollLeft:l}=t;r.style.visibility=l<=0?"hidden":"visible",this.panels_count=Math.ceil(t.scrollWidth/t.clientWidth),console.warn("PANELS COUNT",this.panels_count);let o=t.scrollWidth-t.clientWidth;s.style.visibility=l>=o?"hidden":"visible"}paging_hide_if_always_single_panel(){var r;if(this.always_single_panel||yi(window).width()<Sv)return;let t=(r=this.shadowRoot)==null?void 0:r.querySelector(".flexbox-pages");t&&(Gi("paging_hide_if_always_single_panel()",t.scrollWidth,"-v-",t.clientWidth),t.scrollWidth===t.clientWidth?(t.parentElement.querySelector(".page-buttons").style.display="none",t.parentElement.parentElement.querySelector(".page-left").style.display="none",t.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}static get styles(){return Hu`
:host {
  outline: 0 !important;
  outline-offset: unset !important;
}

.av-pill {
  margin-top: 5px;
  display: flex;
  flex-shrink: 0;
}

#waveformer-wrap {
  flex-grow: 1;
  position: relative;
  display: inline-block;
  height: ${ro(Ha)}px;
  border-radius: 0 ${ro(Ha/2)}px ${ro(Ha)/2}px 0;
  border-right: ${ro(Ha/2)}px solid black;
  cursor: pointer;

  background-color: white; /* would be supercool transparent otherwise... */
}
#waveformer {
  position: absolute;
  height: ${ro(Ha)}px;
  width: 0;
  background-color: #ddd; /* fallback in case no imagery or colorthief fails */
}
#waveformer-wrap img {
  position: absolute;
  height: ${ro(Ha)}px;
  width: 100%;
  background-color: transparent;
}

::slotted(#ia-scrubber) {
  z-index: 1;
  position: absolute;
  left: 0;
  right: 0;
  height: 17px;
  top: ${ro(Ha/2-9)}px;
}



@media (max-width: ${ro(Sv-1)}px) {
  .media-section {
    margin-bottom: 1rem;
  }
  .playlist {
    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */
    margin: 0;
  }
  .page-buttons,
  .page-arrow {
    display: none;
  }
}


.playlist {
  color: #fff;
  margin-top: 1rem;
  padding-bottom: 4rem;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */
}

.track-list {
  /* split overflow declaration needed for Safari */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  margin: 0 2.5rem; /* space for left & right [<] paging buttons */
}

.track {
  vertical-align: top;
  cursor: pointer;
  border-width: 0.3rem;
  border-style: solid;
  border-color: transparent;
  text-align: left;
  background: transparent;
  color: inherit;
  padding-right: 0;
  padding-left: 0;
  min-height: 4rem;
  margin-left: 0.5%;
  margin-right: 0.5%;
  box-sizing: border-box;
  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */
  font-size: 13.3px; /* safari consistent w/ chrome */
}

.track.selected {
  border-color: #00A1DD;
  border-radius: .5rem;
}
.track.selected:focus {
  outline: none;
}

.track-number,
.track-title,
.track-length {
  display: inline-block;
  box-sizing: border-box;
  border-right: 10px solid transparent;
  vertical-align: top;
}

.track-number {
  text-align: right;
  font-weight: 100;
  width: 9%;
}

.track-title {
  width: 60%;
}

.track-artist {
  font-weight: 200;
}

.track-length {
  text-align: right;
  font-weight: 100;
  float: right;
}



.flexbox-pages {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  flex-wrap: wrap;
  height: inherit; /* must set with parent to wrap columns */
  overflow: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.flexbox-pages.column > * {
  width: inherit; /* set at parent, for better display control */ /*xxxhls*/
}

@media (max-width: 500px) { /* xxxhls number */
  .flexbox-pages {
    flex-wrap: nowrap;
  }
}

@media (min-width: ${ro(Sv)}px) {
  .flexbox-pages {
    height: 350px; /*calc(400px - 50px);*/
    float: unset;
  }

  .flexbox-pages.column > * {
    width: 49%;
  }
}

.page-buttons {
  width: 100%;
  text-align: center;
}
.page-button {
  border-radius: 50%;
  border-color: inherit;
  border-style: solid;
  border-width: 0.1rem;
  color: white;
  background-color: transparent;
  height: 1.5rem;
  width: 1.5rem;
  margin: 0 .5rem;
}
.page-button.selected {
  background-color: white;
}
.page-button.selected:focus {
  outline: none;
}

.page-arrow {
  background: transparent;
  border: none;
  position: absolute;
  top: 35%;
  font-size: 2.5rem;
  color: white;
  opacity: 0.6;
}
.page-arrow:hover {
  cursor: pointer;
  opacity: 1.0;
}

.page-left {
  left: -1rem;
}
.page-right {
  right: -1rem;
}

.sr-only {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
`}static css(){let t=document.getElementsByTagName("head")[0];if(!t)return;let r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(`

body.jwaudio .jwplayer {
  width: initial !important;
  display: inline-block;
  margin-left: ${_9}px;

  outline: 0 !important;
  outline-offset: unset !important;
}

body.navia.jwaudio .jw-preview {
  display: none !important;
}

/* avoid bleed-thru when kebab opened */
body.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {
  background-color: transparent;
  background: none;
}

/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */
body.jwaudio .jw-wrapper,
body.jwaudio .jw-controls {
  position: initial;
}

body.jwaudio .jw-controlbar .jw-icon-inline:first-child {
  margin-left: 15px;
}

body.jwaudio .jw-controlbar .jw-icon-inline {
  width: 35px;
}
body.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {
  width: 55px;
}

/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */
#play-av-wrapper {
  container-name: player-pill;
  container-type: inline-size;
}
@container player-pill (min-width: ${y5}px) {
  body.jwaudio .jw-text-elapsed {
    display: flex !important;
  }
}
@container player-pill (min-width: ${E9}px) {
  body.jwaudio .jw-text-duration {
    display: flex !important;
  }
}

body.jwaudio .jw-settings-submenu-button {
  margin-left: -5px;
}

body.jwaudio #jw-settings-menu {
  z-index: 1;
  margin-top: 25px;
  border-top: 1px solid #aaa;
  left: 50px;
}

body.jwaudio #jw-settings-menu:before {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -11px;
  left: ${Av}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent #aaa transparent;
}
body.jwaudio #jw-settings-menu:after {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -8px;
  left: ${Av}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent black transparent;
}

#waveformer-loader {
  overflow: hidden;
  width: 1px;
  height: 1px;
  max-width: 1px;
  max-height: 1px;
  position: fixed;
  bottom: 0;
  right: 0;
  opacity: 0.01;
}
    `)),t.appendChild(r)}responsiveResize(t){if(!this.responsive)return;let r=yi(this.jidsel).offset(),s=yi(window).height()-r.top-O9;if(this.audio)this.playlist&&this.playlist.length>0&&(Fa=A9),s-=Fa,s=Math.max(S9,s),this.embed||(Gi("responsiveResize() maxH:",s),this.list_height=s);else{let l=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(l=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Gi("aspect ratio appears to be: ",l));let o=yi(".container-ia:last").width();Gi("video max rect avail: ",o,"x",s);let c,n;for(n of[960,840,720,600,480,360,240,180])if(c=Math.round(n*l),Gi("video size try fit: ",c,"x",n),c<=o&&n<=s||c<=320)break;this.width=c,this.height=n,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}t?yi(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(()=>{new e(this.jid).responsiveResize()},250)}):this.audio||Or(this.jid).resize(this.width,this.height),t||this.paging_visibility(),this.paging_hide_if_always_single_panel()}cache(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof e.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return e.STASH[this.jid];delete e.STASH[this.jid]}}static sec2hms(t,r=!1,s=!1){let l=Math.round(t),o=Math.floor(l/3600),c=Math.floor((l-o*3600)/60);l-=o*3600+c*60;let n="",u="";(r||o>0)&&(u=`00${o}`,n+=u.substr(u.length-2,2),n+=":"),u=`00${c}`,n+=u.substr(u.length-2,2),n+=":",u=`00${l}`,n+=u.substr(u.length-2,2);let p=s?`.${(t%1).toFixed(3).slice(2)}`:"";return`${n}${p}`}static seconds(t){let r=t.replace(",","."),s=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:s.length>1?(l=Number(s[s.length-1]),l+=Number(s[s.length-2])*60,s.length===3&&(l+=Number(s[s.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let s=r[1];return Or().seek(s),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!Na.get("unmute"),r=Or("jw6");if(r){let s=r.getVolume();s?(e.mute_click_prior_volume=s,r.setVolume(0)):r.setVolume(typeof e.mute_click_prior_volume=="undefined"?100:e.mute_click_prior_volume)}return yi("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?Na.set("unmute",1,{path:"/details",expires:30}):Na.remove("unmute",{path:"/details"}),!1}static cast_sender_setup(){!globalThis.chrome||globalThis.chrome.cast||function(){var t=function(w){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+w)!=-1||document.currentScript.src.indexOf("&"+w)!=-1)},r=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",s=t("loadCastFramework")||t("loadCastApplicationFramework"),l=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},o=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],c=function(w){w.length?u(w.shift(),function(){c(w)}):g()},n=function(w){return"chrome-extension://"+w+r},u=function(w,k,S){var P=document.createElement("script");P.onerror=k,S&&(P.onload=S),P.src=w,(document.head||document.documentElement).appendChild(P)},p=function(w){return 0<=globalThis.navigator.userAgent.indexOf(w)},g=function(){var w=l();w&&w(!1,"No cast extension found")},m=function(){if(s){var w=2,k=l(),S=function(){w--,w==0&&k&&k(!0)};globalThis.__onGCastApiAvailable=S,u("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",g,S)}};if(p("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(m(),y({command:"cast.sender.init"}))}else if(p("Android")&&p("Chrome/")&&globalThis.navigator.presentation){m();var x=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);c(["//www.gstatic.com/eureka/clank/"+(x?parseInt(x[1],10):0)+r,"//www.gstatic.com/eureka/clank"+r])}else globalThis.chrome&&globalThis.navigator.presentation&&!p("Edge")?(m(),c(o.map(n))):g()}()}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!globalThis.archive_analytics)return;let[r,s]=t.split("|");globalThis.archive_analytics.send_event(r,s,globalThis.location.pathname)}updated(t){Gi("play updated()",t),"mdapi"in t&&Gi("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist&&(this.playlist_setup=!0,this.shadowRoot.querySelector(".flexbox-pages").addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel())}firstUpdated(){Gi("play firstUpdated up")}static get properties(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}render(){var s;Gi("play-av render()",this.trackno),this.slotted||(this.innerHTML=`<div id="${this.jid||"jw6"}"></div><div id="ia-scrubber" slot="ia-scrubber"></div>`,this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");let t=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&yi(this.jidsel).css("margin","auto"),this.add_buttons(this.player),yi(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),yi(".jw-controlbar").css("padding-top","8px"),this.responsive&&Fa>zh&&yi(this.jidsel).css("height",Fa),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));let r=this.playlist?(s=this.playlist[this.trackno||0])==null?void 0:s.image:"";return eo`
      <link rel="stylesheet" href="https://av.archive.org/css/iconochive.css">
      <div class="av-pill">
        <slot></slot>

        ${this.audio&&!this.headless?eo`
          <div id="waveformer-wrap">
            <div id="waveformer"></div>
            ${r?eo`<img src="${r}" @click="${this.waveform_clicked}">`:eo`<img src="https://archive.org/images/black.jpg">`}
            <slot name="ia-scrubber"></slot>
          </div>`:""}
      </div>

      ${this.show_transcripts()?eo`
        <transcript-viewer identifier="${this.identifier}" trackno=${this.trackno||0}
          playlist='${JSON.stringify(this.playlist||[])}' bgTheme=${this.bgTheme}>
        </transcript-viewer>
      `:""}

      ${t}
    `}show_transcripts(){var n,u,p,g;let s=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!s.filter(m=>{var y;return(y=this.collections)==null?void 0:y.includes(m)}).length)return!0;let l=String((g=(p=(u=JSON.parse((n=yi(".js-ia-metadata").val())!=null?n:"{}"))==null?void 0:u.metadata)==null?void 0:p.date)!=null?g:"6666");if(typeof l!="string")return!1;let o=l.match(/^(\d\d\d\d)$/)||l.match(/^(\d\d\d\d)-\d\d$/)||l.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!o)return!1;let c=Number(o[1]);return c<=1928&&c>=1600}from_attr_identifier(){Gi("from_attr_identifier()"),J_(this.identifier).then(t=>{this.mdapi=t}).catch(t=>Gi("error",t))}from_attr_mdapi(t){var s;Gi("from_attr_mdapi()");let r=new G_(this.mdapi);if(r.showing==="movies"||r.showing==="audio"){let l=[].concat(this.mdapi.metadata.collection),o={audio:r.showing==="audio",responsive:!0,identifier:this.id,collections:l,collection:l.shift()},c=[],n=r.jwplaylist(o,K_,c);if(Gi(n),r.showing==="audio"){let u=document.getElementsByTagName("body")[0];u.setAttribute("class",`${(s=u.getAttribute("class"))!=null?s:""} jwaudio`),o&&!this.embed&&(o.waveformer=!0)}this.construct(t,n,o)}}draggable_scrubber(){let t=!1;function r(l){if(!t)return;let o=document.getElementById("ia-scrubber").getBoundingClientRect(),c=Math.min(o.width,Math.max(0,l.clientX-o.left));yi("#ia-scrubber .jw-knob").css({left:`${c}px`})}document.querySelector("play-av").parentElement.addEventListener("mousemove",r);let s=document.getElementById("ia-scrubber");s.addEventListener("mousedown",()=>{this.player.pause(),t=!0}),s.addEventListener("mouseup",()=>{this.player.play(),t=!1})}static headless(t=[],r=s=>Gi(`track ${s} clicked`)){let s=yi("play-av:first").attr("jid");e.headless_callback=r,globalThis.Play(s).headless_create(t,r)}headless_create(t=[]){if(!t.length){let n=yi("play-av:not(:first)"),u=yi("play-av:first"),p=globalThis.Play(n.attr("jid")),g=globalThis.Play(u.attr("jid"));if(p.remove(),n.remove(),u.show(),Gi("IS AT",p.trackno,p.headless.tracks),p.trackno||p.trackno===0){let m=p.headless.tracks[p.trackno];g.playN(Math.max(0,m),!0)}return}this.pause();let r={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:t,has_full_album:!1}},s=[];for(let n of t)Number(n)===-1&&(r.headless.has_full_album=!0),s.push(Number(n)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[n]);let l=yi("play-av").parent(),o=yi("play-av:first").attr("jid"),c=globalThis.Play(o).trackno;r.headless.playN=Math.max(0,t.indexOf(c)),yi("play-av:first").hide(),yi("play-av[jid=headless]").remove(),delete e.STASH.headless,l.append(`
      <play-av jid="headless"
        playlist='${JSON.stringify(s).replace(/'/g,"&apos;")}'
        args='${JSON.stringify(r).replace(/'/g,"&apos;")}'></play-av>`)}},Cv=class{constructor(t){this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=t,Gi(t.triggers)}setup(t){this.play=t,this.p.player.on("time",()=>this.on_time()),this.p.player.on("meta",r=>Gi("HLS meta",r))}on_time(){let t=this.p.player.getCurrentTime();if(Math.abs(this.last_time-t)<.25)return;this.last_time=t;let r=this.playlist_index;if(t>=this.p.triggers[r]+this.WIGGLE)for(Gi("on_time >=",t,">=",this.p.triggers[r]+this.WIGGLE);t>=this.p.triggers[r]-this.WIGGLE;)r+=1;else if(t<this.p.triggers[r-1]+this.WIGGLE)for(Gi("on_time <",t,"<",this.p.triggers[r-1]-this.WIGGLE);r&&t<this.p.triggers[r-1]-this.WIGGLE;)r-=1;if(r!==this.playlist_index){if(Gi("HLS switching tracks:",this.playlist_index,"=>",r),this.playlist_index=r,this.play.track_change(this.p.player,this.playlist_index),yi("#play-hls-duration").html(ba.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Gi(this.p.playlist[this.playlist_index]);let l=this.p.playlist[this.playlist_index].image;if(l){yi("#waveformer-loader").length||yi("body").append('<img id="waveformer-loader"></img>');let o=yi("#waveformer-loader").get(0);o.onload=()=>yi(".jw-preview").css("background-color","transparent"),o.src=l,yi(".jw-preview").css("background-color","black"),yi(".jw-preview").css("background-image",`url("${l}")`)}}}let s=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&s){let l=t-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);yi("#play-hls-elapsed").html(ba.sec2hms(Math.round(Math.max(0,l)))),this.p.jwaudioPercentDone=Math.min(1,l/s)}}update_playlist(t){Gi("HLS.update_playlist",t.playlist);let r=qo("mode")==="aac"?"&mode=aac":"";t.playlist=t.playlist.slice(0,1),t.playlist[0].sources[0].file=`/details/${this.p.identifier}${r}&embed=1&HLS=1&hls.m3u8`,delete t.playlist[0].sources[0].title,delete t.playlist[0].sources[0].duration,Gi("HLS new playlist to jw",t.playlist),t.hlsjsConfig={p2pConfig:{live:!1}}}playlistPrev(){Gi("HLS.playlistPrev");let t=0;this.playlist_index?this.playlist_index>1&&(t=this.p.triggers[this.playlist_index-2]-this.WIGGLE):t=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(t)}playlistNext(){Gi("HLS.playlistNext");let t=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(t)}waveform_clicked2(t){let r=this.playlist_index,s=r?this.p.triggers[r-1]:0,l=this.p.triggers[r]-s;this.p.player.seek(s+l*t)}};if(!globalThis.Play){ba.STASH={},ba.css(),globalThis.Play=(e,t,r)=>new ba(e,t,r);for(let e of["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"])globalThis.Play[e]=ba[e];customElements.define("play-av",ba)}M9=ba});function*$v(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*Qu($v(e.shadowRoot.activeElement))))}function L9(){return[...$v()].pop()}function x5(e){let t=b5.get(e);return t||(t=window.getComputedStyle(e,null),b5.set(e,t)),t}function I9(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=x5(e);return t.visibility!=="hidden"&&t.display!=="none"}function D9(e){let t=x5(e),{overflowY:r,overflowX:s}=t;return r==="scroll"||s==="scroll"?!0:r!=="auto"||s!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&s==="auto"}function R9(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!I9(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:D9(e)}function j9(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function w5(e){let t=new WeakMap,r=[];function s(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&R9(l)&&r.push(l),l instanceof HTMLSlotElement&&j9(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{s(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&s(l.shadowRoot)}for(let o of Array.from(l.children))s(o)}return s(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var Sl,b5,Gu,N9,B9,Pv,Al,H9,Ac,Ov=Zt(()=>{wr();ki();Vr();wr();ki();Vr();xu();sd();ki();Mc();Sl=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};b5=new WeakMap;Gu=[],N9=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let s=L9();if(this.previousFocus=s,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=w5(this.element),o=l.findIndex(n=>n===s);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...$v()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){Gu.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Gu=Gu.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Gu[Gu.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=w5(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],s=this.tabDirection==="forward"?t:r;typeof(s==null?void 0:s.focus)=="function"&&(this.currentFocus=s,s.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},B9=tt`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,Pv=class extends hi{constructor(){super(...arguments),this.config=new Sl}render(){return tt`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?tt`<div class="logo-icon">${B9}</div>`:$i}
            ${this.config.title?tt`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?tt`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?tt` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?tt` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return tt`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=yt`var(--modalLogoSize, 6.5rem)`,t=yt`var(--processingImageSize, 7.5rem)`,r=yt`var(--modalCornerRadius, 1rem)`,s=yt`var(--modalBorder, 2px solid black)`,l=yt`var(--modalBottomMargin, 2.5rem)`,o=yt`var(--modalTopMargin, 5rem)`,c=yt`var(--modalHeaderBottomPadding, 0.5em)`,n=yt`var(--modalBottomPadding, 2rem)`,u=yt`var(--modalScrollOffset, 5px)`,p=yt`var(--modalTitleFontSize, 1.8rem)`,g=yt`var(--modalSubtitleFontSize, 1.4rem)`,m=yt`var(--modalHeadlineFontSize, 1.6rem)`,y=yt`var(--modalMessageFontSize, 1.4rem)`,x=yt`var(--modalTitleLineHeight, normal)`,w=yt`var(--modalSubtitleLineHeight, normal)`,k=yt`var(--modalHeadlineLineHeight, normal)`,S=yt`var(--modalMessageLineHeight, normal)`;return yt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};de([ri({type:Object})],Pv.prototype,"config",void 0);Pv=de([cr("modal-template")],Pv);(function(e){e.Open="open",e.Closed="closed"})(Al||(Al={}));H9=class{constructor(e){this.windowResizeThrottler=Ml(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Al.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Al.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Ac=class extends hi{constructor(){super(...arguments),this.mode=Al.Closed,this.hostBridge=new H9(this),this.modal=new N9(this),this.closeOnBackdropClick=!0}firstUpdated(){return Ga(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return tt`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Al.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Sl,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Ga(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Al.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=yt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=yt`var(--modalBackdropZindex, 1000)`,r=yt`var(--modalWidth, 32rem)`,s=yt`var(--modalMaxWidth, 95%)`,l=yt`var(--modalZindex, 2000)`;return yt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};de([ri({type:String,reflect:!0})],Ac.prototype,"mode",void 0);de([ri({type:Object})],Ac.prototype,"customModalContent",void 0);de([ri({type:Object})],Ac.prototype,"hostBridge",void 0);de([ln("modal-template")],Ac.prototype,"modalTemplate",void 0);Ac=de([cr("modal-manager")],Ac)});function Sc(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function F9(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let s=Sc(r);return(l,o)=>s.then(c=>o(c.transaction(t,l).objectStore(t)))}function Uh(){return Mv||(Mv=F9("keyval-store","keyval")),Mv}function _5(e,t=Uh()){return t("readonly",r=>Sc(r.get(e)))}function k5(e,t,r=Uh()){return r("readwrite",s=>(s.put(t,e),Sc(s.transaction)))}function A5(e,t=Uh()){return t("readwrite",r=>(r.delete(e),Sc(r.transaction)))}function z9(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Sc(e.transaction)}function S5(e=Uh()){return e("readonly",t=>{if(t.getAllKeys)return Sc(t.getAllKeys());let r=[];return z9(t,s=>r.push(s.key)).then(()=>r)})}var Mv,C5=Zt(()=>{});function U9(e,t){return e.setMilliseconds(e.getMilliseconds()+t*1e3),e}var E5,Lv=Zt(()=>{C5();E5=class{constructor(e){var t,r,s,l;if(this.namespace=(t=e==null?void 0:e.namespace)!==null&&t!==void 0?t:"LocalCache",this.defaultTTL=(r=e==null?void 0:e.defaultTTL)!==null&&r!==void 0?r:15*60,(!((s=e==null?void 0:e.immediateClean)!==null&&s!==void 0)||s)&&this.cleanExpired(),!(e!=null&&e.disableCleaning)){let o=(l=e==null?void 0:e.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(()=>{this.cleanExpired()},o*1e3)}}set(e){return xi(this,null,function*(){var t;let r={value:e.value},s=(t=e.ttl)!==null&&t!==void 0?t:this.defaultTTL,l=U9(new Date,s);r.expires=l;let o=this.getNamespacedKey(e.key);try{yield k5(o,r)}catch(c){}})}get(e){return xi(this,null,function*(){let t=this.getNamespacedKey(e),r;try{r=yield _5(t)}catch(l){}if(!r)return;let s=new Date;if(r.expires&&r.expires<s){yield this.delete(e);return}return r.value})}delete(e){return xi(this,null,function*(){let t=this.getNamespacedKey(e);try{yield A5(t)}catch(r){}})}cleanExpired(){return xi(this,null,function*(){let e=yield this.getAllKeys();yield Promise.all(e.map(t=>xi(this,null,function*(){return this.get(t)})))})}getAllKeys(){return xi(this,null,function*(){let e=[];try{e=yield S5()}catch(r){}let t=[];for(let r of e)typeof r=="string"&&t.push(r);return t.filter(r=>r.startsWith(this.namespace)).map(r=>this.removeNamespace(r))})}getNamespacedKey(e){return`${this.namespace}-${e}`}removeNamespace(e){return e.replace(`${this.namespace}-`,"")}}});var Vh=Zt(()=>{Dl()});var V9,W9,Iv=Zt(()=>{ki();ki();V9=tt`
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <title id="linkTitleID">Get more information</title>
  <desc id="linkDescID">Informative icon</desc>
    <path d="m0 0h100v100h-100z" fill="#000"/>
    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>
</svg>
`,W9=class extends hi{static get styles(){return yt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return V9}};customElements.define("ia-icon-info",W9)});function Cl(e){return xi(this,null,function*(){var m,y;let t=jr({action:null,identifier:"",success(){},error(){}},e),r="/services/loans/loan",s=window==null?void 0:window.location,l="loan token not found. please try again later.",o="This book is not available to borrow at this time. Please try again later.",c=["browse_book","borrow_book","create_token","renew_loan","return_loan"],n=((m=s==null?void 0:s.href)==null?void 0:m.indexOf("?error=true"))!==-1&&(s==null?void 0:s.hostname)!=="archive.org",u=["localhost","internetarchive.github.io"],p=!1;u.includes(s.hostname)&&(p=!0,r=s.href);let g=new FormData;g.append("action",t.action),g.append("identifier",t.identifier);try{yield fetch(r,{method:"POST",body:g}).then(x=>xi(this,null,function*(){return n&&c.includes(t==null?void 0:t.action)?{success:!1,error:(t==null?void 0:t.action)==="create_token"?l:o}:p?(t==null?void 0:t.action)=="renew_loan"||(t==null?void 0:t.action)=="return_loan"?(yield new Promise(w=>setTimeout(w,5e3)),{success:!0,loan:{renewal:!0}}):{success:!0,message:"operation executed successfully!"}:x.json()})).then(x=>{x!=null&&x.error?t==null||t.error(x):t==null||t.success(x)})}catch(x){(y=window==null?void 0:window.Sentry)==null||y.captureException(`${za.actionsHandlerService} - Error: ${x}`)}})}function q9(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function qh(e,t,r,s,l,o){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(r?`; expires=${r.toUTCString()}`:"")+(l?`; domain=${l}`:"")+(s?`; path=${s}`:"")+(o?"; secure":""),!0}var Io,za,vn,El,Ec,Wh,$5,O5,T5,G9,Y9,K9,Dv,X9,Z9,Rv,J9,Q9,jv,e8,t8,i8,r8,Cc,P5,n8,o8,a8,s8,Nv,l8,c8,u8,d8,h8,p8,f8,ao,m8,g8,v8,y8,Lo,b8,Hv=Zt(()=>{ki();$s();Ov();Lv();ki();Vh();Du();ki();Vh();ki();ki();ki();ki();ki();ki();ki();ki();Su();Iv();ki();ki();Io=class Bv{static isInIframe(){var t;try{return window.self!==window.top}catch(r){return(t=window==null?void 0:window.Sentry)==null||t.captureException(r),!0}}static getRedirectUrl(){let t;return Bv.isInIframe()?t=window.top.location.href:t=window.location.href,t}static goToUrl(t,r){let s;Bv.isInIframe()&&r?s=window.top.location:s=window.location,s.href===t?s.reload():s.href=t}static isOnStreamPage(){return window.location.href.indexOf("/stream/")>-1}static getQueryParam(t){let r=window.location.search.substring(1).split("&"),s="";for(let l=0;l<r.length;l+=1)if(s=r[l].split("="),s[0]===t)return s[1];return $i}static getBackHref(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}static formatUrl(t,r){return/^https?:/.test(r)?r:`${t}${r}`}},za={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},vn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):()=>{};El={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},Ec={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseRenew:"BookRenew",browseReturn:"BookReturn",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},Wh={browseAutoRenew:"BookAutoRenew",browseAutoReturn:"BookAutoReturn",browseManualRenew:"BookManualRenew",browseManualReturn:"BookManualReturn"};$5=class{constructor(){this.identifier=void 0,this.gaStats={}}storeLoanStatsCount(e,t=""){return xi(this,null,function*(){this.identifier=e;try{yield this.getLoanStatsCount(t),this.sendMatrixStatsEvents(t);let r=new Date;r.setHours(r.getHours()+2),yield qh(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),r,"/")}catch(r){vn(r),this.sendEvent("Cookies-Error-Actions",r,this.identifier)}})}getLoanStatsCount(e){return xi(this,null,function*(){var l,o,c,n,u,p,g;this.lendingEventCounts=JSON.parse(yield q9(this.getLoanCountStorageKey)),this.gaStats=(l=this.lendingEventCounts)!=null?l:{browse:0,renew:0,expire:0};let t=(c=(o=this.lendingEventCounts)==null?void 0:o.browse)!=null?c:0,r=(u=(n=this.lendingEventCounts)==null?void 0:n.renew)!=null?u:0,s=(g=(p=this.lendingEventCounts)==null?void 0:p.expire)!=null?g:0;switch(e){case"browse":t=t?Number(t)+1:1,this.gaStats.browse=t,r=0,s=0;break;case"autorenew":r=r?Number(r)+1:1,this.gaStats.renew=r;break;case"return":s=s?Number(s)+1:1,this.gaStats.expire=s,r=0,s=0;break;default:break}this.lendingEventCounts={browse:t,renew:r,expire:s}})}sendMatrixStatsEvents(e){var s,l;let t=El.browse,r=`browse${this.paddedNumber((s=this.gaStats)==null?void 0:s.browse)}-autorenew${this.paddedNumber((l=this.gaStats)==null?void 0:l.renew)}:${e}`;this.sendEvent(t,r,this.identifier)}paddedNumber(e){return e?e.toString().padStart(3,"0"):"000"}get getLoanCountStorageKey(){return`br-browse-${this.identifier}`}sendEvent(e,t,r,s){var l;vn("eventCategory:-",e,"||	eventAction:-",t,"||	label:-",r,"||	extraParams:-",s),(l=window==null?void 0:window.archive_analytics)==null||l.send_event_no_sampling(e,t,r||this.identifier,s)}},O5=class extends hi{constructor(){super(),this.waitUntillBorrowComplete=6,this.loanAnanlytics=new $5,this.bindEvents()}bindEvents(){this.addEventListener("browseBook",()=>xi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browse")})),this.addEventListener("browseBookAgain",()=>xi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browseagain")})),this.addEventListener("autoRenew",t=>xi(this,[t],function*({detail:e}){var s,l;this.handleLoanRenewNow(),yield(s=this.loanAnanlytics)==null?void 0:s.storeLoanStatsCount(this.identifier,"autorenew");let r=(e==null?void 0:e.renewType)==="auto"?Wh.browseAutoRenew:Wh.browseManualRenew;(l=this.loanAnanlytics)==null||l.sendEvent(El.browse,Ec.browseRenew,r,this.identifier)})),this.addEventListener("autoReturn",()=>xi(this,null,function*(){var e,t;this.handleReturnIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"autoreturn"),(t=this.loanAnanlytics)==null||t.sendEvent(El.browse,Ec.browseReturn,Wh.browseAutoReturn,this.identifier)})),this.addEventListener("returnNow",({detail:e})=>{var t,r,s;if((e==null?void 0:e.borrowType)==="browse"&&((t=this.loanAnanlytics)==null||t.storeLoanStatsCount(this.identifier,"return"),(r=this.loanAnanlytics)==null||r.sendEvent(El.browse,Ec.browseReturn,Wh.browseManualReturn,this.identifier)),this.handleReturnIt("returnNow"),(e==null?void 0:e.borrowType)==="borrow"){let{category:l,action:o}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(l,o,this.identifier)}}),this.addEventListener("borrowBook",({detail:e})=>{var s;this.handleBorrowIt();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("loginAndBorrow",({detail:e})=>{var s;this.handleLoginOk();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("leaveWaitlist",({detail:e})=>{var s;this.handleRemoveFromWaitingList();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("joinWaitlist",({detail:e})=>{var s;this.handleReserveIt();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("purchaseBook",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("adminAccess",({detail:e})=>{var l;let{category:t,action:r}=e.event;(l=this.loanAnanlytics)==null||l.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!0);let s=new URL(window.location.href);s.searchParams.append("admin",1),window.location.search=s.search}),this.addEventListener("exitAdminAccess",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)})}handleBrowseIt(){let e="browse_book";this.dispatchToggleActionGroup(),Cl({action:e,identifier:this.identifier,success:()=>{this.setBrowseTimeSession(),this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleLoanRenewNow(){let e="renew_loan";Cl({action:e,identifier:this.identifier,success:t=>{var l;vn("RENEW_LOAN --- ",t,e,t.loan,this.identifier);let r=t.loan?t.loan:void 0,s=r.renewal;r&&s?this.setBrowseTimeSession():(vn("RENEW_LOAN ERROR --- ",{action:e,isRenewal:s,activeLoan:r,data:t,id:this.identifier}),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(`${za.bookRenewFailed} - Error: ${JSON.stringify(t)}`),this.dispatchActionError(e,{data:t,error:!0,message:"Loan renewal failed: no loan active."})),this.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:e,data:an(jr({},t),{loan:r})}}))},error:t=>{this.dispatchActionError(e,t)}})}handleReturnIt(e=""){let t="return_loan";e==="returnNow"&&this.dispatchToggleActionGroup(),Cl({action:t,identifier:this.identifier,success:()=>{this.deleteLoanCookies(),e==="returnNow"&&Io.goToUrl(this.returnUrl,!0)},error:r=>{this.dispatchActionError(t,r)}})}handleBorrowIt(){let e="borrow_book";this.dispatchToggleActionGroup(),Cl({action:e,identifier:this.identifier,success:()=>{this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleReserveIt(){let e="join_waitlist";this.dispatchToggleActionGroup(),Cl({action:e,identifier:this.identifier,success:()=>{Io.goToUrl(Io.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}handleRemoveFromWaitingList(){let e="leave_waitlist";this.dispatchToggleActionGroup(),Cl({action:e,identifier:this.identifier,success:()=>{Io.goToUrl(Io.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}dispatchActionError(e,t={}){var r;(r=this.loanAnanlytics)==null||r.sendEvent("LendingServiceError",e),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:e,data:t}}))}dispatchToggleActionGroup(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}handleLoginOk(){let e=`/account/login?referer=${encodeURIComponent(Io.getRedirectUrl())}`;Io.goToUrl(e,!0)}handleReadItNow(e){let t=new URLSearchParams(window.location.search);if(e){let o=new URLSearchParams(e);for(let[c,n]of o.entries())t.append(c,n)}let r=t.toString(),s=r?`?${r}`:"",l=window.location.origin+window.location.pathname+s;setTimeout(()=>{Io.goToUrl(l,!0)},this.waitUntillBorrowComplete*1e3)}setBrowseTimeSession(){return xi(this,null,function*(){try{let e=new Date(new Date().getTime()+this.loanTotalTime*1e3);yield this.localCache.set({key:`${this.identifier}-loanTime`,value:e,ttl:Number(this.loanTotalTime)}),yield this.localCache.delete(`${this.identifier}-pageChangedTime`)}catch(e){vn(e)}})}deleteLoanCookies(){let e=new Date;e.setTime(e.getTime()-24*60*60*1e3),qh(`loan-${this.identifier}=""`,"",e,"/",".archive.org"),qh(`br-loan-${this.identifier}=""`,"",e,"/",".archive.org")}setStickyAdminAccess(e){let t=window.location.hostname==="localhost"?"localhost":".archive.org";qh("sticky-admin-access",e,"","/",t)}},T5=yt`var(--white, #fff)`,G9=yt`var(--primaryDisableCTAFill, #767676)`,Y9=yt`var(--secondaryCTABorder, #999)`,K9=yt`var(--primaryCTAFill, #194880)`,Dv=yt`var(--primaryCTAFillRGB, 25, 72, 128)`,X9=yt`var(--primaryCTABorder, #c5d1df)`,Z9=yt`var(--primaryErrorCTAFill, #d9534f)`,Rv=yt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,J9=yt`var(--primaryErrorCTABorder, #d43f3a)`,Q9=yt`var(--secondaryCTAFill, #333)`,jv=yt`var(--secondaryCTAFillRGB, 51, 51, 51)`,e8=yt`var(--primaryCTABorder, #979797)`,t8=yt`#ee8950`,i8=yt`#ec7939`,r8=yt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${T5};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 1rem;
    outline-color: ${T5};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${G9};
    border: 1px solid ${Y9};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${t8}
    border-color: ${i8};
  }

  .ia-button.primary {
    background-color: ${K9};
    border-color: ${X9};
  }
  .ia-button.primary:hover {
    background-color: rgba(${Dv}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${Dv}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${Dv}, 0.7);
  }

  .ia-button.danger {
    background-color: ${Z9};
    border-color: ${J9};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Rv}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Rv}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Rv}, 0.7);
  }

  .ia-button.dark {
    background-color: ${Q9};
    border-color: ${e8};
  }
  .ia-button.dark:hover {
    background-color: rgba(${jv}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${jv}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${jv}, 0.7);
  }
`,Cc=yt`var(--white, #fff)`,P5=yt`var(--primaryBGColor, #000)`,n8=yt`var(--iaBookActionsDropdownBGColor, #2d2d2d)`,o8=yt`
  :host {
    display: inline-flex;
    height: 3.5rem;
    padding: 1rem 0;
  }
  .actiongroup {
    display: flex;
    margin-right: 10px;
  }
  .action-buttons {
    display: inline-flex;
    align-items: center;
  }
  .action-buttons .ia-button {
    margin: 0;
    height: 3.5rem;
    padding: 0 2rem;
  }
  .action-buttons .desktop {
    background-color: ${Cc};
    border-radius: 10px;
  }
  .action-buttons .desktop.purchase {
    margin-left: 5px;
  }
  .action-buttons .mobile.purchase.dark {
    padding-left: 0;
  }
  .primary {
    background-color: ${Cc};
    margin-right: 4px;
  }
  .primary,
  .secondary {
    position: relative;
    border-radius: 5px;
  }
  .primary .initial {
    border-radius: 4px 0 0 4px;
    margin-right: 0;
  }
  .primary svg {
    vertical-align: middle;
  }

  .secondary .ia-button.purchase {
    padding: 2px 10px 2px 35px;
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }
  .secondary .ia-button.exit-admin {
    background-color: ${P5};
    border: 1px solid ${Cc};
  }

  .dropdown-content {
    position: absolute;
    min-width: 14rem;
    margin: 0;
    padding: 0;
    background: ${n8};
    border-radius: 4px;
    border: 1px solid var(--primaryCTABorder);
    top: 3.4rem;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
  }
  .dropdown-content li {
    color: ${P5};
    list-style: none;
    height: 3rem;
  }
  .dropdown-content .ia-button {
    background: none;
    color: ${Cc};
    border: none;
    box-sizing: border-box;
    width: 100%;
    text-align: left;
    height: 3rem;
    position: relative;
    padding: 0.6rem 1.2rem;
    margin: 0;
  }
  .dropdown-content .ia-button:is(:focus-visible, :hover) {
    background: unset;
  }
  .dropdown-content li .ia-button {
    border-radius: 0;
  }
  .dropdown-content li .ia-button:hover {
    background: ${Cc};
    color: rgb(45, 45, 45);
  }
  .dropdown-content li:first-child .ia-button {
    border-radius: 0.3rem 0.3rem 0 0;
  }
  .dropdown-content li:last-child .ia-button {
    border-radius: 0;
    border-radius: 0 0 0.3rem 0.3rem;
  }
  .dropdown-content .purchase:hover svg g {
    fill: black;
  }
  .dropdown-content .purchase {
    padding-left: 35px;
    margin: 0;
  }
  .dropdown-content .purchase small {
    display: initial;
    font-size: 1.4rem;
  }

  .ia-button.down-arrow {
    border-radius: 0 0.4rem 0.4rem 0;
    padding: 0 0.6rem;
    margin-left: 0;
  }
  .actionloader {
    vertical-align: middle;
    visibility: hidden;
    padding: 0.9rem 0.2rem;
  }
  .close {
    display: none;
  }
  .open {
    display: block;
    z-index: 2;
  }
  .visible {
    display: inline-block;
  }
  .btn:hover,
  .dropdown:hover .btn {
    background-color: ${Cc};
  }
  a {
    text-decoration: none;
  }
  .purchase small {
    display: block;
    font-size: 1rem;
  }
  .purchase svg {
    position: absolute;
    left: 10px;
    top: 20%;
  }
  .unavailable {
    opacity: 0.7;
    pointer-events: none;
  }
  .disabled {
    opacity: 0.8;
    pointer-events: none;
    visibility: visible;
  }
`,a8=tt`<svg
  height="20"
  viewBox="0 0 75 75"
  width="20"
  xmlns="http://www.w3.org/2000/svg"
>
  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">
    <path
      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"
    />
    <path
      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"
    />
    <path
      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"
    />
    <path
      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"
    />
  </g>
</svg>`,s8=tt`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
    fill="#fff"
  />
</svg>`,Nv=tt`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill="#fff"
  />
</svg>`,l8=class extends O5{static get properties(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},loanRenewType:{type:String},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}constructor(){super(),this.userid="",this.identifier="",this.primaryActions=[],this.secondaryActions=[],this.primaryColor="",this.dropdownState="close",this.width=0,this.hasAdminAccess=!1,this.dropdownArrow=Nv,this.initialButton=!1,this.title="",this.loaderIcon="https://archive.org/upload/images/tree/loading.gif",this.disabled=!1,this.returnUrl="",this.autoRenew=!1,this.loanRenewType="",this.autoReturn=!1,this.returnNow=!1}updated(e){(e.has("width")||e.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),e.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew",{renewType:this.loanRenewType});let t=e.has("autoReturn")&&this.autoReturn;t&&this.dispatchLoanEvent("autoReturn"),e.has("returnNow")&&this.returnNow&&!t&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}dispatchLoanEvent(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}resetActions(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}sortActionButtonOrder(){let e=1,t=0;this.secondaryActions.length===2&&(e=2),e=this.primaryActions.length-e;let r=this.primaryActions[e],s=this.primaryActions;s.splice(e,1),s.splice(t,0,r),this.primaryActions=s}render(){return tt`
      <div
        class="${hl({actiongroup:!0,disabled:this.disabled})}"
      >
        ${this.getLoaderIcon}
        <section class="action-buttons primary">
          ${this.renderPrimaryActions}
        </section>
        <section class="action-buttons secondary">
          ${this.renderSecondaryActions}
        </section>
      </div>
    `}get renderPrimaryActions(){return this.primaryActions.length===0?$i:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:tt`
      ${this.initialActionTemplate}
      <button
        class="ia-button ${this.primaryColor} down-arrow"
        @click=${this.toggleDropdown}
      >
        ${this.dropdownArrow}
      </button>

      <ul class="dropdown-content ${this.dropdownState}">
        ${this.getPrimaryItems}
      </ul>
    `)}get renderSecondaryActions(){return this.secondaryActions.length?this.secondaryActions.map(e=>this.renderActionButton(e)):$i}renderActionLink(e,t=!1){return tt`<span class="${this.getDeviceType} ${e.className}">
      <a
        class="ia-button ${e.className} ${t?"initial":""}"
        href="${e.url}"
        target=${e.target}
        @click=${()=>{this.clickHandler(e.id,e.analyticsEvent,e==null?void 0:e.borrowType)}}
      >
        ${e.id==="purchaseBook"?a8:""} ${e.text}
        <small>${e.subText}</small>
      </a>
    </span>`}renderActionButton(e,t=!1){if(e.url)return this.renderActionLink(e,t);let{analyticsEvent:r}=e;return tt`<button
      class="ia-button ${e.className} ${t?"initial":""}"
      @click=${()=>{this.clickHandler(e.id,r,e==null?void 0:e.borrowType)}}
    >
      ${e.text}
    </button>`}clickHandler(e,t,r=""){if(this.dropdownState="close",this.dropdownArrow=Nv,!t||!e)return;let{category:s,action:l}=t;this.dispatchEvent(new CustomEvent(e,{detail:{event:{category:s,action:l},borrowType:r}}))}get initialActionTemplate(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}get getPrimaryItems(){return this.primaryActions.slice(1).map(e=>tt`<li>${this.renderActionButton(e,this.initialButton)}</li>`)}get getLoaderIcon(){return tt`<img
      class="${hl({actionloader:!0,disabled:this.disabled})}"
      alt=""
      src="${this.loaderIcon}"
    />`}get isBelowTabletContainer(){return this.width<=800}get getDeviceType(){return this.isBelowTabletContainer?"mobile":"desktop"}toggleDropdown(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=Nv,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=s8,this.primaryColor="dark")}static get styles(){return[r8,o8]}};window.customElements.define("collapsible-action-group",l8);c8=tt`
  <svg
    class="ia-logo"
    width="26"
    height="26"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,u8=class extends O5{static get properties(){return{identifier:{type:String},bookTitle:{type:String}}}constructor(){super(),this.identifier="",this.bookTitle="",this.analyticsCategories=El,this.analyticsActions=Ec}clickHandler(){let{category:e,action:t}={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar};this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:e,action:t}}}))}render(){return tt`
      <a
        class="embed-link"
        @click=${()=>{this.clickHandler()}}
        href="/details/${this.identifier}"
      >
        <span>${c8}</span>
        <span class="title">${this.bookTitle}</span>
      </a>
    `}static get styles(){return yt`
      :host {
        padding: 0 10px;
        height: 3.4rem;
        display: flex;
      }
      .embed-link {
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        color: var(--primaryTextColor, #fff);
        font-size: 1.4rem;
      }
      .embed-link .title {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-align: left;
        line-height: initial;
      }
      .embed-link svg {
        margin-right: 0.5rem;
        display: block;
      }
      .embed-link:hover {
        text-decoration: underline;
      }
    `}};window.customElements.define("book-title-bar",u8);d8=class extends hi{static get properties(){return{texts:{type:String},textClass:{type:String}}}constructor(){super(),this.texts="",this.textClass=""}render(){return tt`
      <span class="variable-texts ${this.textClass}">${this.texts}</span>
    `}static get styles(){return yt`
      :host {
        display: inline-block;
      }
      .variable-texts {
        margin-right: 10px;
        vertical-align: middle;
        font-size: 1.7rem;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("text-group",d8);h8=class extends hi{static get properties(){return{iconClass:{type:String}}}constructor(){super(),this.iconClass="",this.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library"}render(){return tt`
      <a
        class="more-info-icon ${this.iconClass}"
        href=${this.helpURL}
        target="_blank"
        title="Get more info on borrowing from The Lending Library"
        data-event-click-tracking="BookReader|BrowsableMoreInfo"
      >
        <ia-icon-info></ia-icon-info>
      </a>
    `}get getInfoIcon(){return Gn`${ch(this.icon)}`}static get styles(){return yt`
      ia-icon-info {
        display: inline-block;
        width: 18px;
        height: 20px;
        vertical-align: middle;
        --iconFillColor: white;
      }
      .more-info-icon img {
        width: 24px;
        height: 24px;
        vertical-align: middle;
        background: white;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("info-icon",h8);p8=class extends hi{static get properties(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}constructor(){super(),this.secondsLeftOnLoan=0,this.displayTime=!1}get minutesLeftOnLoan(){let e=Math.round(this.secondsLeftOnLoan);return e=Math.ceil(e/60),e<10?e=`0:0${e}`:e===60?e="1:00":e=`0:${e}`,e}get remainingTime(){let e="minute",t=this.minutesLeftOnLoan;return t!==1?`${t} ${e}s`:`${t} ${e}`}render(){let e=this.displayTime?"view":"hide";return tt`
      <button
        id="timer-counter"
        class=${e}
        @click=${()=>{this.displayTime=!this.displayTime}}
        role="timer"
      >
        <span>${this.minutesLeftOnLoan} - </span>
        <span class="second">${Number(this.secondsLeftOnLoan)}</span>
        <span class="sr-only">${this.remainingTime} left</span>
      </button>
    `}static get styles(){return yt`
      :host {
        right: 0;
        margin-right: 10px;
        position: absolute;
      }

      .sr-only {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        margin: 0;
        padding: 0;
        border: none;
        overflow: hidden;
      }

      button#timer-counter {
        cursor: pointer;
      }

      .hide {
        opacity: 0;
      }

      .show {
        opacity: 1;
      }
    `}};window.customElements.define("timer-countdown",p8);window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:()=>{window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:()=>{window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:()=>{window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:()=>{var e,t,r;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(r=window==null?void 0:window.IALendingIntervals)==null||r.clearBrowseExpireTimeout()}};f8=class{constructor(e,t,r={},s){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=s,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=El,this.analyticsActions=Ec}firstBrowseConfig(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}browseAgainConfig(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}returnBookConfig(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}borrowBookConfig(e=!1){return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}loginAndBorrowBookConfig(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}leaveWaitlistConfig(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}loginAndWaitlistConfig(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}waitlistConfig(){let e=!!this.userid,t=this.lendingStatus||{};return!t.available_to_waitlist||t.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}purchaseConfig(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}printDisabilityConfig(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}adminAccessConfig(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}adminOrPrintDisabledExitConfig(){return{id:"exitAdminAccess",text:`\u2190 Exit ${Io.getQueryParam("admin")==="1"?"admin":"print-disabled"} access mode`,url:Io.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}unavailableBookConfig(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}isEmbed(e){return{primaryTitle:`<img src=/images/glogo-jw.png> <a href=/details/${this.identifier}>${e}</a>`,primaryActions:[],primaryColor:""}}},ao={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},m8=class{constructor(e,t,r,s){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=s,this.analyticsCategories=El,this.analyticsActions=Ec,this.actionsConfig=new f8(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}onlyAdminAction(){return{primaryTitle:ao.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}adminOrPrintDisabledReadingAction(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}patronIsReadingAction(){let e=this.lendingStatus||{},t=e.loanCount>=e.maxLoans,r="",s=e.user_has_browsed&&!e.browsingExpired;return s?r=ao.available_1hr:r=`Your loan of this book has ${e.daysLeftOnLoan} days left.`,{primaryTitle:r,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(t),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:s?"browsed":"borrowed"}}claimWaitlistAction(){let e=this.lendingStatus||{},t=this.actionsConfig.leaveWaitlistConfig(),r=this.actionsConfig.borrowBookConfig(),s=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,l=[r];return s&&l.push(s),l.push(t),{primaryTitle:ao.claim_waitlist,primaryActions:l,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowPrintDisabledAction(){return{primaryTitle:ao.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}onlyPrintDisabledAction(){let e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:ao.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}onWaitlistAction(){return{primaryTitle:ao.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}restrictedAction(){let e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?ao.being_borrowed:ao.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}loggedOutOptions(){let e=this.lendingStatus||{},t=!e.available_to_waitlist&&!e.available_to_borrow,r=this.actionsConfig.waitlistConfig(),s=null;e.available_to_borrow||e.available_to_browse?s=this.actionsConfig.loginAndBorrowBookConfig():t&&(s=this.actionsConfig.unavailableBookConfig());let l=this.actionsConfig.printDisabilityConfig(),o=[s,r,l].filter(c=>c!==null);return{primaryTitle:e.available_to_browse?ao.available_1hr:e.available_to_borrow?ao.available_14d:ao.unavailable,primaryActions:o,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrow1HrAction(){let e=this.lendingStatus||{},t=!e.available_to_browse&&e.browsingExpired,r=e.available_to_browse||t,s=r&&e.available_to_borrow,l=r&&!e.available_to_borrow&&e.available_to_waitlist,o=r&&!e.available_to_borrow&&!e.available_to_waitlist,c=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,n=t?ao.session_expired:!r&&c?ao.being_borrowed:!r&&e.available_to_waitlist?ao.available_waitlist:ao.available_1hr,u=t?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),p=this.actionsConfig.borrowBookConfig(),g=this.actionsConfig.waitlistConfig(),m=this.actionsConfig.printDisabilityConfig();return{primaryTitle:n,primaryActions:o?[u,m]:s?[u,p,m]:l?[u,g,m]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowAction(){let e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();let t=null,r=this.actionsConfig.waitlistConfig(),s=this.actionsConfig.printDisabilityConfig(),l=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!r?t=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(t=this.actionsConfig.borrowBookConfig(l));let o=[t,r,s].filter(function(c){return c!==null});return{primaryTitle:r?ao.being_borrowed:"",primaryActions:o,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}getBrowseCountdownTitle(){let e=this.lendingStatus.secondsLeftOnLoan;var t=new Date(+new Date+e*1e3),r=t.getHours()%12,s=(""+t.getMinutes()).replace(/^(\d{1})$/,"0$1"),l=t.getHours()>11?" PM":" AM";return r===0&&(r=12),"Borrow ends at "+r+":"+s+l}getCurrentLendingActions(){let e,t=this.lendingStatus||{},r=Io.getQueryParam("admin")=="1"&&t.isAdmin,s=Io.getQueryParam("access")=="1"&&t.user_is_printdisabled,l=t.user_has_borrowed||t.user_has_browsed&&!t.browsingExpired,o=!t.user_has_borrowed&&!t.user_has_browsed,c=!t.available_to_borrow&&!t.available_to_browse,n=t.is_printdisabled&&t.user_is_printdisabled,u=(t.available_to_browse||t.available_to_borrow)&&o&&!t.user_on_waitlist;return r||s?e=this.adminOrPrintDisabledReadingAction():t.isAdmin&&o&&c?e=this.onlyAdminAction():l?e=this.patronIsReadingAction():t.user_can_claim_waitlist?e=this.claimWaitlistAction():n?e=this.borrowPrintDisabledAction():u||t.browsingExpired?e=this.borrowAction():t.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():t.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}},g8=class{constructor(e,t,r,s,l){this.identifier=e,this.borrowType=t,this.successCallback=r,this.errorCallback=s,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new $5,this.bookAccessed()}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}bookAccessed(){return xi(this,null,function*(){var e;this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(()=>{this.handleLoanTokenPoller()},this.pollerDelay*1e3))):((e=window==null?void 0:window.Sentry)==null||e.captureMessage(`${za.bookAccessed} - not borrowed`),this.disconnectedCallback())})}handleLoanTokenPoller(e=!1){return xi(this,null,function*(){let t="create_token";Cl({identifier:this.identifier,action:t,error:r=>{var s,l;this.errorCallback({detail:{action:t,data:r}}),(s=window==null?void 0:window.Sentry)==null||s.captureMessage(`${za.handleLoanTokenPoller} - Error: ${JSON.stringify(r)}`),(l=this.loanAnalytics)==null||l.sendEvent("LendingServiceLoanError",t,this.identifier)},success:()=>{e&&this.successCallback()}})})}},v8=class{constructor(e,t,r,s){this.hasPageChanged=e,this.identifier=t,this.localCache=r,this.loanRenewTimeConfig=s,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1,renewType:""}}handleLoanRenew(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){vn(e)}return $i}pageChanged(){return xi(this,null,function*(){let{loanRenewAtLast:e}=this.loanRenewTimeConfig,t=new Date,r=yield this.localCache.get(`${this.identifier}-loanTime`),s=this.changeTime(r,e,"sub");return s!==null&&t>=s&&(this.result={texts:this.loanRenewMessage,renewNow:!0,renewType:"auto"}),this.setPageChangedTime(),this.result})}autoChecker(){return xi(this,null,function*(){let{pageChangedInLast:e}=this.loanRenewTimeConfig,t=yield this.localCache.get(`${this.identifier}-pageChangedTime`),r=this.changeTime(new Date,e,"sub");return t===void 0||t<=r?this.result={texts:this.loanReturnWarning,renewNow:!1,renewType:""}:t>=r&&(this.result={texts:"",renewNow:!0,renewType:"auto"}),this.result})}setPageChangedTime(){return xi(this,null,function*(){yield this.localCache.set({key:`${this.identifier}-pageChangedTime`,value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)})})}getMessageTexts(e,t){let r="minute",s=e,l=t;return l=Math.ceil(l/60),l>59&&(l=1,r="hour"),s=s==null?void 0:s.replace(/#time/,l),s==null?void 0:s.replace(/#unitsOfTime/,l!==1?`${r}s`:r)}changeTime(e,t,r){return e===void 0?null:r==="sub"?new Date(e.getTime()-t*1e3):new Date(e.getTime()+t*1e3)}},y8={browseExpired:"IABookReader:BrowsingHasExpired"},Lo={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},b8=class extends hi{static get properties(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}constructor(){super(),this.userid="",this.identifier="",this.bookTitle="",this.returnUrl="",this.lendingStatus={},this.width=0,this.bwbPurchaseUrl="",this.lendingBarPostInit=()=>{},this.barType="action",this.sharedObserver=void 0,this.disableActionGroup=!1,this.tokenDelay=120,this.timerExecutionSeconds=30,this.postInitComplete=!1,this.primaryActions=[],this.primaryTitle="",this.primaryColor="primary",this.secondaryActions=[],this.lendingOptions={},this.borrowType=null,this.browseTimer=void 0,this.timeWhenTimerStart=void 0,this.returnNow=!1,this.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},this.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0,renewType:""}}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearAll(),this.sentryCaptureMsg(za.disconnectedCallback),this.disconnectResizeObserver()}sentryCaptureMsg(e){var t;vn(window==null?void 0:window.Sentry),(t=window==null?void 0:window.Sentry)==null||t.captureMessage(e)}firstUpdated(){this.bindLoanRenewEvents(),this.localCache=new E5({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new To,this.setupResizeObserver())}updated(e){(e.has("lendingStatus")||e.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),e.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),e.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}handleResize(e){let{target:t}=e;if(t!==this.shadowRoot.host)return;let{contentRect:r}=e;this.width=Math.round(r.width)}disconnectResizeObserver(){var e;(e=this.sharedObserver)==null||e.removeObserver({handler:this,target:this.shadowRoot.host})}setupResizeObserver(){var e;this.shadowRoot&&((e=this.sharedObserver)==null||e.addObserver({handler:this,target:this.shadowRoot.host}))}setupLendingToolbarActions(){return xi(this,null,function*(){var r,s,l,o;this.lendingOptions=new m8(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl);let e=this.lendingOptions.getCurrentLendingActions();if(!e)return;this.primaryTitle=e.primaryTitle,this.primaryActions=(r=e.primaryActions)==null?void 0:r.filter(c=>c!=null),this.primaryColor=e.primaryColor,this.secondaryActions=(s=e.secondaryActions)==null?void 0:s.filter(c=>c!=null),this.borrowType=e.borrowType?e.borrowType:null;let t="browsingExpired"in this.lendingStatus&&((l=this.lendingStatus)==null?void 0:l.browsingExpired);if(t){vn("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(za.bookWasExpired),(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.dispatchEvent(new Event(y8.browseExpired,{bubbles:!0,cancelable:!1,composed:!0}));return}if(this.borrowType==="browsed"&&(yield this.startTimerCountdown(),yield this.startBrowseTimer()),!this.borrowType||this.barType==="title"){this.lendingBarPostInit();return}setTimeout(()=>{!t&&!window.IALendingIntervals.tokenPoller&&this.startLoanTokenPoller()},100),this.requestUpdate()})}bindLoanRenewEvents(){window.addEventListener("BookReader:userAction",()=>{vn("IABookActions:BookReader:userAction"),this.borrowType==="browsed"&&this.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",()=>xi(this,null,function*(){if(!document.hidden&&(vn("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1)){let e=yield this.localCache.get(`${this.identifier}-loanTime`),t=Math.round((e-new Date)/1e3);t>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(t)):(this.browseHasExpired(),this.disconnectedCallback())}}))}autoLoanRenewChecker(e=!1){return xi(this,null,function*(){this.loanRenewHelper=new v8(e,this.identifier,this.localCache,this.loanRenewTimeConfig),yield this.loanRenewHelper.handleLoanRenew(),this.loanRenewResult=this.loanRenewHelper.result})}get modal(){let e=document.body.querySelector("modal-manager");return e==null||e.setAttribute("id","action-bar-modal"),e}showWarningModal(){return xi(this,null,function*(){var s,l,o;vn("****** showWarningModal ******"),this.modal.customModalContent=$i,(s=this.modal)==null||s.closeModal(),this.loanRenewResult={texts:"",renewNow:!1};let{secondsLeft:e}=this.loanRenewResult;e===void 0?e=this.lendingStatus.secondsLeftOnLoan:e=e>60?e:60;let t=new Sl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,e)}),r=tt`<br />
      <div
        id="book-action-bar-custom-buttons"
        style="display:flex;justify-content:center;"
      >
        <button
          style="${Lo.iaButton} ${Lo.renew}"
          @click=${()=>this.patronWantsToRenewBook()}
        >
          Keep reading
        </button>
        <button
          style="${Lo.iaButton} ${Lo.return}"
          @click=${()=>this.patronWantsToReturnBook()}
        >
          Return the book
        </button>
      </div> `;this.modal.setAttribute("aria-live","assertive"),yield(o=this.modal)==null?void 0:o.showModal({config:t,customModalContent:r})})}showWarningDisabledModal(e="renewBook"){return xi(this,null,function*(){var l,o;let{secondsLeft:t}=this.loanRenewResult;t===void 0?t=this.lendingStatus.secondsLeftOnLoan:t=t>60?t:60;let r=new Sl({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,t)}),s=tt`<br />
      <div
        id="disabled-book-action-bar-custom-buttons"
        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"
      >
        <button
          disabled
          style="${Lo.iaButton} ${Lo.renew}"
        >
          ${e==="renewBook"?tt`<ia-activity-indicator
                mode="processing"
                style=${Lo.loaderIcon}
              ></ia-activity-indicator>`:"Keep reading"}
        </button>
        <span
          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"
          >Renewing loan, one moment please.</span
        >
        <button
          disabled
          style="${Lo.iaButton} ${Lo.return}"
        >
          ${e==="returnBook"?tt`<ia-activity-indicator
                mode="processing"
                style=${Lo.loaderIcon}
              ></ia-activity-indicator>`:"Return the book"}
        </button>
      </div> `;yield(o=this.modal)==null?void 0:o.showModal({config:r,customModalContent:s})})}patronWantsToRenewBook(){return xi(this,null,function*(){this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0,renewType:"manual"}})}patronWantsToReturnBook(){return xi(this,null,function*(){this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0})}showExpiredModal(){return xi(this,null,function*(){var r;let e=new Sl({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),t=tt`<br />
      <div style="text-align: center">
        <button
          style="${Lo.iaButton} ${Lo.renew}"
          @click=${()=>{Io.goToUrl(this.returnUrl,!0)}}
        >
          Okay
        </button>
      </div> `;yield(r=this.modal)==null?void 0:r.showModal({config:e,customModalContent:t})})}browseHasExpired(){return xi(this,null,function*(){var t;vn("BrowseHasExpired ---"),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearAll();let e=an(jr({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0});this.lendingStatus=e,yield this.localCache.delete(`${this.identifier}-loanTime`),yield this.localCache.delete(`${this.identifier}-pageChangedTime`),this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",yield this.showExpiredModal(),this.sentryCaptureMsg(za.browseHasExpired)})}startBrowseTimer(){return xi(this,null,function*(){var s;(s=window==null?void 0:window.IALendingIntervals)==null||s.clearBrowseExpireTimeout();let{browsingExpired:e,user_has_browsed:t,secondsLeftOnLoan:r}=this.lendingStatus;if(!t||e){vn("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:t,browsingExpired:e,secondsLeftOnLoan:r});return}window.IALendingIntervals.browseExpireTimeout=setTimeout(()=>{vn("startBrowseTimer > browseExpireTimeout --- will expire loan",r),this.browseHasExpired()},r*1e3)})}render(){return this.barType==="title"?tt`<section class="lending-wrapper">
        ${this.bookTitleBar}
      </section>`:tt`<section class="lending-wrapper">
      ${this.bookActionBar}
    </section>`}get bookTitleBar(){return tt`<book-title-bar
      .identifier=${this.identifier}
      .bookTitle=${this.bookTitle}
    ></book-title-bar>`}get timerCountdownEl(){return this.shadowRoot.querySelector("timer-countdown")}get bookActionBar(){return tt`
      <collapsible-action-group
        .userid=${this.userid}
        .identifier=${this.identifier}
        .primaryColor=${this.primaryColor}
        .primaryActions=${this.primaryActions}
        .secondaryActions=${this.secondaryActions}
        .width=${this.width}
        .borrowType=${this.borrowType}
        .returnUrl=${this.returnUrl}
        .localCache=${this.localCache}
        .loanTotalTime=${this.loanRenewTimeConfig.loanTotalTime}
        .loanRenewType=${this.loanRenewResult.renewType}
        ?hasAdminAccess=${this.hasAdminAccess}
        ?disabled=${this.disableActionGroup}
        ?autoRenew=${this.loanRenewResult.renewNow}
        ?autoReturn=${this.lendingStatus.browsingExpired}
        ?returnNow=${this.returnNow}
        @loanAutoRenewed=${this.handleLoanAutoRenewed}
        @lendingActionError=${this.handleLendingActionError}
        @toggleActionGroup=${this.handleToggleActionGroup}
      >
      </collapsible-action-group>
      ${this.textGroupTemplate} ${this.infoIconTemplate}
      <timer-countdown
        .secondsLeftOnLoan=${Math.round(Number(this.lendingStatus.secondsLeftOnLoan))}
      ></timer-countdown>
    `}handleLoanAutoRenewed(t){return xi(this,arguments,function*({detail:e}){var l,o,c;let r=(l=e==null?void 0:e.data)==null?void 0:l.loan,s=`Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ${(o=e==null?void 0:e.data)==null?void 0:o.error})`;if(!r){this.showErrorModal(s,"handleLoanAutoRenewed");return}if(this.loanRenewResult.renewNow){let n=yield this.localCache.get(`${this.identifier}-loanTime`),u=Math.round((n-new Date)/1e3);vn(n,u),vn("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:e==null?void 0:e.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:u});let p=an(jr({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:u});this.lendingStatus=p,(c=this.modal)==null||c.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=$i,this.sentryCaptureMsg(za.bookHasRenewed)}})}startTimerCountdown(){return xi(this,null,function*(){var t;(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown();let e=Number(this.lendingStatus.secondsLeftOnLoan);this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(()=>xi(this,null,function*(){yield this.loanStatusCheckInterval(e)}),this.timerExecutionSeconds*1e3)})}loanStatusCheckInterval(e){return xi(this,null,function*(){let t=e;t-=this.timerExecutionSeconds,t=Math.round(t);let r=yield this.reSyncTimerIfGoneOff(t);r.hasSynced&&(t=r.whatShouldLeft,vn("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:t})),vn("startTimerCountdown --- countdown still valid. continue...",{resyncd:r,secondsLeft:t,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),t<=this.loanRenewTimeConfig.loanRenewAtLast&&(yield this.loanRenewAttempt(t)),t<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(za.clearOneHourTimer))})}reSyncTimerIfGoneOff(e){return xi(this,null,function*(){let t=new Date,r=t.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,s=this.lendingStatus.secondsLeftOnLoan-r;vn("currentTime: ",t),vn("timeWhenTimerStart: ",this.timeWhenTimerStart),vn("diffInSeconds: ",r),vn("secondsShouldLeft: ",s),vn("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan);let l=Math.round(e),o=Math.round(s),c=this.timerCountdownEl.secondsLeftOnLoan||0;if(vn("reSyncTimerIfGoneOff?",{whatIsleft:l,whatShouldLeft:o,timerElSeconds:c,timeLeftInMin:Math.ceil(e/60)}),c!==o||l!==o){let n=an(jr({},this.lendingStatus),{secondsLeftOnLoan:o});this.lendingStatus=n}return l!==o?(vn("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:o}):{hasSynced:!1,whatShouldLeft:o}})}loanRenewAttempt(e){return xi(this,null,function*(){vn("loanRenewAttempt ---",{secondsLeft:e,loanRenewResult:this.loanRenewResult});let t=e;if(t<50){vn("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),yield this.browseHasExpired();return}yield this.autoLoanRenewChecker(!1),this.loanRenewResult.renewNow===!1&&(t-=60,this.loanRenewResult.secondsLeft=t,this.showWarningModal())})}startLoanTokenPoller(){let e=()=>{this.postInitComplete||this.lendingBarPostInit(),this.postInitComplete=!0},t=r=>{this.handleLendingActionError(r)};this.tokenPoller=new g8(this.identifier,this.borrowType,e,t,this.tokenDelay)}handleToggleActionGroup(){this.disableActionGroup=!this.disableActionGroup}handleLendingActionError(e){var s,l,o,c;this.disableActionGroup=!1,(s=window==null?void 0:window.IALendingIntervals)==null||s.clearAll();let t=(l=e==null?void 0:e.detail)==null?void 0:l.action,r=(c=(o=e==null?void 0:e.detail)==null?void 0:o.data)==null?void 0:c.error;if(r&&t!=="create_token"&&this.showErrorModal(r,t),t==="create_token"){let n=an(jr({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=n}if(r&&r.match(/not available to borrow/gm)){let n=this.lendingStatus;t==="browse_book"?n=an(jr({},this.lendingStatus),{available_to_browse:!1}):t==="borrow_book"&&(n=an(jr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=n}}showErrorModal(e,t){return xi(this,null,function*(){var s;let r=new Sl({title:"Lending error",message:e,headerColor:"#d9534f",showCloseButton:!0});if(t==="create_token"){let l=tt`<button
        style="${Lo.refresh}"
        @click=${()=>window.location.reload(!0)}
      >
        refresh
      </button>`;r.message=tt` Uh oh, something went wrong trying to access
        this book.<br />
        Please ${l} to try again or send us an email to
        <a
          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ${this.identifier}"
          >info@archive.org</a
        ><br /><br />
        <code>errorLog: ${e}</code>`}yield(s=this.modal)==null?void 0:s.showModal({config:r})})}get iconClass(){return this.width<=700?"mobile":"desktop"}get textClass(){return this.width>=700?"visible":"hidden"}get infoIconTemplate(){return tt`<info-icon iconClass=${this.iconClass}></info-icon>`}get textGroupTemplate(){return this.primaryTitle?tt`<text-group
          textClass=${this.textClass}
          .texts=${this.primaryTitle}
        >
        </text-group>`:$i}get hasAdminAccess(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}static get styles(){return yt`
      :host {
        display: block;
      }

      .hide {
        display: none;
      }

      .lending-wrapper {
        width: 100%;
        margin: 0 auto;
        background: var(--primaryBGColor, #000);
        color: var(--primaryTextColor, #fff);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }
    `}};window.customElements.define("ia-book-actions",b8)});var M5=Zt(()=>{ki();$s();Ov();Lv();Vh();Su();Du();Iv();Hv();Hv()});var L5={};Ln(L5,{IaBookTheater:()=>Gh});var Gh,I5=Zt(()=>{fg();Cd();mo();M5();_i("** ia-book-actions loaded 1.4.1 **");Gh=class extends hi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:t=>t==="false"?null:t==="true"||t===!0},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}constructor(){super(),this.item=void 0,this.baseHost="",this.signedIn=null,this.viewportInFullscreen=!1,this.sharedObserver=void 0,this.manifest=null,this.actionBarHeightPx=0,this.primaryReaderHeightPx=0}firstUpdated(){var r;let t=(r=document.querySelector(".js-ia-metadata"))==null?void 0:r.value;t&&(this.item=JSON.parse(t)),this.loadObserver()}get modal(){return document.querySelector("modal-manager")}get itemNav(){return this.shadowRoot.querySelector("ia-item-navigator")}loadObserver(){this.sharedObserver=new To}manageFullscreen(t){var s;let r=(s=t.detail)==null?void 0:s.fullscreen;this.viewportInFullscreen=r||null}static get styles(){return yt`
      div[slot="main"] {
        height: inherit;
        width: inherit;
      }
      ia-bookreader {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        width: 100%;
      }
    `}setMenuShortcuts(t){this.menuShortcuts=[...t.detail]}setMenuContents(t){let r=[...t.detail];this.menuContents=r}manageSideMenuEvents(t){let{menuId:r,action:s}=t.detail;r&&(s==="open"?(this.itemNav.openShortcut(r),this.openShortcut(r)):s==="toggle"&&(this.itemNav.openMenu(r),this.itemNav.toggleMenu()))}render(){return tt`
      <ia-bookreader
      .item=${this.item}
      .baseHost=${this.baseHost}
      ?signedIn=${this.signedIn}
      class="focus-on-child-only"
      style="min-height: inherit;"
      .sharedObserver=${this.sharedObserver}
      .modal=${this.modal}
      @fullscreenStateUpdated=${this.manageFullscreen}
      >
        <div slot="header">
          <slot name="header"></slot>
        </div>
        <!--
          This width is set via CSS, but is not working on older browsers
          for some reason, resulting in black screen. So set explicitly.
        -->
        <div slot="main" style="width:100%">
          <slot name="main"></slot>
        </div>
      </ia-bookreader>
    `}};customElements.define("ia-book-theater",Gh);_i("** ia-book-theater defined **")});var w8={};function Ua(e,t,r){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=e,this.bookId=t||"",this.postInitCB=r,this.tokenErrorMessage="no access token"}var D5=Zt(()=>{Ua.prototype.init=function(){this.initiateRequest()};Ua.prototype.grantAccess=function(){this.startTimer();var e=this.requestCount===1&&this.postInitCB;e&&this.postInitCB()};Ua.prototype.requestError=function(e){if(typeof archive_analytics!="undefined"){var t=e.responseJSON?e.responseJSON.error.replace(/\s/g,"_"):"unknown",r="BRSearchInsideToken-ReqErr-"+e.status+"-From-"+t;window.Sentry&&e.status>=400&&window.Sentry.captureMessage(r)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})};Ua.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()};Ua.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(e){this.grantAccess()}.bind(this),function(e){this.requestError(e)}.bind(this))};Ua.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null};Ua.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)};Ua.prototype.hasValidLoanToken=function(){var e="loan-"+this.bookId,t;try{t=document.cookie}catch(r){t=""}return t.indexOf(e)>-1};window.SearchInsideAccess=Ua});var x8={};var R5=Zt(()=>{window.BookReaderJSIAinit=function(){function e(p,g,m){var y=g||{};if(jQuery.extend(!0,y,t(p)),jQuery.extend(!0,y,r(p)),jQuery.extend(!0,y,s(p)),jQuery.extend(!0,y,l(p)),y.bookUrl=p.bookUrl,y.bookUri=p.bookUri,p.lendingInfo.isOpenLibraryLending?(y.bookUrlText=y.bookTitle+"<br>&larr; Back to book details on Open Library",y.bookUrlTitle="Go to this book's page on Open Library",y.bookUrlMoreInfo="More information on Open Library"):(y.bookUrlText=y.bookTitle+"<br>&larr; Back to item details",y.bookUrlTitle="Go to this book's page on Archive.org",y.bookUrlMoreInfo="More information on Archive.org"),y.imagesBaseURL="/includes/build/BookReader/images/",y.protected=p.lendingInfo.shouldProtectImages,y.thumbnail="//archive.org/download/"+p.id+"/page/cover_t.jpg",y.enableExperimentalControls=!0,y.enablePageResume=!0,isNaN(parseInt(y.defaultStartLeaf))||(y.titleLeaf=y.defaultStartLeaf),m){var x=m.plugins;x&&(y.plugins=y.plugins||{},jQuery.extend(!0,y.plugins,m.plugins),delete m.plugins),jQuery.extend(y,m),x&&(m.plugins=x)}return y}function t(p){var g={},m=[],y=Array(p.metadata.title).join(", ");if(y&&m.push({label:"Title",value:y,extraValueClass:"larger"}),p.metadata.creator&&m.push({label:"Author",value:Array(p.metadata.creator).join(", "),extraValueClass:"larger"}),p.metadata.publishDate&&m.push({label:"Publish Data",value:p.metadata.publishDate,extraValueClass:""}),p.metadata.collection&&p.metadata.collection.length>0){var x=$.map(p.metadata.collection,function(k){return'<a href="/details/'+k+'">'+k+"</a>"}).join(", ");m.push({label:"Collections",value:x,extraValueClass:""})}if(p.metadata.sponsor&&p.metadata.contributor&&p.metadata.sponsor==p.metadata.contributor?m.push({label:"Sponsor &amp; Contributor",value:p.metadata.sponsor,extraValueClass:""}):(p.metadata.sponsor&&m.push({label:"Sponsor",value:p.metadata.sponsor,extraValueClass:""}),p.metadata.contributor&&m.push({label:"Contributor",value:p.metadata.contributor,extraValueClass:""})),g.metadata=m,p.metadata.language){var w=typeof p.metadata.language=="string"?p.metadata.language:p.metadata[0]?p.metadata[0]:null;g.bookLanguage=w}return g}function r(p){var g={},m={};return p.lendingInfo.loanId&&(m.loanId=p.lendingInfo.loanId),g.lendingInfo=m,g}function s(p){var g={},m=function(y,x){var w="https://"+window.location.host+"/stream/"+p.id;return p.subPrefix!=p.id&&(w+="/"+urlencodePath(p.subPrefix)),w+="?ui=embed",typeof x!="undefined"&&(w+="#"+y.fragmentFromParams(x)),w};return g.getEmbedCode=function(y,x,w){return"<iframe src='"+m(this,w)+"' width='"+y+"' height='"+x+"' frameborder='0' ></iframe>"},g}function l(p){var g={},m=BookReader.prototype.getPageURI;if(g.getPageURI=function(y,x,w){typeof x=="undefined"&&(x=1),typeof w=="undefined"&&(w=0),x=Math.pow(2,Math.floor(Math.log2(Math.max(1,x))));var k=m.call(this,y,x,w);return k?(k=k+(k.indexOf("?")>-1?"&":"?"),k=k+"scale="+x+"&rotate="+w,k):""},p.lendingInfo.shouldProtectImages){g.renderPageURI=function(w,k){return xi(this,null,function*(){let S=yield fetch(k,{credentials:"include"}),P=S.headers.get("X-Obfuscate");if(!P){w.src=k;return}let E=S.headers.get("content-type"),O=yield S.arrayBuffer(),[a,h]=P.split("|");if(a!=="1")throw new Error("Unsupported obfuscation version");let v=k.replace(/https?:\/\/.*?\//,"/"),d=yield y(O.slice(0,1024),v,h),_=new Uint8Array(O);_.set(new Uint8Array(d),0);let C=new Blob([_],{type:E});w.addEventListener("load",N=>URL.revokeObjectURL(w.src),{once:!0}),w.src=URL.createObjectURL(C)})};function y(x,w,k){return xi(this,null,function*(){let S=yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(w)),P=yield crypto.subtle.importKey("raw",S.slice(0,16),"AES-CTR",!1,["decrypt"]);return yield crypto.subtle.decrypt({name:"AES-CTR",length:64,counter:new Uint8Array(atob(k).split("").map(E=>E.charCodeAt(0)))},P,x)})}}return g}function o(p){var g=BookReader.PLUGINS.resume.prototype.getResumeValue;BookReader.PLUGINS.resume.prototype.getResumeValue=function(){var y=null;return p.lendingInfo.userid&&BookReader.docCookies&&(y=BookReader.docCookies.getItem("br-resume-"+p.lendingInfo.userid)),y===null&&(y=g?g.call(this):0),y!==null&&(y=parseInt(y)),y};var m=BookReader.PLUGINS.resume.prototype.updateResumeValue;BookReader.PLUGINS.resume.prototype.updateResumeValue=function(y){var x=p.lendingInfo.userid?"br-resume-"+p.lendingInfo.userid:null;m.call(this,y,x)}}function c(p){if(CustomEvent){var g=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:p});document.dispatchEvent(g)}}function n(p,g){if(CustomEvent){var m=p.lendingStatus,y=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:g||[],lendingStatus:m||{},isAdmin:p.isAdmin}});document.dispatchEvent(y)}}function u(p,g,m,y){var x=g,w=g.lendingStatus;x=Object.assign({},x,w),x.lendingStatus="";var k=x.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+m.bookId,S=document.querySelector("ia-book-actions");S||(S=document.createElement("ia-book-actions")),S.userid=x.userid,S.identifier=m.bookId,S.bookTitle=m.bookTitle,S.lendingStatus=x,S.bwbPurchaseUrl=m.purchaseUrl,S.barType=y||"action",S.lendingBarPostInit=p,S.returnUrl=k,S.classList.add("focus-on-child-only");var P={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};S.loanRenewTimeConfig=P;var E=document.querySelector("#IABookReaderMessageWrapper");E?(E.appendChild(S),E.style.display=""):p()}return function(p,g){var m=p.data,y=p.brOptions,x=p.lendingInfo,w=x.lendingStatus||{},k=p.metadata;m.lendingInfo=x,m.metadata=k,window.onerror=logError;var S=e(m,y,g);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}o(m);var P=new BookReader(S);window.br=P;var E=x.isPrintDisabledOnly||m.isRestricted&&!w.is_login_required||x.isLendingRequired&&x.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",E));var O=!E,a=S.ui==="embed";E&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),c({brVersion:BookReader.version,downloadURLs:m.downloadUrls.filter(_=>!_[1].includes("media_url")),isRestricted:m.isRestricted});var h=function(){setTimeout(function(){P.init()},100)},v=function(){setTimeout(function(){n(x,m.downloadUrls.filter(C=>!C[1].includes("media_url"))),h()},100)};if(O){h(),a&&u(function(){},x,S,"title");return}var d=function(C){C&&typeof C!="undefined"&&C.errorMessage==="no access token"&&(P.options.enableSearch=!1);var N=a?"title":"action";u(v,x,S,N)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(P,k.identifier,d),this.searchInside.init()):d(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:w.available_to_browse||"",available_to_borrow:w.available_to_borrow||"",available_to_waitlist:w.available_to_waitlist||"",user_has_browsed:w.user_has_browsed||"",user_has_borrowed:w.user_has_borrowed||"",user_on_waitlist:w.user_on_waitlist||"",user_can_claim_waitlist:w.user_can_claim_waitlist||""})}}()});wr();Mc();ki();Vr();wr();ki();Vr();var b0;(function(e){e.processing="processing",e.complete="complete"})(b0||(b0={}));var Cp=class extends hi{constructor(){super(...arguments),this.mode="processing"}render(){return tt`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=yt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=yt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=yt`var(--activityIndicatorLoadingRingColor, #333333)`,s=yt`var(--activityIndicatorLoadingDotColor, #333333)`;return yt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${s};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};de([ri({type:String})],Cp.prototype,"mode",void 0);Cp=de([cr("ia-activity-indicator")],Cp);sd();wr();ki();Vr();wr();ki();Vr();sd();ki();Mc();var Nc=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};function*Tp(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*Qu(Tp(e.shadowRoot.activeElement))))}function bk(){return[...Tp()].pop()}var w0=new WeakMap;function _0(e){let t=w0.get(e);return t||(t=window.getComputedStyle(e,null),w0.set(e,t)),t}function wk(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=_0(e);return t.visibility!=="hidden"&&t.display!=="none"}function xk(e){let t=_0(e),{overflowY:r,overflowX:s}=t;return r==="scroll"||s==="scroll"?!0:r!=="auto"||s!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&s==="auto"}function _k(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!wk(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:xk(e)}function kk(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function x0(e){let t=new WeakMap,r=[];function s(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&_k(l)&&r.push(l),l instanceof HTMLSlotElement&&kk(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{s(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&s(l.shadowRoot)}for(let o of Array.from(l.children))s(o)}return s(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var jc=[],Ak=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let s=bk();if(this.previousFocus=s,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=x0(this.element),o=l.findIndex(n=>n===s);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...Tp()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){jc.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){jc=jc.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return jc[jc.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=x0(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],s=this.tabDirection==="forward"?t:r;typeof(s==null?void 0:s.focus)=="function"&&(this.currentFocus=s,s.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},Sk=tt`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,Ep=class extends hi{constructor(){super(...arguments),this.config=new Nc}render(){return tt`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?tt`<div class="logo-icon">${Sk}</div>`:$i}
            ${this.config.title?tt`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?tt`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?tt` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?tt` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return tt`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=yt`var(--modalLogoSize, 6.5rem)`,t=yt`var(--processingImageSize, 7.5rem)`,r=yt`var(--modalCornerRadius, 1rem)`,s=yt`var(--modalBorder, 2px solid black)`,l=yt`var(--modalBottomMargin, 2.5rem)`,o=yt`var(--modalTopMargin, 5rem)`,c=yt`var(--modalHeaderBottomPadding, 0.5em)`,n=yt`var(--modalBottomPadding, 2rem)`,u=yt`var(--modalScrollOffset, 5px)`,p=yt`var(--modalTitleFontSize, 1.8rem)`,g=yt`var(--modalSubtitleFontSize, 1.4rem)`,m=yt`var(--modalHeadlineFontSize, 1.6rem)`,y=yt`var(--modalMessageFontSize, 1.4rem)`,x=yt`var(--modalTitleLineHeight, normal)`,w=yt`var(--modalSubtitleLineHeight, normal)`,k=yt`var(--modalHeadlineLineHeight, normal)`,S=yt`var(--modalMessageLineHeight, normal)`;return yt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${p};
        font-weight: bold;
        line-height: ${x};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${S};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};de([ri({type:Object})],Ep.prototype,"config",void 0);Ep=de([cr("modal-template")],Ep);var ks;(function(e){e.Open="open",e.Closed="closed"})(ks||(ks={}));var Ck=class{constructor(e){this.windowResizeThrottler=Ml(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case ks.Open:this.startResizeListener(),this.stopDocumentScroll();break;case ks.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Rl=class extends hi{constructor(){super(...arguments),this.mode=ks.Closed,this.hostBridge=new Ck(this),this.modal=new Ak(this),this.closeOnBackdropClick=!0}firstUpdated(){return Ga(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return tt`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=ks.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Nc,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Ga(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=ks.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=yt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=yt`var(--modalBackdropZindex, 1000)`,r=yt`var(--modalWidth, 32rem)`,s=yt`var(--modalMaxWidth, 95%)`,l=yt`var(--modalZindex, 2000)`;return yt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};de([ri({type:String,reflect:!0})],Rl.prototype,"mode",void 0);de([ri({type:Object})],Rl.prototype,"customModalContent",void 0);de([ri({type:Object})],Rl.prototype,"hostBridge",void 0);de([ln("modal-template")],Rl.prototype,"modalTemplate",void 0);Rl=de([cr("modal-manager")],Rl);pd();zc();jl();Dn();mo();function u6(){try{return document.cookie,!0}catch(e){return!1}}function Ib(){let e=()=>{we("#theatre-ia-wrap").removeClass("flagged"),we(".bookreader-playlist-container").removeClass("hide")};we(".toggle-flag-overlay").on("click",t=>{t.preventDefault(),e()}),we("#flag-checkboxes a").on("click",function(r){r.preventDefault(),we(this).children(".my-checkbox").toggleClass("checked"),we.get(we(this).attr("href")),e()}),u6()&&Fn.get("logged-in-user")!==void 0&&(we("#flag-popover li").on("click",function(){return we(this).find("a").trigger("click"),!1}),we("#flag-popover a").on("click",function(r){r.preventDefault();let s=we("#item-flags-popup"),l=we(this),o=we(l).parent();return we(o).toggleClass("selected"),we(s).removeClass("open"),we.getJSON(`${we(this).attr("href")}&no_chrome=1`,c=>{let n=we(c.button);we(s).replaceWith(n),we("#flag-button-container").html(c.button),we("#flag-overlay").html(c.overlay),c.has_flags?we("#theatre-ia-wrap").addClass("flagged"):we("#theatre-ia-wrap").removeClass("flagged"),Ib()}),!1}))}we(document).ready(()=>{_i("initialize item flags"),Ib()});mo();wr();ki();Vr();var $d=globalThis,Od=$d.ShadowRoot&&($d.ShadyCSS===void 0||$d.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Rb=Symbol(),Db=new WeakMap,jb=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==Rb)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Od&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=Db.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Db.set(t,e))}return e}toString(){return this.cssText}},Nb=e=>new jb(typeof e=="string"?e:e+"",void 0,Rb);var zf=(e,t)=>{if(Od)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let s=document.createElement("style"),l=$d.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)}},Md=Od?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return Nb(r)})(e):e;var{is:d6,defineProperty:h6,getOwnPropertyDescriptor:p6,getOwnPropertyNames:f6,getOwnPropertySymbols:m6,getPrototypeOf:g6}=Object,Za=globalThis,Bb=Za.trustedTypes,v6=Bb?Bb.emptyScript:"",Uf=Za.reactiveElementPolyfillSupport,Jc=(e,t)=>e,Vf={toAttribute(e,t){switch(t){case Boolean:e=e?v6:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},Ld=(e,t)=>!d6(e,t),Hb={attribute:!0,type:String,converter:Vf,reflect:!1,hasChanged:Ld},Fb,zb;(Fb=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(zb=Za.litPropertyMetadata)!=null||(Za.litPropertyMetadata=new WeakMap);var Zc=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Hb){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),s=this.getPropertyDescriptor(e,r,t);s!==void 0&&h6(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){var o;let{get:s,set:l}=(o=p6(this.prototype,e))!=null?o:{get(){return this[t]},set(c){this[t]=c}};return{get(){return s==null?void 0:s.call(this)},set(c){let n=s==null?void 0:s.call(this);l.call(this,c),this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:Hb}static _$Ei(){if(this.hasOwnProperty(Jc("elementProperties")))return;let e=g6(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Jc("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Jc("properties"))){let t=this.properties,r=[...f6(t),...m6(t)];for(let s of r)this.createProperty(s,t[s])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[r,s]of t)this.elementProperties.set(r,s)}this._$Eh=new Map;for(let[t,r]of this.elementProperties){let s=this._$Eu(t,r);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(Md(s))}else e!==void 0&&t.push(Md(e));return t}static _$Eu(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var t;let e=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return zf(e,this.constructor.elementStyles),e}connectedCallback(){var e,t;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var s;return(s=r.hostConnected)==null?void 0:s.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EC(e,t){var l;let r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){let o=(((l=r.converter)==null?void 0:l.toAttribute)!==void 0?r.converter:Vf).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,t){var l;let r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){let o=r.getPropertyOptions(s),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((l=o.converter)==null?void 0:l.fromAttribute)!==void 0?o.converter:Vf;this._$Em=s,this[s]=c.fromAttribute(t,o.type),this._$Em=null}}requestUpdate(e,t,r){var s;if(e!==void 0){if(r!=null||(r=this.constructor.getPropertyOptions(e)),!((s=r.hasChanged)!=null?s:Ld)(this[e],t))return;this.P(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,t,r){var s;this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$Em!==e&&((s=this._$Ej)!=null?s:this._$Ej=new Set).add(e)}_$ET(){return xi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r,s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((r=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,c]of this._$Ep)this[o]=c;this._$Ep=void 0}let l=this.constructor.elementProperties;if(l.size>0)for(let[o,c]of l)c.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],c)}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(s=this._$EO)==null||s.forEach(l=>{var o;return(o=l.hostUpdate)==null?void 0:o.call(l)}),this.update(t)):this._$EU()}catch(l){throw e=!1,this._$EU(),l}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(e){}firstUpdated(e){}},Ub;Zc.elementStyles=[],Zc.shadowRootOptions={mode:"open"},Zc[Jc("elementProperties")]=new Map,Zc[Jc("finalized")]=new Map,Uf==null||Uf({ReactiveElement:Zc}),((Ub=Za.reactiveElementVersions)!=null?Ub:Za.reactiveElementVersions=[]).push("2.0.4");var Id={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},Qc=Symbol(),Wf=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,t)=>{this.o=e,this.h=t}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,t,r){var l,o,c;this.p=0,this.i=0,(this._=e).addController(this);let s=typeof t=="object"?t:{task:t,args:r};this.v=s.task,this.j=s.args,this.m=(l=s.argsEqual)!=null?l:Vb,this.k=s.onComplete,this.A=s.onError,this.autoRun=(o=s.autoRun)!=null?o:!0,"initialValue"in s&&(this.u=s.initialValue,this.i=2,this.O=(c=this.T)==null?void 0:c.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;let e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}S(){return xi(this,null,function*(){let e=this.T(),t=this.O;this.O=e,e===t||e===void 0||t!==void 0&&this.m(t,e)||(yield this.run(e))})}run(e){return xi(this,null,function*(){var o,c,n,u,p;let t,r;e!=null||(e=this.T()),this.O=e,this.i===1?(o=this.q)==null||o.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();let s=++this.p;this.q=new AbortController;let l=!1;try{t=yield this.v(e,{signal:this.q.signal})}catch(g){l=!0,r=g}if(this.p===s){if(t===Qc)this.i=0;else{if(l===!1){try{(c=this.k)==null||c.call(this,t)}catch(g){}this.i=2,(n=this.o)==null||n.call(this,t)}else{try{(u=this.A)==null||u.call(this,r)}catch(g){}this.i=3,(p=this.h)==null||p.call(this,r)}this.u=t,this.l=r}this._.requestUpdate()}})}abort(e){var t;this.i===1&&((t=this.q)==null||t.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var t,r,s,l;switch(this.i){case 0:return(t=e.initial)==null?void 0:t.call(e);case 1:return(r=e.pending)==null?void 0:r.call(e);case 2:return(s=e.complete)==null?void 0:s.call(e,this.value);case 3:return(l=e.error)==null?void 0:l.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}},Vb=(e,t)=>e===t||e.length===t.length&&e.every((r,s)=>!Ld(r,t[s]));wr();ki();Vr();var qf,Dd=window,Ul=Dd.trustedTypes,Wb=Ul?Ul.createPolicy("lit-html",{createHTML:e=>e}):void 0,Kf="$lit$",Ja=`lit$${(Math.random()+"").slice(9)}$`,Zb="?"+Ja,y6=`<${Zb}>`,Is=document,Rd=()=>Is.createComment(""),tu=e=>e===null||typeof e!="object"&&typeof e!="function",Jb=Array.isArray,b6=e=>Jb(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Gf=`[ 	
\f\r]`,eu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,qb=/-->/g,Gb=/>/g,Ms=RegExp(`>|${Gf}(?:([^\\s"'>=/]+)(${Gf}*=${Gf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Yb=/'/g,Kb=/"/g,Qb=/^(?:script|style|textarea|title)$/i,e1=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),_M=e1(1),kM=e1(2),iu=Symbol.for("lit-noChange"),zn=Symbol.for("lit-nothing"),Xb=new WeakMap,Ls=Is.createTreeWalker(Is,129,null,!1);function t1(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Wb!==void 0?Wb.createHTML(t):t}var w6=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=eu;for(let n=0;n<r;n++){let u=e[n],p,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===eu?g[1]==="!--"?c=qb:g[1]!==void 0?c=Gb:g[2]!==void 0?(Qb.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Ms):g[3]!==void 0&&(c=Ms):c===Ms?g[0]===">"?(c=l!=null?l:eu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,p=g[1],c=g[3]===void 0?Ms:g[3]==='"'?Kb:Yb):c===Kb||c===Yb?c=Ms:c===qb||c===Gb?c=eu:(c=Ms,l=void 0);let x=c===Ms&&e[n+1].startsWith("/>")?" ":"";o+=c===eu?u+y6:m>=0?(s.push(p),u.slice(0,m)+Kf+u.slice(m)+Ja+x):u+Ja+(m===-2?(s.push(void 0),n):x)}return[t1(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Xf=class i1{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[p,g]=w6(t,r);if(this.el=i1.createElement(p,s),Ls.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Ls.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Kf)||y.startsWith(Ja)){let x=g[c++];if(m.push(y),x!==void 0){let w=l.getAttribute(x.toLowerCase()+Kf).split(Ja),k=/([.?@])?(.*)/.exec(x);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?_6:k[1]==="?"?A6:k[1]==="@"?S6:jd})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Qb.test(l.tagName)){let m=l.textContent.split(Ja),y=m.length-1;if(y>0){l.textContent=Ul?Ul.emptyScript:"";for(let x=0;x<y;x++)l.append(m[x],Rd()),Ls.nextNode(),u.push({type:2,index:++o});l.append(m[y],Rd())}}}else if(l.nodeType===8)if(l.data===Zb)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(Ja,m+1))!==-1;)u.push({type:7,index:o}),m+=Ja.length-1}o++}}static createElement(t,r){let s=Is.createElement("template");return s.innerHTML=t,s}};function Vl(e,t,r=e,s){var l,o,c,n;if(t===iu)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,p=tu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==p&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),p===void 0?u=void 0:(u=new p(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Vl(e,u._$AS(e,t.values),u,s)),t}var x6=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Is).importNode(r,!0);Ls.currentNode=l;let o=Ls.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let p;u.type===2?p=new r1(o,o.nextSibling,this,e):u.type===1?p=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(p=new C6(o,this,e)),this._$AV.push(p),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Ls.nextNode(),c++)}return Ls.currentNode=Is,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},r1=class n1{constructor(t,r,s,l){var o;this.type=2,this._$AH=zn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Vl(this,t,r),tu(t)?t===zn||t==null||t===""?(this._$AH!==zn&&this._$AR(),this._$AH=zn):t!==this._$AH&&t!==iu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):b6(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==zn&&tu(this._$AH)?this._$AA.nextSibling.data=t:this.$(Is.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Xf.createElement(t1(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new x6(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Xb.get(t.strings);return r===void 0&&Xb.set(t.strings,r=new Xf(t)),r}T(t){Jb(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new n1(this.k(Rd()),this.k(Rd()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},jd=class{constructor(e,t,r,s,l){this.type=1,this._$AH=zn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=zn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Vl(this,e,t,0),o=!tu(e)||e!==this._$AH&&e!==iu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Vl(this,c[r+n],t,n),u===iu&&(u=this._$AH[n]),o||(o=!tu(u)||u!==this._$AH[n]),u===zn?e=zn:e!==zn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===zn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},_6=class extends jd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===zn?void 0:e}},k6=Ul?Ul.emptyScript:"",A6=class extends jd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==zn?this.element.setAttribute(this.name,k6):this.element.removeAttribute(this.name)}},S6=class extends jd{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Vl(this,e,t,0))!==null&&r!==void 0?r:zn)===iu)return;let s=this._$AH,l=e===zn&&s!==zn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==zn&&(s===zn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},C6=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Vl(this,e)}},Yf=Dd.litHtmlPolyfillSupport;Yf==null||Yf(Xf,r1),((qf=Dd.litHtmlVersions)!==null&&qf!==void 0?qf:Dd.litHtmlVersions=[]).push("2.8.0");var Zf=e=>e!=null?e:zn;ki();ki();wr();ki();Vr();var E6=Gn`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
  fill=""></path>
</svg>`,T6=Gn`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
fill=""></path>
</svg>`,io=class extends hi{constructor(){super(...arguments),this.open=!1,this.isDisabled=!1,this.displayCaret=!1,this.closeOnSelect=!1,this.openViaButton=!0,this.openViaCaret=!0,this.includeSelectedOption=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{},this.isCustomList=!1,this.hasCustomClickHandler=!1,this.closeOnEscape=!1,this.closeOnBackdropClick=!1,this.boundKeyboardListener=e=>{switch(e.key){case"Escape":case"Esc":this.closeOptions();break;default:break}},this.closeOptions=e=>{e&&e.type==="click"&&e.stopPropagation(),this.open=!1},this.handlingCaretClick=!1}firstUpdated(){return xi(this,null,function*(){yield new Promise(e=>setTimeout(e,0)),this.addEventListener("closeDropdown",this.closeOptions)})}disconnectedCallback(){var e;(e=super.disconnectedCallback)===null||e===void 0||e.call(this),this.removeKeyboardListener()}setupKeyboardListener(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}removeKeyboardListener(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}get dropdownState(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}toggleOptions(){this.open=!this.open}mainButtonClicked(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}caretInteracted(){this.openViaCaret&&this.toggleOptions()}caretClicked(){this.handlingCaretClick=!0,this.caretInteracted()}caretKeyDown(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.caretInteracted())}renderOption(e){let{label:t,url:r=void 0,id:s}=e,l,o=this.selectedOption===s?"selected":"";return r?l=tt`<a
        href=${r}
        @click=${c=>this.optionClicked(c,e)}
        >${t}</a
      >`:l=tt`<button
        @click=${c=>this.optionClicked(c,e)}
      >
        ${t}
      </button>`,tt`<li class=${o}>${l}</li>`}optionClicked(e,t){var r;e.stopPropagation(),this.selectedOption!==t.id&&(this.selectedOption=t.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:t}})),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)),this.closeOnSelect&&this.closeOptions()}get availableOptions(){return this.includeSelectedOption?this.options:this.options.filter(e=>this.selectedOption!==e.id)}get caretTemplate(){if(!this.displayCaret)return tt``;let e=this.openViaCaret&&!this.openViaButton?"0":void 0,t=this.openViaCaret?"button":void 0;return tt`
      <span
        class="caret"
        tabindex=${Zf(e)}
        role=${Zf(t)}
        @click=${this.isDisabled||this.hasCustomClickHandler?$i:this.caretClicked}
        @keydown=${this.isDisabled||this.hasCustomClickHandler?$i:this.caretKeyDown}
      >
        <span ?hidden=${!this.open} class="caret-up">
          <slot name="caret-up">${E6}</slot>
        </span>
        <span ?hidden=${this.open} class="caret-down">
          <slot name="caret-down">${T6}</slot>
        </span>
      </span>
    `}get dropdownTemplate(){return this.isCustomList?tt`<slot name="list"></slot>`:tt`${this.availableOptions.map(e=>this.renderOption(e))}`}get backdropTemplate(){return this.closeOnBackdropClick?this.open?tt`
      <div
        id="dropdown-backdrop"
        @keyup=${this.closeOptions}
        @click=${this.closeOptions}
      ></div>
    `:tt``:tt``}render(){return tt`
      <div class="ia-dropdown-group">
        <button
          class="click-main"
          @click=${this.isDisabled||this.hasCustomClickHandler?$i:this.mainButtonClicked}
          ?disabled=${this.isDisabled}
        >
          <span class="sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.caretTemplate}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.dropdownTemplate}
        </ul>

        ${this.backdropTemplate}
      </div>
    `}static get styles(){let e=yt`var(--dropdownBorderWidth, 1px)`,t=yt`var(--dropdownBorderRadius, 4px)`,r=yt`var(--dropdownBorderColor, #fff)`,s=yt`var(--dropdownBgColor, #333)`,l=yt`var(--dropdownTextColor, #fff)`,o=yt`var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))`,c=yt`var(--dropdownSelectedBgColor, #fff)`;return yt`
      :host {
        display: inline;
        color: ${l};
      }

      svg.caret-up-svg,
      svg.caret-down-svg,
      ::slotted(svg.caret-up-svg),
      ::slotted(svg.caret-down-svg) {
        fill: var(--dropdownCaretColor, #fff);
        vertical-align: middle;
      }

      button.click-main {
        background: transparent;
        color: inherit;
        padding: var(--dropdownMainButtonPadding, 0px);
        border: var(--dropdownMainButtonBorder, none);
        border-radius: var(--dropdownMainButtonBorderRadius, none);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        align-content: center;
        flex-wrap: nowrap;
        flex-direction: var(--dropdownMainButtonFlexDirection, row);
        z-index: var(--dropdownListZIndex, 2);
      }

      button.click-main:disabled {
        pointer-events: none;
        cursor: not-allowed;
        opacity: 0.5;
        /* Disable text selection on disabled button */
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10 and IE 11 */
        user-select: none; /* Standard syntax */
      }

      button.click-main:hover {
        background-color: var(--dropdownMainButtonHoverBgColor, inherit);
      }

      button.click-main:focus,
      button.click-main:focus-visible {
        background-color: var(--dropdownMainButtonFocusBgColor, inherit);
      }

      button.click-main:active {
        background-color: var(--dropdownMainButtonActiveBgColor, inherit);
      }

      button slot[name='dropdown-label'] {
        /* Set var to 0px for column layout */
        padding-right: var(--buttonSlotPaddingRight, 5px);
        display: inline-block;
      }

      .ia-dropdown-group {
        width: inherit;
        height: inherit;
        position: relative;
      }

      .sr-only {
        border: 0 !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        height: 1px !important;
        margin: -1px !important;
        overflow: hidden !important;
        padding: 0 !important;
        position: absolute !important;
        width: 1px !important;
        white-space: nowrap !important;
        -webkit-user-select: none !important;
        user-select: none !important;
      }

      .caret {
        /* Maintain centered caret position but with a full-height clickable region */
        display: flex;
        align-self: stretch;
        align-items: center;
        padding: var(--caretPadding, 0px);
      }

      .caret svg {
        height: var(--caretHeight, 10px);
        width: var(--caretWidth, 20px);
      }

      #dropdown-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: transparent;
        z-index: 1;
      }

      ul {
        z-index: var(--dropdownListZIndex, 2);
      }

      ul.dropdown-main.closed {
        visibility: hidden;
        height: 1px;
        width: 1px;
      }

      ul.dropdown-main {
        position: var(--dropdownListPosition, absolute);
        list-style: none;
        margin: var(--dropdownOffsetTop, 5px) 0 0 0;
        padding: 0;
        color: ${l};
        background: ${s};

        font-size: var(--dropdownFontSize, inherit);

        border-top: var(--dropdownBorderTopWidth, ${e});
        border-right: var(--dropdownBorderRightWidth, ${e});
        border-bottom: var(--dropdownBorderBottomWidth, ${e});
        border-left: var(--dropdownBorderLeftWidth, ${e});
        /* Must be after border-width settings for specificity */
        border-style: solid;
        border-color: ${r};

        border-radius: var(
            --dropdownBorderTopLeftRadius,
            ${t}
          )
          var(--dropdownBorderTopRightRadius, ${t})
          var(--dropdownBorderBottomRightRadius, ${t})
          var(--dropdownBorderBottomLeftRadius, ${t});

        white-space: var(--dropdownWhiteSpace, normal);

        /* Prevent top/bottom inner li from overlapping inner border */
        overflow: hidden;
      }

      ul.dropdown-main li:hover {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
        list-style: none;
        cursor: pointer;
      }

      ul.dropdown-main li:hover:first-child {
        border-top-color: ${o};
      }

      ul.dropdown-main li:hover:last-child {
        border-bottom-color: ${o};
      }

      ul.dropdown-main li:hover:not(:first-child) {
        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
      }
      ul.dropdown-main li:hover:not(:last-child) {
        border-bottom: 0.5px solid
          var(--dropdownHoverTopBottomBorderColor, #333);
      }

      ul.dropdown-main li.selected:last-child {
        border-bottom-color: ${c};
      }

      ul.dropdown-main li.selected:first-child {
        border-top-color: ${c};
      }

      ul.dropdown-main li:hover > *,
      ul.dropdown-main li:focus-within > * {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
      }

      ul.dropdown-main li.selected > * {
        background-color: ${c};
        color: var(--dropdownSelectedTextColor, #2c2c2c);
      }

      ul.dropdown-main li {
        background: ${s};
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 0.5px solid ${s};
        border-top: 0.5px solid ${s};
      }

      ul.dropdown-main li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        outline: inherit;
      }

      ul.dropdown-main li a {
        text-decoration: none;
        display: block;
        box-sizing: border-box;
      }

      ul.dropdown-main li:first-child {
        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);
        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);
      }

      ul.dropdown-main li:last-child {
        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);
        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);
      }

      /* cover the list with the label */
      ul.dropdown-main li > * > :first-child {
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        align-content: center;
        flex-wrap: nowrap;
        height: 100%;
        padding: var(--dropdownItemPaddingTop, 5px)
          var(--dropdownItemPaddingRight, 10px)
          var(--dropdownItemPaddingBottom, 5px)
          var(--dropdownItemPaddingLeft, 10px);
        box-sizing: border-box;
      }

      ul.dropdown-main li > * {
        width: 100%;
        height: inherit;
        color: ${l};
        background: transparent;
        padding: 0;
      }
    `}};de([ri({type:Boolean,reflect:!0})],io.prototype,"open",void 0);de([ri({type:Boolean,reflect:!0})],io.prototype,"isDisabled",void 0);de([ri({type:Boolean})],io.prototype,"displayCaret",void 0);de([ri({type:Boolean})],io.prototype,"closeOnSelect",void 0);de([ri({type:Boolean})],io.prototype,"openViaButton",void 0);de([ri({type:Boolean})],io.prototype,"openViaCaret",void 0);de([ri({type:Boolean})],io.prototype,"includeSelectedOption",void 0);de([ri({type:String})],io.prototype,"selectedOption",void 0);de([ri({attribute:!1})],io.prototype,"options",void 0);de([ri({type:String})],io.prototype,"optionGroup",void 0);de([ri({attribute:!1})],io.prototype,"optionSelected",void 0);de([ri({type:Boolean,reflect:!0})],io.prototype,"isCustomList",void 0);de([ri({type:Boolean,reflect:!0})],io.prototype,"hasCustomClickHandler",void 0);de([ri({type:Boolean,reflect:!0})],io.prototype,"closeOnEscape",void 0);de([ri({type:Boolean,reflect:!0})],io.prototype,"closeOnBackdropClick",void 0);io=de([cr("ia-dropdown")],io);var Jf=class extends hi{render(){return tt`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};Jf.styles=yt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: var(--iconLabelFlexDirection, row);
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      white-space: nowrap;
      height: 100%;
    }

    /* https://css-tricks.com/flexbox-truncated-text/ */
    ::slotted(div.truncate) {
      display: flex;
      width: var(--labelWidth, 100%);
      text-align: left;
      word-wrap: break-word; /* Important for long words! */
      overflow: hidden;
      text-overflow: ellipsis;
      min-width: 0;
    }

    @supports not (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
      }
    }
    @supports (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
        display: -webkit-box;
        overflow-wrap: break-word;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        /* Fixed line-height needed to fit unicode and emojis
          https://stackoverflow.com/a/67807146
        */
        line-height: 1.2em;
        /* max-height needed for Safari browser */
        max-height: var(--labelTruncateHeight, 30px);
        max-width: var(--labelWidth, 100%);
      }
    }
  `;Jf=de([cr("ia-icon-label")],Jf);wr();ki();Vr();ki();wr();Ta();wr();Ta();Tn();Tn();wr();Ta();Ta();Tn();wr();Tn();wr();Ta();Ta();Tn();wr();Ta();Tn();wr();Tn();var bo=class extends kr{get created_on(){return this.rawMetadata.created_on!=null?new yo(this.rawMetadata.created_on):void 0}get file_creation_mtime(){return this.rawMetadata.file_creation_mtime!=null?new Un(this.rawMetadata.file_creation_mtime):void 0}get filename(){return this.rawMetadata.filename!=null?new zr(this.rawMetadata.filename):void 0}get file_basename(){return this.rawMetadata.file_basename!=null?new zr(this.rawMetadata.file_basename):void 0}get result_in_subfile(){return this.rawMetadata.result_in_subfile!=null?new Ds(this.rawMetadata.result_in_subfile):void 0}get query(){return this.rawMetadata.query!=null?new zr(this.rawMetadata.query):void 0}get date_favorited(){return this.rawMetadata.date_favorited!=null?new yo(this.rawMetadata.date_favorited):void 0}get updated_on(){return this.rawMetadata.updated_on!=null?new yo(this.rawMetadata.updated_on):void 0}get __href__(){return this.rawMetadata.__href__!=null?new zr(this.rawMetadata.__href__):void 0}};de([xt()],bo.prototype,"created_on",null);de([xt()],bo.prototype,"file_creation_mtime",null);de([xt()],bo.prototype,"filename",null);de([xt()],bo.prototype,"file_basename",null);de([xt()],bo.prototype,"result_in_subfile",null);de([xt()],bo.prototype,"query",null);de([xt()],bo.prototype,"date_favorited",null);de([xt()],bo.prototype,"updated_on",null);de([xt()],bo.prototype,"__href__",null);var Jo=class{constructor(e){var t;this.rawMetadata=e,this.fields=new bo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get collection_files_count(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.collection_files_count)!=null?new Un(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){return this.fields.collection_size}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get files_count(){return this.fields.files_count}get genre(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.genre)!=null?new zr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.indexflag)!=null?new zr(this.rawMetadata.fields.indexflag):void 0}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get lending___available_to_borrow(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_borrow)!=null?new Ds(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_browse)!=null?new Ds(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_waitlist)!=null?new Ds(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___status)!=null?new zr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.licenseurl)!=null?new zr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){return this.fields.mediatype}get month(){return this.fields.month}get noindex(){return this.fields.noindex}get num_favorites(){return this.fields.num_favorites}get num_reviews(){return this.fields.num_reviews}get publicdate(){return this.fields.publicdate}get reviewdate(){return this.fields.reviewdate}get review(){let e=this.rawMetadata.review;return e?{body:e.reviewbody,title:e.reviewtitle,author:e.reviewer,authorItem:e.reviewer_itemname,updatedate:new Date(e.reviewdate),createdate:new Date(e.createdate),stars:Number(e.stars)||0,__href__:e.__href__}:void 0}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get type(){return this.fields.type}get volume(){return this.fields.volume}get week(){return this.fields.week}get year(){return this.fields.year}};de([xt()],Jo.prototype,"collection_files_count",null);de([xt()],Jo.prototype,"genre",null);de([xt()],Jo.prototype,"indexflag",null);de([xt()],Jo.prototype,"lending___available_to_borrow",null);de([xt()],Jo.prototype,"lending___available_to_browse",null);de([xt()],Jo.prototype,"lending___available_to_waitlist",null);de([xt()],Jo.prototype,"lending___status",null);de([xt()],Jo.prototype,"licenseurl",null);de([xt()],Jo.prototype,"review",null);var rm=class{constructor(e){var t;this.rawMetadata=e,this.fields=new bo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new zr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get page_num(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.page_num)!=null?new Un(this.rawMetadata.fields.page_num):void 0}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get __href__(){return this.fields.__href__}};de([xt()],rm.prototype,"highlight",null);de([xt()],rm.prototype,"page_num",null);var ru;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(ru||(ru={}));var c1=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case ru.ALPHABETICAL:return t.sort((s,l)=>r.compare(s.key.toString(),l.key.toString()));case ru.NUMERIC:return t.sort((s,l)=>Number(l.key)-Number(s.key));case ru.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};de([xt()],c1.prototype,"getSortedBuckets",null);var M6=class{constructor(e){var t;this.rawMetadata=e,this.fields=new bo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.fields.query)===null||e===void 0?void 0:e.value}get title(){return this.fields.title}get query(){return this.fields.query}get date_favorited(){return this.fields.date_favorited}get __href__(){return this.fields.__href__}},nm=class{constructor(e){var t;this.rawMetadata=e,this.fields=new bo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.rawMetadata.fields)===null||e===void 0?void 0:e.url}get mediatype(){return new tm("web")}get title(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.url?new zr((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.url):void 0}get capture_dates(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.capture_dates?new yo((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.capture_dates):void 0}get __href__(){return this.fields.__href__}};de([xt()],nm.prototype,"title",null);de([xt()],nm.prototype,"capture_dates",null);var om=class{constructor(e){var t;this.rawMetadata=e,this.fields=new bo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new zr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get start(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.start)!=null?new zr(this.rawMetadata.fields.start):void 0}get __href__(){return this.fields.__href__}};de([xt()],om.prototype,"highlight",null);de([xt()],om.prototype,"start",null);var L6=["loans","waitlist","loan_history"];function I6(e){let t=e.slice(0,4),r=e.slice(4,6),s=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${s}T${l}:${o}:${c}Z`}function D6(e){var t;let r=[];for(let s of e){if(!(!((t=s.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(s.url),o=`https://web.archive.org/web/${s.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:s.url,capture_dates:s.captures.map(c=>I6(c)),__href__:o}})}return r}var R6=class u1{constructor(t,r){var s,l,o,c,n,u,p,g,m,y,x,w,k,S;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let P;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,P=Object.values(this.pageElements)[0]);let E=(s=t==null?void 0:t.hits)===null||s===void 0?void 0:s.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(E!=null&&E.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(E!=null&&E.length)&&!((p=P==null?void 0:P.hits)===null||p===void 0)&&p.hits?(E=P.hits.hits,this.totalResults=(g=P.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=P.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?E=this.handleLendingPageElement():!((x=this.pageElements)===null||x===void 0)&&x.web_archives&&(E=this.handleWebArchivesPageElement()),this.results=this.formatHits(E);let O=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(P!=null&&P.aggregations)&&(O=P.aggregations),O&&this.buildAggregations(O),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(S=t.account_extra_info)!==null&&S!==void 0?S:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(s=>{var l;return u1.createResult((l=s.hit_type)!==null&&l!==void 0?l:this.schemaHitType,s)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[s,l])=>(r[s]=new c1(l),r),{})}handleLendingPageElement(){var t,r;let s=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=s.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of L6)s[o]=this.formatHits(s[o]);return l}handleWebArchivesPageElement(){var t;let r=D6((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,s,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let c of o){let n=this.removeServicePrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(s=u==null?void 0:u.total)!==null&&s!==void 0?s:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new Jo(r);case"text":case"asr_text":return new rm(r);case"favorited_search":return new M6(r);case"web_archive":return new nm(r);case"tv_clip":return new om(r);default:return new Jo(r)}}},j6=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},N6=class{constructor(e){var t,r,s;this.rawResponse=e,this.request=new j6(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new R6((r=e.response)===null||r===void 0?void 0:r.body,(s=e.response)===null||s===void 0?void 0:s.hit_schema)}},Bd=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let s=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",s)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let s=this.filterParamsAsString(e.filters);s&&s!=="{}"&&t.append("filter_map",s)}if(e.sort&&e.sort.length>0){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("aggregations",s)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let s=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",s)}return t}},nu;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(nu||(nu={}));var B6=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},s1={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},Hd=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let s=new URL(window.location.href).searchParams,l=s.get("scope"),o=s.get("verbose"),c=s.get("debugging"),n=s.get("cacheDebug"),u="";for(let p of Object.keys(s1))if(s.get(p)){u=s1[p];break}u=(r=s.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return xi(this,null,function*(){var r,s;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(nu.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(s=c.response)===null||s===void 0?void 0:s.error;return n?this.getErrorResult(nu.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(nu.decodingError,n)}})}getErrorResult(e,t,r){return{error:new B6(e,t,r)}}printResponse(e){var t,r,s,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(s=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||s===void 0?void 0:s.hits;if(Array.isArray(n)&&n.length>1){let p=[];p.push(n[0]),p.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=p}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([p,g])=>{var m,y,x,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(x=k.buckets)===null||x===void 0?void 0:x.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[p]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let s=e.debugging,l=(t=s.messages)!==null&&t!==void 0?t:[],o=(r=s.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},H6=class extends Hd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Bd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},F6=class extends Hd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Bd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},z6=class extends Hd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Bd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Pa;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(Pa||(Pa={}));var U6=class extends Hd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Bd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},im=class d1{constructor(t={}){this.backendOptions=t}search(s){return xi(this,arguments,function*(t,r=Pa.METADATA){let l=yield d1.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new N6(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Pa.FULLTEXT:return new F6(r);case Pa.RADIO:return new z6(r);case Pa.FEDERATED:return new U6(r);case Pa.METADATA:default:return new H6(r)}}};im.default=new im;de([xt((e,t={})=>{let{includeCredentials:r=!1,verbose:s=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${s};${l};${o}`})],im,"getBackendForSearchType",null);var l1;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(l1||(l1={}));var h1=yt`var(--white, #fff)`,V6=yt`var(--primaryDisableCTAFill, #767676)`,W6=yt`var(--secondaryCTABorder, #999)`,q6=yt`var(--primaryCTAFill, #194880)`,am=yt`var(--primaryCTAFillRGB, 25, 72, 128)`,G6=yt`var(--primaryCTABorder, #c5d1df)`,Y6=yt`var(--primaryErrorCTAFill, #d9534f)`,sm=yt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,K6=yt`var(--primaryErrorCTABorder, #d43f3a)`,X6=yt`var(--secondaryCTAFill, #333)`,lm=yt`var(--secondaryCTAFillRGB, 51, 51, 51)`,Z6=yt`var(--primaryCTABorder, #979797)`,J6=yt`#ee8950`,Q6=yt`#ec7939`,e7=yt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${h1};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${h1};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${V6};
    border: 1px solid ${W6};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${J6}
    border-color: ${Q6};
  }

  .ia-button.primary {
    background-color: ${q6};
    border-color: ${G6};
  }
  .ia-button.primary:hover {
    background-color: rgba(${am}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${am}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${am}, 0.7);
  }

  .ia-button.danger {
    background-color: ${Y6};
    border-color: ${K6};
  }
  .ia-button.danger:hover {
    background-color: rgba(${sm}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${sm}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${sm}, 0.7);
  }

  .ia-button.dark {
    background-color: ${X6};
    border-color: ${Z6};
  }
  .ia-button.dark:hover {
    background-color: rgba(${lm}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${lm}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${lm}, 0.7);
  }
`,ou;(function(e){e.NETWORK="failed to connect to user lists backend service",e.BAD_RESPONSE="malformed response from backend",e.USER_NOT_FOUND="user with the given id was not found",e.LIST_NOT_FOUND="user list with the given id was not found",e.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",e.ITEM_NOT_TOUND="item with the given id was not found"})(ou||(ou={}));var t7=class extends Error{constructor(e,t,r){super(t,r),this.reason=e}},cm="application/json; charset=utf-8",Fd=class Yl{constructor({fetchHandler:t,searchService:r,userService:s,baseUrl:l=Yl.DEFAULT_BASE_URL}){this.fetchHandler=t,this.searchService=r,this.userService=s,this.baseUrl=l}fetchEndpoint(t,r,s,l){return xi(this,null,function*(){try{let o=yield this.fetchHandler.fetchApiResponse(t,{method:r,body:s,headers:l,includeCredentials:!0});return o.success?{success:o.value}:{error:Yl.getErrorResult(ou.LIST_NOT_FOUND,o.error)}}catch(o){return{error:Yl.getErrorResult(ou.NETWORK,o)}}})}fetchListsForUser(t){return xi(this,null,function*(){var r;let s=(r=yield this.userService.getLoggedInUser())===null||r===void 0?void 0:r.success,l=(s==null?void 0:s.itemname)===t?"me":t;return this.fetchEndpoint(`${this.baseUrl}/services/users/${l}/lists`)})}fetchList(t,r){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/${t}/lists/${r}`)})}fetchOwnListsContainingItem(t){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists?item=${t}`)})}fetchListMembers(t,r){return xi(this,null,function*(){let s=yield this.fetchList(t,r);if(!s.success)return s;let{members:l}=s.success;if(!l)throw Yl.getErrorResult(ou.BAD_RESPONSE);return{success:l}})}fetchListMemberSearchResults(t,r){return xi(this,null,function*(){let s=yield this.fetchListMembers(t,r);if(!s.success)return s;let l=s.success;if(l.length===0)return{success:[]};let o=`identifier:(${l.map(n=>n.identifier).join(" OR ")})`,c=yield this.searchService.search({query:o,rows:l.length,aggregations:{omit:!0}},Pa.METADATA);return c.success?{success:c.success.response.results}:{error:c.error}})}createList(t){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists`,"POST",JSON.stringify(t),{"Content-Type":cm})})}updateList(t,r){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"PATCH",JSON.stringify(r),{"Content-Type":cm})})}deleteList(t){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"DELETE")})}addMemberToList(t,r){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"POST",JSON.stringify(r),{"Content-Type":cm})})}removeMemberFromList(t,r){return xi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members/${r}`,"DELETE")})}static getErrorResult(t,r){return new t7(t,Yl.getErrorMessage(r),{cause:r})}static getErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error"}};Fd.DEFAULT_BASE_URL="https://archive.org";var $a=class extends hi{saveListDetails(e){return xi(this,null,function*(){var t,r,s,l;e.preventDefault();let o=(t=e.target)===null||t===void 0?void 0:t.querySelector("button#save-list-settings");o==null||o.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving"));try{let c={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},n;if(!((r=this.userList)===null||r===void 0)&&r.id?n=yield(s=this.userListsService)===null||s===void 0?void 0:s.updateList(this.userList.id,c):n=yield(l=this.userListsService)===null||l===void 0?void 0:l.createList(c),n.success)this.dispatchEvent(new CustomEvent("userListSaved",{detail:n.success}));else throw n.error}catch(c){this.dispatchEvent(new CustomEvent("userListError",{detail:{error:c}})),console.log("error",c),o==null||o.removeAttribute("disabled")}})}emitCloseModalEvent(e){e.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}render(){var e,t,r,s,l,o,c,n;return tt`
      <section class="new-list">
        <form id="user-list-form" @submit=${this.saveListDetails}>
          <div class="field">
            <input type="hidden" id="id" .value=${(t=(e=this.userList)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:""} />
            <label for="name">List name*</label>
            <input
              type="text"
              id="name"
              .value=${(s=(r=this.userList)===null||r===void 0?void 0:r.list_name)!==null&&s!==void 0?s:""}
              required
            />
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea
              id="description"
              .value=${(o=(l=this.userList)===null||l===void 0?void 0:l.description)!==null&&o!==void 0?o:""}
            ></textarea>
          </div>
          <div class="field">
            <label for="private">Private list</label>
            <input
              type="checkbox"
              id="private"
              .checked="${(n=(c=this.userList)===null||c===void 0?void 0:c.is_private)!==null&&n!==void 0?n:!1}"
            />
          </div>
          <div class="footer field">
            <button
              type="button"
              class="ia-button dark"
              id="cancel"
              @click=${this.emitCloseModalEvent}
            >
              Cancel
            </button>
            <button
              type="submit"
              id="save-list-settings"
              class="ia-button primary"
            >
              Save
            </button>
          </div>
        </form>
      </section>
    `}};$a.styles=[e7,yt`
      :host {
        display: block;
        padding: 15px 0 0 0;
        font-size: 14px;
        position: relative;
      }

      .field {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      label {
        display: inline-block;
        width: 90px;
        text-align: left;
        margin-right: 10px;
        font-weight: 700;
      }

      input[type='text'],
      textarea {
        line-height: 20px;
        padding: 5px;
        border-radius: 5px;
        width: 270px;
        font-family: inherit;
        font-size: inherit;
        resize: none;
        border-style: solid;
        outline: none;
        border-radius: 4px;
        border-width: 1px;
        border-color: #999;
      }

      input[type='checkbox'] {
        cursor: pointer;
        margin: 0;
      }

      label[for='private'] {
        cursor: pointer;
      }

      .footer {
        display: block;
        text-align: center;
        margin: 10px 0 0 0;
      }

      .ia-button {
        display: initial;
        padding: 0 15px;
        height: 3.5rem;
      }
    `];de([ri({type:Object}),ms("design:type",Object)],$a.prototype,"userList",void 0);de([ri({type:Object}),ms("design:type",Fd)],$a.prototype,"userListsService",void 0);de([ln("#id"),ms("design:type",HTMLInputElement)],$a.prototype,"listId",void 0);de([ln("#name"),ms("design:type",HTMLInputElement)],$a.prototype,"listName",void 0);de([ln("#description"),ms("design:type",HTMLInputElement)],$a.prototype,"listDescription",void 0);de([ln("#private"),ms("design:type",HTMLInputElement)],$a.prototype,"listPrivate",void 0);$a=de([cr("iaux-userlist-settings")],$a);wr();Tn();Nn();wr();Tn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();Nn();wr();Tn();wr();Tn();wr();Tn();wr();Tn();wr();Tn();wr();Tn();wr();Tn();var Qo=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};de([xt()],Qo.prototype,"values",null);de([xt()],Qo.prototype,"value",null);var js=class extends Qo{constructor(e){super(Wl.shared,e)}},mn=class extends Qo{constructor(e){super(Ea.shared,e)}},um=class extends Qo{constructor(e){super(es.shared,e)}},un=class extends Qo{constructor(e){super(vo.shared,e)}},hr=class extends Qo{constructor(e){super(da.shared,e)}},i7=class extends Qo{constructor(e){super(Gl.shared,e)}},zd=class extends Qo{constructor(e){super(Qa.shared,e)}},cu=class extends Qo{constructor(e){super(ql.shared,e)}},r7=class extends Qo{constructor(e,t){super(t,e)}},n7=class extends r7{constructor(e){let t=new Nd(da.shared);super(e,t)}},Sr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new mn(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new hr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new un(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new un(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new hr(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new hr(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new zd(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new hr(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new hr(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new hr(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new mn(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new hr(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new un(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new um(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new hr((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new un(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new mn(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new hr(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new hr(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new un(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new zd(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new hr(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new um(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new hr(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new un(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new cu(this.rawMetadata.mediatype):void 0}get noindex(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new js(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new hr(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new un(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new un(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new hr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new hr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new i7(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new hr(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new un(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new mn(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new hr(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new mn(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new um(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new hr(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new hr(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new mn(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new mn(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new mn(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new n7(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new hr(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new hr(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new hr(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new un(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new hr(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new hr(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new un(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new hr(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new hr(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new un(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new mn(this.rawMetadata.year):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new hr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new mn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}};de([xt()],Sr.prototype,"addeddate",null);de([xt()],Sr.prototype,"audio_codec",null);de([xt()],Sr.prototype,"audio_sample_rate",null);de([xt()],Sr.prototype,"avg_rating",null);de([xt()],Sr.prototype,"collection",null);de([xt()],Sr.prototype,"collections_raw",null);de([xt()],Sr.prototype,"collection_size",null);de([xt()],Sr.prototype,"contributor",null);de([xt()],Sr.prototype,"coverage",null);de([xt()],Sr.prototype,"creator",null);de([xt()],Sr.prototype,"date",null);de([xt()],Sr.prototype,"description",null);de([xt()],Sr.prototype,"downloads",null);de([xt()],Sr.prototype,"duration",null);de([xt()],Sr.prototype,"external-identifier",null);de([xt()],Sr.prototype,"files_count",null);de([xt()],Sr.prototype,"indexdate",null);de([xt()],Sr.prototype,"isbn",null);de([xt()],Sr.prototype,"issue",null);de([xt()],Sr.prototype,"item_count",null);de([xt()],Sr.prototype,"item_size",null);de([xt()],Sr.prototype,"language",null);de([xt()],Sr.prototype,"length",null);de([xt()],Sr.prototype,"lineage",null);de([xt()],Sr.prototype,"month",null);de([xt()],Sr.prototype,"mediatype",null);de([xt()],Sr.prototype,"noindex",null);de([xt()],Sr.prototype,"notes",null);de([xt()],Sr.prototype,"num_favorites",null);de([xt()],Sr.prototype,"num_reviews",null);de([xt()],Sr.prototype,"openlibrary_edition",null);de([xt()],Sr.prototype,"openlibrary_work",null);de([xt()],Sr.prototype,"page_progression",null);de([xt()],Sr.prototype,"partner",null);de([xt()],Sr.prototype,"ppi",null);de([xt()],Sr.prototype,"publicdate",null);de([xt()],Sr.prototype,"publisher",null);de([xt()],Sr.prototype,"reviewdate",null);de([xt()],Sr.prototype,"runtime",null);de([xt()],Sr.prototype,"scanner",null);de([xt()],Sr.prototype,"source",null);de([xt()],Sr.prototype,"start_localtime",null);de([xt()],Sr.prototype,"start_time",null);de([xt()],Sr.prototype,"stop_time",null);de([xt()],Sr.prototype,"subject",null);de([xt()],Sr.prototype,"taper",null);de([xt()],Sr.prototype,"title",null);de([xt()],Sr.prototype,"transferer",null);de([xt()],Sr.prototype,"track",null);de([xt()],Sr.prototype,"type",null);de([xt()],Sr.prototype,"uploader",null);de([xt()],Sr.prototype,"utc_offset",null);de([xt()],Sr.prototype,"venue",null);de([xt()],Sr.prototype,"volume",null);de([xt()],Sr.prototype,"week",null);de([xt()],Sr.prototype,"year",null);de([xt()],Sr.prototype,"query",null);de([xt()],Sr.prototype,"date_favorited",null);de([xt()],Sr.prototype,"__href__",null);var Jr=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new mn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new un(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}get collection_files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_files_count)!=null?new un(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_size)!=null?new zd(this.rawMetadata.fields.collection_size):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new mn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new un(this.rawMetadata.fields.downloads):void 0}get files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.files_count)!=null?new un(this.rawMetadata.fields.files_count):void 0}get genre(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.genre?new hr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.indexflag?new hr(this.rawMetadata.fields.indexflag):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}get item_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_count)!=null?new un(this.rawMetadata.fields.item_count):void 0}get item_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_size)!=null?new zd(this.rawMetadata.fields.item_size):void 0}get language(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.language?new hr(this.rawMetadata.fields.language):void 0}get lending___available_to_borrow(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_borrow)!=null?new js(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_browse)!=null?new js(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_waitlist)!=null?new js(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.lending___status?new hr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.licenseurl?new hr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new cu(this.rawMetadata.fields.mediatype):void 0}get month(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.month)!=null?new un(this.rawMetadata.fields.month):void 0}get noindex(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.noindex)!=null?new js(this.rawMetadata.fields.noindex):void 0}get num_favorites(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_favorites)!=null?new un(this.rawMetadata.fields.num_favorites):void 0}get num_reviews(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_reviews)!=null?new un(this.rawMetadata.fields.num_reviews):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new mn(this.rawMetadata.fields.publicdate):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new mn(this.rawMetadata.fields.reviewdate):void 0}get review(){var e;let t=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return t?{body:t.reviewbody,title:t.reviewtitle,author:t.reviewer,authorItem:t.reviewer_itemname,updatedate:new Date(t.reviewdate),createdate:new Date(t.createdate),stars:Number(t.stars)||0,__href__:t.__href__}:void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}get type(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.type?new hr(this.rawMetadata.fields.type):void 0}get volume(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.volume?new hr(this.rawMetadata.fields.volume):void 0}get week(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.week)!=null?new un(this.rawMetadata.fields.week):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new un(this.rawMetadata.fields.year):void 0}};de([xt()],Jr.prototype,"addeddate",null);de([xt()],Jr.prototype,"avg_rating",null);de([xt()],Jr.prototype,"collection",null);de([xt()],Jr.prototype,"collection_files_count",null);de([xt()],Jr.prototype,"collection_size",null);de([xt()],Jr.prototype,"creator",null);de([xt()],Jr.prototype,"date",null);de([xt()],Jr.prototype,"description",null);de([xt()],Jr.prototype,"downloads",null);de([xt()],Jr.prototype,"files_count",null);de([xt()],Jr.prototype,"genre",null);de([xt()],Jr.prototype,"indexflag",null);de([xt()],Jr.prototype,"issue",null);de([xt()],Jr.prototype,"item_count",null);de([xt()],Jr.prototype,"item_size",null);de([xt()],Jr.prototype,"language",null);de([xt()],Jr.prototype,"lending___available_to_borrow",null);de([xt()],Jr.prototype,"lending___available_to_browse",null);de([xt()],Jr.prototype,"lending___available_to_waitlist",null);de([xt()],Jr.prototype,"lending___status",null);de([xt()],Jr.prototype,"licenseurl",null);de([xt()],Jr.prototype,"mediatype",null);de([xt()],Jr.prototype,"month",null);de([xt()],Jr.prototype,"noindex",null);de([xt()],Jr.prototype,"num_favorites",null);de([xt()],Jr.prototype,"num_reviews",null);de([xt()],Jr.prototype,"publicdate",null);de([xt()],Jr.prototype,"reviewdate",null);de([xt()],Jr.prototype,"review",null);de([xt()],Jr.prototype,"source",null);de([xt()],Jr.prototype,"subject",null);de([xt()],Jr.prototype,"title",null);de([xt()],Jr.prototype,"type",null);de([xt()],Jr.prototype,"volume",null);de([xt()],Jr.prototype,"week",null);de([xt()],Jr.prototype,"year",null);var Pn=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new hr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new mn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new un(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new mn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new mn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new un(this.rawMetadata.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new hr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new hr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime)!=null?new un(this.rawMetadata.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new cu(this.rawMetadata.fields.mediatype):void 0}get page_num(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.page_num)!=null?new un(this.rawMetadata.fields.page_num):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new mn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile)!=null?new js(this.rawMetadata.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new mn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new mn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new un(this.rawMetadata.fields.year):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}};de([xt()],Pn.prototype,"highlight",null);de([xt()],Pn.prototype,"addeddate",null);de([xt()],Pn.prototype,"avg_rating",null);de([xt()],Pn.prototype,"collection",null);de([xt()],Pn.prototype,"created_on",null);de([xt()],Pn.prototype,"creator",null);de([xt()],Pn.prototype,"date",null);de([xt()],Pn.prototype,"description",null);de([xt()],Pn.prototype,"downloads",null);de([xt()],Pn.prototype,"filename",null);de([xt()],Pn.prototype,"file_basename",null);de([xt()],Pn.prototype,"file_creation_mtime",null);de([xt()],Pn.prototype,"issue",null);de([xt()],Pn.prototype,"mediatype",null);de([xt()],Pn.prototype,"page_num",null);de([xt()],Pn.prototype,"publicdate",null);de([xt()],Pn.prototype,"result_in_subfile",null);de([xt()],Pn.prototype,"reviewdate",null);de([xt()],Pn.prototype,"source",null);de([xt()],Pn.prototype,"subject",null);de([xt()],Pn.prototype,"title",null);de([xt()],Pn.prototype,"updated_on",null);de([xt()],Pn.prototype,"year",null);de([xt()],Pn.prototype,"__href__",null);var au;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(au||(au={}));var m1=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case au.ALPHABETICAL:return t.sort((s,l)=>r.compare(s.key.toString(),l.key.toString()));case au.NUMERIC:return t.sort((s,l)=>Number(l.key)-Number(s.key));case au.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};de([xt()],m1.prototype,"getSortedBuckets",null);var uu=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new hr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new mn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}};de([xt()],uu.prototype,"title",null);de([xt()],uu.prototype,"query",null);de([xt()],uu.prototype,"date_favorited",null);de([xt()],uu.prototype,"__href__",null);var Ud=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.url}get mediatype(){return new cu("web")}get title(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.url?new hr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.url):void 0}get capture_dates(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.capture_dates?new mn((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.capture_dates):void 0}get __href__(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.__href__):void 0}};de([xt()],Ud.prototype,"title",null);de([xt()],Ud.prototype,"capture_dates",null);de([xt()],Ud.prototype,"__href__",null);var $n=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new hr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new mn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating;return s||s===0?new un((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new hr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new mn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new hr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new mn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new hr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads;return s||s===0?new un((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new hr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new hr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime;return s||s===0?new un((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new hr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new cu(this.rawMetadata.fields.mediatype):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new mn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile;return s||s===!1?new js((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new mn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new hr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new hr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new hr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new mn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year;return s||s===0?new un((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.year):void 0}get start(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.start;return s||s===0?new hr((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.start):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new hr(this.rawMetadata.fields.__href__):void 0}};de([xt()],$n.prototype,"highlight",null);de([xt()],$n.prototype,"addeddate",null);de([xt()],$n.prototype,"avg_rating",null);de([xt()],$n.prototype,"collection",null);de([xt()],$n.prototype,"created_on",null);de([xt()],$n.prototype,"creator",null);de([xt()],$n.prototype,"date",null);de([xt()],$n.prototype,"description",null);de([xt()],$n.prototype,"downloads",null);de([xt()],$n.prototype,"filename",null);de([xt()],$n.prototype,"file_basename",null);de([xt()],$n.prototype,"file_creation_mtime",null);de([xt()],$n.prototype,"issue",null);de([xt()],$n.prototype,"mediatype",null);de([xt()],$n.prototype,"publicdate",null);de([xt()],$n.prototype,"result_in_subfile",null);de([xt()],$n.prototype,"reviewdate",null);de([xt()],$n.prototype,"source",null);de([xt()],$n.prototype,"subject",null);de([xt()],$n.prototype,"title",null);de([xt()],$n.prototype,"updated_on",null);de([xt()],$n.prototype,"year",null);de([xt()],$n.prototype,"start",null);de([xt()],$n.prototype,"__href__",null);var o7=["loans","waitlist","loan_history"];function a7(e){let t=e.slice(0,4),r=e.slice(4,6),s=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${s}T${l}:${o}:${c}Z`}function s7(e){var t;let r=[];for(let s of e){if(!(!((t=s.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(s.url),o=`https://web.archive.org/web/${s.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:s.url,capture_dates:s.captures.map(c=>a7(c)),__href__:o}})}return r}var l7=class g1{constructor(t,r){var s,l,o,c,n,u,p,g,m,y,x,w,k,S;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let P;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,P=Object.values(this.pageElements)[0]);let E=(s=t==null?void 0:t.hits)===null||s===void 0?void 0:s.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(E!=null&&E.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(E!=null&&E.length)&&!((p=P==null?void 0:P.hits)===null||p===void 0)&&p.hits?(E=P.hits.hits,this.totalResults=(g=P.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=P.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?E=this.handleLendingPageElement():!((x=this.pageElements)===null||x===void 0)&&x.web_archives&&(E=this.handleWebArchivesPageElement()),this.results=this.formatHits(E);let O=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(P!=null&&P.aggregations)&&(O=P.aggregations),O&&this.buildAggregations(O),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(S=t.account_extra_info)!==null&&S!==void 0?S:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(s=>{var l;return g1.createResult((l=s.hit_type)!==null&&l!==void 0?l:this.schemaHitType,s)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[s,l])=>(r[s]=new m1(l),r),{})}handleLendingPageElement(){var t,r;let s=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=s.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of o7)s[o]=this.formatHits(s[o]);return l}handleWebArchivesPageElement(){var t;let r=s7((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,s,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let c of o){let n=this.removeServicePrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(s=u==null?void 0:u.total)!==null&&s!==void 0?s:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new Jr(r);case"text":case"asr_text":return new Pn(r);case"favorited_search":return new uu(r);case"web_archive":return new Ud(r);case"tv_clip":return new $n(r);default:return new Jr(r)}}},c7=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},u7=class{constructor(e){var t,r,s;this.rawResponse=e,this.request=new c7(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new l7((r=e.response)===null||r===void 0?void 0:r.body,(s=e.response)===null||s===void 0?void 0:s.hit_schema)}},Vd=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let s=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",s)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let s=this.filterParamsAsString(e.filters);s&&s!=="{}"&&t.append("filter_map",s)}if(e.sort&&e.sort.length>0){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("aggregations",s)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let s=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",s)}return t}},su;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(su||(su={}));var d7=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},p1={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},Wd=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let s=new URL(window.location.href).searchParams,l=s.get("scope"),o=s.get("verbose"),c=s.get("debugging"),n=s.get("cacheDebug"),u="";for(let p of Object.keys(p1))if(s.get(p)){u=p1[p];break}u=(r=s.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return xi(this,null,function*(){var r,s;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(su.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(s=c.response)===null||s===void 0?void 0:s.error;return n?this.getErrorResult(su.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(su.decodingError,n)}})}getErrorResult(e,t,r){return{error:new d7(e,t,r)}}printResponse(e){var t,r,s,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(s=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||s===void 0?void 0:s.hits;if(Array.isArray(n)&&n.length>1){let p=[];p.push(n[0]),p.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=p}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([p,g])=>{var m,y,x,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(x=k.buckets)===null||x===void 0?void 0:x.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[p]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let s=e.debugging,l=(t=s.messages)!==null&&t!==void 0?t:[],o=(r=s.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},h7=class extends Wd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Vd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},p7=class extends Wd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Vd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},f7=class extends Wd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Vd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Rs;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(Rs||(Rs={}));var m7=class extends Wd{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return xi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=Vd.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},lu=class v1{constructor(t={}){this.backendOptions=t}search(s){return xi(this,arguments,function*(t,r=Rs.METADATA){let l=yield v1.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new u7(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Rs.FULLTEXT:return new p7(r);case Rs.RADIO:return new f7(r);case Rs.FEDERATED:return new m7(r);case Rs.METADATA:default:return new h7(r)}}};lu.default=new lu;de([xt((e,t={})=>{let{includeCredentials:r=!1,verbose:s=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${s};${l};${o}`})],lu,"getBackendForSearchType",null);var f1;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(f1||(f1={}));function g7(e){var t=[],r="";for(r in e)t.push(r);return t}function dm(e){return e=JSON.stringify(e),!(typeof e!="string"||!/^\{[\s\S]*\}$/.test(e))}function v7(e){return e instanceof Array}function y7(e){return Array.prototype.slice.call(e)}function Kl(){if(!(this instanceof Kl))return new Kl}Kl.prototype={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),s=0;s<r.length;s++){for(var l=r[s];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return decodeURI(l.substring(t.length,l.length))}return!1},set:function(e,t,r){if(dm(e))for(let s in e)this.set(s,e[s],t,r);else if(typeof e=="string"){let s=dm(r)?r:{expires:r},l=s.path!==void 0?`;path=${s.path};path=/`:";path=/",o=s.domain?`;domain=${s.domain}`:"",c=s.secure?";secure":"",n=s.expires!==void 0?s.expires:"";typeof n=="string"&&n!==""?n=new Date(n):typeof n=="number"&&(n=new Date(+new Date+1e3*60*60*24*n)),n!==""&&"toGMTString"in n&&(n=`;expires=${n.toGMTString()}`);let u=s.sameSite?`;SameSite=${s.sameSite}`:"";document.cookie=`${e}=${encodeURI(t)+n+l+o+c+u}`}},remove:function(e){e=v7(e)?e:y7(arguments);for(var t=0,r=e.length;t<r;t++)this.set(e[t],"",-1);return e},clear:function(e){return e?this.remove(e):this.remove(g7(this.all()))},all:function(){if(document.cookie==="")return{};for(var e=document.cookie.split("; "),t={},r=0,s=e.length;r<s;r++){var l=e[r].split("=");t[decodeURI(l[0])]=decodeURI(l[1])}return t}};var Ns=null,hm=function(e,t,r){let s=arguments;if(Ns||(Ns=Kl()),s.length===0)return Ns.all();if(s.length===1&&e===null)return Ns.clear();if(s.length===2&&!t)return Ns.clear(e);if(typeof e=="string"&&!t)return Ns.get(e);if(typeof e=="string"&&t||dm(e))return Ns.set(e,t,r)};for(let e in Kl.prototype)hm[e]=Kl.prototype[e];Oo();var b7=class w1{constructor(t){this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}static fromResponse(t){let r=$o.shared,s=ts.shared,l,o,c;return t.mtime&&(l=r.parseValue(t.mtime)),t.size&&(o=s.parseValue(t.size)),t.rotation&&(c=r.parseValue(t.rotation)),new w1({name:t.name,source:t.source,mtime:l,size:o,md5:t.md5,crc32:t.crc32,sha1:t.sha1,format:t.format,rotation:c})}},b1=class x1{constructor(t){this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");let{itemname:r}=t;this.userid=r.startsWith("@")?r.substring(1):r}static fromUserResponse(t){return new x1({username:t.username,itemname:t.itemname,screenname:t.screenname,privs:t.privs,image_info:b7.fromResponse(t.image_info)})}},Jl;(function(e){e.userNotLoggedIn="UserService.userNotLoggedIn",e.networkError="UserService.networkError",e.decodingError="UserService.decodingError"})(Jl||(Jl={}));var Kd=class extends Error{constructor(e,t){super(t),this.name=e,this.type=e}},_1=class{constructor(e){var t,r;this.userServiceEndpoint=(t=e==null?void 0:e.userServiceEndpoint)!==null&&t!==void 0?t:"https://archive.org/services/user.php?op=whoami",this.cache=e==null?void 0:e.cache,this.cacheTTL=e==null?void 0:e.cacheTTL,this.userCacheKey=(r=e==null?void 0:e.userCacheKey)!==null&&r!==void 0?r:"loggedInUserInfo"}getLoggedInUser(){return xi(this,null,function*(){let e=hm.get("logged-in-user");if(e===!1)return{error:new Kd(Jl.userNotLoggedIn)};let t=yield this.getPersistedUser();if(t){let s=b1.fromUserResponse(t);if(e===s.username)return{success:s}}if(this.fetchPromise)return this.fetchPromise=this.fetchPromise.then(s=>s),this.fetchPromise;this.fetchPromise=this.fetchUser();let r=yield this.fetchPromise;return this.fetchPromise=void 0,r})}fetchUser(){return xi(this,null,function*(){let e;try{e=yield fetch(this.userServiceEndpoint,{credentials:"include"})}catch(l){return{error:new Kd(Jl.networkError,l.message)}}let t;try{t=yield e.json()}catch(l){return{error:new Kd(Jl.decodingError,l.message)}}if(!t.success||!t.value)return{error:new Kd(Jl.userNotLoggedIn,t.error)};let r=t.value,s=b1.fromUserResponse(r);return yield this.persistUser(r),{success:s}})}getPersistedUser(){return xi(this,null,function*(){var e;return(e=this.cache)===null||e===void 0?void 0:e.get(this.userCacheKey)})}persistUser(e){return xi(this,null,function*(){var t;yield(t=this.cache)===null||t===void 0?void 0:t.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL})})}};wr();ki();Vr();wr();ki();Vr();ki();ki();ki();ki();var w7=class{fetchApiResponse(e,t){return xi(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield fetch(e,r)).json()})}},x7="https://archive.org",k1={create(e){let{serviceUrl:t,serviceProtocol:r="https://"}=e,s=t?`${r}${t}`:x7;return new Fd({fetchHandler:new w7,searchService:lu.default,userService:new _1,baseUrl:s})}};function _7(e,t,r){return xi(this,null,function*(){let s=document.querySelector("modal-manager");if(!s){let o=document.querySelector("body");s=document.createElement("modal-manager"),o==null||o.appendChild(s)}let l=()=>{let o=s!=null?s:document.querySelector("modal-manager");o==null||o.showModal({config:new Nc,customModalContent:void 0,userClosedModalCallback:void 0}),o==null||o.closeModal(),s==null||s.removeAttribute("id")};s==null||s.setAttribute("id","create-user-list-modal"),s.showModal({config:new Nc({title:tt`List settings`,headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:()=>l(),customModalContent:tt`
      <iaux-userlist-settings
        .userList=${{id:void 0,list_name:"",description:"",is_private:!1}}
        .userListsService=${e}
        @listModalClosed=${()=>l()}
        @userListError=${o=>{var c,n,u,p;let g=(p=(n=(c=o.detail.error)===null||c===void 0?void 0:c.reason)!==null&&n!==void 0?n:(u=o.detail.error)===null||u===void 0?void 0:u.message)!==null&&p!==void 0?p:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",g)}}
        @userListSaving=${()=>xi(this,null,function*(){t==null||t()})}
        @userListSaved=${o=>xi(this,null,function*(){yield r==null?void 0:r(o.detail.id),l()})}
      ></iaux-userlist-settings>
    `})})}var S1=Gn`<svg
      viewBox="0 0 100 100"
      xmlns="http://www.w3.org/2000/svg"
      >
    <g fill="currentColor" fill-rule="nonzero">
      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />
      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />
    </g>
  </svg>`,C1=Gn`<svg viewBox="0 0 100 100"
xmlns="http://www.w3.org/2000/svg"
>
<path
  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"
  fill-rule="evenodd" fill="currentColor"
/>
</svg>`,du=class extends hi{constructor(){super(...arguments),this.itemId="",this.lists=[],this.closeDropdown=()=>{this.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},this.selectDropdown=()=>{this.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},this.updateDropdown=()=>{this.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},this.optionClicked=(e,t)=>{var r;e.stopPropagation(),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)},this.onSelected=e=>xi(this,null,function*(){this.selectDropdown();let t=this.lists.find(r=>e.id===r.id)||{};t.item_is_member?yield this.removeMember(t.id,t.member_id):yield this.addMember(t.id),this.updateDropdown()}),this.addCreatedList=e=>xi(this,null,function*(){yield this.addMember(e),this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown()}),this.createList=()=>{this.closeDropdown(),_7(this.userListsService,this.selectDropdown,this.addCreatedList)},this.userListOptions=()=>{let e=[];return e=this.lists.map(t=>this.listOption(t)),e.push(this.newListOption),e}}listOption(e){return{id:e.id,label:this.labelTemplate(e),isSelected:e.item_is_member,selectedHandler:t=>this.onSelected(t)}}get newListOption(){return{id:"create-new-list",label:tt` <ia-icon-label>
        <div slot="icon" class="icon-size">${S1}</div>
        Create new list
      </ia-icon-label>`,selectedHandler:()=>this.createList()}}addMember(e){return xi(this,null,function*(){var t;yield(t=this.userListsService)===null||t===void 0?void 0:t.addMemberToList(e,{identifier:this.itemId}),this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:e,itemId:this.itemId}}))})}removeMember(e,t){return xi(this,null,function*(){var r;yield(r=this.userListsService)===null||r===void 0?void 0:r.removeMemberFromList(e,t),this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:e,itemId:this.itemId}}))})}labelTemplate(e){let{item_is_member:t,list_name:r}=e;return tt`
      <ia-icon-label>
        <div slot="icon" class="icon-size">
          ${t?C1:$i}
        </div>
        <div class="truncate">${r}</div>
      </ia-icon-label>
    `}optionTemplate(e){return tt` <li class="${e.isSelected?"selected":""}">
      ${this.buttonTemplate(e)}
    </li>`}buttonTemplate(e){return tt`
      <button @click=${t=>this.optionClicked(t,e)}>
        ${e.label}
      </button>
    `}render(){return tt` ${this.userListOptions().map(e=>this.optionTemplate(e))} `}static get styles(){return yt`
      :host {
        display: inline;
        background-color: #fff;
      }

      li:hover {
        list-style: none;
        cursor: pointer;
      }

      li {
        background: #fff;
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 1px #f1f1f1 solid;
        color: #2c2c2c;
        width: 140px;
        text-overflow: ellipsis;
      }

      li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        width: 100%;
        padding: 0px 10px;
        font-size: 12px;
        --iconLabelGutterWidth: 8px;
        --iconWidth: 12px;
        margin: 0;
      }

      /* cover the list with the label */
      li > * > :first-child {
        margin: 0;
        display: inline-block;
        height: 30px;
        box-sizing: border-box;
        text-align: left;
        line-height: initial;
      }

      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX
        foreground: #2c2c2c 44;
        background: #fff;
      */
      button:hover {
        /* 10% 234 */
        background-color: #eaeaea;
      }

      button:focus,
      button:focus-visible {
        /* 20% 213 */
        background-color: #d5d5d5;
      }

      button:active {
        /* 30% 192 */
        background-color: #c0c0c0;
      }

      .icon-size {
        width: 12px;
        height: 12px;
      }
    `}};de([ri({type:String})],du.prototype,"itemId",void 0);de([ri({type:Array})],du.prototype,"lists",void 0);de([ri({type:Object})],du.prototype,"userListsService",void 0);du=de([cr("item-user-lists")],du);var A1=tt`<img
  src="https://archive.org/images/loading.gif"
  alt="Loading..."
/>`,ha=class extends hi{constructor(){super(...arguments),this.baseHost="archive.org",this.item="",this.selectedCount=0,this.userListData=[],this.dataAction="initial",this.userListsService=k1.create({serviceUrl:this.baseHost}),this.listID="",this.closeListener=()=>{this.dropdown.open=!1},this.selectListener=()=>{this.dropdown.open=!1,this.dataActionTask.run(["initial"])},this.updateListener=()=>{this.dataActionTask.run(["load"])},this.dataActionTask=new Wf(this,{task:t=>xi(this,[t],function*([e]){if(!this.item||!this.userListsService)return Qc;switch(e){case"load":return this.updateSelectedCount();default:return Qc}}),args:()=>[this.dataAction],autoRun:!1})}dropdownClicked(e){return xi(this,null,function*(){e.preventDefault(),this.dropdown.open?this.dropdown.open=!1:(yield this.dataActionTask.run(["load"]),this.dropdown.open=!0)})}firstUpdated(){return xi(this,null,function*(){var e;yield new Promise(t=>setTimeout(t,0)),this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(e=this.dataActionTask.run(["load"]))===null||e===void 0||e.then(()=>{this.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:this.userListData.length}}))})})}updated(e){e.has("baseHost")&&this.baseHost&&e.get("baseHost")&&this.reloadService()}reloadService(){this.userListsService=k1.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}updateItemUserList(){return xi(this,null,function*(){var e;let t=yield this.userListsService.fetchOwnListsContainingItem(this.item);if(!t.success)throw new Error((e=t.error)===null||e===void 0?void 0:e.message);return this.userListData=t.success,this.userListData})}updateSelectedCount(){return xi(this,null,function*(){let e=yield this.updateItemUserList();return this.selectedCount=e.filter(t=>t.item_is_member).length,this.selectedCount})}renderIcon(e){return tt`
      <div slot="icon" class="icon-img">${e}</div>
      <div class="label">
        <div class="def">Add to list</div>
        <div class="sm">Lists</div>
      </div>
    `}renderError(){return tt`
      <div class="label">User Lists<br />Load Error</div>
      <div class="label-sm">Load<br />Error</div>
    `}mainButton(e){return tt`
      <div class="action-bar-text">
        <ia-icon-label>
          ${e?this.renderIcon(e):this.renderError()}
        </ia-icon-label>
      </div>
    `}get isFetched(){return this.dataActionTask.status===Id.COMPLETE}get isDisabled(){return this.dataActionTask.status!==Id.COMPLETE}get itemUserListsTemplate(){return tt`
      <item-user-lists
        slot="list"
        .itemId=${this.item}
        .lists=${this.userListData}
        .userListsService=${this.userListsService}
        @addMember=${e=>this.dispatchEvent(new CustomEvent("memberAdded",{detail:an(jr({},e.detail),{total_items:this.selectedCount})}))}
        @removeMember=${e=>this.dispatchEvent(new CustomEvent("memberRemoved",{detail:an(jr({},e.detail),{total_items:this.selectedCount})}))}
        @userListError=${e=>{this.dispatchEvent(new CustomEvent("userListError",{detail:jr({},e.detail)}))}}
        @listCreated=${e=>{this.dispatchEvent(new CustomEvent("listCreated",{detail:an(jr({},e.detail),{total_lists:this.selectedCount})}))}}
      >
      </item-user-lists>
    `}render(){return tt`
      <div class="list-container">
        <ia-dropdown
          class="list-dropdown"
          ?isDisabled=${this.isDisabled}
          ?openViaCaret=${!1}
          ?isCustomList=${!0}
          ?closeOnEscape=${!0}
          ?closeOnBackdropClick=${!0}
          ?hasCustomClickHandler=${!0}
          @click=${this.isDisabled?$i:this.dropdownClicked}
        >
          <div class="list-title" slot="dropdown-label">
            ${this.dataActionTask.render({initial:()=>this.mainButton(A1),pending:()=>this.mainButton(A1),complete:e=>this.mainButton(e===0?S1:C1),error:()=>this.mainButton(void 0)})}
          </div>
          ${this.itemUserListsTemplate}
        </ia-dropdown>
      </div>
    `}};ha.styles=yt`
    :host {
      display: block;
    }

    ia-icon-label {
      cursor: pointer;
      display: flex;
    }

    .icon-img {
      height: 16px;
      width: 16px;
      padding-bottom: 2px;
    }

    div.list-title {
      font-weight: 600;
      color: #2c2c2c;
    }

    ia-dropdown {
      --dropdownBgColor: #fff;
      --dropdownItemPaddingRight: 0;
      --dropdownItemPaddingLeft: 2px;
      --dropdownBorderColor: #2c2c2c;
      --dropdownBorderWidth: 2px;
      --iconLabelGutterWidth: 4px;
      --iconWidth: 10px;
      --dropdownOffsetTop: 2px;
      --buttonSlotPaddingRight: 0;
      --dropdownMainButtonFlexDirection: column;
      --dropdownMainButtonPadding: 6px 4px;
      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);
      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      --dropdownMainButtonBorder: 2px solid #2c2c2c;
      --dropdownMainButtonBorderRadius: 3px;
    }

    .action-bar-text {
      font-size: 14px;
      font-weight: normal;
      -webkit-user-select: none;
      user-select: none;
      --iconLabelFlexDirection: column;
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      font-family: inherit;
    }

    .action-bar-text .label {
      display: flex;
      align-items: center;
    }

    /* inside button.click-main, classname from details.inc buttons */
    @media (min-width: 992px) {
      .action-bar-text .label {
        height: 20px;
      }
      .action-bar-text .label .sm {
        display: none;
      }
    }

    /* List button */
    @media (max-width: 991px) {
      .action-bar-text .label {
        height: 15px;
      }
      .action-bar-text .label .def {
        display: none;
      }
      .action-bar-text .label .sm {
        font-size: 13px;
      }
    }

    .click-backdrop {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      background-color: transparent;
    }
  `;de([ri({type:String})],ha.prototype,"baseHost",void 0);de([ri({type:String})],ha.prototype,"item",void 0);de([uo()],ha.prototype,"selectedCount",void 0);de([uo({hasChanged(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!0;for(let r=0;r<e.length;r+=1)if(e[r].item_is_member!==t[r].item_is_member)return!0;return!1}})],ha.prototype,"userListData",void 0);de([uo()],ha.prototype,"dataAction",void 0);de([uo()],ha.prototype,"userListsService",void 0);de([ln("ia-dropdown")],ha.prototype,"dropdown",void 0);ha=de([cr("ia-item-user-lists")],ha);mo();document.addEventListener("DOMContentLoaded",()=>{var o;let e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){let c=(o=archive_analytics.mediaType)!=null?o:"unknown mediatype",n="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",u=>{var g,m;let p=(m=(g=u.detail)==null?void 0:g.listCount)!=null?m:0;_i("UserLists - onload, we send total lists",u.detail),archive_analytics.send_event(n,"onload",p)}),e.addEventListener("memberAdded",u=>{_i("UserLists - memberAdded, we send mediatype",c),archive_analytics.send_event(n,"memberAdded",c)}),e.addEventListener("memberRemoved",u=>{_i("UserLists - memberRemoved, we send mediatype",c),archive_analytics.send_event(n,"memberRemoved",c)}),e.addEventListener("listCreated",()=>{_i("UserLists - listCreated, we send mediatype",c),archive_analytics.send_event(n,"listCreated",c)})}let t="UserLists-itemBtnCalloutDismissed",r=document.querySelector("#item-user-lists > .callout");function s(){var c;(c=window.localStorage)==null||c.setItem(t,!0),r==null||r.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",s)}function l(){var n;!!((n=window.localStorage)!=null&&n.getItem(t))||(e==null||e.setAttribute("aria-label","New feature: Add to list"),r==null||r.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",s),r==null||r.addEventListener("click",s))}l()});Dn();window.$=we;(function(){if(!window.archive_analytics)return;let t=document.head.querySelector('meta[property="mediatype"]');if(!t||t.getAttribute("content")!=="texts")return;function s(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)}setTimeout(()=>{let l=document.getElementsByClassName("BRpagecontainer")||[];for(let o=0;o<l.length;o++)if(s(l[o]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)})();we(function(){return xi(this,null,function*(){var r;let t=!we(".js-bookreader").length;if(yield Promise.resolve().then(()=>(O1(),$1)),yield Promise.all([Promise.resolve().then(()=>(R1(),D1)),Promise.resolve().then(()=>(F1(),H1))]),!t){let s=/_brExperiments=true/.test(window.location);yield Promise.resolve().then(()=>(q1(),W1)),yield Promise.all([Promise.resolve().then(()=>(Z1(),X1)),Promise.resolve().then(()=>(iw(),tw)),Promise.resolve().then(()=>(sw(),aw)),Promise.resolve().then(()=>(hw(),dw)),Promise.resolve().then(()=>(vw(),gw)),s&&Promise.resolve().then(()=>(_w(),xw))])}if(yield Promise.resolve().then(()=>(kw(),V7)),yield Promise.resolve().then(()=>(Y2(),G2)),_i("** BR Resources loaded **",(r=window.BookReader)==null?void 0:r.version),t){let s=document.body.classList.contains("embedded");yield Promise.all([Promise.resolve().then(()=>(n_(),r_)),s?Promise.resolve().then(()=>(c_(),l_)):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(()=>(Tv(),Ev)):Promise.resolve().then(()=>(Tv(),Ev))]),_i("** Liner Notes loaded **")}else yield Promise.all([Promise.resolve().then(()=>(I5(),L5)),Promise.resolve().then(()=>(D5(),w8)),Promise.resolve().then(()=>(R5(),x8))]),_i("** BR Resources loaded **");we(".js-bookreader").each((s,l)=>{let o=JSON.parse(we(l).val());we.ajax({url:o.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(c=>{let n=xr.paramsToJSON(),u={el:"#BookReader",urlHistoryBasePath:o.urlHistoryBasePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:n.view==="theater",onePage:{autofit:o.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:o.purchase_url,plugins:{resume:{cookiePath:o.resumeCookiePath},search:{initialSearchTerm:o.initialSearchTerm}}};o.br_ui==="embed"&&(u.mode=1,u.ui="embed",u.enableFSLogoShortcut=!1),o.has_multiple_readable_files&&(u.enableMultipleBooks=!0,u.multipleBooksList=o.multipleBooksList),window.BookReaderJSIAinit(c.data,u);let p=decodeURIComponent(n.options).split("|");(n.wrapper==="false"||p.indexOf("view-only")>-1)&&u.ui!=="embed"&&we("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})})})});})();
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*/
/*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright  [YEAR] W3C (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*/
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT  Zeno Rocha
   *)
*/
/*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*/
/*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes |  2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*/
/*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*/
/*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.experiments.js:
  (*! For license information please see plugin.experiments.js.LICENSE.txt *)
*/
/*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
// @license-end
//# sourceMappingURL=details-bookreader.min.js.map
